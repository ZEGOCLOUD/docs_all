# Display Incoming Calls on Lock Screen

This document describes how to display incoming calls in full screen on lock screen.

<Warning title="Warning">
**<u>Only offline call invitation supports lock screen display and full screen feature.</u>**
</Warning>

<Tabs>
  <Tab title="Android">
<Frame width="auto" height="500">
  <img src="https://doc-media.zego.im/uikit/callkit/docs_callkit_flutter/incoming-call.png" alt="LockScreenDisplay.jpeg"/>
</Frame>

You can change the incoming call dialog from notification to full screen by configuration, as shown below:

## Configuration

You can configure lock screen display and full-screen incoming calls through the following configuration items in `ZegoCallAndroidNotificationConfig`:

- **`showOnLockedScreen`**: Whether to display incoming calls when the screen is locked. Default value is `true`.
  - **Important**: If you set `showOnLockedScreen` to `true`, you must set `android:launchMode="singleInstance"` in the `manifest/application/activity` node of your `AndroidManifest.xml` file.
- **`showOnFullScreen`**: Whether to allow full-screen display in both locked and unlocked screen states. Default value is `true`. On Android 14+, this will automatically request the `USE_FULL_SCREEN_INTENT` permission.

```dart
await ZegoUIKitPrebuiltCallInvitationService().init(
    ...
    notificationConfig: ZegoCallInvitationNotificationConfig(
      androidNotificationConfig: ZegoCallAndroidNotificationConfig(
        showOnLockedScreen: true,  // Display on locked screen
        showOnFullScreen: true,    // Enable full-screen display
      ),
    ),
    ...
  );
```

## Platform Configuration

    To enable lock screen display and full-screen incoming calls on Android, you need to complete the following configurations:

    ### 1. Add Permission

    Navigate to the "app/src/main" directory, open the "AndroidManifest.xml" file, and add the following permission:

    ```xml app/src/main/AndroidManifest.xml
    <uses-permission android:name="android.permission.USE_FULL_SCREEN_INTENT" />
    ```

    ### 2. Set Activity Launch Mode

    **Important**: If you set `showOnLockedScreen` to `true`, you must set `android:launchMode="singleInstance"` in the `manifest/application/activity` node of your `AndroidManifest.xml` file.

    - Open `[project_root]/android/app/src/main/AndroidManifest.xml`
    - Find `manifest/application/activity`

    ```xml android/app/src/main/AndroidManifest.xml
    <manifest ...>
       ...
       <application ...>
            <activity ...
                android:launchMode="singleInstance"
                ...>
                ...
            </activity>
            ...
        </application>
    </manifest>
    ```

    ### 3. Permission Request (Android 14+)

    When `showOnFullScreen` is set to `true`, the SDK will **automatically** request the `USE_FULL_SCREEN_INTENT` permission on **Android 14+ devices**. You don't need to manually request this permission.

    <Warning title="Warning">
    - If your application needs to be uploaded to the Google Play Store, you may need to make appropriate declarations for the `USE_FULL_SCREEN_INTENT` permission in order to avoid rejection, due to [Google Play's policies](https://support.google.com/googleplay/android-developer/answer/13392821?hl=en) restrictions.

    - If your device has additional settings for lock screen display, please set them as required to ensure that this feature works properly.
    </Warning>
  </Tab>

  <Tab title="iOS">
    iOS does not need any configuration to display incoming calls on lock screen.

    <table>
      <tbody>
        <tr>
          <td style={{textAlign: 'center'}}><Frame width="auto" height="500" caption=""><img src="https://doc-media.zego.im/uikit/callkit/docs_callkit_flutter/incoming-call-1.jpg" alt='Incoming call 1'/></Frame></td>
          <td style={{textAlign: 'center'}}><Frame width="auto" height="500"><img src="https://doc-media.zego.im/uikit/callkit/docs_callkit_flutter/incoming-call-2.jpg" alt='Incoming call 2'/></Frame></td>
        </tr>
      </tbody>
    </table>

  </Tab>
</Tabs>
