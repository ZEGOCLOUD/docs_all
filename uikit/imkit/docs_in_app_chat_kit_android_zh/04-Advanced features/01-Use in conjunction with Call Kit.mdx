# 集成音视频通话功能

这份文档将介绍如何使用 音视频通话 UIKit 来为ZIMKit 增加音视频通话的功能。

<Frame width="200" height="auto" caption="">
    <img src="https://media-resource.spreading.io/docuo/workspace737/c930b1495b92aa1bb3bd62bf096731cb/4e648e6706.gif" />
   
</Frame>

## 实现流程

<Steps>
<Step title="集成 IMKit">
请参考[快速开始](../02-Quick start.mdx)来集成 IMKit。如果已经集成了，可以忽略这一步骤。
</Step>


<Step title="添加 CallKit 依赖">
修改你的 app 模块的 build.gradle 文件，添加 CallKit 依赖：

```groovy

dependencies {
    ...
    implementation 'com.github.ZEGOCLOUD:zego_uikit_prebuilt_call_android:+'    // add this line in your module-level build.gradle file's dependencies, usually named [app].
}

```
</Step>


<Step title="调整IMKit初始化方式">
在之前的步骤中，您使用了如下代码来初始化ZIMKit :
```java
Long appId = ;    // The AppID you get from ZEGOCLOUD Admin Console.
String appSign = ;    // The App Sign you get from ZEGOCLOUD Admin Console.
ZIMKit.initWith(this,appId,appSign);    
ZIMKit.initNotifications();    // Online notification for the initialization (use the following code if this is needed).
```
为了集成音视频通话功能，需要使用带`ZIMKitConfig`类参数的方法来进行初始化：
```java
ZIMKitConfig zimKitConfig = new ZIMKitConfig();
Long appId = ;    // The AppID you get from ZEGOCLOUD Admin Console.
String appSign = ;    // The App Sign you get from ZEGOCLOUD Admin Console.
ZIMKit.initWith(this,appId,appSign,zimKitConfig);    
ZIMKit.initNotifications();  // Online notification for the initialization (use the following code if this is needed).
```
</Step>


<Step title="启用CallKit 功能">
在 `ZIMKitConfig` 类中，我们可以通过创建一个`ZegoCallPluginConfig`类来启用音视频通话的功能。
```java
ZIMKitConfig zimKitConfig = ；
// ...
zimKitConfig.callPluginConfig = new ZegoCallPluginConfig();
```
开启后，在 一对一聊天页面的输入框的更多页面中，会出现音视频通话的按钮。你可以使用它呼叫联系人了。
</Step>
</Steps>
## 更多资源

以上内容仅介绍了集成 音视频通话 UIKit 所需的基本配置。如果您需要进一步自定义呼叫的配置，可以设置 ：
```java
ZIMKitConfig zimKitConfig = ；
// ...
zimKitConfig.callPluginConfig = new ZegoCallPluginConfig();
// 自定义呼叫的配置
ZegoUIKitPrebuiltCallInvitationConfig invitationConfig = new ZegoUIKitPrebuiltCallInvitationConfig();
zimKitConfig.callPluginConfig.invitationConfig = invitationConfig; // opt,invitationConfig for call
zimKitConfig.callPluginConfig.resourceID = ; // opt,resourceID for call
```
关于使用 `ZegoUIKitPrebuiltCallInvitationConfig` 来进行通话功能的自定义，请参考以下文档：

<CardGroup cols={1}>
  <Card title="音视频通话 UIKit - 自定义 UI" href="https://doc-zh.zego.im/article/20217" target="_blank">
    本文介绍了如何进一步自定义通话的功能和界面。
  </Card>

</CardGroup>