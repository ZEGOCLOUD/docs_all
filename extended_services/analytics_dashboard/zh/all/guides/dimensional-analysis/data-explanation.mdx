# 数据说明

- - -

本文针对多维分析功能模块内相关数据进行说明。

## 用户体验

以下指标通常用来衡量音视频质量服务的用户体验。当指标值较大时，用户侧拉流通常会出现卡顿、延迟、丢包等情况，导致体验较差。

| 分析指标-15%         | 含义 |
|------------------|------|
| 音频卡顿率       | 音频卡顿的定义：音频两帧之间的渲染间隔时长超过 200ms（默认），持续的时间则计为此次的卡顿时长。<br/>音频卡顿率 =（1 个采样周期内的音频卡顿时长之和 / 1 个采样周期内的音频总时长）× 100%。 |
| 视频卡顿率       | 视频卡顿的定义：视频两帧之间的渲染间隔时长超过 500ms（默认），持续的时间则记为此次的卡顿时长。<br/>视频卡顿率 =（1 个采样周期内的视频卡顿时长之和 / 1 个采样周期内的视频总时长）× 100%。 |
| 音频首帧耗时     | 指从用户请求拉流到完成第一帧音频解码的间隔耗时，用于评价用户听到第一帧声音的等待情况。 |
| 视频首帧耗时     | 指从用户请求拉流到完成第一帧画面解码的间隔耗时，用于评价用户看到第一帧画面的等待情况。 |
| 进房耗时         | 用户从请求登录到成功登录房间的间隔耗时，用于评价用户登录房间的等待情况。 |
| 端到端延迟       | 拉流端指标，表示从推流端开始推流到拉流端渲染出画面的整体耗时情况。<br/><Warning title="注意">与上下行延迟不同，端到端延迟包含了音视频渲染的耗时，数值可能会受业务逻辑的影响（如网络问题严重时，为保证因视频流畅度，则本地数据缓冲会比较大，相应的端到端延迟会比较大）。</Warning> |
| 上行延迟         | 推流端指标，表示推流用户将数据从客户端推到服务器的单程耗时。 |
| 下行延迟         | 拉流端指标，表示拉流用户将数据从服务器拉到客户端的单程耗时。 |
| 端到端丢包       | 拉流端指标，表示从推流客户端到拉流客户端的全链路丢包情况。 |
| 上行丢包         | 推流端指标，表示推流用户从客户端推流到服务器的丢包情况。 |
| 下行丢包         | 拉流端指标，表示拉流用户从服务器拉流到客户端的丢包情况。 |

## 服务质量

通常指各类成功率指标，通过查看整体成功率及各类错误码分布，可跟踪了解是否出现大面积影响用户正常登录/推流/拉流/混流的故障发生。

| 分析指标-20%               | 含义 |
|------------------------|------|
| 登录成功率             | 评价客户端正常发起登录请求，到正常登录房间的情况，观察该指标可跟踪了解是否出现大面积影响用户正常登录的故障发生。<br/>计算公式：成功登录次数 / 总登录请求数 × 100% |
| 5s登录成功率           | 评价用户发起登房请求，在 5s 内正常登录房间的情况，观察该指标可跟踪了解是否出现大面积影响用户正常登录的故障发生。<br/>计算公式：5s内成功登录次数 / 总登录请求数 × 100% |
| 推流成功率             | 评价客户端正常发起推流请求、推流正常结束的情况，观察该指标可跟踪了解是否出现大面积影响用户正常推流的故障发生。 |
| 拉流成功率             | 评价客户端正常发起拉流请求、拉流正常结束的情况，观察该指标可跟踪了解是否出现大面积影响用户正常拉流的故障发生。 |
| 服务端混流请求成功率   | 发起混流请求后，在服务端成功完成混流任务的请求比例。这个指标反映了混流服务的稳定性和可靠性。 |
| 客户端混流请求成功率   | 发起混流请求后，在SDK记录的成功完成混流任务的请求比例。 |


## 用量规模

用于帮助分析音视频服务规模的总量变化趋势，或监控系统的峰值负载情况。

| 分析指标-20%               | 含义 |
|------------------------|------|
| 音频有效首帧数         | 在推流端发送有效数据，且拉流端成功调用拉流接口后，采集到第一帧音频数据的帧数。 |
| 视频有效首帧数         | 在推流端发送有效数据，且拉流端成功调用拉流接口后，采集到第一帧视频数据的帧数。 |
| 登录请求数             | 客户端发起登录房间请求的总次数。 |
| 推流请求数             | 所有推流请求的总次数。 |
| 拉流请求数             | 所有拉流请求的总次数。 |
| 服务端混流请求数       | 服务端发起混流请求的总次数。 |
| 客户端混流请求数       | 客户端发起混流请求的总次数。 |
| 房间并发数             | 统计同时存在的房间峰值数。 |
| 推流并发数             | 使用流媒体/推流服务的峰值数。 |
| 拉流并发数             | 使用流媒体/拉流服务的峰值数。 |
| 混流任务并发           | 统计同时发起混流任务的峰值数。 |
| 总音频拉流时长         | 拉取音频流的总时长。同一时间段内拉取多条音频流时，则将所有音频流的时长进行求和计算。 |
| 总视频拉流时长         | 拉取视频流的总时长。同一时间段内拉取多条视频流时，则将所有视频流的时长进行求和计算。 |
| 总拉流时长             | 拉取音频流和视频流的总时长。同一时间段内拉取多条音频流或视频流时，则将所有音频流和视频流的时长进行求和计算。 |