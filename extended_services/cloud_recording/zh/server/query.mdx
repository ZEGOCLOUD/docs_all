---
id: query
title: "DescribeRecordStatus"
description: "开始录制后，开发者可以通过调用本接口来查询录制任务的状态。支持查询录制开始时间在发起接口调用时三天内的任务。"
api: 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
info_path: extended_services/cloud_recording/zh/server/open-api-desc
---

<h1 className={"openapi__heading"}>DescribeRecordStatus</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


开始录制后，开发者可以通过调用本接口来查询录制任务的状态。支持查询录制开始时间在发起接口调用时三天内的任务。

<Note title="说明">调用频率限制：10 次/秒</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://cloudrecord-api.zego.im?Action=DescribeRecordStatus\n","required":true,"allowEmptyValue":false,"schema":{"type":"string","enum":["DescribeRecordStatus"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。应用 Id，由 ZEGO 分配的用户唯一凭证。可从 <a target=\"_blank\" href=\"https://console.zego.im/\">ZEGO 控制台</a> 获取。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。16 位 16 进制随机字符串（8 字节随机数的 hex 编码）。生成算法可参考 <a href=\"/cloud-recording-server/making-api-requests#signature-example\">签名示例</a>。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。当前 Unix 时间戳，单位为秒。生成算法可参考 <a href=\"/cloud-recording-server/making-api-requests#signature-example\">签名示例</a>，最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考<a href=\"/cloud-recording-server/making-api-requests#signature-mechanism\">签名机制</a>生成。","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"TaskId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"录制任务 ID，长度固定为 16 个字节的字符串。","example":"X3CgNeE4I1qAAABN"}}></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>OK</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int64"} qualifierMessage={undefined} schema={{"type":"integer","format":"int64","description":"错误码。\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"错误描述。","example":"succeed"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID。","example":"abcd123"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>响应对象。</div><SchemaItem collapsible={false} name={"RoomId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"录制的目标房间。","example":"xxxx"}}></SchemaItem><SchemaItem collapsible={false} name={"RecordMode"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"录制模式。请参考 [开始录制](/cloud-recording-server/start) 接口。\n","example":2}}></SchemaItem><SchemaItem collapsible={false} name={"StreamType"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"录制媒体流类型。请参考 [开始录制](/cloud-recording-server/start) 接口。\n","example":3}}></SchemaItem><SchemaItem collapsible={false} name={"RecordBeginTimestamp"} required={false} schemaName={"int64"} qualifierMessage={undefined} schema={{"type":"integer","format":"int64","description":"录制任务开始的时间，为 Unix 时间戳，单位：ms。","example":1601221452099}}></SchemaItem><SchemaItem collapsible={false} name={"RecordEndTimestamp"} required={false} schemaName={"int64"} qualifierMessage={undefined} schema={{"type":"integer","format":"int64","description":"录制任务结束的时间，为 Unix 时间戳，单位：ms。","example":1601221508795}}></SchemaItem><SchemaItem collapsible={false} name={"Status"} required={false} schemaName={"integer"} qualifierMessage={"**Possible values:** [`1`, `2`, `3`, `4`, `5`]"} schema={{"type":"integer","description":"录制任务的状态。\n\n- 1：录制任务初始化\n- 2：录制任务进行中\n- 3：录制任务已结束\n- 4：录制任务异常结束\n- 5：录制任务暂停中\n","enum":[1,2,3,4,5],"example":3}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>RecordFiles</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>文件信息。如果使用了视频截图功能，则不返回该字段。<Warning title="注意">录制任务为已结束状态时，如果录制过程中房间内无用户推流，则不会产生录制文件，也不会返回 RecordFiles 字段。</Warning></div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"UserId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"录制流对应的推流用户 ID（混流时，为 MixOutputStreamId）。","example":"my_out"}}></SchemaItem><SchemaItem collapsible={false} name={"UserName"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"录制流对应的推流用户昵称（混流时，为 MixOutputStreamId）。","example":"my_out"}}></SchemaItem><SchemaItem collapsible={false} name={"StreamId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"录制流对应的流 ID（混流时，为 MixOutputStreamId）。","example":"my_out"}}></SchemaItem><SchemaItem collapsible={false} name={"FileId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"文件 ID，请参考 [开始录制](/cloud-recording-server/start) 接口中的 OutputFileRule 参数。\n","example":"X3CgNeE4I1qAAABN_xxxx_my_out_VA_20200927154419775.mp4"}}></SchemaItem><SchemaItem collapsible={false} name={"VideoId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"阿里云 Vod、腾讯云 Vod 上传成功得到的视频 ID 参数。阿里云 Vod 对应的是 VideoId，腾讯云 Vod 对应的是 FileId。","example":"820e50e52e0a490caf44eec8aec527a7"}}></SchemaItem><SchemaItem collapsible={false} name={"FileUrl"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"文件访问 URL。第三方存储为七牛云或阿里云 Vod 时不返回。","example":"https://xxxx.com/record/X3CgNeE4I1qAAABN_xxxx_my_out_VA_20200927154419775.mp4"}}></SchemaItem><SchemaItem collapsible={false} name={"OutputFileFormat"} required={false} schemaName={"string"} qualifierMessage={"**Possible values:** [`mp4`, `flv`, `hls`, `jpg`, `aac`]"} schema={{"type":"string","description":"输出录制文件的格式，包括 \"mp4\"、\"flv\"、\"hls\"、\"jpg\" 和 \"aac\"。\n","enum":["mp4","flv","hls","jpg","aac"],"example":"mp4"}}></SchemaItem><SchemaItem collapsible={false} name={"FileSize"} required={false} schemaName={"int64"} qualifierMessage={undefined} schema={{"type":"integer","format":"int64","description":"文件大小，单位：字节。","example":432643544}}></SchemaItem><SchemaItem collapsible={false} name={"Duration"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"文件时长，单位：ms。","example":33874}}></SchemaItem><SchemaItem collapsible={false} name={"ResolutionWidth"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"视频分辨率宽，单位：像素。","example":1920}}></SchemaItem><SchemaItem collapsible={false} name={"ResolutionHeight"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"视频分辨率高，单位：像素。","example":1080}}></SchemaItem><SchemaItem collapsible={false} name={"MediaTrackType"} required={false} schemaName={"integer"} qualifierMessage={"**Possible values:** [`1`, `2`, `3`]"} schema={{"type":"integer","description":"文件媒体类型。\n\n- 1：只有音频\n- 2：只有视频\n- 3：音视频\n","enum":[1,2,3],"example":3}}></SchemaItem><SchemaItem collapsible={false} name={"BeginTimestamp"} required={false} schemaName={"int64"} qualifierMessage={undefined} schema={{"type":"integer","format":"int64","description":"开始录制文件时的 Unix 时间戳，单位：ms。","example":1601221459830}}></SchemaItem><SchemaItem collapsible={false} name={"Status"} required={false} schemaName={"integer"} qualifierMessage={"**Possible values:** [`1`, `2`, `3`, `4`, `5`]"} schema={{"type":"integer","description":"文件状态。\n\n- 1：录制中，表示正在录制文件。\n- 2：上传中，表示正在上传录制文件至客户指定云存储。\n- 3：上传成功，表示上传录制文件至客户指定云存储成功。\n- 4：已经上传至备份云存储，表示上传客户指定云存储失败，已上传至 ZEGO 备份云存储。**请注意，ZEGO 备份云存储的有效期为 3 天，请您及时下载录制文件，保存到本地。**\n- 5：上传失败，表示上传客户指定云存储和 ZEGO 备份云存储均失败。\n","enum":[1,2,3,4,5],"example":3}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"succeed\",\n  \"RequestId\": \"abcd123\",\n  \"Data\": {\n    \"RoomId\": \"xxxx\",\n    \"RecordMode\": 2,\n    \"StreamType\": 3,\n    \"RecordBeginTimestamp\": 1601221452099,\n    \"RecordEndTimestamp\": 1601221508795,\n    \"Status\": 3,\n    \"RecordFiles\": [\n      {\n        \"UserId\": \"my_out\",\n        \"UserName\": \"my_out\",\n        \"StreamId\": \"my_out\",\n        \"FileId\": \"X3CgNeE4I1qAAABN_xxxx_my_out_VA_20200927154419775.mp4\",\n        \"VideoId\": \"820e50e52e0a490caf44eec8aec527a7\",\n        \"FileUrl\": \"https://xxxx.com/record/X3CgNeE4I1qAAABN_xxxx_my_out_VA_20200927154419775.mp4\",\n        \"OutputFileFormat\": \"mp4\",\n        \"FileSize\": 432643544,\n        \"Duration\": 33874,\n        \"ResolutionWidth\": 1920,\n        \"ResolutionHeight\": 1080,\n        \"MediaTrackType\": 3,\n        \"BeginTimestamp\": 1601221459830,\n        \"Status\": 3\n      }\n    ]\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      