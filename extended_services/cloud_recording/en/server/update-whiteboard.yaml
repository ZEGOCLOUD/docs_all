openapi: 3.0.0
info:
  title: open-api-desc
  version: 1.0.0
  contact:
    name: ZEGO Support
    email: support@zegocloud.com

servers:
  $ref: './shared-components.yaml#/servers'

paths:
  /:
    post:
      tags:
        - cloud-recording
        - POST
      summary: UpdateWhiteboard
      description: |
        During the recording process, you can call this API at any time to change the whiteboard being recorded.

        When users switch whiteboards, it is recommended that developers call the UpdateWhiteboard API to update the whiteboard ID after switching.

        <Note title="Note">Call frequency limit: 10 times/second</Note>
      operationId: update-whiteboard
      parameters:
        - name: Action
          in: query
          description: |
            > API prototype parameter
            >
            > https://cloudrecord-api.zego.im?Action=UpdateWhiteboard
          required: true
          allowEmptyValue: false
          schema:
            type: string
            enum: [UpdateWhiteboard]
          style: form
          explode: true
        - $ref: './shared-components.yaml#/components/parameters/AppId'
        - $ref: './shared-components.yaml#/components/parameters/SignatureNonce'
        - $ref: './shared-components.yaml#/components/parameters/Timestamp'
        - $ref: './shared-components.yaml#/components/parameters/SignatureVersion'
        - $ref: './shared-components.yaml#/components/parameters/Signature'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateWhiteboardRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateWhiteboardResponse'

components:
  schemas:
    UpdateWhiteboardRequest:
      type: object
      required: [TaskId, WhiteboardId]
      properties:
        TaskId:
          type: string
          description: Recording task ID, a fixed-length string of 16 bytes.
          example: "xxxx"
        WhiteboardId:
          type: string
          description: ID of the whiteboard to be recorded.
          example: "1111"
      example:
        TaskId: "xxxx"
        WhiteboardId: "1111"

    UpdateWhiteboardResponse:
      type: object
      properties:
        Code:
          type: integer
          format: int64
          description: |
            Error code.
          example: 0
        Message:
          type: string
          description: Error description.
          example: "succeed"
        RequestId:
          type: string
          description: Request ID.
          example: "abcd123"
      example:
        Code: 0
        Message: "succeed"
        RequestId: "abcd123"

