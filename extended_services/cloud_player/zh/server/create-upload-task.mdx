---
id: create-upload-task
title: "CreateUploadTask"
description: "创建一个上传任务，将 URL 在线资源上传到 OSS。上传之后同区域的云播放器集群可以通过内网拉流地址获取播放资源，保证资源传输过程的稳定性。"
api: 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
info_path: extended_services/cloud_player/zh/server/open-api-desc
---

<h1 className={"openapi__heading"}>CreateUploadTask</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


创建一个上传任务，将 URL 在线资源上传到 OSS。上传之后同区域的云播放器集群可以通过内网拉流地址获取播放资源，保证资源传输过程的稳定性。

<Note title="说明">
此功能为增值服务，如需使用，请联系 ZEGO 商务人员开通。
</Note>

<Note title="说明">
对于单个 AppID 而言，ZEGO 服务端最多同时可处理 10 上传任务（包含上传中和等待中），如需调高上限，请联系 ZEGO 技术支持修改。
</Note>

<Note title="说明">调用频率限制：20 次/秒</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://cloud-player-api.zego.im?Action=CreateUploadTask\n","required":true,"allowEmptyValue":false,"schema":{"type":"string","enum":["CreateUploadTask"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。应用 Id，由 ZEGO 分配的用户唯一凭证。可从 <a target=\"_blank\" href=\"https://console.zego.im/\">ZEGO 控制台</a> 获取。","required":true,"schema":{"type":"number","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。16 位 16 进制随机字符串（8 字节随机数的 hex 编码）。生成算法可参考 <a href=\"/cloud-player-server/accessing-server-apis#signature-example\">签名示例</a>。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。当前 Unix 时间戳，单位为秒。生成算法可参考 <a href=\"/cloud-player-server/accessing-server-apis#signature-example\">签名示例</a>，最多允许 10 分钟的误差。","required":true,"schema":{"type":"number","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考<a href=\"/cloud-player-server/accessing-server-apis#signature-mechanism\">签名机制</a>生成。","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Title"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 100 characters`"} schema={{"type":"string","maxLength":100,"description":"文件名称，长度上限为 100B，文件后缀（支持 `.mp3`、`.mp4`、`.flv`、`.wav`、`.aac` 和 `.flac`）需保留且正确，否则可能导致播放失败。\n> **注意**\n>\n> 请勿使用相同文件名称。如果多个文件的 Title 相同，它们会互相替代，只保留最后上传的文件，但是，新文件可能会继承旧文件的过期时间。\n","example":"your-title.mp4"}}></SchemaItem><SchemaItem collapsible={false} name={"StreamUrl"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 1024 characters`"} schema={{"type":"string","maxLength":1024,"description":"媒体资源的地址，必须是有效的 HTTP/HTTPS 地址，且长度在 1024 字节以内，文件大小上限为 5GB。","example":"https://xxx.com/video/test.mp4"}}></SchemaItem><SchemaItem collapsible={false} name={"RetentionDays"} required={false} schemaName={"number"} qualifierMessage={"**Possible values:** `>= 1` and `<= 7`"} schema={{"type":"number","minimum":1,"maximum":7,"default":3,"description":"资源有效时长，单位为天。有效取值范围为 [1, 7]，（默认值：3），如果您需要提高上限，请联系 ZEGO 技术支持处理。","example":3}}></SchemaItem><SchemaItem collapsible={false} name={"ContentMd5"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"ContentMd5 是通过 MD5 算法对文件进行计算生成的哈希值，然后经过 Base64 编码得到的结果，用于验证文件在上传过程中是否保持完整性。\n\n如果您在上传时提供了 ContentMd5 参数，ZEGO 服务端会通过 OSS 计算文件的 ContentMd5 并与您提供的值进行比对。若两者不一致，上传将失败，表明文件可能被篡改或损坏。\n\n为确保文件的完整性和安全性，强烈建议在上传文件时传入 ContentMd5 参数。\n\n\n以下是使用 PHP 生成 ContentMd5 的示例：\n```PHP\nfunction calculateMD5($content) {\n    return base64_encode(md5($content, true));\n}\n```\n","example":"0uyh0doi++pDCwZkI0VEfA=="}}></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>OK</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"返回码。\n\n以下仅列出了接口业务逻辑相关的返回码，完整返回码请参考 [全局返回码](/cloud-player-server/return-codes)。\n<table>\n<thead>\n<tr><th>返回码</th><th>说明</th><th>处理建议</th></tr>\n</thead>\n<tbody>\n<tr><td>0</td><td>成功。</td><td>-</td></tr>\n<tr><td>100000004</td><td>签名过期。</td><td>请重新生成签名。</td></tr>\n<tr><td>100000005</td><td>签名错误。</td><td>请确认生成签名的参数是否正确。</td></tr>\n<tr><td>350006001</td><td>接口请求频率超过上限。</td><td>请确认对应接口的 QPS 限制，降低请求频率。</td></tr>\n<tr><td>350006002</td><td>网关校验失败。</td><td>请联系 ZEGO 技术支持处理。</td></tr>\n<tr><td>350006003</td><td>无效的输入参数。</td><td>请根据 Message 提示，调整对应参数的取值。</td></tr>\n<tr><td>350006006</td><td>服务未开通。</td><td>请联系 ZEGO 技术支持，开通服务权限。</td></tr>\n<tr><td>350010000</td><td>系统错误。</td><td>请联系 ZEGO 技术支持处理。</td></tr>\n</tbody>\n</table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"操作结果描述。","example":"succeed"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID。","example":"955607951583870294"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>响应对象。</div><SchemaItem collapsible={false} name={"UploadTaskId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"上传任务 ID。","example":"upload_task_1"}}></SchemaItem><SchemaItem collapsible={false} name={"CreateTime"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"文件上传任务创建成功的 Unix 时间戳，单位：秒。","example":1681221508}}></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"succeed\",\n  \"RequestId\": \"955607951583870294\",\n  \"Data\": {\n    \"UploadTaskId\": \"upload_task_1\",\n    \"CreateTime\": 1681221508\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      