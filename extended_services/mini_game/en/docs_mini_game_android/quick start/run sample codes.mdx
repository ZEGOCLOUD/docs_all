# Run sample code

---


ZEGOCLOUD provides sample server code for Node.js and sample client code for Android. You can create an application and experience all features of the mini-games with activated permissions by running the two pieces of sample code. You can also learn how to implement a mini-game service by reading the sample code.

This topic involves the following sections:

1. Run the sample server code for Node.js
2. Run the sample client code for Android

<Warning title="Warning">

- The preceding sample code is provided only for your reference. ZEGOCLOUD is not responsible for the maintenance of the sample code.
- The preceding sample code does not pass a rigorous test. If you want to use the sample code in a production environment, perform a rigorous test before release to prevent losses.

</Warning>


## Run the sample server code for Node.js

<Warning title="Warning">

The sample server code cannot be used in a production environment for data security. ZEGOCLOUD is not liable for any risks or losses that are caused if you use the sample server code in a production environment.

</Warning>

### Prepare the environment

Before you run the sample server code for Node.js, make sure that the development environment meets the following requirements:

- Node.js is installed.
- A computer that runs Windows or macOS is connected to the internet.

### Prerequisites

- A project is created in the [ZEGOCLOUD console](https://console.zegocloud.com). The values of the `AppID` and `ServerSecret` parameters of the project are obtained. For more information, see [How to view project information](https://www.zegocloud.com/docs/admin-console/view-project-information).
- The mini-game service is activated by contacting ZEGOCLOUD business staff.
- The sample server code is obtained. For more information, see [Download](../Download.mdx).

### Directory structure of the sample code

The following section describes the directory structure of the sample server code. All file paths involved in this topic are based on the directory structure.

```tree
ZegoMiniGameServerDemo
├── index.js        # The main file.
├── package.json    # The configuration file.
└── utils
  ├── config.js    # Enter the values of the `AppID` and `ServerSecret` parameters that you obtain in the ZEGOCLOUD console.
  ├── gameToken.js # The token generated by the server. 
  └── getToken04.js 
```

### Run the sample code

<Steps>
<Step title="Decompress the `ZegoMiniGameServerDemo.zip` package of the sample server code to obtain the `ZegoMiniGameServerDemo` folder.">
{}
</Step>
<Step title="Modify the `ZegoMiniGameServerDemo/utils/config.js` file by specifying the `appID` parameter in the red-framed part as shown in the following figure.">

Fill in the appId requested from the ZEGOCLOUD console

Fill in the serverSecret  requested from the ZEGOCLOUD console

<Frame width="512" height="auto" caption="">
<img src="https://storage.zego.im/sdk-doc/Pics/zegocloud/mini_game/new1ServerSecret.jpeg" />
</Frame>

</Step>

<Step title="In the `ZegoMiniGameServerDemo/utils/config.js` file, specify the `serverSecret` parameter.">
Fill in the appId requested from the ZEGOCLOUD console

Fill in the serverSecret  requested from the ZEGOCLOUD console
<Frame width="512" height="auto" caption="">
<img src="https://storage.zego.im/sdk-doc/Pics/zegocloud/mini_game/new2ServerSecret.jpeg" />
</Frame>

<Warning title="Warning">

The `https://mini-game-api.zego.im` host address provided in this file is the endpoint of the mini-game server and cannot be modified.

</Warning>
</Step>
<Step title="Go to the `ZegoMiniGameServerDemo` folder and run the following code on the terminal to start the mini-game server.">

```bash

# Install dependencies.

npm i  

node index.js
```

</Step>

<Step title="Obtain the server address, which can be used as the backend address in the sample client code">

The following figure shows the output after the sample server code is run.

<Frame width="512" height="auto" caption=""><img src="https://storage.zego.im/sdk-doc/Pics/MiniGames/server_sourcecodes_address.jpeg" /></Frame>

</Step>
</Steps>



## Run the sample client code for Android

### Prepare the environment

Before you run the sample code, make sure that the development environment meets the following requirements:

- Android Studio 2021.2.1 or later is installed.
- Android SDK 29 or later, Android SDK Build-Tools 29.0.0 or later, and Android SDK Platform-Tools 29.x.x or later are installed.
- Android 5.0 or later is installed. An Android device or emulator that supports audio and video playback is available. We recommend that you use a real device.
- The Android device is connected to the internet.

### Prerequisites

- A project is created in the [ZEGOCLOUD console](https://console.zegocloud.com). The value of the `AppID` parameter of the project is obtained. For more information, see [How to view project information](https://www.zegocloud.com/docs/admin-console/view-project-information).
- The mini-game service is activated by contacting ZEGOCLOUD business staff.
- The sample server code is run. For more information, see the [Run the sample server code for Node.js](#run-the-sample-server-code-for-nodejs) section of this topic.
- The sample client code is obtained. For more information, see [Download](../Download.mdx).


### Directory structure of the sample code

The following section describes the directory structure of the sample client code for Android. All file paths involved in this topic are based on the directory structure.

```tree
.
├── app
│  ├── build.gradle
│  ├── proguard-rules.pro
│  └── src
│      └── main
│          ├── AndroidManifest.xml
│          ├── java
│          │  └── im
│          │      └── zego
│          │          └── minigameenginedemo
│          │              ├── ...
│          │              ├── KeyCenter.java // Fill in the AppID and the backend address.
│          │              └── ...
│          │              └── ...
│          └── ...
├── build.gradle
├── gradle
├── gradle.properties
├── gradlew
├── gradlew.bat
└── settings.gradle
```

### Run the sample code

1. Decompress the package of the sample client code for Android and obtain the `ZegoMiniGameEngineDemoSrc-Android` folder.

2. Find Android Studio in your computer.
   
    <Frame width="512" height="auto" caption=""><img src="https://storage.zego.im/sdk-doc/Pics/GoEnjoy/online_KTV/SampleCodes/AS_icon.png" /></Frame>

3. Open Android Studio and click **Open**.
   
    <Frame width="512" height="auto" caption=""><img src="https://storage.zego.im/sdk-doc/Pics/GoEnjoy/online_KTV/SampleCodes/AS_Welcome_Interface.png" /></Frame>

4. Select the decompressed `ZegoMiniGameEngineDemo` folder and click **Open**.
   
    <Frame width="512" height="auto" caption=""><img src="https://storage.zego.im/sdk-doc/Pics/MiniGames/open.jpeg" /></Frame>

<a name="host_ip"></a>

5. Modify the `app/src/main/java/im/zego/minigameenginedemo/KeyCenter.java` file by entering the application ID that is required for SDK initialization, and the **backend address** (That is, the address obtained after running the sample server code according to the [Prerequisits](#16450#2_2)).
   
    <Warning title="Warning">

    Enter the application ID that you obtain in the [Prerequisites](#16450#2_2) section of this topic in the format of application ID + L. Example: 1234567890L. Otherwise, the sample code fails to run.
   
    </Warning>   

6. Connect a real Android device to your computer. After you enable the developer mode and USB debugging feature on the device, you can view the device in Android Studio, as shown in the following figure.
   
    <Frame width="512" height="auto" caption=""><img src="https://storage.zego.im/sdk-doc/Pics/GoEnjoy/LiveShow/android_device_detected.png" /></Frame>
   This indicates that Android Studio is connected to the Android device and you can run the sample code on the device.

7. Click the **Build and Run** button in Android Studio to compile and run the sample code. Then, you can experience the mini-game.
   
    <Frame width="512" height="auto" caption=""><img src="https://storage.zego.im/sdk-doc/Pics/GoEnjoy/LiveShow/android_build_and_run.png" /></Frame>
