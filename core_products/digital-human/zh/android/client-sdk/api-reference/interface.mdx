# Interface

## IZegoDigitalMobile

数字人 SDK 主接口。

*Declared in `IZegoDigitalMobile.java`*

### 方法
<ParamField
  name="start"
  prototype="public void start(@NonNull String digitalHumanConfig, @Nullable ZegoDigitalMobileListener listener)"
  desc="创建数字人任务。"
  parent_file="Declared in \`IZegoDigitalMobile.java\`"
  parent_name="IZegoDigitalMobile"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| digitalHumanConfig | String | 数字人配置，Base64 编码的 JSON 字符串。 |
| listener | [ZegoDigitalMobileListener](#izegodigitalmobilezegodigitalmobilelistener) | 数字人 SDK 回调。 |

**详情**

创建并启动数字人任务。需要传入 Base64 编码的数字人配置字符串。

<Note title="">
- **通知时机**：调用此方法后会触发回调。
</Note>
</ParamField>

<ParamField
  name="attach"
  prototype="public void attach(@NonNull ZegoDigitalView digitalView)"
  desc="绑定数字人显示视图。"
  parent_file="Declared in \`IZegoDigitalMobile.java\`"
  parent_name="IZegoDigitalMobile"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| digitalView | [ZegoDigitalView](./class#zegodigitalview) | 数字人显示视图。 |

**详情**

将数字人渲染视图绑定到 SDK 实例。

<Note title="">
- **调用时机**：可在调用 [start] 之前或之后调用。
</Note>
</ParamField>

<ParamField
  name="getDigitalView"
  prototype="public @Nullable ZegoDigitalView getDigitalView()"
  desc="获取数字人显示视图。"
  parent_file="Declared in \`IZegoDigitalMobile.java\`"
  parent_name="IZegoDigitalMobile"
  parent_type="class">
**返回值**

| 类型 | 描述 |
| --- | --- |
| [ZegoDigitalView](./class#zegodigitalview) | 数字人显示视图，如果未绑定则返回 null。 |

**详情**

获取当前绑定的数字人显示视图。
</ParamField>

<ParamField
  name="onRemoteVideoFrameRawData"
  prototype="public void onRemoteVideoFrameRawData(ByteBuffer[] data, int[] dataLength, ZegoVideoFrameParam param, String streamID)"
  desc="远端视频帧原始数据回调。"
  parent_file="Declared in \`IZegoDigitalMobile.java\`"
  parent_name="IZegoDigitalMobile"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| data | ByteBuffer[] | 视频帧数据数组。 |
| dataLength | int[] | 每个数据缓冲区的长度数组。 |
| param | [ZegoVideoFrameParam](#izegodigitalmobilezegovideoframeparam) | 视频帧参数，包含格式、分辨率等信息。 |
| streamID | String | 视频流 ID。 |

**详情**

当收到远端视频流的原始帧数据时调用此回调。需要从实时音视频 SDK 的回调中调用此方法。

<Note title="">
- **调用时机**：在实时音视频 SDK 的远端视频帧回调中调用。
</Note>
</ParamField>

<ParamField
  name="onPlayerSyncRecvSEI"
  prototype="public void onPlayerSyncRecvSEI(String streamID, byte[] data)"
  desc="播放器 SEI 信息同步接收回调。"
  parent_file="Declared in \`IZegoDigitalMobile.java\`"
  parent_name="IZegoDigitalMobile"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| streamID | String | 视频流 ID。 |
| data | byte[] | SEI 数据。 |

**详情**

当播放器接收到 SEI 信息时调用此回调。需要从实时音视频 SDK 的 SEI 回调中调用此方法。

<Note title="">
- **调用时机**：在实时音视频 SDK 的 SEI 回调中调用。
</Note>
</ParamField>

<ParamField
  name="stop"
  prototype="public void stop()"
  desc="停止数字人。"
  parent_file="Declared in \`IZegoDigitalMobile.java\`"
  parent_name="IZegoDigitalMobile"
  parent_type="class">
**详情**

停止数字人任务，释放相关资源。
</ParamField>

## IZegoDigitalMobile.ZegoDigitalMobileListener

数字人 SDK 回调接口。

*Declared in `IZegoDigitalMobile.java`*

### 方法
<ParamField
  name="onDigitalMobileStartSuccess"
  prototype="public void onDigitalMobileStartSuccess()"
  desc="数字人启动成功回调。"
  parent_file="Declared in \`IZegoDigitalMobile.java\`"
  parent_name="IZegoDigitalMobile.ZegoDigitalMobileListener"
  parent_type="class">
**详情**

数字人任务创建并启动成功时触发此回调。
</ParamField>

<ParamField
  name="onError"
  prototype="public void onError(int errorCode, String errorMsg)"
  desc="错误回调。"
  parent_file="Declared in \`IZegoDigitalMobile.java\`"
  parent_name="IZegoDigitalMobile.ZegoDigitalMobileListener"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| errorCode | int | 错误码，详情请参考 [DigitalMobileErrorCode](./enum#digitalmobileerrorcode)。 |
| errorMsg | String | 错误信息。 |

**详情**

当数字人 SDK 发生错误时触发此回调。
</ParamField>

<ParamField
  name="onSurfaceFirstFrameDraw"
  prototype="public void onSurfaceFirstFrameDraw()"
  desc="Surface 首帧回调。"
  parent_file="Declared in \`IZegoDigitalMobile.java\`"
  parent_name="IZegoDigitalMobile.ZegoDigitalMobileListener"
  parent_type="class">
**详情**

Surface 首帧渲染回调。客户可以监听此回调在首帧渲染前设置 loading view 规避 previewView 闪黑屏。
</ParamField>

## IZegoDigitalMobile.ZegoVideoFrameParam

视频帧参数类。

*Declared in `IZegoDigitalMobile.java`*

### 属性
<ParamField
  name="format"
  prototype="public ZegoVideoFrameFormat format"
  desc="视频帧格式。"
  parent_file="Declared in \`IZegoDigitalMobile.java\`"
  parent_name="IZegoDigitalMobile.ZegoVideoFrameParam"
  parent_type="class">
视频帧格式。
</ParamField>

<ParamField
  name="strides"
  prototype="public final int[] strides"
  desc="每行的步长数组。"
  parent_file="Declared in \`IZegoDigitalMobile.java\`"
  parent_name="IZegoDigitalMobile.ZegoVideoFrameParam"
  parent_type="class">
每行的步长数组。
</ParamField>

<ParamField
  name="width"
  prototype="public int width"
  desc="视频帧宽度。"
  parent_file="Declared in \`IZegoDigitalMobile.java\`"
  parent_name="IZegoDigitalMobile.ZegoVideoFrameParam"
  parent_type="class">
视频帧宽度。
</ParamField>

<ParamField
  name="height"
  prototype="public int height"
  desc="视频帧高度。"
  parent_file="Declared in \`IZegoDigitalMobile.java\`"
  parent_name="IZegoDigitalMobile.ZegoVideoFrameParam"
  parent_type="class">
视频帧高度。
</ParamField>

<ParamField
  name="rotation"
  prototype="public int rotation"
  desc="视频帧旋转角度。"
  parent_file="Declared in \`IZegoDigitalMobile.java\`"
  parent_name="IZegoDigitalMobile.ZegoVideoFrameParam"
  parent_type="class">
视频帧旋转角度。
</ParamField>
