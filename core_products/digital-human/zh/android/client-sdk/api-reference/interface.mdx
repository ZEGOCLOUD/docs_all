# Interface

## IZegoDigitalMobile

数字人 SDK 核心接口协议，定义了数字人的生命周期管理、视图绑定和底层数据交互。

*Declared in `IZegoDigitalMobile.java`*

### 方法
<ParamField
  name="start"
  prototype="void start(@NonNull String digitalHumanConfig, @Nullable ZegoDigitalMobileListener listener)"
  desc="启动数字人任务。"
  parent_file="Declared in \`IZegoDigitalMobile.java\`"
  parent_name="IZegoDigitalMobile"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| digitalHumanConfig | String | 数字人配置，通常是 Base64 编码的 JSON 字符串，包含连接和形象信息。 |
| listener | [ZegoDigitalMobileListener](#izegodigitalmobilezegodigitalmobilelistener) | 事件回调代理，用于接收启动状态和错误通知。 |

**详情**

启动数字人服务并开始渲染。

<Note title="">
- **通知时机**：异步执行，结果通过 `ZegoDigitalMobileListener` 返回。
</Note>
</ParamField>


<ParamField
  name="start"
  prototype="void start(ZegoDigitalMobileAuth auth, ZegoDigitalHumanConfig config, ZegoDigitalMobileListener listener)"
  desc="启动数字人任务。"
  parent_file="Declared in \`IZegoDigitalMobile.java\`"
  parent_name="IZegoDigitalMobile"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| auth | [ZegoDigitalMobileAuth](./class#zegodigitalmobileauth) | 数字人后台鉴权信息。 |
| config | [ZegoDigitalHumanConfig](./class#zegodigitalhumanconfig) | 数字人启动配置，包含数字人 ID、房间 ID、流 ID 等信息。 |
| listener | [ZegoDigitalMobileListener](#izegodigitalmobilezegodigitalmobilelistener) | 事件回调代理，用于接收启动状态和错误通知。 |

**详情**

启动数字人服务并开始渲染。

<Note title="">
- **通知时机**：异步执行，结果通过 `ZegoDigitalMobileListener` 返回。
</Note>

<Warning title="">
- 此方法仅在预览版 SDK 中可用，如需使用请联系 ZEGO 官方。
</Warning>

</ParamField>

<ParamField
  name="attach"
  prototype="void attach(@NonNull ZegoDigitalView digitalView)"
  desc="绑定显示视图。"
  parent_file="Declared in \`IZegoDigitalMobile.java\`"
  parent_name="IZegoDigitalMobile"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| digitalView | [ZegoDigitalView](./class#zegodigitalview) | 用于渲染数字人的显示视图。 |

**详情**

将 UI 层的 `ZegoDigitalView` 绑定到 SDK，使数字人内容得以展示。

<Note title="">
- **调用时机**：建议在 [start] 之前或之后立即调用。
</Note>
</ParamField>

<ParamField
  name="getDigitalView"
  prototype="@Nullable ZegoDigitalView getDigitalView()"
  desc="获取当前视图。"
  parent_file="Declared in \`IZegoDigitalMobile.java\`"
  parent_name="IZegoDigitalMobile"
  parent_type="class">
**返回值**

| 类型 | 描述 |
| --- | --- |
| [ZegoDigitalView](./class#zegodigitalview) | 当前绑定的显示视图，若未绑定则返回 null。 |

**详情**

获取当前正在使用的数字人显示视图。
</ParamField>

<ParamField
  name="getPreviewView"
  prototype="@Nullable ZegoDigitalView getPreviewView()"
  desc="获取预览视图（已废弃）。"
  parent_file="Declared in \`IZegoDigitalMobile.java\`"
  parent_name="IZegoDigitalMobile"
  parent_type="class">
**返回值**

| 类型 | 描述 |
| --- | --- |
| [ZegoDigitalView](./class#zegodigitalview) | 预览视图。 |

**详情**

获取预览视图。

<Warning title="">
- **废弃说明**：此方法已废弃，请改用 [getDigitalView]。
</Warning>
</ParamField>

<ParamField
  name="onRemoteVideoFrameRawData"
  prototype="void onRemoteVideoFrameRawData(ByteBuffer[] data, int[] dataLength, ZegoVideoFrameParam param, String streamID)"
  desc="同步远端视频原始数据。"
  parent_file="Declared in \`IZegoDigitalMobile.java\`"
  parent_name="IZegoDigitalMobile"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| data | ByteBuffer[] | 视频帧数据缓冲区数组。 |
| dataLength | int[] | 各平面的数据长度。 |
| param | [ZegoVideoFrameParam](./class#zegovideoframeparam) | 视频帧描述参数。 |
| streamID | String | 视频流 ID。 |

**详情**

此方法通常在对接实时音视频 SDK（如 ZegoExpressEngine）的原始数据回调时使用，将收到的远端视频帧喂给数字人 SDK 进行后续处理。
</ParamField>

<ParamField
  name="onPlayerSyncRecvSEI"
  prototype="void onPlayerSyncRecvSEI(String streamID, byte[] data)"
  desc="同步播放器 SEI 信息。"
  parent_file="Declared in \`IZegoDigitalMobile.java\`"
  parent_name="IZegoDigitalMobile"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| streamID | String | 视频流 ID。 |
| data | byte[] | 接收到的 SEI 数据。 |

**详情**

用于将视频流中同步的业务数据传给数字人 SDK，以实现精确的音画同步或动作控制。
</ParamField>

<ParamField
  name="stop"
  prototype="void stop()"
  desc="停止数字人。"
  parent_file="Declared in \`IZegoDigitalMobile.java\`"
  parent_name="IZegoDigitalMobile"
  parent_type="class">
**详情**

停止当前运行的数字人任务并清理资源。
</ParamField>

## IZegoDigitalMobile.ZegoDigitalMobileListener

数字人状态事件监听器。

*Declared in `IZegoDigitalMobile.java`*

### 方法
<ParamField
  name="onDigitalMobileStartSuccess"
  prototype="void onDigitalMobileStartSuccess()"
  desc="启动成功回调。"
  parent_file="Declared in \`IZegoDigitalMobile.java\`"
  parent_name="IZegoDigitalMobile.ZegoDigitalMobileListener"
  parent_type="class">
**详情**

当数字人成功建立连接并准备好渲染时触发。
</ParamField>

<ParamField
  name="onError"
  prototype="void onError(int errorCode, String errorMsg)"
  desc="错误通知。"
  parent_file="Declared in \`IZegoDigitalMobile.java\`"
  parent_name="IZegoDigitalMobile.ZegoDigitalMobileListener"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| errorCode | int | 错误码。 |
| errorMsg | String | 详细错误信息。 |

**详情**

在启动或运行过程中发生异常时触发。错误码请参考 [DigitalMobileErrorCode](./enum#digitalmobileerrorcode)。
</ParamField>

<ParamField
  name="onSurfaceFirstFrameDraw"
  prototype="void onSurfaceFirstFrameDraw()"
  desc="首帧渲染通知。"
  parent_file="Declared in \`IZegoDigitalMobile.java\`"
  parent_name="IZegoDigitalMobile.ZegoDigitalMobileListener"
  parent_type="class">
**详情**

数字人首帧内容开始渲染到视图上时触发。

<Note title="">
- **建议**：在此回调前显示加载占位图，在此回调触发后隐藏，以提供流畅的用户体验。
</Note>
</ParamField>
