# Class

## ZegoDigitalHuman

数字人 SDK 入口类，提供创建数字人实例和全局配置的方法。

*Declared in `ZegoDigitalHuman.java`*

### 属性
<ParamField
  name="version"
  prototype="public static final String version"
  desc="SDK 版本号。"
  parent_file="Declared in \`ZegoDigitalHuman.java\`"
  parent_name="ZegoDigitalHuman"
  parent_type="class">
SDK 版本号。
</ParamField>

### 方法
<ParamField
  name="create"
  prototype="public static IZegoDigitalMobile create(@NonNull Context context)"
  desc="创建数字人实例。"
  parent_file="Declared in \`ZegoDigitalHuman.java\`"
  parent_name="ZegoDigitalHuman"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| context | Context | Android 上下文。 |

**返回值**

| 类型 | 描述 |
| --- | --- |
| [IZegoDigitalMobile](./interface#izegodigitalmobile) | 数字人实例。 |

**详情**

创建并获取一个数字人 SDK 实例。这是使用数字人 SDK 的入口方法。

<Note title="">
- **调用时机**：在需要使用数字人功能时调用。
</Note>
</ParamField>

<ParamField
  name="setLogConfig"
  prototype="public static boolean setLogConfig(@NonNull ZegoDigitalHumanLogConfig logConfig)"
  desc="设置数字人日志配置。"
  parent_file="Declared in \`ZegoDigitalHuman.java\`"
  parent_name="ZegoDigitalHuman"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| logConfig | [ZegoDigitalHumanLogConfig](#zegodigitalhumanlogconfig) | 日志配置，包含路径、大小和数量。 |

**返回值**

| 类型 | 描述 |
| --- | --- |
| boolean | 配置是否设置成功，true 表示成功，false 表示失败。 |

**详情**

设置数字人日志配置，自定义日志存储路径、单个文件大小和轮转数量。

<Warning title="">
- **注意事项**：此方法必须在调用 [create] 或 [ZegoDigitalHumanResource] 方法之前调用。
</Warning>

<Note title="">
- **示例**：如果 `logDirectoryPath` 设置为 "files/" 且 `logCount` 设置为 3，系统将生成轮转日志文件："files/ZaLog1.txt"、"files/ZaLog2.txt" 和 "files/ZaLog3.txt"。当 "ZaLog1.txt" 写满时，它将被重命名为 "ZaLog2.txt"，并创建新的 "ZaLog1.txt"。此过程持续进行，始终保持最多 3 个日志文件。
</Note>
</ParamField>

## ZegoDigitalView

数字人显示视图，继承自 Android 视图系统。

*Declared in `ZegoDigitalView.java`*

### 方法
<ParamField
  name="ZegoDigitalView"
  prototype="public ZegoDigitalView(@NonNull Context context)"
  desc="构造函数。"
  parent_file="Declared in \`ZegoDigitalView.java\`"
  parent_name="ZegoDigitalView"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| context | Context | Android 上下文。 |

**详情**

创建并初始化一个数字人显示视图。
</ParamField>

## ZegoDigitalHumanResource

数字人资源管理类，采用单例模式。用于管理数字人形象资源的预加载、状态查询和卸载。

*Declared in `ZegoDigitalHumanResource.java`*

### 属性
<ParamField
  name="INSTANCE"
  prototype="public static final ZegoDigitalHumanResource INSTANCE"
  desc="单例实例。"
  parent_file="Declared in \`ZegoDigitalHumanResource.java\`"
  parent_name="ZegoDigitalHumanResource"
  parent_type="class">
数字人资源管理单例。
</ParamField>

### 方法
<ParamField
  name="preload"
  prototype="public void preload(@NonNull final Context context, @NonNull final ZegoDigitalMobileAuth auth, @NonNull final String digitalHumanID, @Nullable PreloadCallback callback)"
  desc="预加载数字人资源。"
  parent_file="Declared in \`ZegoDigitalHumanResource.java\`"
  parent_name="ZegoDigitalHumanResource"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| context | Context | Android 上下文。 |
| auth | [ZegoDigitalMobileAuth](#zegodigitalmobileauth) | 认证信息。 |
| digitalHumanID | String | 数字人 ID。 |
| callback | [PreloadCallback](#zegodigitalhumanresourcepreloadcallback) | 预加载进度和结果回调。 |

**详情**

异步预加载指定数字人的形象包资源。资源加载完成后，启动该数字人时将直接使用本地缓存，大幅提升加载速度。

<Note title="">
- **推荐做法**：在应用空闲时间或用户进入特定页面前提前调用。
- **调用时机**：[ZegoExpressEngine.createEngine] 之后，[ZegoExpressEngine.destroyEngine] 之前调用，即依赖 ZegoExpressEngine 实例的存在。
</Note>

<Warning title="">
- **网络要求**：此方法需要网络连接来同步资源状态信息。
</Warning>
</ParamField>

<ParamField
  name="isLoaded"
  prototype="public void isLoaded(@NonNull final Context context, @NonNull final ZegoDigitalMobileAuth auth, @NonNull final String digitalHumanID, @Nullable final IsLoadedCallback callback)"
  desc="检查资源是否已加载。"
  parent_file="Declared in \`ZegoDigitalHumanResource.java\`"
  parent_name="ZegoDigitalHumanResource"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| context | Context | Android 上下文。 |
| auth | [ZegoDigitalMobileAuth](#zegodigitalmobileauth) | 认证信息。 |
| digitalHumanID | String | 数字人 ID。 |
| callback | [IsLoadedCallback](#zegodigitalhumanresourceisloadedcallback) | 检查结果回调。 |

**详情**

检查本地是否已经完整下载并解压了指定数字人的资源。

<Note title="">
- **调用时机**：[ZegoExpressEngine.createEngine] 之后，[ZegoExpressEngine.destroyEngine] 之前调用，即依赖 ZegoExpressEngine 实例的存在。
</Note>
<Warning title="">
- **网络要求**：此方法需要网络连接来同步资源状态信息。
</Warning>
</ParamField>

<ParamField
  name="unload"
  prototype="public void unload(@NonNull final Context context, @NonNull final String digitalHumanID)"
  desc="删除数字人资源。"
  parent_file="Declared in \`ZegoDigitalHumanResource.java\`"
  parent_name="ZegoDigitalHumanResource"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| context | Context | 应用上下文。 |
| digitalHumanID | String | 数字人 ID。 |

**详情**

删除指定数字人的本地缓存资源，释放存储空间。
</ParamField>

## ZegoDigitalHumanResource.PreloadCallback

预加载过程的回调接口。

*Declared in `ZegoDigitalHumanResource.java`*

### 方法
<ParamField
  name="onSuccess"
  prototype="public void onSuccess()"
  desc="预加载成功。"
  parent_file="Declared in \`ZegoDigitalHumanResource.java\`"
  parent_name="ZegoDigitalHumanResource.PreloadCallback"
  parent_type="class">
**详情**

资源预加载并解压成功。
</ParamField>

<ParamField
  name="onProgress"
  prototype="public void onProgress(int progress)"
  desc="预加载进度。"
  parent_file="Declared in \`ZegoDigitalHumanResource.java\`"
  parent_name="ZegoDigitalHumanResource.PreloadCallback"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| progress | int | 加载进度，取值范围为 0-100。 |

**详情**

实时报告资源下载和解压的进度。
</ParamField>

<ParamField
  name="onError"
  prototype="public void onError(int code, String msg)"
  desc="预加载失败。"
  parent_file="Declared in \`ZegoDigitalHumanResource.java\`"
  parent_name="ZegoDigitalHumanResource.PreloadCallback"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| code | int | 错误码。 |
| msg | String | 错误信息描述。 |

**详情**

预加载过程中由于网络、文件操作等原因导致失败时触发。
</ParamField>

## ZegoDigitalHumanResource.IsLoadedCallback

资源状态查询的回调接口。

*Declared in `ZegoDigitalHumanResource.java`*

### 方法
<ParamField
  name="onResult"
  prototype="public void onResult(boolean isLoaded)"
  desc="检查结果。"
  parent_file="Declared in \`ZegoDigitalHumanResource.java\`"
  parent_name="ZegoDigitalHumanResource.IsLoadedCallback"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| isLoaded | boolean | 资源是否已加载。 |

**详情**

返回资源是否已经准备就绪。
</ParamField>

<ParamField
  name="onError"
  prototype="public void onError(int code, String msg)"
  desc="检查出错。"
  parent_file="Declared in \`ZegoDigitalHumanResource.java\`"
  parent_name="ZegoDigitalHumanResource.IsLoadedCallback"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| code | int | 错误码。 |
| msg | String | 错误信息描述。 |

**详情**

在查询资源状态过程中发生网络错误等异常时触发。
</ParamField>

## ZegoDigitalMobileAuth

数字人服务鉴权信息类。

*Declared in `ZegoDigitalMobileAuth.java`*

### 属性
<ParamField
  name="appID"
  prototype="public Long appID"
  desc="应用 ID。"
  parent_file="Declared in \`ZegoDigitalMobileAuth.java\`"
  parent_name="ZegoDigitalMobileAuth"
  parent_type="class">
应用 ID。
</ParamField>

<ParamField
  name="userID"
  prototype="public String userID"
  desc="用户 ID。"
  parent_file="Declared in \`ZegoDigitalMobileAuth.java\`"
  parent_name="ZegoDigitalMobileAuth"
  parent_type="class">
用户 ID。
</ParamField>

<ParamField
  name="token"
  prototype="public String token"
  desc="鉴权 Token。"
  parent_file="Declared in \`ZegoDigitalMobileAuth.java\`"
  parent_name="ZegoDigitalMobileAuth"
  parent_type="class">
鉴权 Token。
</ParamField>

### 方法
<ParamField
  name="ZegoDigitalMobileAuth"
  prototype="public ZegoDigitalMobileAuth(@NonNull Long appID, @NonNull String userID, @NonNull String token)"
  desc="构造函数。"
  parent_file="Declared in \`ZegoDigitalMobileAuth.java\`"
  parent_name="ZegoDigitalMobileAuth"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| appID | Long | 应用 ID。 |
| userID | String | 用户 ID。 |
| token | String | 鉴权 Token。 |

**详情**

创建鉴权信息对象。
</ParamField>

## ZegoDigitalHumanConfig

数字人启动配置。

*Declared in `ZegoDigitalHumanConfig.java`*

### 属性

<ParamField
  name="digitalHumanID"
  prototype="public String digitalHumanID"
  desc="数字人 ID"
  parent_file="Declared in \`ZegoDigitalHumanConfig.java\`"
  parent_name="ZegoDigitalHumanConfig"
  parent_type="class">
</ParamField>

<ParamField
  name="roomID"
  prototype="public String roomID"
  desc="RTC 房间 ID"
  parent_file="Declared in \`ZegoDigitalHumanConfig.java\`"
  parent_name="ZegoDigitalHumanConfig"
  parent_type="class">
</ParamField>

<ParamField
  name="streamID"
  prototype="public String streamID"
  desc="RTC 流 ID"
  parent_file="Declared in \`ZegoDigitalHumanConfig.java\`"
  parent_name="ZegoDigitalHumanConfig"
  parent_type="class">
</ParamField>

<ParamField
  name="streamType"
  prototype="public String streamType"
  desc="数字人视频流类型"
  parent_file="Declared in \`ZegoDigitalHumanConfig.java\`"
  parent_name="ZegoDigitalHumanConfig"
  parent_type="class">
</ParamField>

### 方法

<ParamField
  name="ZegoDigitalHumanConfig"
  prototype="public ZegoDigitalHumanConfig(String digitalHumanID, String roomID, String streamID)"
  desc="构造函数。"
  parent_file="Declared in \`ZegoDigitalHumanConfig.java\`"
  parent_name="ZegoDigitalHumanConfig"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| digitalHumanID | String | 数字人 ID。 |
| roomID | String | RTC 房间 ID。 |
| streamID | String | RTC 流 Token。 |

**详情**

创建数字人启动配置。

</ParamField>

## ZegoDigitalHumanLogConfig

数字人 SDK 日志配置类。

*Declared in `ZegoDigitalHumanLogConfig.java`*

### 属性
<ParamField
  name="logDirectoryPath"
  prototype="public String logDirectoryPath"
  desc="日志文件存储路径。"
  parent_file="Declared in \`ZegoDigitalHumanLogConfig.java\`"
  parent_name="ZegoDigitalHumanLogConfig"
  parent_type="class">
日志文件存储路径。默认为空字符串，系统将使用默认路径。
</ParamField>

<ParamField
  name="logSize"
  prototype="public long logSize"
  desc="单个日志文件最大大小。"
  parent_file="Declared in \`ZegoDigitalHumanLogConfig.java\`"
  parent_name="ZegoDigitalHumanLogConfig"
  parent_type="class">
单个日志文件最大大小（字节）。默认值为 20MB (20 * 1024 * 1024)。
</ParamField>

<ParamField
  name="logCount"
  prototype="public int logCount"
  desc="日志轮转数量。"
  parent_file="Declared in \`ZegoDigitalHumanLogConfig.java\`"
  parent_name="ZegoDigitalHumanLogConfig"
  parent_type="class">
日志轮转数量。默认值为 3。
</ParamField>

## ZegoVideoFrameParam

视频帧参数类，描述视频帧的格式、分辨率和旋转角度。

*Declared in `IZegoDigitalMobile.java`*

### 属性
<ParamField
  name="format"
  prototype="public ZegoVideoFrameFormat format"
  desc="视频帧格式。"
  parent_file="Declared in \`IZegoDigitalMobile.java\`"
  parent_name="ZegoVideoFrameParam"
  parent_type="class">
视频帧格式。详情参考 [ZegoVideoFrameFormat](./enum#zegovideoframeformat)。
</ParamField>

<ParamField
  name="width"
  prototype="public int width"
  desc="视频帧宽度。"
  parent_file="Declared in \`IZegoDigitalMobile.java\`"
  parent_name="ZegoVideoFrameParam"
  parent_type="class">
视频帧宽度（像素）。
</ParamField>

<ParamField
  name="height"
  prototype="public int height"
  desc="视频帧高度。"
  parent_file="Declared in \`IZegoDigitalMobile.java\`"
  parent_name="ZegoVideoFrameParam"
  parent_type="class">
视频帧高度（像素）。
</ParamField>

<ParamField
  name="strides"
  prototype="public final int[] strides"
  desc="各平面步长数组。"
  parent_file="Declared in \`IZegoDigitalMobile.java\`"
  parent_name="ZegoVideoFrameParam"
  parent_type="class">
各平面（Y/U/V 等）的步长。
</ParamField>

<ParamField
  name="rotation"
  prototype="public int rotation"
  desc="顺时针旋转角度。"
  parent_file="Declared in \`IZegoDigitalMobile.java\`"
  parent_name="ZegoVideoFrameParam"
  parent_type="class">
顺时针旋转角度。
</ParamField>
