# Class

## IZegoAIVoiceChangerEventHandler

*Declared in `callback/IZegoAIVoiceChangerEventHandler.java`*

### 方法
<ParamField
  name="onInit"
  prototype="public  void onInit([ZegoAIVoiceChanger](#zegoaivoicechanger) aiVoiceChanger, int errorCode)"
  desc="初始化 AI 变声引擎状态回调。"
  parent_file="Declared in \`callback/IZegoAIVoiceChangerEventHandler.java\`"
  parent_name="IZegoAIVoiceChangerEventHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| aiVoiceChanger | [ZegoAIVoiceChanger](#zegoaivoicechanger) | 回调的 AI 变声器实例。 |
| errorCode | int | 错误码，详情请参考 常见错误码文档 [https://doc-zh.zego.im/zh/4378.html](https://doc-zh.zego.im/zh/4378.html) |

**详情**

初始化 AI 变声引擎状态回调。

<Note title="">
- **通知时机**：调用 [init] 函数时会触发此回调。
</Note>

<Warning title="">
- **支持版本**：3.10.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="onUpdateProgress"
  prototype="public  void onUpdateProgress([ZegoAIVoiceChanger](#zegoaivoicechanger) aiVoiceChanger, double percent, int fileIndex, int fileCount)"
  desc="更新 AI 变声引擎模型进度回调。"
  parent_file="Declared in \`callback/IZegoAIVoiceChangerEventHandler.java\`"
  parent_name="IZegoAIVoiceChangerEventHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| aiVoiceChanger | [ZegoAIVoiceChanger](#zegoaivoicechanger) | 回调的 AI 变声器实例。 |
| percent | double | 当前文件更新进度。 |
| fileIndex | int | 当前更新文件索引。 |
| fileCount | int | 需要更新文件总数。 |

**详情**

更新 AI 变声引擎模型进度回调。

<Note title="">
- **通知时机**：调用 [update] 函数时会触发此回调。
</Note>

<Warning title="">
- **支持版本**：3.12.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="onUpdate"
  prototype="public  void onUpdate([ZegoAIVoiceChanger](#zegoaivoicechanger) aiVoiceChanger, int errorCode)"
  desc="更新 AI 变声引擎模型状态回调。"
  parent_file="Declared in \`callback/IZegoAIVoiceChangerEventHandler.java\`"
  parent_name="IZegoAIVoiceChangerEventHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| aiVoiceChanger | [ZegoAIVoiceChanger](#zegoaivoicechanger) | 回调的 AI 变声器实例。 |
| errorCode | int | 错误码，详情请参考 常见错误码文档 [https://doc-zh.zego.im/zh/4378.html](https://doc-zh.zego.im/zh/4378.html) |

**详情**

更新 AI 变声引擎模型状态回调。

<Note title="">
- **通知时机**：调用 [update] 函数时会触发此回调。
</Note>

<Warning title="">
- **支持版本**：3.10.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="onGetSpeakerList"
  prototype="public  void onGetSpeakerList([ZegoAIVoiceChanger](#zegoaivoicechanger) aiVoiceChanger, int errorCode, ArrayList<[ZegoAIVoiceChangerSpeakerInfo](#zegoaivoicechangerspeakerinfo)> speakerList)"
  desc="获取 AI 变声引擎可用音色列表回调。"
  parent_file="Declared in \`callback/IZegoAIVoiceChangerEventHandler.java\`"
  parent_name="IZegoAIVoiceChangerEventHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| aiVoiceChanger | [ZegoAIVoiceChanger](#zegoaivoicechanger) | 回调的 AI 变声器实例。 |
| errorCode | int | 错误码，详情请参考 常见错误码文档 [https://doc-zh.zego.im/zh/4378.html](https://doc-zh.zego.im/zh/4378.html) |
| speakerList | ArrayList\<[ZegoAIVoiceChangerSpeakerInfo](#zegoaivoicechangerspeakerinfo)\> | 可用音色列表。 |

**详情**

获取 AI 变声引擎可用音色列表回调。

<Note title="">
- **通知时机**：调用 [getSpeakerList] 函数时会触发此回调。
</Note>

<Warning title="">
- **支持版本**：3.10.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="onEvent"
  prototype="public  void onEvent([ZegoAIVoiceChanger](#zegoaivoicechanger) aiVoiceChanger, [ZegoAIVoiceChangerEvent](./enum#zegoaivoicechangerevent) event)"
  desc="AI 变声事件回调。"
  parent_file="Declared in \`callback/IZegoAIVoiceChangerEventHandler.java\`"
  parent_name="IZegoAIVoiceChangerEventHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| aiVoiceChanger | [ZegoAIVoiceChanger](#zegoaivoicechanger) | 回调的 AI 变声器实例。 |
| event | [ZegoAIVoiceChangerEvent](./enum#zegoaivoicechangerevent) | AI 变声事件。 |

**详情**

AI 变声事件回调。

<Note title="">
- **通知时机**：AI 变声失败时会触发此回调。
</Note>

<Warning title="">
- **支持版本**：3.12.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="onSetSpeaker"
  prototype="public  void onSetSpeaker([ZegoAIVoiceChanger](#zegoaivoicechanger) aiVoiceChanger, int errorCode)"
  desc="设置 AI 变声引擎音色状态回调。"
  parent_file="Declared in \`callback/IZegoAIVoiceChangerEventHandler.java\`"
  parent_name="IZegoAIVoiceChangerEventHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| aiVoiceChanger | [ZegoAIVoiceChanger](#zegoaivoicechanger) | 回调的 AI 变声器实例。 |
| errorCode | int | 错误码，详情请参考 常见错误码文档 [https://doc-zh.zego.im/zh/4378.html](https://doc-zh.zego.im/zh/4378.html) |

**详情**

设置 AI 变声引擎音色状态回调。

<Note title="">
- **通知时机**：调用 [setSpeaker] 函数时会触发此回调。
</Note>

<Warning title="">
- **支持版本**：3.12.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>

## IZegoApiCalledEventHandler

*Declared in `callback/IZegoApiCalledEventHandler.java`*

### 方法
<ParamField
  name="onApiCalledResult"
  prototype="public  void onApiCalledResult(int errorCode, String funcName, String info)"
  desc="方法执行结果回调。"
  parent_file="Declared in \`callback/IZegoApiCalledEventHandler.java\`"
  parent_name="IZegoApiCalledEventHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| errorCode | int | 错误码，详情请参考 常见错误码文档 [https://doc-zh.zego.im/zh/4378.html](https://doc-zh.zego.im/zh/4378.html) |
| funcName | String | 函数名。 |
| info | String | 错误的详细信息。 |

**详情**

通过 [setApiCalledCallback] 开启监听时，会通过本回调回调所有方法的执行的结果。

<Note title="">
- **通知时机**：在开发者调用 SDK 方法时，回调该方法的执行结果。
</Note>

<Warning title="">
- **支持版本**：2.3.0 及以上。
- **使用限制**：无。
- **注意事项**：建议在开发、测试阶段监听并处理本回调，在上线后关闭对本回调的监听。
</Warning>
</ParamField>

## IZegoAudioDataHandler

*Declared in `callback/IZegoAudioDataHandler.java`*

### 方法
<ParamField
  name="onCapturedAudioData"
  prototype="public  void onCapturedAudioData(ByteBuffer data, int dataLength, [ZegoAudioFrameParam](#zegoaudioframeparam) param)"
  desc="获取本地麦克风采集到的音频数据的回调."
  parent_file="Declared in \`callback/IZegoAudioDataHandler.java\`"
  parent_name="IZegoAudioDataHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| data | ByteBuffer | PCM 格式的音频数据。 |
| dataLength | int | 数据的长度。 |
| param | [ZegoAudioFrameParam](#zegoaudioframeparam) | 音频帧参数。 |

**详情**

在非自定义采集模式下，SDK 会负责麦克风的声音采集工作，但是开发者可能也需要拿到 SDK 采集到的音源数据，通过这个回调可以获取。

<Note title="">
- **通知时机**：在调用 [setAudioDataHandler] 设置了监听本回调的前提下，调用 [startAudioDataObserver] 设置了掩码 0b01 即 1 &lt;&lt; 0 之后， 且处于推流状态才会触发此回调。
</Note>

<Warning title="">
- **支持版本**：1.1.0 及以上。
- **使用限制**：无。
- **注意事项**：本回调为高频回调，请勿在本回调中做耗时操作。
</Warning>
</ParamField>
<ParamField
  name="onPlaybackAudioData"
  prototype="public  void onPlaybackAudioData(ByteBuffer data, int dataLength, [ZegoAudioFrameParam](#zegoaudioframeparam) param)"
  desc="获取 SDK 播放的音频数据的回调。"
  parent_file="Declared in \`callback/IZegoAudioDataHandler.java\`"
  parent_name="IZegoAudioDataHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| data | ByteBuffer | PCM 格式的音频数据。 |
| dataLength | int | 数据的长度。 |
| param | [ZegoAudioFrameParam](#zegoaudioframeparam) | 音频帧参数。 |

**详情**

此函数会回调全部要播放的音频混合后的数据。如果需开发者需要对全部要播放的音频混合后的数据进行处理，就可以用这个回调。

<Note title="">
- **通知时机**：在调用 [setAudioDataHandler] 设置了监听本回调的前提下，调用 [startAudioDataObserver] 设置了掩码 0b10 即 1 &lt;&lt; 1 之后， 且处于 SDK 音视频引擎启动时(预览/推流/拉流)才会触发此回调。
</Note>

<Warning title="">
- **支持版本**：1.1.0 及以上。
- **使用限制**：播放版权音乐时，该回调会被默认禁用，若有需要，请联系 ZEGO 技术支持。
- **注意事项**：本回调为高频回调，请勿在本回调中做耗时操作，在非拉流状态的引擎启动状态且未使用媒体播放器播放媒体文件状态时，回调的音频数据是静音的音频数据。
</Warning>
</ParamField>
<ParamField
  name="onMixedAudioData"
  prototype="public  void onMixedAudioData(ByteBuffer data, int dataLength, [ZegoAudioFrameParam](#zegoaudioframeparam) param)"
  desc="获取 SDK 播放的音频数据和本地麦克风采集到的音频数据的回调，该音频数据是经过 SDK 混合之后的数据。"
  parent_file="Declared in \`callback/IZegoAudioDataHandler.java\`"
  parent_name="IZegoAudioDataHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| data | ByteBuffer | PCM 格式的音频数据。 |
| dataLength | int | 数据的长度。 |
| param | [ZegoAudioFrameParam](#zegoaudioframeparam) | 音频帧参数。 |

**详情**

SDK 播放的音频数据与本地麦克风采集到的数据在送到扬声器之前进行混合，并通过此函数回调出来。

<Note title="">
- **通知时机**：在调用 [setAudioDataHandler] 设置了监听本回调的前提下，调用 [startAudioDataObserver] 设置了掩码 0x04 之后， 且处于推流或拉流状态才会触发此回调。
</Note>

<Warning title="">
- **支持版本**：1.1.0 及以上。
- **使用限制**：播放版权音乐时，该回调会被默认禁用，若有需要，请联系 ZEGO 技术支持。
- **注意事项**：本回调为高频回调，请勿在本回调中做耗时操作。
</Warning>
</ParamField>
<ParamField
  name="onPlayerAudioData"
  prototype="public  void onPlayerAudioData(ByteBuffer data, int dataLength, [ZegoAudioFrameParam](#zegoaudioframeparam) param, String streamID)"
  desc="获取 SDK 每条拉流的音频数据的回调。"
  parent_file="Declared in \`callback/IZegoAudioDataHandler.java\`"
  parent_name="IZegoAudioDataHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| data | ByteBuffer | PCM 格式的音频数据。 |
| dataLength | int | 数据的长度。 |
| param | [ZegoAudioFrameParam](#zegoaudioframeparam) | 音频帧参数。 |
| streamID | String | 对应的流 ID。 |

**详情**

此函数会回调每条拉流单独对应的数据,不同于[onPlaybackAudioData],后者是所有拉流的混合数据。如果开发者需要对某条拉流的数据单独进行处理，就可以用这个回调。

<Note title="">
- **通知时机**：在调用 [setAudioDataHandler] 设置了监听本回调的前提下，调用 [startAudioDataObserver] 设置了掩码 0x08 即 1 &lt;&lt; 3 之后， 且处于 SDK 音视频引擎启动拉流时才会触发此回调。
</Note>

<Warning title="">
- **支持版本**：1.1.0 及以上。
- **使用限制**：无。
- **注意事项**：本回调为高频回调，请勿在本回调中做耗时操作。
</Warning>
</ParamField>

## IZegoAudioEffectPlayerEventHandler

*Declared in `callback/IZegoAudioEffectPlayerEventHandler.java`*

### 方法
<ParamField
  name="onAudioEffectPlayStateUpdate"
  prototype="public  void onAudioEffectPlayStateUpdate([ZegoAudioEffectPlayer](#zegoaudioeffectplayer) audioEffectPlayer, int audioEffectID, [ZegoAudioEffectPlayState](./enum#zegoaudioeffectplaystate) state, int errorCode)"
  desc="音效播放状态回调。"
  parent_file="Declared in \`callback/IZegoAudioEffectPlayerEventHandler.java\`"
  parent_name="IZegoAudioEffectPlayerEventHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| audioEffectPlayer | [ZegoAudioEffectPlayer](#zegoaudioeffectplayer) | 触发此次回调的音效播放器实例。 |
| audioEffectID | int | 触发此次回调的音效资源的 ID。 |
| state | [ZegoAudioEffectPlayState](./enum#zegoaudioeffectplaystate) | 音效的播放状态。 |
| errorCode | int | 错误码，详情请参考 常见错误码文档 [https://doc-zh.zego.im/zh/4378.html](https://doc-zh.zego.im/zh/4378.html) |

**详情**

当音效播放器的某条音效的播放状态改变时会触发此回调。

<Note title="">
- **通知时机**：当音效的播放状态变化时会触发这个回调。
</Note>

<Warning title="">
- **支持版本**：1.16.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>

## IZegoAudioMixingHandler

*Declared in `callback/IZegoAudioMixingHandler.java`*

### 方法
<ParamField
  name="onAudioMixingCopyData"
  prototype="public  [ZegoAudioMixingData](#zegoaudiomixingdata) onAudioMixingCopyData(int expectedDataLength)"
  desc="混音数据回调。"
  parent_file="Declared in \`callback/IZegoAudioMixingHandler.java\`"
  parent_name="IZegoAudioMixingHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| expectedDataLength | int | 期望开发者传入 SDK 的混音数据长度。 |

**详情**

往 SDK 中拷贝混音 PCM 数据，用于将开发者提供的音频数据混到推流的音频数据中。 需要和 [enableAudioMixing] 结合使用。

<Note title="">
- **业务场景**：当开发者有需要往推流的音频中混入自己的歌曲、音效等音频数据时，可以使用此功能。
- **通知时机**：需要在 [createEngine] 之后，调用 [enableAudioMixing] 开启混音功能，且通过 [setAudioMixingHandler] 设置了混音回调处理器才会触发本回调函数。
</Note>

<Warning title="">
- **支持版本**：1.9.0 及以上。
- **使用限制**：支持 16k 32k 44.1k 48k 的采样率、单声道或双声道、16位深的 PCM 音频数据。
- **注意事项**：本回调为高频回调，为保证混音质量，请勿在本回调中做耗时操作。
</Warning>

**返回值**

开发者提供的期望混入推流中的音频数据。
</ParamField>

