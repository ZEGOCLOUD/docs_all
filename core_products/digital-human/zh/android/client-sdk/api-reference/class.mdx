# Class

## ZegoDigitalHuman

数字人 SDK 入口类。

*Declared in `ZegoDigitalHuman.java`*

### 属性
<ParamField
  name="version"
  prototype="public static final String version"
  desc="SDK 版本号。"
  parent_file="Declared in \`ZegoDigitalHuman.java\`"
  parent_name="ZegoDigitalHuman"
  parent_type="class">
SDK 版本号。
</ParamField>

### 方法
<ParamField
  name="create"
  prototype="public static IZegoDigitalMobile create(@NonNull Context context)"
  desc="创建数字人实例。"
  parent_file="Declared in \`ZegoDigitalHuman.java\`"
  parent_name="ZegoDigitalHuman"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| context | Context | Android 上下文。 |

**返回值**

| 类型 | 描述 |
| --- | --- |
| [IZegoDigitalMobile](./interface#izegodigitalmobile) | 数字人实例。 |

**详情**

创建数字人 SDK 实例。这是使用数字人 SDK 的入口方法。

<Note title="">
- **调用时机**：在需要使用数字人功能时调用。
</Note>
</ParamField>

<ParamField
  name="setLogConfig"
  prototype="public static boolean setLogConfig(@NonNull ZegoDigitalHumanLogConfig logConfig)"
  desc="设置数字人日志配置。"
  parent_file="Declared in \`ZegoDigitalHuman.java\`"
  parent_name="ZegoDigitalHuman"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| logConfig | [ZegoDigitalHumanLogConfig](#zegodigitalhumanlogconfig) | 日志配置，包含路径、大小和数量。 |

**返回值**

| 类型 | 描述 |
| --- | --- |
| boolean | 配置是否设置成功，true 表示成功，false 表示失败。 |

**详情**

设置数字人日志配置。此函数必须在调用 [create] 或 [ZegoDigitalHumanResource] 方法之前调用。

<Note title="">
- **调用时机**：必须在创建数字人实例或调用 ZegoDigitalHumanResource 方法之前调用。
- **示例**：如果 `logDirectoryPath` 设置为 "files/" 且 `logCount` 设置为 3，系统将生成轮转日志文件："files/ZaLog1.txt"、"files/ZaLog2.txt" 和 "files/ZaLog3.txt"。当 "ZaLog1.txt" 写满时，它将被重命名为 "ZaLog2.txt"，并创建新的 "ZaLog1.txt"。此过程持续进行，始终保持最多 3 个日志文件。
</Note>
</ParamField>

## ZegoDigitalView

数字人显示视图。

*Declared in `ZegoDigitalView.java`*

### 方法
<ParamField
  name="ZegoDigitalView"
  prototype="public ZegoDigitalView(@NonNull Context context)"
  desc="构造函数。"
  parent_file="Declared in \`ZegoDigitalView.java\`"
  parent_name="ZegoDigitalView"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| context | Context | Android 上下文。 |

**详情**

创建数字人显示视图实例。
</ParamField>

<ParamField
  name="ZegoDigitalView"
  prototype="public ZegoDigitalView(@NonNull Context context, @Nullable AttributeSet attrs)"
  desc="构造函数。"
  parent_file="Declared in \`ZegoDigitalView.java\`"
  parent_name="ZegoDigitalView"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| context | Context | Android 上下文。 |
| attrs | AttributeSet | 属性集。 |

**详情**

从 XML 布局创建数字人显示视图实例。
</ParamField>

## DigitalMobileConfig

数字人配置类。

*Declared in `config/DigitalMobileConfig.java`*

### 属性
<ParamField
  name="DigitalHumanId"
  prototype="public String DigitalHumanId"
  desc="数字人 ID。"
  parent_file="Declared in \`config/DigitalMobileConfig.java\`"
  parent_name="DigitalMobileConfig"
  parent_type="class">
数字人 ID。
</ParamField>

<ParamField
  name="Streams"
  prototype="public Stream[] Streams"
  desc="流配置数组。"
  parent_file="Declared in \`config/DigitalMobileConfig.java\`"
  parent_name="DigitalMobileConfig"
  parent_type="class">
流配置数组。
</ParamField>

### 方法
<ParamField
  name="getFitStream"
  prototype="public Stream getFitStream()"
  desc="获取适合的流配置。"
  parent_file="Declared in \`config/DigitalMobileConfig.java\`"
  parent_name="DigitalMobileConfig"
  parent_type="class">
**返回值**

| 类型 | 描述 |
| --- | --- |
| [Stream](#digitalmobileconfigstream) | 适合的流配置，优先返回 mobile 配置，如果没有则返回第一个流配置。 |

**详情**

获取适合当前平台的流配置。优先返回 mobile 配置，如果没有则返回第一个流配置。
</ParamField>

<ParamField
  name="isValid"
  prototype="public boolean isValid()"
  desc="检查配置是否有效。"
  parent_file="Declared in \`config/DigitalMobileConfig.java\`"
  parent_name="DigitalMobileConfig"
  parent_type="class">
**返回值**

| 类型 | 描述 |
| --- | --- |
| boolean | 配置是否有效，true 表示有效，false 表示无效。 |

**详情**

检查数字人配置是否有效。配置必须包含有效的数字人 ID 和流配置。
</ParamField>

## DigitalMobileConfig.Stream

流配置类。

*Declared in `config/DigitalMobileConfig.java`*

### 属性
<ParamField
  name="RoomId"
  prototype="public String RoomId"
  desc="房间 ID。"
  parent_file="Declared in \`config/DigitalMobileConfig.java\`"
  parent_name="DigitalMobileConfig.Stream"
  parent_type="class">
房间 ID。
</ParamField>

<ParamField
  name="StreamId"
  prototype="public String StreamId"
  desc="流 ID。"
  parent_file="Declared in \`config/DigitalMobileConfig.java\`"
  parent_name="DigitalMobileConfig.Stream"
  parent_type="class">
流 ID。
</ParamField>

<ParamField
  name="EncodeCode"
  prototype="public String EncodeCode"
  desc="编码格式。"
  parent_file="Declared in \`config/DigitalMobileConfig.java\`"
  parent_name="DigitalMobileConfig.Stream"
  parent_type="class">
编码格式。
</ParamField>

<ParamField
  name="PackageUrl"
  prototype="public String PackageUrl"
  desc="素材包 URL。"
  parent_file="Declared in \`config/DigitalMobileConfig.java\`"
  parent_name="DigitalMobileConfig.Stream"
  parent_type="class">
素材包 URL。
</ParamField>

<ParamField
  name="ConfigId"
  prototype="public String ConfigId"
  desc="配置 ID，用于标识流类型（如 'mobile' 或 'web'）。"
  parent_file="Declared in \`config/DigitalMobileConfig.java\`"
  parent_name="DigitalMobileConfig.Stream"
  parent_type="class">
配置 ID，用于标识流类型（如 'mobile' 或 'web'）。
</ParamField>

## DigitalMobileConfigDecoder

数字人配置解码器。

*Declared in `config/DigitalMobileConfigDecoder.java`*

### 方法
<ParamField
  name="decode"
  prototype="public static DigitalMobileConfig decode(String config)"
  desc="解码数字人配置。"
  parent_file="Declared in \`config/DigitalMobileConfigDecoder.java\`"
  parent_name="DigitalMobileConfigDecoder"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| config | String | Base64 编码的配置字符串。 |

**返回值**

| 类型 | 描述 |
| --- | --- |
| [DigitalMobileConfig](#digitalmobileconfig) | 解码后的配置对象，如果解码失败则返回 null。 |

**详情**

将 Base64 编码的配置字符串解码为 [DigitalMobileConfig](#digitalmobileconfig) 对象。
</ParamField>

## ZegoDigitalHumanLogConfig

数字人日志配置类。

*Declared in `config/ZegoDigitalHumanLogConfig.java`*

### 属性
<ParamField
  name="logDirectoryPath"
  prototype="public String logDirectoryPath"
  desc="日志文件存储目录路径。"
  parent_file="Declared in \`config/ZegoDigitalHumanLogConfig.java\`"
  parent_name="ZegoDigitalHumanLogConfig"
  parent_type="class">
**详情**

日志文件将存储在此目录中。必须是目录路径（不是文件路径）。可以是绝对路径或应用程序私有存储目录内的相对路径。如果为空或设置为空字符串，系统将使用默认目录路径。
</ParamField>

<ParamField
  name="logSize"
  prototype="public long logSize"
  desc="单个日志文件的最大大小（字节）。"
  parent_file="Declared in \`config/ZegoDigitalHumanLogConfig.java\`"
  parent_name="ZegoDigitalHumanLogConfig"
  parent_type="class">
**详情**

当当前日志文件的大小达到此限制时，系统会触发日志轮转，创建新的日志文件用于后续写入。默认值为 20MB (20 * 1024 * 1024)。
</ParamField>

<ParamField
  name="logCount"
  prototype="public int logCount"
  desc="日志轮转时保留的最大日志文件数量。"
  parent_file="Declared in \`config/ZegoDigitalHumanLogConfig.java\`"
  parent_name="ZegoDigitalHumanLogConfig"
  parent_type="class">
**详情**

此值决定保留多少个历史日志文件。当日志文件数量超过此限制时，最旧的文件将被删除。默认值为 3。
</ParamField>

## ZegoDigitalMobileAuth

数字人认证信息类。

*Declared in `config/ZegoDigitalMobileAuth.java`*

### 属性
<ParamField
  name="appID"
  prototype="public @NonNull Long appID"
  desc="应用 ID。"
  parent_file="Declared in \`config/ZegoDigitalMobileAuth.java\`"
  parent_name="ZegoDigitalMobileAuth"
  parent_type="class">
应用 ID。
</ParamField>

<ParamField
  name="userID"
  prototype="public @NonNull String userID"
  desc="用户 ID。"
  parent_file="Declared in \`config/ZegoDigitalMobileAuth.java\`"
  parent_name="ZegoDigitalMobileAuth"
  parent_type="class">
用户 ID。
</ParamField>

<ParamField
  name="token"
  prototype="public @NonNull String token"
  desc="认证 Token。"
  parent_file="Declared in \`config/ZegoDigitalMobileAuth.java\`"
  parent_name="ZegoDigitalMobileAuth"
  parent_type="class">
认证 Token。
</ParamField>

### 方法
<ParamField
  name="ZegoDigitalMobileAuth"
  prototype="public ZegoDigitalMobileAuth(@NonNull Long appID, @NonNull String userID, @NonNull String token)"
  desc="构造函数。"
  parent_file="Declared in \`config/ZegoDigitalMobileAuth.java\`"
  parent_name="ZegoDigitalMobileAuth"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| appID | Long | 应用 ID。 |
| userID | String | 用户 ID。 |
| token | String | 认证 Token。 |

**详情**

创建数字人认证信息对象。
</ParamField>

## ZegoDigitalHumanResource

数字人资源操作类。

*Declared in `ZegoDigitalHumanResource.java`*

### 方法
<ParamField
  name="preload"
  prototype="public void preload(@NonNull final Context context, @NonNull final ZegoDigitalMobileAuth auth, @NonNull final String digitalHumanID, @Nullable PreloadCallback callback)"
  desc="预加载数字人资源。"
  parent_file="Declared in \`ZegoDigitalHumanResource.java\`"
  parent_name="ZegoDigitalHumanResource"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| context | Context | Android 上下文。 |
| auth | [ZegoDigitalMobileAuth](#zegodigitalmobileauth) | 认证信息。 |
| digitalHumanID | String | 数字人 ID。 |
| callback | [PreloadCallback](#zegodigitalhumanresourcepreloadcallback) | 预加载回调。 |

**详情**

预加载指定数字人的资源。资源加载完成后可以在启动数字人时直接使用，避免等待下载。

<Note title="">
- **调用时机**：可在启动数字人之前调用，提前下载资源。
</Note>
</ParamField>

<ParamField
  name="isLoaded"
  prototype="public void isLoaded(@NonNull final Context context, @NonNull final ZegoDigitalMobileAuth auth, @NonNull final String digitalHumanID, @Nullable final IsLoadedCallback callback)"
  desc="检查资源是否已加载。"
  parent_file="Declared in \`ZegoDigitalHumanResource.java\`"
  parent_name="ZegoDigitalHumanResource"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| context | Context | Android 上下文。 |
| auth | [ZegoDigitalMobileAuth](#zegodigitalmobileauth) | 认证信息，包含 appID、userID 和 token。 |
| digitalHumanID | String | 数字人 ID。 |
| callback | [IsLoadedCallback](#zegodigitalhumanresourceisloadedcallback) | 检查结果回调。 |

**详情**

检查指定数字人的资源是否已经加载完成。此方法需要网络连接。

<Note title="">
- **网络要求**：此方法需要网络连接来验证资源状态。
</Note>
</ParamField>

<ParamField
  name="unload"
  prototype="public void unload(@NonNull final Context context, @NonNull final String digitalHumanID)"
  desc="删除数字人资源。"
  parent_file="Declared in \`ZegoDigitalHumanResource.java\`"
  parent_name="ZegoDigitalHumanResource"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| context | Context | 应用上下文。 |
| digitalHumanID | String | 数字人 ID。 |

**详情**

删除指定数字人的本地缓存资源。
</ParamField>

## ZegoDigitalHumanResource.PreloadCallback

预加载回调接口。

*Declared in `ZegoDigitalHumanResource.java`*

### 方法
<ParamField
  name="onSuccess"
  prototype="public void onSuccess()"
  desc="预加载成功回调。"
  parent_file="Declared in \`ZegoDigitalHumanResource.java\`"
  parent_name="ZegoDigitalHumanResource.PreloadCallback"
  parent_type="class">
**详情**

资源预加载成功时触发此回调。
</ParamField>

<ParamField
  name="onProgress"
  prototype="public void onProgress(int progress)"
  desc="预加载进度回调。"
  parent_file="Declared in \`ZegoDigitalHumanResource.java\`"
  parent_name="ZegoDigitalHumanResource.PreloadCallback"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| progress | int | 加载进度，取值范围为 0-100。 |

**详情**

资源预加载过程中触发此回调，报告加载进度。
</ParamField>

<ParamField
  name="onError"
  prototype="public void onError(int code, String msg)"
  desc="预加载错误回调。"
  parent_file="Declared in \`ZegoDigitalHumanResource.java\`"
  parent_name="ZegoDigitalHumanResource.PreloadCallback"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| code | int | 错误码。 |
| msg | String | 错误信息。 |

**详情**

资源预加载失败时触发此回调。
</ParamField>

## ZegoDigitalHumanResource.IsLoadedCallback

资源加载状态检查回调接口。

*Declared in `ZegoDigitalHumanResource.java`*

### 方法
<ParamField
  name="onError"
  prototype="public void onError(int code, String msg)"
  desc="检查错误回调。"
  parent_file="Declared in \`ZegoDigitalHumanResource.java\`"
  parent_name="ZegoDigitalHumanResource.IsLoadedCallback"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| code | int | 错误码。 |
| msg | String | 错误信息。 |

**详情**

检查资源加载状态时发生错误触发此回调。
</ParamField>

<ParamField
  name="onResult"
  prototype="public void onResult(boolean isLoaded)"
  desc="检查结果回调。"
  parent_file="Declared in \`ZegoDigitalHumanResource.java\`"
  parent_name="ZegoDigitalHumanResource.IsLoadedCallback"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| isLoaded | boolean | 资源是否已加载，true 表示已加载，false 表示未加载。 |

**详情**

资源加载状态检查完成时触发此回调，返回检查结果。
</ParamField>
