---
articleID: 3126
---

# 示例源码运行指引

本文介绍如何快速跑通数字人 iOS 示例源码。

## 准备环境

在运行示例源码前，请确保开发环境满足以下要求：

* Xcode 15.0 或以上版本。
* iOS 12.0 或以上版本且支持音视频的 iOS 设备（推荐使用真机）。
* iOS 设备已经连接到 Internet。

## 前提条件

* 已在 [ZEGO 控制台](https://console.zego.im) 创建项目，并申请有效的 AppID 和 AppSign，详情请参考 [控制台 - 项目管理](/console/project-info) 中的“项目信息”。
* 已准备好数字人服务端环境，详情请参考 [服务端 API 概览](/digital-human/server-api/overview)。示例源码需要连接到服务端以获取配置和创建任务。

## 示例源码目录结构

下文所涉及的文件路径均为相对于 `iOS` 目录的路径。

```tree
.
├─ ZegoDigitalHumanQuickStart/
│  ├─ Podfile                          # CocoaPods 配置文件
│  ├─ ZegoDigitalHumanQuickStart/      # 项目源码目录
│  │  ├─ Models/                       # 数据模型
│  │  │  └─ ZegoConfig.m               # 应用配置模型
│  │  ├─ Network/                      # 网络请求相关
│  │  │  └─ ZegoAPIConstants.h         # API 常量配置（此处配置服务器地址）
│  │  ├─ ViewControllers/              # 视图控制器
│  │  └─ ...
│  ├─ ZegoDigitalHumanQuickStart.xcodeproj
│  └─ ZegoDigitalHumanQuickStart.xcworkspace # 使用 Xcode 打开的工程文件
```

## 运行示例源码

1. 安装 Xcode。
   打开 “AppStore”，搜索 “Xcode” 并下载安装。
   <Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/iOS/ZegoExpressEngine/Common/appstore-xcode.png" /></Frame>

2. 安装依赖库。
   在终端中进入 `ZegoDigitalHumanQuickStart` 目录，执行以下命令安装依赖：
   ```bash
   pod install
   ```

3. 使用 Xcode 打开 “ZegoDigitalHumanQuickStart.xcworkspace” 文件。
    1. 打开 Xcode，选择左上角的菜单 “File > Open...”。
    <Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/iOS/ZegoExpressEngine/Common/xcode-open-file.png" /></Frame>
    2. 在解压后的示例源码文件夹中，找到 “ZegoDigitalHumanQuickStart.xcworkspace” 文件打开。

4. 登录 Apple 开发者账号。
    1. 打开 Xcode，选择左上角的菜单 “Xcode > Preferences...”。
    <Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/iOS/ZegoExpressEngine/Common/xcode_preferences.png" /></Frame>
    2. 单击 “Accounts” 选项卡，单击左下角的 “+”，选择添加 “Apple ID”，单击 “Continue”。
    <Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/iOS/ZegoExpressEngine/Common/xcode-account.png" /></Frame>
    3. 输入 Apple ID 和 Password 登录。
    <Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/iOS/ZegoExpressEngine/Common/xcode-login-apple-id.png" /></Frame>

5. 修改 Bundle Identifier 和开发者证书。
    1. 打开 Xcode，单击左侧的 “ZegoDigitalHumanQuickStart” 项目。
    <Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/iOS/ZegoExpressEngine/Common/xcode_select_project_new.png" /></Frame>
    2. 打开 TARGETS 选项，开发者可以根据需求，单击 “General” 选项卡，修改项目的 Bundle Identifier。
    <Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/iOS/ZegoExpressEngine/Common/bundle_id.png" /></Frame>
    3. 单击 “Signing & Capabilities” 选项卡，选择自己的开发者 Team。
    <Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/iOS/ZegoExpressEngine/Common/team_signing_new.png" /></Frame>

6. 修改 “ZegoDigitalHumanQuickStart/Network/ZegoAPIConstants.h” 文件，将 `kZegoDefaultServerURL` 修改为您实际的服务端地址。
    <Warning title="注意">
    示例源码需要连接到服务端以获取配置和创建任务，请务必正确填写。
    </Warning>

    ```objc
    // ZegoAPIConstants.h
    static NSString * const kZegoDefaultServerURL = @"https://your-server-address/api";
    ```

7. 将 iOS 真机设备连接到电脑，在 Xcode 顶部选择该设备。
    <Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/iOS/ZegoExpressEngine/Common/xcode_select_device_new.png" /></Frame>
    在弹出的选项框选择该 iOS 设备（或者模拟器）。
    <Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/iOS/ZegoExpressEngine/Common/xcode_select_real_device_new.png" /></Frame>

8. 单击 Xcode 左上角的 “Run” 按钮编译和运行示例源码。
    <Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/iOS/ZegoExpressEngine/Common/build_and_run_new.png" /></Frame>

## 体验数字人功能

运行成功后，您可以进行以下操作：

1. **查看数字人信息**：应用启动后会从服务端获取默认数字人的信息并展示占位图。
2. **启动数字人**：点击“打开控制面板” -> “创建任务”，应用将通过服务端创建数字人任务并开始拉流渲染。
3. **数字人互动**：
    * **文字驱动**：在驱动控制区域输入文字并点击“发送”，数字人将播报对应内容。
    * **音频驱动**：点击“开始录音”，录制完成后点击“停止并发送”，数字人将根据音频内容进行播报。
4. **停止任务**：点击“停止任务”以结束当前的数字人服务。

