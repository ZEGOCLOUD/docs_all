# Class

## ZegoDigitalHuman

数字人 SDK 入口类，提供创建实例和全局配置的方法。

*Declared in `ZegoDigitalHuman.h`*

### 方法
<ParamField
  name="create"
  prototype="+ (id<IZegoDigitalMobile>)create;"
  desc="创建数字人实例。"
  parent_file="Declared in \`ZegoDigitalHuman.h\`"
  parent_name="ZegoDigitalHuman"
  parent_type="class">
**返回值**

数字人实例，返回遵循 [IZegoDigitalMobile](./protocol#izegodigitalmobile) 协议的对象。

**详情**

创建并获取一个数字人 SDK 实例。这是使用数字人 SDK 的入口方法。

<Note title="">
- **调用时机**：在需要使用数字人功能时调用。
</Note>
</ParamField>

<ParamField
  name="setLogConfig:"
  prototype="+ (BOOL)setLogConfig:(ZegoDigitalHumanLogConfig *)logConfig;"
  desc="设置数字人日志配置。"
  parent_file="Declared in \`ZegoDigitalHuman.h\`"
  parent_name="ZegoDigitalHuman"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| logConfig | [ZegoDigitalHumanLogConfig](#zegodigitalhumanlogconfig) * | 日志配置，包括路径、大小和数量。 |

**返回值**

如果配置成功设置返回 YES，否则返回 NO。

**详情**

设置数字人 SDK 的日志配置，包括日志文件存储路径、单个日志文件的最大大小和日志文件轮转数量。

<Warning title="">
- **注意事项**：此方法必须在调用 [create] 或 [ZegoDigitalHumanResource sharedInstance] 之前调用。
</Warning>
</ParamField>

<ParamField
  name="getDigitalhumanUrlbyID:userId:token:deviceId:digitalHumanId:completion:"
  prototype="+ (void)getDigitalhumanUrlbyID:(NSInteger)appId userId:(NSString *)userId token:(NSString *)token deviceId:(NSString *)deviceId digitalHumanId:(NSString *)digitalHumanId completion:(void(^)(NSString * _Nullable url, NSError * _Nullable error))completion;"
  desc="获取资源 URL。"
  parent_file="Declared in \`ZegoDigitalHuman.h\`"
  parent_name="ZegoDigitalHuman"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| appId | NSInteger | 应用 ID。 |
| userId | NSString * | 用户 ID。 |
| token | NSString * | 鉴权 Token。 |
| deviceId | NSString * | 设备唯一标识。 |
| digitalHumanId | NSString * | 数字人形象 ID。 |
| completion | block | 完成回调，成功时返回 URL，失败时返回错误信息。 |

**详情**

通过数字人 ID 获取指定数字人的客户端形象包下载 URL。
</ParamField>

## ZegoDigitalView

数字人视频渲染视图，继承自 `UIView`。

*Declared in `ZegoDigitalView.h`*

**详情**

用于在 UI 上展示数字人渲染结果的视图类。

## ZegoDigitalHumanResource

数字人资源管理类，采用单例模式。用于管理形象资源的预加载、状态查询和卸载。

*Declared in `ZegoDigitalHumanResource.h`*

### 方法
<ParamField
  name="sharedInstance"
  prototype="+ (instancetype)sharedInstance;"
  desc="获取单例实例。"
  parent_file="Declared in \`ZegoDigitalHumanResource.h\`"
  parent_name="ZegoDigitalHumanResource"
  parent_type="class">
**返回值**

ZegoDigitalHumanResource 单例实例。

**详情**

获取数字人资源管理类的单例对象。
</ParamField>

<ParamField
  name="preloadWithAuth:digitalHumanId:delegate:"
  prototype="- (void)preloadWithAuth:(ZegoDigitalHumanAuth*)auth digitalHumanId:(NSString *)digitalHumanId delegate:(id<ZegoDigitalHumanResourceDelegate>)delegate;"
  desc="预加载资源。"
  parent_file="Declared in \`ZegoDigitalHumanResource.h\`"
  parent_name="ZegoDigitalHumanResource"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| auth | [ZegoDigitalHumanAuth](#zegodigitalhumanauth) * | 鉴权信息。 |
| digitalHumanId | NSString * | 数字人 ID。 |
| delegate | id\<[ZegoDigitalHumanResourceDelegate](./protocol#zegodigitalhumanresourcedelegate)\> | 进度与结果回调。 |

**详情**

异步预加载指定数字人的形象资源。

<Note title="">
- **推荐做法**：在应用空闲时间或用户进入特定页面前提前调用。
- **调用时机**：[ZegoExpressEngine.createEngine] 之后，[ZegoExpressEngine.destroyEngine] 之前调用，即依赖 ZegoExpressEngine 实例的存在。
</Note>

<Warning title="">
- **网络要求**：此方法需要网络连接来同步资源状态信息。
</Warning>
</ParamField>

<ParamField
  name="isLoadedWithAuth:digitalHumanId:delegate:"
  prototype="- (void)isLoadedWithAuth:(ZegoDigitalHumanAuth*)auth digitalHumanId:(NSString *)digitalHumanId delegate:(id<IsLoadedDelegate>)delegate;"
  desc="检查资源状态。"
  parent_file="Declared in \`ZegoDigitalHumanResource.h\`"
  parent_name="ZegoDigitalHumanResource"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| auth | [ZegoDigitalHumanAuth](#zegodigitalhumanauth) * | 鉴权信息。 |
| digitalHumanId | NSString * | 数字人 ID。 |
| delegate | id\<[IsLoadedDelegate](./protocol#isloadeddelegate)\> | 查询结果回调。 |

**详情**

检查指定数字人的资源是否已经加载到本地。
<Note title="">
- **调用时机**：[ZegoExpressEngine.createEngine] 之后，[ZegoExpressEngine.destroyEngine] 之前调用，即依赖 ZegoExpressEngine 实例的存在。
</Note>

<Warning title="">
- **网络要求**：此方法需要网络连接来同步资源状态信息。
</Warning>

</ParamField>

<ParamField
  name="unLoad:"
  prototype="- (void)unLoad:(NSString *)digitalHumanId;"
  desc="卸载资源。"
  parent_file="Declared in \`ZegoDigitalHumanResource.h\`"
  parent_name="ZegoDigitalHumanResource"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| digitalHumanId | NSString * | 数字人 ID。 |

**详情**

删除指定数字人的本地缓存资源，释放磁盘空间。
</ParamField>

## ZegoDigitalHumanAuth

数字人鉴权信息类。

*Declared in `ZegoDigitalHumanAuth.h`*

### 属性
<ParamField
  name="appID"
  prototype="@property(nonatomic, assign) NSInteger appID;"
  parent_name="ZegoDigitalHumanAuth"
  parent_type="class">
应用 ID。
</ParamField>

<ParamField
  name="userID"
  prototype="@property(nonatomic, strong) NSString *userID;"
  parent_name="ZegoDigitalHumanAuth"
  parent_type="class">
用户 ID。
</ParamField>

<ParamField
  name="token"
  prototype="@property(nonatomic, strong) NSString *token;"
  parent_name="ZegoDigitalHumanAuth"
  parent_type="class">
鉴权 Token。
</ParamField>

### 方法
<ParamField
  name="initWithAppID:userID:token:"
  prototype="- (instancetype)initWithAppID:(NSInteger)appID userID:(NSString *)userID token:(NSString *)token;"
  desc="初始化方法。"
  parent_file="Declared in \`ZegoDigitalHumanAuth.h\`"
  parent_name="ZegoDigitalHumanAuth"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| appID | NSInteger | 应用 ID。 |
| userID | NSString * | 用户 ID。 |
| token | NSString * | 鉴权 Token。 |

**详情**

创建并初始化一个鉴权信息对象。
</ParamField>

## ZegoDigitalHumanConfig

数字人启动配置。

*Declared in `ZegoDigitalHumanConfig.h`*

### 属性
<ParamField
  name="digitalHumanID"
  prototype="@property (nonatomic, copy, readonly) NSString *digitalHumanID;"
  desc="数字人 ID。"
  parent_file="Declared in \`ZegoDigitalHumanConfig.h\`"
  parent_name="ZegoDigitalHumanConfig"
  parent_type="class">
用于标识数字人的唯一 ID。
</ParamField>

<ParamField
  name="roomID"
  prototype="@property (nonatomic, copy, readonly) NSString *roomID;"
  desc="RTC 房间 ID。"
  parent_file="Declared in \`ZegoDigitalHumanConfig.h\`"
  parent_name="ZegoDigitalHumanConfig"
  parent_type="class">
用于标识数字人流发布的房间 ID。
</ParamField>

<ParamField
  name="streamID"
  prototype="@property (nonatomic, copy, readonly) NSString *streamID;"
  desc="RTC 流 ID。"
  parent_file="Declared in \`ZegoDigitalHumanConfig.h\`"
  parent_name="ZegoDigitalHumanConfig"
  parent_type="class">
用于唯一标识数字人流的 ID。
</ParamField>

<ParamField
  name="streamType"
  prototype="@property (nonatomic, copy, nullable) NSString *streamType;"
  desc="数字人视频流类型。"
  parent_file="Declared in \`ZegoDigitalHumanConfig.h\`"
  parent_name="ZegoDigitalHumanConfig"
  parent_type="class">
可选的高级配置，指定数字人流的类型。此字段是可选的，可以为 nil。
</ParamField>

### 方法
<ParamField
  name="initWithDigitalHumanID:roomID:streamID:"
  prototype="- (instancetype)initWithDigitalHumanID:(NSString *)digitalHumanID roomID:(NSString *)roomID streamID:(NSString *)streamID;"
  desc="初始化方法。"
  parent_file="Declared in \`ZegoDigitalHumanConfig.h\`"
  parent_name="ZegoDigitalHumanConfig"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| digitalHumanID | NSString * | 数字人 ID。 |
| roomID | NSString * | 流发布的房间 ID。 |
| streamID | NSString * | 用于标识数字人流的流 ID。 |

**返回值**

ZegoDigitalHumanConfig 实例。

**详情**

创建并初始化一个数字人启动配置对象。
</ParamField>

<ParamField
  name="isValid"
  prototype="- (BOOL)isValid;"
  desc="验证配置。"
  parent_file="Declared in \`ZegoDigitalHumanConfig.h\`"
  parent_name="ZegoDigitalHumanConfig"
  parent_type="class">
**返回值**

如果配置有效返回 YES，否则返回 NO。

**详情**

验证配置是否有效。
</ParamField>

## ZegoDigitalHumanLogConfig

数字人 SDK 日志配置类。

*Declared in `ZegoDigitalHumanLogConfig.h`*

### 属性
<ParamField
  name="logDirectoryPath"
  prototype="@property (nonatomic, copy) NSString *logDirectoryPath;"
  parent_name="ZegoDigitalHumanLogConfig"
  parent_type="class">
日志文件存储路径。
</ParamField>

<ParamField
  name="logSize"
  prototype="@property (nonatomic, assign) long long logSize;"
  parent_name="ZegoDigitalHumanLogConfig"
  parent_type="class">
单个日志文件最大大小（字节）。
</ParamField>

<ParamField
  name="logCount"
  prototype="@property (nonatomic, assign) int logCount;"
  parent_name="ZegoDigitalHumanLogConfig"
  parent_type="class">
日志轮转数量。
</ParamField>

## ZDMVideoFrameParam

视频帧描述参数类。

*Declared in `ZDMVideoFrameParam.h`*

### 属性
<ParamField
  name="format"
  prototype="@property (nonatomic, assign) ZDMVideoFrameFormat format;"
  parent_name="ZDMVideoFrameParam"
  parent_type="class">
视频帧格式。详情参考 [ZDMVideoFrameFormat](./enum#zdmvideoframeformat)。
</ParamField>

<ParamField
  name="width"
  prototype="@property (nonatomic, assign) int width;"
  parent_name="ZDMVideoFrameParam"
  parent_type="class">
视频帧宽度。
</ParamField>

<ParamField
  name="height"
  prototype="@property (nonatomic, assign) int height;"
  parent_name="ZDMVideoFrameParam"
  parent_type="class">
视频帧高度。
</ParamField>

<ParamField
  name="rotation"
  prototype="@property (nonatomic, assign) int rotation;"
  parent_name="ZDMVideoFrameParam"
  parent_type="class">
视频帧旋转角度。
</ParamField>

### 方法
<ParamField
  name="strideAtIndex:"
  prototype="- (int)strideAtIndex:(int)index;"
  desc="获取步长。"
  parent_file="Declared in \`ZDMVideoFrameParam.h\`"
  parent_name="ZDMVideoFrameParam"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| index | int | 平面索引（0-3）。 |

**返回值**

该平面的步长值。
</ParamField>

<ParamField
  name="setStride:atIndex:"
  prototype="- (void)setStride:(int)stride atIndex:(int)index;"
  desc="设置步长。"
  parent_file="Declared in \`ZDMVideoFrameParam.h\`"
  parent_name="ZDMVideoFrameParam"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| stride | int | 步长值。 |
| index | int | 平面索引（0-3）。 |
</ParamField>
