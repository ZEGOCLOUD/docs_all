# Class

## ZegoAIVoiceChanger

*Declared in `ZegoExpressDefines.h`*

### 方法
<ParamField
  name="getIndex"
  prototype="- (int)getIndex;"
  desc="获取 AI 变声器实例编号。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAIVoiceChanger"
  parent_type="class">
AI 变声器实例编号。
</ParamField>
<ParamField
  name="setEventHandler:"
  prototype="- (void)setEventHandler:(nullable id<[ZegoAIVoiceChangerEventHandler](#zegoaivoicechangereventhandler)>) handler;"
  desc="设置 AI 变声器的事件回调。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAIVoiceChanger"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| handler | nullable id\<[ZegoAIVoiceChangerEventHandler](#zegoaivoicechangereventhandler)\> | AI 变声器的事件回调 |

**详情**

监听 AI 变声器的事件通知回调。

<Note title="">
- **业务场景**：开发者可以根据相关事件回调进行处理。
- **调用时机**：创建 [ZegoAIVoiceChanger] 实例后。
</Note>

<Warning title="">
- **支持版本**：3.10.0 及以上。
- **使用限制**：无。
- **注意事项**：调用此函数将覆盖上一次调用此函数设置的回调。
</Warning>
</ParamField>
<ParamField
  name="initEngine"
  prototype="- (void)initEngine;"
  desc="初始化 AI 变声引擎。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAIVoiceChanger"
  parent_type="class">
</ParamField>
<ParamField
  name="update"
  prototype="- (void)update;"
  desc="更新 AI 变声引擎模型。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAIVoiceChanger"
  parent_type="class">
</ParamField>
<ParamField
  name="getSpeakerList"
  prototype="- (void)getSpeakerList;"
  desc="获取 AI 变声音色列表。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAIVoiceChanger"
  parent_type="class">
</ParamField>
<ParamField
  name="setSpeaker:"
  prototype="- (void)setSpeaker:(int) speakerID;"
  desc="设置 AI 变声音色。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAIVoiceChanger"
  parent_type="class">
| 名称 | 类型 | 描述 |
| --- | --- | --- |
| speakerID | int | 音色 ID。 |
</ParamField>

## ZegoAIVoiceChangerEventHandler

*Declared in `ZegoExpressEventHandler.h`*

### 方法
<ParamField
  name="aiVoiceChanger:onInit"
  prototype="- (void)aiVoiceChanger:([ZegoAIVoiceChanger](#zegoaivoicechanger) *)aiVoiceChanger onInit:(int)errorCode;"
  desc="初始化 AI 变声引擎状态回调。"
  parent_file="Declared in \`ZegoExpressEventHandler.h\`"
  parent_name="ZegoAIVoiceChangerEventHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| aiVoiceChanger | [ZegoAIVoiceChanger](#zegoaivoicechanger) * | 回调的 AI 变声器实例。 |
| errorCode | int | 错误码，详情请参考 常见错误码文档 [https://doc-zh.zego.im/zh/4378.html](https://doc-zh.zego.im/zh/4378.html) |

**详情**

初始化 AI 变声引擎状态回调。

<Note title="">
- **通知时机**：调用 [init] 函数时会触发此回调。
</Note>

<Warning title="">
- **支持版本**：3.10.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="aiVoiceChanger:onUpdateProgress:fileIndex:fileCount"
  prototype="- (void)aiVoiceChanger:([ZegoAIVoiceChanger](#zegoaivoicechanger) *)aiVoiceChanger onUpdateProgress:(double)percent fileIndex:(int)fileIndex fileCount:(int)fileCount;"
  desc="更新 AI 变声引擎模型进度回调。"
  parent_file="Declared in \`ZegoExpressEventHandler.h\`"
  parent_name="ZegoAIVoiceChangerEventHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| aiVoiceChanger | [ZegoAIVoiceChanger](#zegoaivoicechanger) * | 回调的 AI 变声器实例。 |
| percent | double | 当前文件更新进度。 |
| fileIndex | int | 当前更新文件索引。 |
| fileCount | int | 需要更新文件总数。 |

**详情**

更新 AI 变声引擎模型进度回调。

<Note title="">
- **通知时机**：调用 [update] 函数时会触发此回调。
</Note>

<Warning title="">
- **支持版本**：3.12.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="aiVoiceChanger:onUpdate"
  prototype="- (void)aiVoiceChanger:([ZegoAIVoiceChanger](#zegoaivoicechanger) *)aiVoiceChanger onUpdate:(int)errorCode;"
  desc="更新 AI 变声引擎模型状态回调。"
  parent_file="Declared in \`ZegoExpressEventHandler.h\`"
  parent_name="ZegoAIVoiceChangerEventHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| aiVoiceChanger | [ZegoAIVoiceChanger](#zegoaivoicechanger) * | 回调的 AI 变声器实例。 |
| errorCode | int | 错误码，详情请参考 常见错误码文档 [https://doc-zh.zego.im/zh/4378.html](https://doc-zh.zego.im/zh/4378.html) |

**详情**

更新 AI 变声引擎模型状态回调。

<Note title="">
- **通知时机**：调用 [update] 函数时会触发此回调。
</Note>

<Warning title="">
- **支持版本**：3.10.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="aiVoiceChanger:onGetSpeakerList:speakers"
  prototype="- (void)aiVoiceChanger:([ZegoAIVoiceChanger](#zegoaivoicechanger) *)aiVoiceChanger onGetSpeakerList:(int)errorCode speakers:(NSArray<[ZegoAIVoiceChangerSpeakerInfo](#zegoaivoicechangerspeakerinfo) *> *)speakerList;"
  desc="获取 AI 变声引擎可用音色列表回调。"
  parent_file="Declared in \`ZegoExpressEventHandler.h\`"
  parent_name="ZegoAIVoiceChangerEventHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| aiVoiceChanger | [ZegoAIVoiceChanger](#zegoaivoicechanger) * | 回调的 AI 变声器实例。 |
| errorCode | int | 错误码，详情请参考 常见错误码文档 [https://doc-zh.zego.im/zh/4378.html](https://doc-zh.zego.im/zh/4378.html) |
| speakerList | NSArray\<[ZegoAIVoiceChangerSpeakerInfo](#zegoaivoicechangerspeakerinfo) *\> * | 可用音色列表。 |

**详情**

获取 AI 变声引擎可用音色列表回调。

<Note title="">
- **通知时机**：调用 [getSpeakerList] 函数时会触发此回调。
</Note>

<Warning title="">
- **支持版本**：3.10.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="aiVoiceChanger:onEvent"
  prototype="- (void)aiVoiceChanger:([ZegoAIVoiceChanger](#zegoaivoicechanger) *)aiVoiceChanger onEvent:(int)event;"
  desc="AI 变声事件回调。"
  parent_file="Declared in \`ZegoExpressEventHandler.h\`"
  parent_name="ZegoAIVoiceChangerEventHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| aiVoiceChanger | [ZegoAIVoiceChanger](#zegoaivoicechanger) * | 回调的 AI 变声器实例。 |
| event | [ZegoAIVoiceChangerEvent](./enum#zegoaivoicechangerevent) | AI 变声事件。 |

**详情**

AI 变声事件回调。

<Note title="">
- **通知时机**：AI 变声失败时会触发此回调。
</Note>

<Warning title="">
- **支持版本**：3.12.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="aiVoiceChanger:onSetSpeaker"
  prototype="- (void)aiVoiceChanger:([ZegoAIVoiceChanger](#zegoaivoicechanger) *)aiVoiceChanger onSetSpeaker:(int)errorCode;"
  desc="设置 AI 变声引擎音色状态回调。"
  parent_file="Declared in \`ZegoExpressEventHandler.h\`"
  parent_name="ZegoAIVoiceChangerEventHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| aiVoiceChanger | [ZegoAIVoiceChanger](#zegoaivoicechanger) * | 回调的 AI 变声器实例。 |
| errorCode | int | 错误码，详情请参考 常见错误码文档 [https://doc-zh.zego.im/zh/4378.html](https://doc-zh.zego.im/zh/4378.html) |

**详情**

设置 AI 变声引擎音色状态回调。

<Note title="">
- **通知时机**：调用 [setSpeaker] 函数时会触发此回调。
</Note>

<Warning title="">
- **支持版本**：3.12.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>

## ZegoAIVoiceChangerSpeakerInfo

AI 变声音色信息。

*Declared in `ZegoExpressDefines.h`*

### 属性
<ParamField
  name="id"
  prototype="nonatomic, assign int id"
  parent_name="ZegoAIVoiceChangerSpeakerInfo"
  parent_type="class">
音色 ID。
</ParamField>
<ParamField
  name="name"
  prototype="nonatomic, copy NSString * name"
  parent_name="ZegoAIVoiceChangerSpeakerInfo"
  parent_type="class">
音色名称。
</ParamField>

## ZegoAccurateSeekConfig

精准seek的配置

*Declared in `ZegoExpressDefines.h`*

### 属性
<ParamField
  name="timeout"
  prototype="nonatomic, assign unsigned long long timeout"
  parent_name="ZegoAccurateSeekConfig"
  parent_type="class">
精确搜索的超时时间;如果不设置, SDK 内部默认是设置 5000 毫秒,有效值区间 [2000, 10000],单位ms
</ParamField>

## ZegoAudioConfig

推流音频配置

**详情**

配置推流的音频码率、声道数、音频编码

*Declared in `ZegoExpressDefines.h`*

### 属性
<ParamField
  name="bitrate"
  prototype="nonatomic, assign int bitrate"
  parent_name="ZegoAudioConfig"
  parent_type="class">
音频码率，单位为 kbps，默认为 48 kbps. 该配置推流前后设置均可生效
</ParamField>
<ParamField
  name="channel"
  prototype="nonatomic, assign [ZegoAudioChannel](./enum#zegoaudiochannel) channel"
  parent_name="ZegoAudioConfig"
  parent_type="class">
音频编码声道，控制编码器编码的声道数。默认为 Mono 单声道。仅在推流前设置生效。
</ParamField>
<ParamField
  name="codecID"
  prototype="nonatomic, assign [ZegoAudioCodecID](./enum#zegoaudiocodecid) codecID"
  parent_name="ZegoAudioConfig"
  parent_type="class">
编码 ID，默认为 ZegoAudioCodecIDDefault。仅在推流前设置生效。
</ParamField>

### 方法
<ParamField
  name="defaultConfig"
  prototype="- (void)+ (instancetype)defaultConfig;"
  desc="创建默认音频配置"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioConfig"
  parent_type="class">
ZegoAudioConfigPresetStandardQuality (48 kbps, Mono, ZegoAudioCodecIDDefault)

ZegoAudioConfig 实例
</ParamField>
<ParamField
  name="configWithPreset"
  prototype="- (void)+ (instancetype)configWithPreset:([ZegoAudioConfigPreset](./enum#zegoaudioconfigpreset))preset;"
  desc="通过预设枚举值创建音频配置"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioConfig"
  parent_type="class">
ZegoAudioConfig 实例
</ParamField>
<ParamField
  name="initWithPreset"
  prototype="- (instancetype)initWithPreset:([ZegoAudioConfigPreset](./enum#zegoaudioconfigpreset))preset;"
  desc="通过预设枚举值创建音频配置"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioConfig"
  parent_type="class">
ZegoAudioConfig 实例
</ParamField>

## ZegoAudioEffectPlayConfig

音效播放器播放配置

*Declared in `ZegoExpressDefines.h`*

### 属性
<ParamField
  name="playCount"
  prototype="nonatomic, assign unsigned int playCount"
  parent_name="ZegoAudioEffectPlayConfig"
  parent_type="class">
播放次数，当设为 0 时则无限循环播放，直到用户调用 [stop]，默认为 1 即仅播放一次。
</ParamField>
<ParamField
  name="isPublishOut"
  prototype="nonatomic, assign BOOL isPublishOut"
  parent_name="ZegoAudioEffectPlayConfig"
  parent_type="class">
是否将音效混入推流中，默认 false。
</ParamField>

## ZegoAudioEffectPlayer

*Declared in `ZegoExpressDefines.h`*

### 方法
<ParamField
  name="setEventHandler:"
  prototype="- (void)setEventHandler:(nullable id<[ZegoAudioEffectPlayerEventHandler](/objectivec_cross_platform/protocol/ZegoAudioEffectPlayerEventHandler)>) handler;"
  desc="设置音效播放器回调。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| handler | nullable id\<[ZegoAudioEffectPlayerEventHandler](/objectivec_cross_platform/protocol/ZegoAudioEffectPlayerEventHandler)\> | 音效播放器回调。 |

**详情**

设置音效播放器回调。

<Note title="">
- **调用时机**：在 [createAudioEffectPlayer] 之后可调用。
- **相关接口**：[createAudioEffectPlayer]。
</Note>

<Warning title="">
- **支持版本**：1.16.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="start:path:config:"
  prototype="- (void)start:(unsigned int) audioEffectID path:(nullable NSString *) path config:([ZegoAudioEffectPlayConfig](#zegoaudioeffectplayconfig) *) config;"
  desc="开始播放音效。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| audioEffectID | unsigned int | 音效资源的 ID。SDK 内部使用 audioEffectID 进行音效的播放控制，SDK 不强制用户以固定形式的值传入该参数，最好保证每个音效可以有唯一的 ID，推荐的方式有静态自增 ID 和传入音效文件路径的 hash 两种方式。 |
| path | nullable NSString * | 音效资源的路径。&lt;br&gt;取值范围：目前仅支持播放本地文件，不支持 "assets://"、"ipod-library://" 和网络资源等。如果之前使用 [loadResource] 预先加载了音效，可传入 nil 或 ""。 |
| config | [ZegoAudioEffectPlayConfig](#zegoaudioeffectplayconfig) * | 音效播放配置。&lt;br&gt;默认值：传空则仅播放一次，且不会混音入推流中。 |

**详情**

开始播放音效，默认仅播放一次，且不会将音效混入推流中，如需修改请配置 [config] 参数。

<Note title="">
- **业务场景**：当需要播放简短的声音效果，比如鼓掌，欢呼声等时，可以使用该接口实现，进一步通过 [config] 参数配置播放次数，将音效混入推流中。
- **调用时机**：在 [createAudioEffectPlayer] 之后可调用。
</Note>

<Warning title="">
- **支持版本**：1.16.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="stop:"
  prototype="- (void)stop:(unsigned int) audioEffectID;"
  desc="停止播放音效。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| audioEffectID | unsigned int | 音效资源的 ID。 |

**详情**

停止播放指定的音效 [audioEffectID]。

<Note title="">
- **调用时机**：指定的 [audioEffectID] 已经 [start] 。
</Note>

<Warning title="">
- **支持版本**：1.16.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="pause:"
  prototype="- (void)pause:(unsigned int) audioEffectID;"
  desc="暂停播放音效。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| audioEffectID | unsigned int | 音效资源的 ID。 |

**详情**

暂停播放指定的音效 [audioEffectID]。

<Note title="">
- **调用时机**：指定的 [audioEffectID] 已经 [start]。
</Note>

<Warning title="">
- **支持版本**：1.16.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="resume:"
  prototype="- (void)resume:(unsigned int) audioEffectID;"
  desc="恢复播放音效。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| audioEffectID | unsigned int | 音效资源的 ID。 |

**详情**

恢复播放指定的音效 [audioEffectID]。

<Note title="">
- **调用时机**：指定的 [audioEffectID] 处于 [pause] 状态。
</Note>

<Warning title="">
- **支持版本**：1.16.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="stopAll"
  prototype="- (void)stopAll;"
  desc="停止播放所有音效。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
停止播放所有音效。

<Note title="">
- **调用时机**：正在播放音效。
</Note>

<Warning title="">
- **支持版本**：1.16.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="pauseAll"
  prototype="- (void)pauseAll;"
  desc="暂停播放所有音效。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
暂停播放所有音效。

<Note title="">
- **调用时机**：在 [createAudioEffectPlayer] 之后可调用。
</Note>

<Warning title="">
- **支持版本**：1.16.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="resumeAll"
  prototype="- (void)resumeAll;"
  desc="恢复播放所有音效。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
恢复播放所有音效。

<Note title="">
- **调用时机**：在 [pauseAll] 之后可调用。
</Note>

<Warning title="">
- **支持版本**：1.16.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="seekTo:audioEffectID:callback:"
  prototype="- (void)seekTo:(unsigned long long) millisecond audioEffectID:(unsigned int) audioEffectID callback:(nullable [ZegoAudioEffectPlayerSeekToCallback](#zegoexpressdefines#zego-audio-effect-player-seek-to-callback)) callback;"
  desc="设置播放进度。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| millisecond | unsigned long long | 指定的播放进度的时间点。 |
| audioEffectID | unsigned int | 音效资源的 ID。 |
| callback | nullable [ZegoAudioEffectPlayerSeekToCallback](#zegoexpressdefines#zego-audio-effect-player-seek-to-callback) | 指定播放进度结果。 |

**详情**

设置指定音效的播放进度，单位为毫秒。

<Note title="">
- **调用时机**：指定的 [audioEffectID] 已经 [start]，且还没有播完。
</Note>

<Warning title="">
- **支持版本**：1.16.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="setVolume:audioEffectID:"
  prototype="- (void)setVolume:(int) volume audioEffectID:(unsigned int) audioEffectID;"
  desc="设置单个音效的播放音量，会同时设置本地播放音量和推流音量。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| volume | int | 音量值。&lt;br&gt;取值范围：范围为 0 ~ 200。 &lt;br&gt;默认值：默认为 100。 |
| audioEffectID | unsigned int | 音效资源的 ID。 |

**详情**

设置指定音效的播放音量，会同时设置本地播放音量和推流音量。

<Note title="">
- **调用时机**：指定的 [audioEffectID] 已经 [start]。
</Note>

<Warning title="">
- **支持版本**：1.16.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="setPlayVolume:audioEffectID:"
  prototype="- (void)setPlayVolume:(int) volume audioEffectID:(unsigned int) audioEffectID;"
  desc="设置单个音效的本地播放音量。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| volume | int | 音量值。&lt;br&gt;取值范围：范围为 0 ~ 200。 &lt;br&gt;默认值：默认为 100。 |
| audioEffectID | unsigned int | 音效资源的 ID。 |

**详情**

设置指定音效的本地播放音量。

<Note title="">
- **调用时机**：指定的 [audioEffectID] 已经 [start]。
</Note>

<Warning title="">
- **支持版本**：3.11.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="setPublishVolume:audioEffectID:"
  prototype="- (void)setPublishVolume:(int) volume audioEffectID:(unsigned int) audioEffectID;"
  desc="设置单个音效的推流音量。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| volume | int | 音量值。&lt;br&gt;取值范围：范围为 0 ~ 200。 &lt;br&gt;默认值：默认为 100。 |
| audioEffectID | unsigned int | 音效资源的 ID。 |

**详情**

设置指定音效的推流音量。

<Note title="">
- **调用时机**：指定的 [audioEffectID] 已经 [start]。
</Note>

<Warning title="">
- **支持版本**：3.11.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="setVolumeAll:"
  prototype="- (void)setVolumeAll:(int) volume;"
  desc="设置所有音效的播放音量，会同时设置本地播放音量和推流音量。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| volume | int | 音量值。&lt;br&gt;取值范围：范围为 0 ~ 200。 &lt;br&gt;默认值：默认为 100。 |

**详情**

设置所有音效的播放音量，会同时设置本地播放音量和推流音量。

<Note title="">
- **调用时机**：在 [createAudioEffectPlayer] 之后可调用。
</Note>

<Warning title="">
- **支持版本**：1.16.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="setPlayVolumeAll:"
  prototype="- (void)setPlayVolumeAll:(int) volume;"
  desc="设置所有音效的本地播放音量。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| volume | int | 音量值。&lt;br&gt;取值范围：范围为 0 ~ 200。 &lt;br&gt;默认值：默认为 100。 |

**详情**

设置所有音效的本地播放音量。

<Note title="">
- **调用时机**：在 [createAudioEffectPlayer] 之后可调用。
</Note>

<Warning title="">
- **支持版本**：3.11.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="setPublishVolumeAll:"
  prototype="- (void)setPublishVolumeAll:(int) volume;"
  desc="设置所有音效的推流音量。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| volume | int | 音量值。&lt;br&gt;取值范围：范围为 0 ~ 200。 &lt;br&gt;默认值：默认为 100。 |

**详情**

设置所有音效的推流音量。

<Note title="">
- **调用时机**：在 [createAudioEffectPlayer] 之后可调用。
</Note>

<Warning title="">
- **支持版本**：3.11.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="setPlaySpeed:audioEffectID:"
  prototype="- (void)setPlaySpeed:(float) speed audioEffectID:(unsigned int) audioEffectID;"
  desc="设置指定音效的播放速度，会同时设置本地播放速度和推流速度（不支持单独设置）。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| speed | float | 播放的倍速。&lt;br&gt;取值范围：范围为 0.5 ~ 2.0。 &lt;br&gt;默认值：默认为 1.0。 |
| audioEffectID | unsigned int | 音效资源的 ID。 |

**详情**

设置指定音效的播放速度，会同时设置本地播放速度和推流速度（不支持单独设置）。

<Note title="">
- **调用时机**：指定的 [audioEffectID] 已经 [start]。
</Note>

<Warning title="">
- **支持版本**：2.18.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="getTotalDuration:"
  prototype="- (unsigned long long)getTotalDuration:(unsigned int) audioEffectID;"
  desc="获取指定音效资源的总长度。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| audioEffectID | unsigned int | 音效资源的 ID。 |

**详情**

获取指定音效资源的总长度，单位为毫秒。

<Note title="">
- **调用时机**：必须在加载资源完成后才能调用，否则返回值为 0。
- **相关接口**：[start]，[loadResource]。
</Note>

<Warning title="">
- **支持版本**：1.16.0 及以上。
- **使用限制**：在 [createAudioEffectPlayer] 之后可调用。
</Warning>

**返回值**

单位为毫秒。
</ParamField>
<ParamField
  name="getCurrentProgress:"
  prototype="- (unsigned long long)getCurrentProgress:(unsigned int) audioEffectID;"
  desc="获取当前播放进度。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| audioEffectID | unsigned int | 音效资源的 ID。 |

**详情**

获取指定音效的当前播放进度。单位为毫秒。

<Note title="">
- **调用时机**：必须在加载资源完成后才能调用，否则返回值为 0。
- **相关接口**：[start]，[loadResource]。
</Note>

<Warning title="">
- **支持版本**：1.16.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="loadResource:audioEffectID:callback:"
  prototype="- (void)loadResource:(NSString *) path audioEffectID:(unsigned int) audioEffectID callback:(nullable [ZegoAudioEffectPlayerLoadResourceCallback](#zegoexpressdefines#zego-audio-effect-player-load-resource-callback)) callback;"
  desc="加载音效资源。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| path | NSString * | 音效资源路径，不能传入 nil 或 ""。&lt;br&gt;取值范围：目前仅支持播放本地文件，不支持 "assets://"、"ipod-library://" 和网络资源等。 |
| audioEffectID | unsigned int | 音效资源的 ID。 |
| callback | nullable [ZegoAudioEffectPlayerLoadResourceCallback](#zegoexpressdefines#zego-audio-effect-player-load-resource-callback) | 加载音效资源结果回调。 |

**详情**

加载音效资源。

<Note title="">
- **业务场景**：在频繁播放相同音效场景中，SDK 为了优化重复读文件并解码的性能，提供了预加载音效文件到内存中的功能。
- **调用时机**：在 [createAudioEffectPlayer] 之后可调用。
</Note>

<Warning title="">
- **支持版本**：1.16.0 及以上。
- **使用限制**：预加载支持最多同时加载 15 个音效文件，并且音效文件时长不能超过 30s，否则加载会报错。
</Warning>
</ParamField>
<ParamField
  name="unloadResource:"
  prototype="- (void)unloadResource:(unsigned int) audioEffectID;"
  desc="卸载音效资源。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| audioEffectID | unsigned int | 音效资源的 ID。 |

**详情**

卸载指定音效的音效资源。

<Note title="">
- **调用时机**：在音效使用完毕之后，可以通过此函数释放相关资源；否则 SDK 将在 AudioEffectPlayer 实例销毁时释放加载的资源。
- **相关接口**：[loadResource]。
</Note>

<Warning title="">
- **支持版本**：1.16.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="updatePosition:position:"
  prototype="- (void)updatePosition:(unsigned int) audioEffectID position:(const float[_Nonnull 3]) position;"
  desc="更新音效播放器(音频源)位置。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| audioEffectID | unsigned int | 音效资源的 ID。 |
| position | const float[_Nonnull 3] | 自身在世界坐标系中的坐标，参数是长度为 3 的 float 数组。 |

**详情**

更新音效播放器(音频源)位置。。

<Note title="">
- **业务场景**：音效播放器也需要有 3D 空间音效。
- **调用时机**：监听[onAudioEffectPlayStateUpdate]回调，请在播放状态为ZegoAudioEffectPlayState.Playing之后ZegoAudioEffectPlayState.NoPlay/PlayEnded之前调用该接口。
</Note>

<Warning title="">
- **支持版本**：3.6.0 及以上。
- **使用限制**：此接口需要与 RangeAudio/RangeScene 模块配合使用，RangeAudio/RangeScene 模块开启 3D 音效后，此接口才能调用成功。
</Warning>
</ParamField>
<ParamField
  name="getIndex"
  prototype="- (NSNumber *)getIndex;"
  desc="获取音效播放器索引。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
获取音效播放器索引。

<Note title="">
- **调用时机**：在 [createAudioEffectPlayer] 之后可调用。
</Note>

<Warning title="">
- **支持版本**：1.16.0 及以上。
- **使用限制**：无。
</Warning>

音效播放器索引。
</ParamField>

## ZegoAudioFrameParam

音频帧的参数对象

**详情**

包括音频帧的采样率、声道数

*Declared in `ZegoExpressDefines.h`*

### 属性
<ParamField
  name="sampleRate"
  prototype="nonatomic, assign [ZegoAudioSampleRate](./enum#zegoaudiosamplerate) sampleRate"
  parent_name="ZegoAudioFrameParam"
  parent_type="class">
采样率
</ParamField>
<ParamField
  name="channel"
  prototype="nonatomic, assign [ZegoAudioChannel](./enum#zegoaudiochannel) channel"
  parent_name="ZegoAudioFrameParam"
  parent_type="class">
音频声道，默认为 Mono 单声道
</ParamField>

## ZegoAudioMixingData

混音数据

*Declared in `ZegoExpressDefines.h`*

### 属性
<ParamField
  name="audioData"
  prototype="nonatomic, strong, nullable NSData * audioData"
  parent_name="ZegoAudioMixingData"
  parent_type="class">
需要混入推流的音频 PCM 数据
</ParamField>
<ParamField
  name="param"
  prototype="nonatomic, strong [ZegoAudioFrameParam](#zegoaudioframeparam) * param"
  parent_name="ZegoAudioMixingData"
  parent_type="class">
音频数据属性，包括采样率和声道数。目前支持 16k, 32k, 44.1k, 48k 的采样率、单声道或双声道、16 bit 位深的 PCM 数据。开发者需要显式指定音频数据属性，否则混音将不生效。
</ParamField>
<ParamField
  name="SEIData"
  prototype="nonatomic, strong, nullable NSData * SEIData"
  parent_name="ZegoAudioMixingData"
  parent_type="class">
SEI 数据，用于传递自定义数据。当 audioData 为空时，SEIData 也将不会被发送
</ParamField>

