---
articleID: 196
date: "2024-05-06"
---
# 集成 SDK
---

本页仅说明在 iOS 项目中集成数字人所需的 SDK 组件，确保集成后即可开始调用业务能力。示例代码、业务流程请参考其他章节。

## 准备环境

- Xcode 15.0 或以上版本。
- iOS 12.0 或以上版本设备（真机调试需要联网）。
- 已获取有效的 AppID / Token 与数字人权限（来自 ZEGO 技术支持）。

## 集成 ZEGO Express SDK

由于当前数字人功能需要使用针对数字人优化的 ZEGO Express SDK，建议采用以下集成方式：

### 方式 1：CocoaPods（推荐）

1. 确保 CocoaPods 版本 ≥ 1.10.0。
2. 在项目根目录执行 `pod init`，在 Podfile 的 target 下添加：
   ```ruby
   target 'MyProject' do
       use_frameworks!
       # 针对 数字人 优化的 ZEGO Express SDK
       pod 'ZegoExpressPrivate', '3.22.0.46788'
   end
   ```
3. 依次执行 `pod repo update`、`pod install`。

### 方式 2：手动集成

1. 请从[下载页面](./introduction/download.mdx)获取针对 数字人 优化的 ZEGO Express SDK。
2. 在 Xcode 选择 “File > Add Files to YourProject” 将解压后的 `ZegoExpressPrivate.xcframework`（或 `ZegoExpressEngine.xcframework`）添加到工程。
3. 在 “TARGETS > General > Frameworks, Libraries, and Embedded Content” 中添加该框架，并将 Embed 设置为 “Embed & Sign”。

## 集成数字人 SDK

数字人核心能力由 `ZegoDigitalMobile` 提供，支持 iOS 12+。

<Tabs>
<Tab title="CocoaPods（推荐）">
<Steps>
  <Step title="在 Podfile 中添加依赖">
    ```ruby
    pod 'ZegoDigitalMobile', '1.5.0.119'
    ```
  </Step>
  <Step title="安装 SDK">
    在项目根目录执行：
    ```bash
    pod repo update && pod install
    ```
  </Step>
</Steps>
</Tab>
<Tab title="手动集成">
<Steps>
  <Step title="下载并解压 SDK">
    下载最新 [ZegoDigitalMobile](https://artifact-node.zego.cloud/generic/digithuman/public/ZegoDigitalMobile/release/ios/ZegoDigitalMobile.zip?version=1.4.0.88) 并解压到项目目录（如 libs）。
  </Step>
  <Step title="添加到工程并签名">
    在 Xcode 的 “TARGETS > General > Frameworks, Libraries, and Embedded Content” 中添加 `ZegoDigitalMobile.xcframework`，将 Embed 设为 “Embed & Sign”。
  </Step>
</Steps>
</Tab>
</Tabs>

## 权限配置

根据业务是否采集音频，在 `Info.plist` 中至少添加麦克风使用说明，建议同时声明后台音频模式：

```xml
<key>UIBackgroundModes</key>
<array>
    <string>audio</string>
</array>
<key>NSMicrophoneUsageDescription</key>
<string>需要访问麦克风以进行语音互动</string>
```

若仅播放数字人画面且不采集音频，可按需删除麦克风权限声明。请确保真实设备调试时已开启相应系统权限。
