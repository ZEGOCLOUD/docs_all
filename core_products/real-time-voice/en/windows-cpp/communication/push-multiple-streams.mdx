---
articleID: 5032
---
# Publishing Multiple Streams Simultaneously

- - -

## Function Introduction

Publishing multiple streams means the SDK provides the capability to publish multiple streams simultaneously (currently the SDK supports publishing a second stream).

When the following situations occur in a developer's business, it is recommended to use the SDK's multiple stream publishing functionality:

- Game streaming host publishes main stream with camera footage, and publishes a second stream with screen capture footage.
- External hosts publish main stream with front camera, and publish a second stream with rear camera.

## Example Source Code Download

Please refer to [Download Example Source Code](/real-time-video-windows-cpp/quick-start/run-example-code) to obtain the source code.

For related source code, please check files in the "/ZegoExpressExample/src/AuxStream" directory.


## Prerequisites

Before implementing the multiple stream publishing functionality, please ensure:

- The ZEGO Express SDK has been integrated in your project and basic real-time voice functionality has been implemented. For details, please refer to [Quick Start - Integration](/real-time-voice-windows/quick-start/integrating-sdk) and [Quick Start - Implementing Flow](/real-time-voice-windows/quick-start/implementing-voice-call).
- A project has been created in the [ZEGOCLOUD Console](https://console.zegocloud.com/) and a valid AppID and AppSign have been obtained. For details, please refer to "Project Information" in [Console - Project Management](/console/project-info).


## Usage Steps

1. Call [getVideoDeviceList](https://www.zegocloud.com/docs/api?doc=Express_Video_SDK_API~CPP_windows~class~zego-express-i-zego-express-engine#get-video-device-list) to obtain the list of available video devices.
2. Call [useVideoDevice](https://www.zegocloud.com/docs/api?doc=Express_Video_SDK_API~CPP_windows~class~zego-express-i-zego-express-engine#use-video-device) to specify the main stream's video device, and call [startPublishingStream](https://www.zegocloud.com/docs/api?doc=Express_Video_SDK_API~CPP_windows~class~zego-express-i-zego-express-engine#start-publishing-stream) to publish the main stream.
3. Call [useVideoDevice](https://www.zegocloud.com/docs/api?doc=Express_Video_SDK_API~CPP_windows~class~zego-express-i-zego-express-engine#use-video-device) to specify the second stream's video device, and call [startPublishingStream](https://www.zegocloud.com/docs/api?doc=Express_Video_SDK_API~CPP_windows~class~zego-express-i-zego-express-engine#start-publishing-stream) to publish the second stream.

```cpp
// Obtain available video devices
auto videoDeviceList = engine->getVideoDeviceList();

// Specify video device for main stream and then start publishing main stream
engine->useVideoDevice(videoDeviceList[0].deviceID, ZEGO_PUBLISH_CHANNEL_MAIN);
engine->startPublishingStream("stream1", ZEGO_PUBLISH_CHANNEL_MAIN);

// Specify video device for second stream and then start publishing second stream
engine->useVideoDevice(videoDeviceList[1].deviceID, ZEGO_PUBLISH_CHANNEL_AUX);
engine->startPublishingStream("stream2", ZEGO_PUBLISH_CHANNEL_AUX);
```

## API Reference List

| Method | Description |
|-------|--------|
| [startPublishingStream](https://www.zegocloud.com/docs/api?doc=Express_Video_SDK_API~CPP_windows~class~zego-express-i-zego-express-engine#start-publishing-stream) | Start publishing |
| [stopPublishingStream](https://www.zegocloud.com/docs/api?doc=Express_Video_SDK_API~CPP_windows~class~zego-express-i-zego-express-engine#stop-publishing-stream) | Stop publishing |
| [getVideoDeviceList](https://www.zegocloud.com/docs/api?doc=Express_Video_SDK_API~CPP_windows~class~zego-express-i-zego-express-engine#get-video-device-list) | Get video device list |
| [useVideoDevice](https://www.zegocloud.com/docs/api?doc=Express_Video_SDK_API~CPP_windows~class~zego-express-i-zego-express-engine#use-video-device) | Specify video device |