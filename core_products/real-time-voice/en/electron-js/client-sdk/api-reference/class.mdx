---
docType: API
---

# Class

| | |
| --- | --- |
| [ZegoAudioEffectPlayer](#zegoaudioeffectplayer) | [ZegoCopyrightedMusic](#zegocopyrightedmusic) |
| [ZegoExpressEngine](#zegoexpressengine) | [ZegoMediaPlayer](#zegomediaplayer) |
| [ZegoScreenCaptureSource](#zegoscreencapturesource) |  |

## ZegoAudioEffectPlayer

*Declared in `ZegoExpressAudioEffectPlayer.js`*

### Methods
<ParamField
  name="start"
  prototype="  start(audioEffectID: number, path?: string, config?: [ZegoAudioEffectPlayConfig](./struct#zegoaudioeffectplayconfig)): void"
  desc="Start playing audio effect."
  parent_file="Declared in \`ZegoExpressAudioEffectPlayer.js\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| audioEffectID | number | Description: ID for the audio effect. The SDK uses audioEffectID to control the playback of sound effects. The SDK does not force the user to pass in this parameter as a fixed value. It is best to ensure that each sound effect can have a unique ID. The recommended methods are static self-incrementing ID or the hash of the incoming sound effect file path. |
| path | string | The absolute path of the local resource. &lt;br&gt;Value range: "assets://"、"ipod-library://" and network url are not supported. Set path as nil or "" if resource is loaded already using [loadResource]. |
| config | [ZegoAudioEffectPlayConfig](./struct#zegoaudioeffectplayconfig) | Audio effect playback configuration. &lt;br&gt;Default value: Set NULL will only be played once, and will not be mixed into the publishing stream. |

**Details**

Start playing audio effect. The default is only played once and is not mixed into the publishing stream, if you want to change this please modify [config] param.

<Note title="">
- **Use cases**: When you need to play short sound effects, such as applause, cheers, etc., you can use this interface to achieve, and further configure the number of plays through the [config] parameter, and mix the sound effects into the push stream.
- **When to call**: It can be called after [createAudioEffectPlayer].
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="stop"
  prototype="  stop(audioEffectID: number): void"
  desc="Stop playing audio effect."
  parent_file="Declared in \`ZegoExpressAudioEffectPlayer.js\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| audioEffectID | number | ID for the audio effect. |

**Details**

Stop playing the specified audio effect [audioEffectID].

<Note title="">
- **When to call**: The specified [audioEffectID] is [start].
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="pause"
  prototype="  pause(audioEffectID: number): void"
  desc="Pause playing audio effect."
  parent_file="Declared in \`ZegoExpressAudioEffectPlayer.js\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| audioEffectID | number | ID for the audio effect. |

**Details**

Pause playing the specified audio effect [audioEffectID].

<Note title="">
- **When to call**: The specified [audioEffectID] is [start].
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="resume"
  prototype="  resume(audioEffectID: number): void"
  desc="Resume playing audio effect."
  parent_file="Declared in \`ZegoExpressAudioEffectPlayer.js\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| audioEffectID | number | ID for the audio effect. |

**Details**

Resume playing the specified audio effect [audioEffectID].

<Note title="">
- **When to call**: The specified [audioEffectID] is [pause].
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="stopAll"
  prototype="  stopAll(): void"
  desc="Stop playing all audio effect."
  parent_file="Declared in \`ZegoExpressAudioEffectPlayer.js\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
Stop playing all audio effect.

<Note title="">
- **When to call**: Some audio effects are Playing.
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="pauseAll"
  prototype="  pauseAll(): void"
  desc="Pause playing all audio effect."
  parent_file="Declared in \`ZegoExpressAudioEffectPlayer.js\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
Pause playing all audio effect.

<Note title="">
- **When to call**: It can be called after [createAudioEffectPlayer].
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="resumeAll"
  prototype="  resumeAll(): void"
  desc="Resume playing all audio effect."
  parent_file="Declared in \`ZegoExpressAudioEffectPlayer.js\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
Resume playing all audio effect.

<Note title="">
- **When to call**: It can be called after [pauseAll].
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="seekTo"
  prototype="  seekTo(audioEffectID: number, millisecond: number): Promise&lt;Object&gt;"
  desc="Set the specified playback progress."
  parent_file="Declared in \`ZegoExpressAudioEffectPlayer.js\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| audioEffectID | number | ID for the audio effect. |
| millisecond | number | Point in time of specified playback progress. |

**Details**

Set the specified audio effect playback progress. Unit is millisecond.

<Note title="">
- **When to call**: The specified [audioEffectID] is[start], and not finished.
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: None.
</Warning>

**Return**

The result of seek.
</ParamField>
<ParamField
  name="setVolume"
  prototype="  setVolume(audioEffectID: number, volume: number): void"
  desc="Set volume for a single audio effect. Both the local play volume and the publish volume are set."
  parent_file="Declared in \`ZegoExpressAudioEffectPlayer.js\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| audioEffectID | number | ID for the audio effect. |
| volume | number | Volume. &lt;br&gt;Value range: The range is 0 ~ 200. &lt;br&gt;Default value: The default is 100. |

**Details**

Set volume for a single audio effect. Both the local play volume and the publish volume are set.

<Note title="">
- **When to call**: The specified [audioEffectID] is [start].
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="setVolumeAll"
  prototype="  setVolumeAll(volume: number): void"
  desc="Set volume for all audio effect. Both the local play volume and the publish volume are set."
  parent_file="Declared in \`ZegoExpressAudioEffectPlayer.js\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| volume | number | Volume. &lt;br&gt;Value range: The range is 0 ~ 200. &lt;br&gt;Default value: The default is 100. |

**Details**

Set volume for all audio effect. Both the local play volume and the publish volume are set.

<Note title="">
- **When to call**: It can be called after [createAudioEffectPlayer].
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="setPlaySpeed"
  prototype="  setPlaySpeed(audioEffectID: number, speed: number): void"
  desc="Set the playback speed for a given audio effect. Both the local play speed and the publish speed are set. (separate settings are not supported)."
  parent_file="Declared in \`ZegoExpressAudioEffectPlayer.js\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| audioEffectID | number | ID for the audio effect. |
| speed | number | The speed of play. &lt;br&gt;Value range: The range is 0.5 ~ 2.0. &lt;br&gt;Default value: The default is 1.0. |

**Details**

Set the playback speed for a given audio effect. Both the local play speed and the publish speed are set. (separate settings are not supported).

<Note title="">
- **When to call**: The specified [audioEffectID] is [start].
</Note>

<Warning title="">
- **Available since**: 2.18.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="getTotalDuration"
  prototype="  getTotalDuration(audioEffectID: number): number"
  desc="Get the total duration of the specified audio effect resource."
  parent_file="Declared in \`ZegoExpressAudioEffectPlayer.js\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| audioEffectID | number | ID for the audio effect. |

**Details**

Get the total duration of the specified audio effect resource. Unit is millisecond.

<Note title="">
- **When to call**: You should invoke this function after the audio effect resource already loaded, otherwise the return value is 0.
- **Related APIs**: [start], [loadResource].
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: It can be called after [createAudioEffectPlayer].
</Warning>

**Return**

The total duration of audio effect resource. Unit is millisecond.
</ParamField>
<ParamField
  name="getCurrentProgress"
  prototype="  getCurrentProgress(audioEffectID: number): number"
  desc="Get current playback progress."
  parent_file="Declared in \`ZegoExpressAudioEffectPlayer.js\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| audioEffectID | number | ID for the audio effect. |

**Details**

Get current playback progress of the specified audio effect. Unit is millisecond.

<Note title="">
- **When to call**: You should invoke this function after the audio effect resource already loaded, otherwise the return value is 0.
- **Related APIs**: [start], [loadResource].
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: None.
</Warning>

**Return**

Current playback progress.
</ParamField>
<ParamField
  name="loadResource"
  prototype="  loadResource(audioEffectID: number, path: string): Promise&lt;Object&gt;"
  desc="Load audio effect resource."
  parent_file="Declared in \`ZegoExpressAudioEffectPlayer.js\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| audioEffectID | number | ID for the audio effect. |
| path | string | the absolute path of the audio effect resource and cannot be nil or "". &lt;br&gt;Value range: "assets://"、"ipod-library://" and network url are not supported. |

**Details**

Load audio effect resource.

<Note title="">
- **Use cases**: In a scene where the same sound effect is played frequently, the SDK provides the function of preloading the sound effect file into the memory in order to optimize the performance of repeatedly reading and decoding the file.
- **When to call**: It can be called after [createAudioEffectPlayer].
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: Preloading supports loading up to 15 sound effect files at the same time, and the duration of the sound effect files cannot exceed 30s, otherwise an error will be reported when loading.
</Warning>

**Return**

load audio effect resource result.
</ParamField>
<ParamField
  name="unloadResource"
  prototype="  unloadResource(audioEffectID: number): void"
  desc="Unload audio effect resource."
  parent_file="Declared in \`ZegoExpressAudioEffectPlayer.js\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| audioEffectID | number | ID for the audio effect loaded. |

**Details**

Unload the specified audio effect resource.

<Note title="">
- **When to call**: After the sound effects are used up, related resources can be released through this function; otherwise, the SDK will release the loaded resources when the AudioEffectPlayer instance is destroyed.
- **Related APIs**: [loadResource].
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="getIndex"
  prototype="  getIndex(): number"
  desc="Get audio effect player index."
  parent_file="Declared in \`ZegoExpressAudioEffectPlayer.js\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
Get audio effect player index.

<Note title="">
- **When to call**: It can be called after [createAudioEffectPlayer].
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: None.
</Warning>

Audio effect player index.
</ParamField>
<ParamField
  name="onAudioEffectPlayStateUpdate"
  prototype="  onAudioEffectPlayStateUpdate(audioEffectID: number, state: [ZegoAudioEffectPlayState](./enum#zegoaudioeffectplaystate), errorCode: number): void"
  desc="Audio effect playback state callback."
  parent_file="Declared in \`ZegoExpressAudioEffectPlayer.js\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| audioEffectID | number | The ID of the audio effect resource that triggered this callback. |
| state | [ZegoAudioEffectPlayState](./enum#zegoaudioeffectplaystate) | The playback state of the audio effect. |
| errorCode | number | Error code, please refer to the error codes document [https://docs.zegocloud.com/en/5548.html](https://docs.zegocloud.com/en/5548.html) for details. |

**Details**

This callback is triggered when the playback state of a audio effect of the audio effect player changes.

<Note title="">
- **Trigger**: This callback is triggered when the playback status of the audio effect changes.
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: None.
</Warning>
</ParamField>

## ZegoCopyrightedMusic

*Declared in `ZegoExpressCopyrightedMusic.js`*

### Methods
<ParamField
  name="initCopyrightedMusic"
  prototype="  initCopyrightedMusic(config: [ZegoCopyrightedMusicConfig](./struct#zegocopyrightedmusicconfig)): Promise&lt;Object&gt;"
  desc="Initialize the copyrighted music module."
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicConfig](./struct#zegocopyrightedmusicconfig) | the copyrighted music configuration. |

**Details**

Initialize the copyrighted music so that you can use the function of the copyrighted music later.

<Note title="">
- **When to call**: After call [createCopyrightedMusic] and [loginRoom].
- **Caution**: 1. The real user information must be passed in, otherwise the song resources cannot be obtained for playback. 2. The user ID set when initializing copyrighted music needs to be the same as the user ID set when logging in to the room.
</Note>

<Warning title="">
- **Available since**: 2.13.0
</Warning>

**Return**

Callback for copyrighted music init.
</ParamField>
<ParamField
  name="getCacheSize"
  prototype="  getCacheSize(): number"
  desc="Get cache size."
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
When using this module, some cache files may be generated, and the size of the cache file can be obtained through this interface.
 Use case: Used to display the cache size of the App.

<Note title="">
- **When to call**: After initializing the copyrighted music [createCopyrightedMusic].
</Note>

<Warning title="">
- **Available since**: 2.13.0
</Warning>

Get cache size.
</ParamField>
<ParamField
  name="clearCache"
  prototype="  clearCache(): void"
  desc="Clear cache."
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
When using this module, some cache files may be generated, which can be cleared through this interface.
 Use case: Used to clear the cache of the App.

<Note title="">
- **When to call**: After initializing the copyrighted music [createCopyrightedMusic].
</Note>

<Warning title="">
- **Available since**: 2.13.0
</Warning>
</ParamField>
<ParamField
  name="sendExtendedRequest"
  prototype="  sendExtendedRequest(command: string, params: string): Promise&lt;Object&gt;"
  desc="Send extended feature request."
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| command | string | request command, details about the commands supported. |
| params | string | request parameters, each request command has corresponding request parameters. |

**Details**

Initialize the copyrighted music so that you can use the function of the copyrighted music later.
 Use case: Used to get a list of songs.

<Note title="">
- **When to call**: After initializing the copyrighted music success [initCopyrightedMusic].
</Note>

<Warning title="">
- **Available since**: 2.13.0
</Warning>

**Return**

Send the extension function to request the result callback.
</ParamField>
<ParamField
  name="getLrcLyricWithVendorID"
  prototype="  getLrcLyricWithVendorID(songID: string, vendorID: [ZegoCopyrightedMusicVendorID](./enum#zegocopyrightedmusicvendorid)): Promise&lt;Object&gt;"
  desc="Get lyrics in lrc format."
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| songID | string | the ID of the song or accompaniment, the song and accompaniment of a song share the same ID. |
| vendorID | [ZegoCopyrightedMusicVendorID](./enum#zegocopyrightedmusicvendorid) | Copyright music resource song copyright provider. |

**Details**

Get lyrics in lrc format, support parsing lyrics line by line.
 Use case: Used to display lyrics line by line.

<Note title="">
- **When to call**: After initializing the copyrighted music success [initCopyrightedMusic].
</Note>

<Warning title="">
- **Available since**: 3.2.1
</Warning>

**Return**

Get lrc format lyrics complete callback.
</ParamField>
<ParamField
  name="getLrcLyricWithConfig"
  prototype="  getLrcLyricWithConfig(config: [ZegoCopyrightedMusicGetLyricConfig](./struct#zegocopyrightedmusicgetlyricconfig)): Promise&lt;Object&gt;"
  desc="Get lyrics in lrc format."
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicGetLyricConfig](./struct#zegocopyrightedmusicgetlyricconfig) | The configuration of get lyric. |

**Details**

Get lyrics in lrc format, support parsing lyrics line by line.
 Use case: Used to display lyrics line by line.

<Note title="">
- **When to call**: After initializing the copyrighted music success [initCopyrightedMusic].
</Note>

<Warning title="">
- **Available since**: 3.12.0
</Warning>

**Return**

Get lrc format lyrics complete callback.
</ParamField>
<ParamField
  name="getKrcLyricByToken"
  prototype="  getKrcLyricByToken(krcToken: string): Promise&lt;Object&gt;"
  desc="Get lyrics in krc format."
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| krcToken | string | The krcToken obtained when calling [requestResource] for accompaniment or climax clips, or when obtaining shared resources through the [getSharedResource] interface. For more details, please refer to [https://doc-zh.zego.im/article/15079#2_2](https://doc-zh.zego.im/article/15079#2_2) |

**Details**

Get verbatim lyrics, support parsing lyrics word by word.
 Use case: Used to display lyrics word by word.

<Note title="">
- **When to call**: After initializing the copyrighted music success [initCopyrightedMusic].
</Note>

<Warning title="">
- **Available since**: 2.13.0
</Warning>

**Return**

Get verbatim lyrics complete callback.
</ParamField>
<ParamField
  name="requestResource"
  prototype="  requestResource(config: [ZegoCopyrightedMusicRequestConfig](./struct#zegocopyrightedmusicrequestconfig), type: [ZegoCopyrightedMusicResourceType](./enum#zegocopyrightedmusicresourcetype)): Promise&lt;Object&gt;"
  desc="Request music resource."
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicRequestConfig](./struct#zegocopyrightedmusicrequestconfig) | The configuration of requesting music resource. |
| type | [ZegoCopyrightedMusicResourceType](./enum#zegocopyrightedmusicresourcetype) | The resource type of music. |

**Details**

In addition to obtaining the basic information of the song (duration, song name, singer, etc.), and the most important resource id that can be used for local playback, there are also some related authentications information.
 Use case: Get copyrighted songs for local playback and sharing.

<Note title="">
- **Related APIs**: After a user in the room successfully calls this interface to request a music resource, other users in the room can call the [getsharedresource] interface to get the music resource for free once.
- **When to call**: After initializing the copyrighted music [initCopyrightedMusic].
  
  1. Each resource has a unique resource ID. 
  2. Every time this API is called, it will be billed once, please consult ZEGO business personnel for details.
  3. Each resource has a unique resource ID. The resources obtained by calling this API are time-sensitive, the valid duration is the minimum value between the SDK life cycle and 24-hour.
</Note>

<Warning title="">
- **Available since**: 3.0.2
</Warning>

**Return**

Callback of requesting music resource.
</ParamField>
<ParamField
  name="requestResourceWithConfigV2"
  prototype="  requestResourceWithConfigV2(config: [ZegoCopyrightedMusicRequestConfigV2](./struct#zegocopyrightedmusicrequestconfigv2)): Promise&lt;Object&gt;"
  desc="Request music resource."
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicRequestConfigV2](./struct#zegocopyrightedmusicrequestconfigv2) | The configuration of requesting music resource. |

**Details**

In addition to obtaining the basic information of the song (duration, song name, singer, etc.), and the most important resource id that can be used for local playback, there are also some related authentications information.
 Use case: Get copyrighted songs for local playback and sharing.

<Note title="">
- **Related APIs**: After a user in the room successfully calls this interface to request a music resource, other users in the room can call the [getsharedresource] interface to get the music resource for free once.
- **When to call**: After initializing the copyrighted music [initCopyrightedMusic].
  
  1. Each resource has a unique resource ID. 
  2. Every time this API is called, it will be billed once, please consult ZEGO business personnel for details.
  3. Each resource has a unique resource ID. The resources obtained by calling this API are time-sensitive, the valid duration is the minimum value between the SDK life cycle and 24-hour.
</Note>

<Warning title="">
- **Available since**: 3.12.0
</Warning>

**Return**

Callback of requesting music resource.
</ParamField>
<ParamField
  name="getSharedResource"
  prototype="  getSharedResource(config: [ZegoCopyrightedMusicGetSharedConfig](./struct#zegocopyrightedmusicgetsharedconfig), type: [ZegoCopyrightedMusicResourceType](./enum#zegocopyrightedmusicresourcetype)): Promise&lt;Object&gt;"
  desc="Get shared music resource."
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicGetSharedConfig](./struct#zegocopyrightedmusicgetsharedconfig) | The configuration of getting shared music resource. |
| type | [ZegoCopyrightedMusicResourceType](./enum#zegocopyrightedmusicresourcetype) | The resource type of music. |

**Details**

In addition to obtaining the basic information of the song (duration, song name, singer, etc.), and the most important resource id that can be used for local playback, there are also some related authentications information.
 Use case: Get copyrighted songs for local playback.

<Note title="">
- **Related APIs**: After a user in the room calls the [requestresource] interface to request a music resource successfully, other users in the room can call this interface to get the music resource for free once.
- **When to call**: After initializing the copyrighted music [initCopyrightedMusic].
  Each resource has a unique resource ID. The resources obtained by calling this API are time-sensitive, the valid duration is the minimum value between the SDK life cycle and 24-hour.
</Note>

<Warning title="">
- **Available since**: 3.0.2
</Warning>

**Return**

Callback of getting shared music resource.
</ParamField>
<ParamField
  name="getSharedResourceWithConfigV2"
  prototype="  getSharedResourceWithConfigV2(config: [ZegoCopyrightedMusicGetSharedConfigV2](./struct#zegocopyrightedmusicgetsharedconfigv2)): Promise&lt;Object&gt;"
  desc="Get shared music resource."
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicGetSharedConfigV2](./struct#zegocopyrightedmusicgetsharedconfigv2) | The configuration of getting shared music resource. |

**Details**

In addition to obtaining the basic information of the song (duration, song name, singer, etc.), and the most important resource id that can be used for local playback, there are also some related authentications information.
 Use case: Get copyrighted songs for local playback.

<Note title="">
- **Related APIs**: After a user in the room calls the [requestresource] interface to request a music resource successfully, other users in the room can call this interface to get the music resource for free once.
- **When to call**: After initializing the copyrighted music [initCopyrightedMusic].
  Each resource has a unique resource ID. The resources obtained by calling this API are time-sensitive, the valid duration is the minimum value between the SDK life cycle and 24-hour.
</Note>

<Warning title="">
- **Available since**: 3.12.0
</Warning>

**Return**

Callback of getting shared music resource.
</ParamField>
<ParamField
  name="download"
  prototype="  download(resourceID: string): Promise&lt;Object&gt;"
  desc="Download music resource."
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| resourceID | string | the resource ID corresponding to the song or accompaniment. |

**Details**

Download music resource. It can only be played after downloading successfully.
 Use case: After obtaining the music resource authorization, use this interface to download the corresponding resources.

<Note title="">
- **When to call**: After initializing the copyrighted music success [initCopyrightedMusic].
- **Caution**: Downloading copyrighted music resources is affected by the Internet.
</Note>

<Warning title="">
- **Available since**: 2.13.0
</Warning>

**Return**

Callback for download song or accompaniment.
</ParamField>
<ParamField
  name="queryCacheWithConfig"
  prototype="  queryCacheWithConfig(config: [ZegoCopyrightedMusicQueryCacheConfig](./struct#zegocopyrightedmusicquerycacheconfig)): boolean"
  desc="Query the resource's cache is existed or not."
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicQueryCacheConfig](./struct#zegocopyrightedmusicquerycacheconfig) | The configuration of querying cache. |

**Details**

Query the resource is existed or not, query the Yinsuda resource cache by default
 Use case: Can be used to check the resource's cache is existed or not

<Note title="">
- **When to call**: After initializing the copyrighted music success [initCopyrightedMusic].
</Note>

<Warning title="">
- **Available since**: 3.9.0
</Warning>

**Return**

The resource's cache is existed or not.
</ParamField>
<ParamField
  name="queryCacheWithConfigV2"
  prototype="  queryCacheWithConfigV2(config: [ZegoCopyrightedMusicQueryCacheConfigV2](./struct#zegocopyrightedmusicquerycacheconfigv2)): boolean"
  desc="Query the resource's cache is existed or not."
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicQueryCacheConfigV2](./struct#zegocopyrightedmusicquerycacheconfigv2) | The configuration of querying cache. |

**Details**

Query the resource is existed or not, query the Yinsuda resource cache by default
 Use case: Can be used to check the resource's cache is existed or not

<Note title="">
- **When to call**: After initializing the copyrighted music success [initCopyrightedMusic].
</Note>

<Warning title="">
- **Available since**: 3.12.0
</Warning>

**Return**

The resource's cache is existed or not.
</ParamField>
<ParamField
  name="getDuration"
  prototype="  getDuration(resourceID: string): number"
  desc="Get the playing time of a song or accompaniment file."
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| resourceID | string | the resource ID corresponding to the song or accompaniment. |

**Details**

Get the playing time of a song or accompaniment file.
 Use case: Can be used to display the playing time information of the song or accompaniment on the view.

<Note title="">
- **When to call**: After initializing the copyrighted music success [initCopyrightedMusic].
</Note>

<Warning title="">
- **Available since**: 2.13.0
</Warning>

**Return**

The playing time of a song or accompaniment file.
</ParamField>
<ParamField
  name="setScoringLevel"
  prototype="  setScoringLevel(level: number): void"
  desc="Set the difficulty level of scoring."
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| level | number | The difficulty level of scoring. The level ranges from 0 to 4. The scoring difficulty decreases from 0 to 4. |

**Details**

Users can set the scoring difficulty level through this function.

<Note title="">
- **When to call**: After calling [initCopyrightedMusic] to initialize copyrighted music successfully, call [startScore] to start scoring.
- **Default value**: When this function is not called, the difficulty level of scoring is 4.
</Note>

<Warning title="">
- **Available since**: 2.22.0
- **Restrictions**: This function does not support dynamic settings. After calling this function successfully, the next call to [startScore] will take effect.
</Warning>
</ParamField>
<ParamField
  name="startScore"
  prototype="  startScore(resourceID: string, pitchValueInterval: number): number"
  desc="Start scoring."
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| resourceID | string | the resource ID corresponding to the accompaniment or accompaniment clip. |
| pitchValueInterval | number | the time interval of real-time pitch line callback, in milliseconds, the default is 50 milliseconds. |

**Details**

Start the scoring function.After starting scoring, the scoring result OnCurrentPitchValueUpdate callback will be received according to the set callback time interval.
 Use case: Can be used to display the singing score on the view.

<Note title="">
- **When to call**: After obtaining verbatim lyrics and playing the accompaniment resources of copyrighted music.
</Note>

<Warning title="">
- **Available since**: 2.15.0
- **Restrictions**: Only support use this api after [startPublishingStream].
</Warning>

**Return**

Error code.
</ParamField>
<ParamField
  name="pauseScore"
  prototype="  pauseScore(resourceID: string): number"
  desc="Pause scoring."
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| resourceID | string | the resource ID corresponding to the accompaniment or accompaniment clip. |

**Details**

Pause ongoing scoring,will stop the [OnCurrentPitchValueUpdate] callback.
 Use case: You can call this interface to pause the scoring function while scoring.

<Note title="">
- **When to call**: It can be called while grading. 
</Note>

<Warning title="">
- **Available since**: 2.15.0
</Warning>

**Return**

Error code.
</ParamField>
<ParamField
  name="resumeScore"
  prototype="  resumeScore(resourceID: string): number"
  desc="Resume scoring."
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| resourceID | string | the resource ID corresponding to the accompaniment or accompaniment clip. |

**Details**

Resume currently paused scoring.
 Use case: When there is currently paused scoring, this interface can be called to resume the scoring function.

<Note title="">
- **When to call**: It can be called when there is currently a paused scoring. 
</Note>

<Warning title="">
- **Available since**: 2.15.0
</Warning>

**Return**

Error code.
</ParamField>
<ParamField
  name="stopScore"
  prototype="  stopScore(resourceID: string): number"
  desc="Stop scoring."
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| resourceID | string | the resource ID corresponding to the accompaniment or accompaniment clip. |

**Details**

End the current rating.The [OnCurrentPitchValueUpdate] callback will be stopped, but the average or total score can still be obtained normally.
 Use case: You can call this interface to end the scoring while scoring.

<Note title="">
- **When to call**: It can be called while grading. 
</Note>

<Warning title="">
- **Available since**: 2.15.0
</Warning>

**Return**

Error code.
</ParamField>
<ParamField
  name="resetScore"
  prototype="  resetScore(resourceID: string): number"
  desc="Reset scoring."
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| resourceID | string | the resource ID corresponding to the accompaniment or accompaniment clip. |

**Details**

Reset the scores that have already been performed,The [OnCurrentPitchValueUpdate] callback will be stopped and the average or total score will be 0.
 Use case: Often used in scenes where the same song is re-sung.

<Note title="">
- **When to call**: It can be called after scoring has been performed. 
</Note>

<Warning title="">
- **Available since**: 2.15.0
</Warning>

**Return**

Error code.
</ParamField>
<ParamField
  name="getPreviousScore"
  prototype="  getPreviousScore(resourceID: string): number"
  desc="Get the score of the previous sentence."
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| resourceID | string | the resource ID corresponding to the accompaniment or accompaniment clip. |

**Details**

Get the score of the previous sentence.
 Use case: Can be used to display the score of each sentence on the view.

<Note title="">
- **When to call**: It can be called after playing the copyright accompaniment or accompaniment clip and starting to score.
</Note>

<Warning title="">
- **Available since**: 2.15.0
</Warning>

**Return**

The score of the previous sentence.
</ParamField>
<ParamField
  name="getAverageScore"
  prototype="  getAverageScore(resourceID: string): number"
  desc="Get average score."
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| resourceID | string | the resource ID corresponding to the accompaniment or accompaniment clip. |

**Details**

Get the average score.
 Use case: Can be used to display the average score on the view.

<Note title="">
- **When to call**: It can be called after playing the copyright accompaniment or accompaniment clip and starting to score.
</Note>

<Warning title="">
- **Available since**: 2.15.0
</Warning>

**Return**

Average score.
</ParamField>
<ParamField
  name="getTotalScore"
  prototype="  getTotalScore(resourceID: string): number"
  desc="Get total score ."
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| resourceID | string | the resource ID corresponding to the accompaniment or accompaniment clip. |

**Details**

Get the total score.
 Use case: Can be used to display the total score on the view.

<Note title="">
- **When to call**: It can be called after playing the copyright accompaniment or accompaniment clip and starting to score.
</Note>

<Warning title="">
- **Available since**: 2.15.0
</Warning>

**Return**

Total score.
</ParamField>
<ParamField
  name="getFullScore"
  prototype="  getFullScore(resourceID: string): number"
  desc="Get full score ."
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| resourceID | string | the resource ID corresponding to the accompaniment or accompaniment clip. |

**Details**

Get the full score.
 Use case: Can be used to display the full score on the view.

<Note title="">
- **When to call**: It can be called after playing the copyright accompaniment or accompaniment clip and starting to score.
</Note>

<Warning title="">
- **Available since**: 3.0.2
</Warning>

**Return**

Full score.
</ParamField>
<ParamField
  name="getStandardPitch"
  prototype="  getStandardPitch(resourceID: string): Promise&lt;Object&gt;"
  desc="Get standard pitch data."
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| resourceID | string | the resource ID corresponding to the accompaniment or accompaniment clip. |

**Details**

Get standard pitch data.
 Use case: Can be used to display standard pitch lines on the view.

<Note title="">
- **Caution**: Only accompaniment or climactic clip assets have pitch lines.
</Note>

<Warning title="">
- **Available since**: 2.15.0
</Warning>

**Return**

Get standard pitch data complete callback.
</ParamField>
<ParamField
  name="getCurrentPitch"
  prototype="  getCurrentPitch(resourceID: string): number"
  desc="Get real-time pitch data."
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| resourceID | string | the resource ID corresponding to the song or accompaniment. |

**Details**

Get real-time pitch data.
 Use case: Can be used to display real-time pitch lines on the view.

<Note title="">
- **When to call**: It can be called after playing the copyright accompaniment or accompaniment clip and starting to score.
</Note>

<Warning title="">
- **Available since**: 2.15.0
</Warning>

**Return**

Real-time pitch data.
</ParamField>
<ParamField
  name="requestSong"
  prototype="  requestSong(config: [ZegoCopyrightedMusicRequestConfig](./struct#zegocopyrightedmusicrequestconfig)): Promise&lt;Object&gt;"
  desc="[Deprecated] Request a song. Deprecated since 3.0.2, please use the [requestResource] function instead."
  suffixes={["deprecated"]}
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicRequestConfig](./struct#zegocopyrightedmusicrequestconfig) | request configuration. |

**Details**

By requesting a song, you can not only obtain basic information about a song (such as duration, song name, and artist), but also obtain the resource ID for local playback, share_token for sharing with others, and related authentication information. Support by the time, by the user monthly, by the room monthly subscription three ways.
 Use case: Get copyrighted songs for local playback and sharing.

<Note title="">
- **When to call**: After initializing the copyrighted music success [initCopyrightedMusic].
- **Caution**: This interface will trigger billing. A song may have three sound qualities: normal, high-definition, and lossless. Each sound quality has a different resource file, and each resource file has a unique resource ID.
</Note>

<Warning title="">
- **Available since**: 2.13.0
</Warning>

<Warning title="Deprecated">Deprecated since 3.0.2, please use the [requestResource] function instead.</Warning>

**Return**

Callback for request song.
</ParamField>
<ParamField
  name="requestAccompaniment"
  prototype="  requestAccompaniment(config: [ZegoCopyrightedMusicRequestConfig](./struct#zegocopyrightedmusicrequestconfig)): Promise&lt;Object&gt;"
  desc="[Deprecated] Request accompaniment. Deprecated since 3.0.2, please use the [requestResource] function instead."
  suffixes={["deprecated"]}
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicRequestConfig](./struct#zegocopyrightedmusicrequestconfig) | request configuration. |

**Details**

You can get the accompaniment resources of the song corresponding to the songID, including resource_id, krc_token, share_token, etc. Supports click-by-point accompaniment.
 Use case: Get copyrighted accompaniment for local playback and sharing.

<Note title="">
- **When to call**: After initializing the copyrighted music success [initCopyrightedMusic].
- **Caution**: This interface will trigger billing.
</Note>

<Warning title="">
- **Available since**: 2.13.0
</Warning>

<Warning title="Deprecated">Deprecated since 3.0.2, please use the [requestResource] function instead.</Warning>

**Return**

Callback for request accompaniment.
</ParamField>
<ParamField
  name="requestAccompanimentClip"
  prototype="  requestAccompanimentClip(config: [ZegoCopyrightedMusicRequestConfig](./struct#zegocopyrightedmusicrequestconfig)): Promise&lt;Object&gt;"
  desc="[Deprecated] Request accompaniment clip. Deprecated since 3.0.2, please use the [requestResource] function instead."
  suffixes={["deprecated"]}
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicRequestConfig](./struct#zegocopyrightedmusicrequestconfig) | request configuration. |

**Details**

You can get the accompaniment clip resources of the song corresponding to the songID, including resource_id, krc_token, share_token, etc. Supports accompaniment clips by pay-per-use.
 Use case: Get copyrighted accompaniment clip for local playback and sharing.

<Note title="">
- **When to call**: After initializing the copyrighted music success [initCopyrightedMusic].
- **Caution**: This interface will trigger billing.
</Note>

<Warning title="">
- **Available since**: 2.13.0
</Warning>

<Warning title="Deprecated">Deprecated since 3.0.2, please use the [requestResource] function instead.</Warning>

**Return**

Callback for request accompaniment clip.
</ParamField>
<ParamField
  name="getMusicByToken"
  prototype="  getMusicByToken(shareToken: string): Promise&lt;Object&gt;"
  desc="[Deprecated] Get a song or accompaniment. Deprecated since 3.0.2, please use the [getSharedResource] function instead."
  suffixes={["deprecated"]}
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| shareToken | string | access the corresponding authorization token for a song or accompaniment. |

**Details**

After the user successfully obtains the song/accompaniment/accompaniment clip resource, he can get the corresponding shareToken, share the shareToken with other users, and other users call this interface to obtain the shared music resources.
 Use case: In the online KTV scene, after receiving the song or accompaniment token shared by the lead singer, the chorus obtains the corresponding song or accompaniment through this interface, and then plays it on the local end.

<Note title="">
- **When to call**: After initializing the copyrighted music success [initCopyrightedMusic].
</Note>

<Warning title="">
- **Available since**: 2.13.0
</Warning>

<Warning title="Deprecated">Deprecated since 3.0.2, please use the [getSharedResource] function instead.</Warning>

**Return**

Callback for acquire songs or accompaniment through authorization token.
</ParamField>
<ParamField
  name="getLrcLyric"
  prototype="  getLrcLyric(songID: string): Promise&lt;Object&gt;"
  desc="[Deprecated] Get lyrics in lrc format. Deprecated since 3.2.1, please use the method [getLrcLyricWithVendorID]."
  suffixes={["deprecated"]}
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| songID | string | the ID of the song or accompaniment, the song and accompaniment of a song share the same ID. |

**Details**

Get lyrics in lrc format, support parsing lyrics line by line.
 Use case: Used to display lyrics line by line.

<Note title="">
- **When to call**: After initializing the copyrighted music success [initCopyrightedMusic].
</Note>

<Warning title="">
- **Available since**: 2.13.0
</Warning>

<Warning title="Deprecated">Deprecated since 2.14.0, please use the method [getLrcLyricWithVendorID].</Warning>

**Return**

Get lrc format lyrics complete callback.
</ParamField>
<ParamField
  name="queryCache"
  prototype="  queryCache(songID: string, type: [ZegoCopyrightedMusicType](./enum#zegocopyrightedmusictype)): boolean"
  desc="[Deprecated] Query the resource's cache is existed or not. Deprecated since 3.2.1, please use the method [queryCacheWithVendorID]."
  suffixes={["deprecated"]}
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| songID | string | the ID of the song or accompaniment, the song and accompaniment of a song share the same ID. |
| type | [ZegoCopyrightedMusicType](./enum#zegocopyrightedmusictype) | the song resource type. |

**Details**

Query the resource is existed or not.
 Use case: Can be used to check the resource's cache is existed or not

<Note title="">
- **When to call**: After initializing the copyrighted music success [initCopyrightedMusic].
</Note>

<Warning title="">
- **Available since**: 2.13.0
</Warning>

<Warning title="Deprecated">Deprecated since 3.2.1, please use the method [queryCacheWithVendorID].</Warning>

**Return**

The resource's cache is existed or not.
</ParamField>
<ParamField
  name="queryCacheWithVendorID"
  prototype="  queryCacheWithVendorID(songID: string, type: [ZegoCopyrightedMusicType](./enum#zegocopyrightedmusictype), vendorID: [ZegoCopyrightedMusicVendorID](./enum#zegocopyrightedmusicvendorid)): boolean"
  desc="[Deprecated] Query the resource's cache is existed or not. Deprecated since 3.9.0, please use the method [queryCacheWithConfig] with the name with [config] parameter instead."
  suffixes={["deprecated"]}
  parent_file="Declared in \`ZegoExpressCopyrightedMusic.js\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| songID | string | the ID of the song or accompaniment, the song and accompaniment of a song share the same ID. |
| type | [ZegoCopyrightedMusicType](./enum#zegocopyrightedmusictype) | the song resource type. |
| vendorID | [ZegoCopyrightedMusicVendorID](./enum#zegocopyrightedmusicvendorid) | Copyright music resource song copyright provider. |

**Details**

Query the resource is existed or not, query the Yinsuda resource cache by default
 Use case: Can be used to check the resource's cache is existed or not

<Note title="">
- **When to call**: After initializing the copyrighted music success [initCopyrightedMusic].
</Note>

<Warning title="">
- **Available since**: 3.2.1
</Warning>

<Warning title="Deprecated">Deprecated since 3.9.0, please use the method [queryCacheWithConfig] with the name with [config] parameter instead.</Warning>

**Return**

The resource's cache is existed or not.
</ParamField>

## ZegoExpressEngine

*Declared in `ZegoExpressEngine.js`*

### Methods
<ParamField
  name="createEngine"
  prototype="  createEngine(profile: [ZegoEngineProfile](./struct#zegoengineprofile)): Promise&lt;Object&gt;"
  desc="Create ZegoExpressEngine singleton object and initialize SDK."
  prefixes={["static"]}
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| profile | [ZegoEngineProfile](./struct#zegoengineprofile) | The basic configuration information is used to create the engine. |

**Details**

Create ZegoExpressEngine singleton object and initialize SDK.

<Note title="">
- **When to call**: The engine needs to be created before calling other functions.
- **Caution**: The SDK only supports the creation of one instance of ZegoExpressEngine. If you need call [createEngine] multiple times, you need call [destroyEngine] before you call the next [createEngine]. Otherwise it will return the instance which created by [createEngine] you called last time.
</Note>

<Warning title="">
- **Available since**: 2.14.0
- **Restrictions**: None.
</Warning>

**Return**

The result notification callback of create engine.
</ParamField>
<ParamField
  name="destroyEngine"
  prototype="  destroyEngine(): void"
  desc="Destroy the ZegoExpressEngine singleton object and deinitialize the SDK."
  prefixes={["static"]}
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
Destroy the ZegoExpressEngine singleton object and deinitialize the SDK.

<Note title="">
- **When to call**: When the SDK is no longer used, the resources used by the SDK can be released through this interface
- **Caution**: After using [createEngine] to create a singleton, if the singleton object has not been created or has been destroyed, you will not receive related callbacks when calling this function.
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="setEngineConfig"
  prototype="  setEngineConfig(config: [ZegoEngineConfig](./struct#zegoengineconfig)): void"
  desc="Set advanced engine configuration."
  prefixes={["static"]}
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | [ZegoEngineConfig](./struct#zegoengineconfig) | Advanced engine configuration |

**Details**

Used to enable advanced functions.

<Note title="">
- **When to call**: Different configurations have different call timing requirements. For details, please consult ZEGO technical support.
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="setLogConfig"
  prototype="  setLogConfig(config: [ZegoLogConfig](./struct#zegologconfig)): void"
  desc="Set log configuration."
  prefixes={["static"]}
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | [ZegoLogConfig](./struct#zegologconfig) | log configuration. |

**Details**

If you need to customize the log file size and path, please call this function to complete the configuration.

<Note title="">
- **When to call**: It must be set before calling [createEngine] to take effect. If it is set after [createEngine], it will take effect at the next [createEngine] after [destroyEngine].
- **Caution**: Once this interface is called, the method of setting log size and path via [setEngineConfig] will be invalid.Therefore, it is not recommended to use [setEngineConfig] to set the log size and path.
</Note>

<Warning title="">
- **Available since**: 2.3.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="setRoomMode"
  prototype="  setRoomMode(mode: [ZegoRoomMode](./enum#zegoroommode)): void"
  desc="Set room mode."
  prefixes={["static"]}
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mode | [ZegoRoomMode](./enum#zegoroommode) | Room mode. Description: Used to set the room mode. Use cases: If you need to enter multiple rooms at the same time for publish-play stream, please turn on the multi-room mode through this interface. Required: True. Default value: ZEGO_ROOM_MODE_SINGLE_ROOM. |

**Details**

If you need to use the multi-room feature, please call this function to complete the configuration.

<Note title="">
- **When to call**: Must be set before calling [createEngine] to take effect, otherwise it will fail.
- **Caution**: None.
</Note>

<Warning title="">
- **Available since**: 2.9.0
- **Restrictions**: If you need to use the multi-room feature, please contact the instant technical support to configure the server support.
</Warning>
</ParamField>
<ParamField
  name="setGeoFence"
  prototype="  setGeoFence(type: [ZegoGeoFenceType](./enum#zegogeofencetype), areaList: Array<number>): void"
  desc="Set Geo Fence."
  prefixes={["static"]}
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| type | [ZegoGeoFenceType](./enum#zegogeofencetype) | Geo fence type. Description: Used to set the geo fence type. |
| areaList | Array\<number\> | Geo fence area. Description: Used to describe the range of geo fence. |

**Details**

If you need to use the geo fence feature, please call this function to complete the configuration.

<Note title="">
- **When to call**: Must be set before calling [createEngine] to take effect, otherwise it will fail.
- **Caution**: None.
</Note>

<Warning title="">
- **Available since**: 3.4.0
- **Restrictions**: If you need to use the geo fence feature, please contact ZEGO Technical Support.
</Warning>
</ParamField>
<ParamField
  name="getVersion"
  prototype="  getVersion(): string"
  desc="Gets the SDK's version number."
  prefixes={["static"]}
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
If you encounter an abnormality during the running of the SDK, you can submit the problem, log and other information to the ZEGO technical staff to locate and troubleshoot. Developers can also collect current SDK version information through this API, which is convenient for App operation statistics and related issues.

<Note title="">
- **When to call**: Any time.
- **Caution**: None.
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>

SDK version.
</ParamField>
<ParamField
  name="isFeatureSupported"
  prototype="  isFeatureSupported(featureType: [ZegoFeatureType](./enum#zegofeaturetype)): boolean"
  desc="Query whether the current SDK supports the specified feature."
  prefixes={["static"]}
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| featureType | [ZegoFeatureType](./enum#zegofeaturetype) | Type of feature to query. |

**Details**

Since the SDK supports feature trimming, some features may be trimmed;
   you can use this function to quickly determine whether the current SDK supports the specified features,
   such as querying whether the media player feature is supported.

<Note title="">
- **When to call**: Any time.
</Note>

<Warning title="">
- **Available since**: 2.22.0
</Warning>

**Return**

Whether the specified feature is supported. true: supported; false: not supported.
</ParamField>
<ParamField
  name="init"
  prototype="  init(appID: number, appSign: string, isTestEnv: boolean, scenario: [ZegoScenario](./enum#zegoscenario)): Promise&lt;Object&gt;"
  desc="[Deprecated] Initializes the Engine. Deprecated since 2.14.0, please use the method [createEngine] instead."
  prefixes={["static"]}
  suffixes={["deprecated"]}
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| appID | number | Application ID issued by ZEGO for developers, please apply from the ZEGO Admin Console [https://console.zegocloud.com](https://console.zegocloud.com) The value ranges from 0 to 4294967295. |
| appSign | string | Application signature for each AppID, please apply from the ZEGO Admin Console. Application signature is a 64 character string. Each character has a range of '0' ~ '9', 'a' ~ 'z'. AppSign 2.17.0 and later allows null or no transmission. If the token is passed empty or not passed, the token must be entered in the [ZegoRoomConfig] parameter for authentication when the [loginRoom] interface is called to login to the room. |
| isTestEnv | boolean | [Deprecated] For providing better and more standardized services, starting from 2021-11-16, ZEGO no longer classifies environments into production environments and testing environments. f you create your project in ZEGO Admin Console on/before 2021-11-16, refer to [Testing environment deprecation](https://docs.zegocloud.com/article/13315) to upgrade the SDK and adjust related codes. |
| scenario | [ZegoScenario](./enum#zegoscenario) | The room scenario. the SDK will optimize the audio and video configuration for the specified scenario to achieve the best effect in this scenario. After specifying the scenario, you can call other APIs to adjusting the audio and video configuration. Differences between scenarios and how to choose a suitable scenario, please refer to [https://docs.zegocloud.com/article/14940](https://docs.zegocloud.com/article/14940) |

**Details**

The engine needs to be initialized before calling other functions

<Warning title="Deprecated">Deprecated since 2.14.0, please use the method [createEngine] instead.</Warning>

**Return**

Engine singleton instance.
</ParamField>
<ParamField
  name="setRoomScenario"
  prototype="  setRoomScenario(scenario: [ZegoScenario](./enum#zegoscenario)): void"
  desc="Set room scenario."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| scenario | [ZegoScenario](./enum#zegoscenario) | Room scenario. |

**Details**

You can set the scenario of the room, and the SDK will adopt different optimization strategies for different scenarios in order to obtain better effects; this function does exactly the same thing as the [scenario] parameter in the [profile] configuration of [createEngine].

<Note title="">
- **Use cases**: This function is suitable for apps in various audio and video business scenarios, such as 1v1 video call (or voice call) scenario and live show scenario; this function can be used to switch scenarios without destroying the engine through [destroyEngine].
- **When to call**: Must be set before calling [loginRoom] AND after calling [createEngine].
- **Caution**:   1. Users in the same room are recommended to use the same room scenario for best results. 
  2. Setting the scenario will affect the audio and video bit rate, frame rate, resolution, codec id, audio device mode, audio route type, traffic control, 3A, ear return and other audio and video configurations. If you have special needs, you can call various other APIs to set the above configuration after calling this API. 
  3. Calling this function will override the scenario specified on [createEngine] or the scenario set by the last call to this function.
  4. Calling this function will overwrite the audio and video related configuration you set through APIs such as [setVideoConfig], [setAudioConfig], so it is recommended to set the scenario first and then adjust the audio and video configuration through other APIs.
</Note>

<Warning title="">
- **Available since**: 3.0.0
- **Restrictions**: Once you log in to the room, you are no longer allowed to modify the room scenario. If you need to modify the scenario, you need to log out of the room first. If you log in to multiple rooms, you need to log out of all rooms before you can modify it.
</Warning>
</ParamField>
<ParamField
  name="uploadLog"
  prototype="  uploadLog(): void"
  desc="Uploads logs to the ZEGO server."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
By default, SDK creates and prints log files in the App's default directory. Each log file defaults to a maximum of 5MB. Three log files are written over and over in a circular fashion. When calling this function, SDK will auto package and upload the log files to the ZEGO server.

<Note title="">
- **Use cases**: Developers can provide a business “feedback” channel in the App. When users feedback problems, they can call this function to upload the local log information of SDK to help locate user problems.
- **When to call**: After [createEngine].
- **Caution**: 1.After calling this interface to upload logs, if you call [destroyEngine] or exit the App too quickly, there may be a failure.It is recommended to wait a few seconds, and then call [destroyEngine] or exit the App after receiving the upload success callback. 2.If you want to call before [createEngine], use the [submitLog] interface.
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**:  The frequency limit is once per minute.
</Warning>
</ParamField>
<ParamField
  name="enableDebugAssistant"
  prototype="  enableDebugAssistant(enable: boolean): void"
  desc="Enable the debug assistant. Note, do not enable this feature in the online version! Use only during development phase!"
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | Whether to enable the debug assistant. |

**Details**

After enabled, the SDK will print logs to the console, and will pop-up an alert (toast) UI message when there is a problem with calling other SDK functions.

<Note title="">
- **Default value**: This function is disabled by default.
- **When to call**: This function can be called right after [createEngine].
- **Platform differences**: The pop-up alert function only supports Android / iOS / macOS / Windows, and the console log function supports all platforms.
- **Caution**: Be sure to confirm that this feature is turned off before the app is released to avoid pop-up UI alert when an error occurs in your release version's app. It is recommended to associate the [enable] parameter of this function with the DEBUG variable of the app, that is, only enable the debug assistant in the DEBUG environment.
</Note>

<Warning title="">
- **Available since**: 2.17.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="callExperimentalAPI"
  prototype="  callExperimentalAPI(params: string): string"
  desc="Call the experimental API."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| params | string | Parameters in the format of a JSON string, please consult ZEGO technical support for details. |

**Details**

ZEGO provides some technical previews or special customization functions in RTC business through this API. If you need to get the use of the function or the details, please consult ZEGO technical support.

<Note title="">
- **When to call**: After [createEngine].
</Note>

<Warning title="">
- **Available since**: 2.7.0
</Warning>

**Return**

Returns an argument in the format of a JSON string, please consult ZEGO technical support for details.
</ParamField>
<ParamField
  name="onDebugError"
  prototype="  onDebugError(errorCode: number, funcName: string, info: string): void"
  desc="The callback for obtaining debugging error information."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| errorCode | number | Error code, please refer to the error codes document [https://docs.zegocloud.com/en/5548.html](https://docs.zegocloud.com/en/5548.html) for details. |
| funcName | string | Function name. |
| info | string | Detailed error information. |

**Details**

When the SDK functions are not used correctly, the callback prompts for detailed error information.

<Note title="">
- **Trigger**: Notify the developer when an exception occurs in the SDK.
- **Caution**: None.
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="onEngineStateUpdate"
  prototype="  onEngineStateUpdate(state: [ZegoEngineState](./enum#zegoenginestate)): void"
  desc="The callback triggered when the audio/video engine state changes."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| state | [ZegoEngineState](./enum#zegoenginestate) | The audio/video engine state. |

**Details**

Callback notification of audio/video engine status update. When audio/video functions are enabled, such as preview, push streaming, local media player, audio data observering, etc., the audio/video engine will enter the start state. When you exit the room or disable all audio/video functions , The audio/video engine will enter the stop state.

<Note title="">
- **Trigger**: The developer called the relevant function to change the state of the audio and video engine. For example: 1. Called ZegoExpressEngine's [startPreview], [stopPreview], [startPublishingStream], [stopPublishingStream], [startPlayingStream], [stopPlayingStream], [startAudioDataObserver], [stopAudioDataObserver] and other functions. 2. The related functions of MediaPlayer are called. 3. The [LogoutRoom] function was called. 4. The related functions of RealTimeSequentialDataManager are called.
- **Caution**:   1. When the developer calls [destroyEngine], this notification will not be triggered because the resources of the SDK are completely released.
  2. If there is no special need, the developer does not need to pay attention to this callback.
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="onRecvExperimentalAPI"
  prototype="  onRecvExperimentalAPI(content: string): void"
  desc="Experimental API callback"
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| content | string | Callback content in JSON string format. |

**Details**

Receive experimental API callbacks in JSON string format.

<Note title="">
- **Caution**: Please use this feature with the help of ZEGO Technical Support.
</Note>

<Warning title="">
- **Available since**: 2.7.0
</Warning>
</ParamField>
<ParamField
  name="loginRoom"
  prototype="  loginRoom(roomID: string, user: [ZegoUser](./struct#zegouser), config: [ZegoRoomConfig](./struct#zegoroomconfig)): void"
  desc="Log in to the room by configuring advanced properties, and return the login result through the callback parameter. You must log in to the room before pushing or pulling the stream."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| roomID | string | Room ID, a string of less 128 bytes in length.<br/>  Caution:<br/>  1. room ID is defined by yourself.<br/>  2. Only support numbers, English characters and '~', '!', '@', '#', '$', '%', '^', '&', '*', '(', ')', '_', '+', '=', '-', '`', ';', '’', ',', '.', '&lt;', '&gt;', '\'.<br/>  3. If you need to communicate with the Web SDK, please do not use '%'. |
| user | [ZegoUser](./struct#zegouser) | User object instance, configure userID, userName. Note that the userID needs to be globally unique with the same appID, otherwise the user who logs in later will kick out the user who logged in first. |
| config | [ZegoRoomConfig](./struct#zegoroomconfig) | Advanced room configuration. |

**Details**

If the room does not exist, [loginRoom] creates and logs in the room. SDK uses the 'room' to organize users. After users log in to a room, they can use interface such as push stream [startPublishingStream], pull stream [startPlayingStream], send and receive broadcast messages [sendBroadcastMessage], etc. To prevent the app from being impersonated by a malicious user, you can add authentication before logging in to the room, that is, the [token] parameter in the ZegoRoomConfig object passed in by the [config] parameter.

<Note title="">
- **Use cases**: In the same room, users can conduct live broadcast, audio and video calls, etc.
- **When to call /Trigger**: This interface is called after [createEngine] initializes the SDK.
- **Caution**:   1. Apps that use different appIDs cannot intercommunication with each other.
  2. SDK supports startPlayingStream audio and video streams from different rooms under the same appID, that is, startPlayingStream audio and video streams across rooms. Since ZegoExpressEngine's room related callback notifications are based on the same room, when developers want to startPlayingStream streams across rooms, developers need to maintain related messages and signaling notifications by themselves.
  3. It is strongly recommended that userID corresponds to the user ID of the business APP, that is, a userID and a real user are fixed and unique, and should not be passed to the SDK in a random userID. Because the unique and fixed userID allows ZEGO technicians to quickly locate online problems.
  4. After the first login failure due to network reasons or the room is disconnected, the default time of SDK reconnection is 20min.
- **Privacy reminder**: Please do not fill in sensitive user information in this interface, including but not limited to mobile phone number, ID number, passport number, real name, etc.
- **Related callbacks**:   1. When the user starts to log in to the room, the room is successfully logged in, or the room fails to log in, the [onRoomStateChanged] (Not supported before 2.18.0, please use [onRoomStateUpdate]) callback will be triggered to notify the developer of the status of the current user connected to the room.
  2. Different users who log in to the same room can get room related notifications in the same room (eg [onRoomUserUpdate], [onRoomStreamUpdate], etc.), and users in one room cannot receive room signaling notifications in another room.
  3. If the network is temporarily interrupted due to network quality reasons, the SDK will automatically reconnect internally. You can get the current connection status of the local room by listening to the [onRoomStateChanged] (Not supported before 2.18.0, please use [onRoomStateUpdate]) callback method, and other users in the same room will receive [onRoomUserUpdate] callback notification.
  4. Messages sent in one room (e.g. [setStreamExtraInfo], [sendBroadcastMessage], [sendBarrageMessage], [sendCustomCommand], etc.) cannot be received callback ((eg [onRoomStreamExtraInfoUpdate], [onIMRecvBroadcastMessage], [onIMRecvBarrageMessage], [onIMRecvCustomCommand], etc) in other rooms. Currently, SDK does not provide the ability to send messages across rooms. Developers can integrate the SDK of third-party IM to achieve.
- **Related APIs**:   1. Users can call [logoutRoom] to log out. In the case that a user has successfully logged in and has not logged out, if the login interface is called again, the console will report an error and print the error code 1002001.
  2. SDK supports multi-room login, please call [setRoomMode] function to select multi-room mode before engine initialization, and then call [loginRoom] to log in to multi-room.
  3. Calling [destroyEngine] will also automatically log out.
</Note>

<Warning title="">
- **Available since**: 2.18.0
- **Restrictions**: For restrictions on the use of this function, please refer to [https://docs.zegocloud.com/article/7611](https://docs.zegocloud.com/article/7611) or contact ZEGO technical support.
</Warning>
</ParamField>
<ParamField
  name="logoutRoom"
  prototype="  logoutRoom(roomID: string): void"
  desc="Exit the room of the specified room ID."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| roomID | string | Room ID, a string of up to 128 bytes in length.<br/>  Caution:<br/>  1. Only support numbers, English characters and '~', '!', '@', '#', '$', '%', '^', '&', '*', '(', ')', '_', '+', '=', '-', '`', ';', '’', ',', '.', '&lt;', '&gt;', '\'.<br/>  2. If you need to communicate with the Web SDK, please do not use '%'.<br/>  3. If this parameter is not passed, SDK will exit the room that the current user has logged in to. If multiple rooms are enabled, all rooms will be logged out. |

**Details**

This API will log out the room named roomID.

<Note title="">
- **Use cases**: In the same room, users can conduct live broadcast, audio and video calls, etc.
- **When to call /Trigger**: After successfully logging in to the room, if the room is no longer used, the user can call the function [logoutRoom].
- **Caution**: 1. Exiting the room will stop all publishing and playing streams for user, and inner audio and video engine will stop, and then SDK will auto stop local preview UI. If you want to keep the preview ability when switching rooms, please use the [switchRoom] method. 2. If the user logs out to the room, but the incoming 'roomID' is different from the logged-in room name, SDK will return failure.
- **Related callbacks**: After calling this function, you will receive [onRoomStateChanged] (Not supported before 2.18.0, please use [onRoomStateUpdate]) callback notification successfully exits the room, while other users in the same room will receive the [onRoomUserUpdate] callback notification(On the premise of enabling isUserStatusNotify configuration).
- **Related APIs**: Users can use [loginRoom], [switchRoom] functions to log in or switch rooms.
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="switchRoom"
  prototype="  switchRoom(fromRoomID: string, toRoomID: string, config: [ZegoRoomConfig](./struct#zegoroomconfig)): void"
  desc="Switch the room with advanced room configurations."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| fromRoomID | string | Current roomID. |
| toRoomID | string | The next roomID. |
| config | [ZegoRoomConfig](./struct#zegoroomconfig) | Advanced room configuration. |

**Details**

Using this interface allows users to quickly switch from one room to another room.

<Note title="">
- **Use cases**: if you need to quickly switch to the next room, you can call this function.
- **When to call /Trigger**: After successfully login room.
- **Caution**:   1. When this function is called, all streams currently publishing or playing will stop (but the local preview will not stop).
  2. To prevent the app from being impersonated by a malicious user, you can add authentication before logging in to the room, that is, the [token] parameter in the ZegoRoomConfig object passed in by the [config] parameter. This parameter configuration affects the room to be switched over.
  3. Multi-room mode is supported in version 3.5.0 (use the function [setRoomMode] to set ZegoRoomMode to ZEGO_ROOM_MODE_MULTI_ROOM).
  4. If a Token is passed in for login when logging into the room [loginRoom], the [switchroom] interface must be used with the config parameter and the corresponding Token value passed in when switching rooms.
- **Privacy reminder**: Please do not fill in sensitive user information in this interface, including but not limited to mobile phone number, ID number, passport number, real name, etc.
- **Related callbacks**: When the user call the [switchRoom] function, the [onRoomStateChanged] (Not supported before 2.18.0, please use [onRoomStateUpdate]) callback will be triggered to notify the developer of the status of the current user connected to the room.
- **Related APIs**: Users can use the [logoutRoom] function to log out of the room.
</Note>

<Warning title="">
- **Available since**: 1.15.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="renewToken"
  prototype="  renewToken(roomID: string, token: string): void"
  desc="Renew token."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| roomID | string | Room ID. |
| token | string | The token that needs to be renew. |

**Details**

After the developer receives [onRoomTokenWillExpire], they can use this API to update the token to ensure that the subsequent RTC functions are normal.

<Note title="">
- **Use cases**: Used when the token is about to expire.
- **When to call /Trigger**: After the developer receives [onRoomTokenWillExpire].
- **Caution**: The token contains important information such as the user's room permissions, publish stream permissions, and effective time, please refer to [https://docs.zegocloud.com/article/11649.](https://docs.zegocloud.com/article/11649.)
- **Related callbacks**: None.
- **Related APIs**: None.
</Note>

<Warning title="">
- **Available since**: 2.8.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="setRoomExtraInfo"
  prototype="  setRoomExtraInfo(roomID: string, key: string, value: string): Promise&lt;Object&gt;"
  desc="Set room extra information."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| roomID | string | Room ID. |
| key | string | key of the extra info. |
| value | string | value if the extra info. |

**Details**

The user can call this function to set the extra info of the room.

<Note title="">
- **Use cases**: You can set some room-related business attributes, such as whether someone is Co-hosting.
- **When to call /Trigger**: After logging in the room successful.
- **Caution**: For key and value restrictions, please refer to Restrictions. Newly set values ​​will overwrite old ones.
- **Related callbacks**: Other users in the same room will be notified through the [onRoomExtraInfoUpdate] callback function.
- **Related APIs**: None.
</Note>

<Warning title="">
- **Available since**: 1.13.0
- **Restrictions**: For restrictions on the use of this function, please refer to [https://docs.zegocloud.com/article/7611](https://docs.zegocloud.com/article/7611) or contact ZEGO technical support.
</Warning>

**Return**

Set room extra info execution result notification
</ParamField>
<ParamField
  name="onRoomStateUpdate"
  prototype="  onRoomStateUpdate(roomID: string, state: [ZegoRoomState](./enum#zegoroomstate), errorCode: number, extendedData: string): void"
  desc="Notification of the room connection state changes."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| roomID | string | Room ID, a string of up to 128 bytes in length. |
| state | [ZegoRoomState](./enum#zegoroomstate) | Changed room state. |
| errorCode | number | Error code, For details, please refer to [Common Error Codes](https://docs.zegocloud.com/article/5548). |
| extendedData | string | Extended Information with state updates. When the room login is successful, the key "room_session_id" can be used to obtain the unique RoomSessionID of each audio and video communication, which identifies the continuous communication from the first user in the room to the end of the audio and video communication. It can be used in scenarios such as call quality scoring and call problem diagnosis. |

**Details**

This callback is triggered when the connection status of the room changes, and the reason for the change is notified.For versions 2.18.0 and above, it is recommended to use the onRoomStateChanged callback instead of the onRoomStateUpdate callback to monitor room state changes.

<Note title="">
- **Use cases**: Developers can use this callback to determine the status of the current user in the room.
 When to trigger:
 1. The developer will receive this notification when calling the [loginRoom], [logoutRoom], [switchRoom] functions.
 2. This notification may also be received when the network condition of the user's device changes (SDK will automatically log in to the room when disconnected, please refer to [Does ZEGO SDK support a fast reconnection for temporary disconnection] for details](https://docs.zegocloud.com/faq/reconnect?product=ExpressVideo&platform=all).
- **Caution**: If the connection is being requested for a long time, the general probability is that the user's network is unstable.
- **Related APIs**: [loginRoom]、[logoutRoom]、[switchRoom]
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="onRoomStateChanged"
  prototype="  onRoomStateChanged(roomID: string, reason: [ZegoRoomStateChangedReason](./enum#zegoroomstatechangedreason), errorCode: number, extendedData: string): void"
  desc="Notification of the room connection state changes, including specific reasons for state change."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| roomID | string | Room ID, a string of up to 128 bytes in length. |
| reason | [ZegoRoomStateChangedReason](./enum#zegoroomstatechangedreason) | Room state change reason. |
| errorCode | number | Error code, please refer to the error codes document [https://doc-en.zego.im/en/5548.html](https://doc-en.zego.im/en/5548.html) for details. |
| extendedData | string | Extended Information with state updates. When the room login is successful, the key "room_session_id" can be used to obtain the unique RoomSessionID of each audio and video communication, which identifies the continuous communication from the first user in the room to the end of the audio and video communication. It can be used in scenarios such as call quality scoring and call problem diagnosis. |

**Details**

This callback is triggered when the connection status of the room changes, and the reason for the change is notified.For versions 2.18.0 and above, it is recommended to use the onRoomStateChanged callback instead of the onRoomStateUpdate callback to monitor room state changes.

<Note title="">
- **Use cases**: Developers can use this callback to determine the status of the current user in the room.
 When to trigger: Users will receive this notification when they call room functions (refer to [Related APIs]). 2. This notification may also be received when the user device's network conditions change (SDK will automatically log in to the room again when the connection is disconnected, refer to [https://doc-zh.zego.im/faq/reconnect](https://doc-zh.zego.im/faq/reconnect) ).
- **Caution**: If the connection is being requested for a long time, the general probability is that the user's network is unstable.
- **Related APIs**: [loginRoom], [logoutRoom], [switchRoom]
</Note>

<Warning title="">
- **Available since**: 2.18.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="onRoomUserUpdate"
  prototype="  onRoomUserUpdate(roomID: string, updateType: [ZegoUpdateType](./enum#zegoupdatetype), userList: [ZegoUser](./struct#zegouser)[]): void"
  desc="The callback triggered when the number of other users in the room increases or decreases."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| roomID | string | Room ID where the user is logged in, a string of up to 128 bytes in length. |
| updateType | [ZegoUpdateType](./enum#zegoupdatetype) | Update type (add/delete). |
| userList | [ZegoUser](./struct#zegouser)[] | List of users changed in the current room. |

**Details**

When other users in the room are online or offline, which causes the user list in the room to change, the developer will be notified through this callback.

<Note title="">
- **Use cases**: Developers can use this callback to update the user list display in the room in real time.
 When to trigger:
  1. When the user logs in to the room for the first time, if there are other users in the room, the SDK will trigger a callback notification with `updateType` being [ZegoUpdateTypeAdd], and `userList` is the other users in the room at this time.
  2. The user is already in the room. If another user logs in to the room through the [loginRoom] or [switchRoom] functions, the SDK will trigger a callback notification with `updateType` being [ZegoUpdateTypeAdd].
  3. If other users log out of this room through the [logoutRoom] or [switchRoom] functions, the SDK will trigger a callback notification with `updateType` being [ZegoUpdateTypeDelete].
  4. The user is already in the room. If another user is kicked out of the room from the server, the SDK will trigger a callback notification with `updateType` being [ZegoUpdateTypeDelete].
- **Related APIs**: [loginRoom]、[logoutRoom]、[switchRoom]
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: If developers need to use ZEGO room users notifications, please ensure that the [ZegoRoomConfig] sent by each user when logging in to the room has the [isUserStatusNotify] property set to true, otherwise the callback notification will not be received.
</Warning>
</ParamField>
<ParamField
  name="onRoomOnlineUserCountUpdate"
  prototype="  onRoomOnlineUserCountUpdate(roomID: string, count: number): void"
  desc="The callback triggered every 30 seconds to report the current number of online users."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| roomID | string | Room ID where the user is logged in, a string of up to 128 bytes in length. |
| count | number | Count of online users. |

**Details**

This method will notify the user of the current number of online users in the room.

<Note title="">
- **Use cases**: Developers can use this callback to show the number of user online in the current room.
- **When to call /Trigger**: After successfully logging in to the room.
- **Caution**: 1. This function is called back every 30 seconds. 2. Because of this design, when the number of users in the room exceeds 500, there will be some errors in the statistics of the number of online people in the room.
</Note>

<Warning title="">
- **Available since**: 1.7.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="onRoomStreamUpdate"
  prototype="  onRoomStreamUpdate(roomID: string, updateType: [ZegoUpdateType](./enum#zegoupdatetype), streamList: [ZegoStream](./struct#zegostream)[], extendedData: string): void"
  desc="The callback triggered when the number of streams published by the other users in the same room increases or decreases."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| roomID | string | Room ID where the user is logged in, a string of up to 128 bytes in length. |
| updateType | [ZegoUpdateType](./enum#zegoupdatetype) | Update type (add/delete). |
| streamList | [ZegoStream](./struct#zegostream)[] | Updated stream list. |
| extendedData | string | Extended information with stream updates.When receiving a stream deletion notification, the developer can convert the string into a json object to get the stream_delete_reason field, which is an array of stream deletion reasons, and the stream_delete_reason[].code field may have the following values: 1 (the user actively stops publishing stream) ; 2 (user heartbeat timeout); 3 (user repeated login); 4 (user kicked out); 5 (user disconnected); 6 (removed by the server). |

**Details**

When other users in the room start publishing stream or stop publishing stream, the streaming list in the room changes, and the developer will be notified through this callback.

<Note title="">
- **Use cases**: This callback is used to monitor stream addition or stream deletion notifications of other users in the room. Developers can use this callback to determine whether other users in the same room start or stop publishing stream, so as to achieve active playing stream [startPlayingStream] or take the initiative to stop the playing stream [stopPlayingStream], and use it to change the UI controls at the same time.
 When to trigger:
  1. When the user logs in to the room for the first time, if there are other users publishing streams in the room, the SDK will trigger a callback notification with `updateType` being [ZegoUpdateTypeAdd], and `streamList` is an existing stream list.
  2. The user is already in the room. if another user adds a new push, the SDK will trigger a callback notification with `updateType` being [ZegoUpdateTypeAdd].
  3. The user is already in the room. If other users stop streaming, the SDK will trigger a callback notification with `updateType` being [ZegoUpdateTypeDelete].
  4. The user is already in the room. If other users leave the room, the SDK will trigger a callback notification with `updateType` being [ZegoUpdateTypeDelete].
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="onRoomStreamExtraInfoUpdate"
  prototype="  onRoomStreamExtraInfoUpdate(roomID: string, streamList: [ZegoStream](./struct#zegostream)[]): void"
  desc="The callback triggered when there is an update on the extra information of the streams published by other users in the same room."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| roomID | string | Room ID where the user is logged in, a string of up to 128 bytes in length. |
| streamList | [ZegoStream](./struct#zegostream)[] | List of streams that the extra info was updated. |

**Details**

All users in the room will be notified by this callback when the extra information of the stream in the room is updated.

<Note title="">
- **Use cases**: Users can realize some business functions through the characteristics of stream extra information consistent with stream life cycle.
- **When to call /Trigger**: When a user publishing the stream update the extra information of the stream in the same room, other users in the same room will receive the callback.
- **Caution**: Unlike the stream ID, which cannot be modified during the publishing process, the stream extra information can be updated during the life cycle of the corresponding stream ID.
- **Related APIs**: Users who publish stream can set extra stream information through [setStreamExtraInfo].
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="onRoomExtraInfoUpdate"
  prototype="  onRoomExtraInfoUpdate(roomID: string, roomExtraInfoList: [ZegoRoomExtraInfo](./struct#zegoroomextrainfo)[]): void"
  desc="The callback triggered when there is an update on the extra information of the room."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| roomID | string | Room ID where the user is logged in, a string of up to 128 bytes in length. |
| roomExtraInfoList | [ZegoRoomExtraInfo](./struct#zegoroomextrainfo)[] | List of the extra info updated. |

**Details**

After the room extra information is updated, all users in the room will be notified except update the room extra information user.

<Note title="">
- **Use cases**: Extra information for the room.
- **When to call /Trigger**: When a user update the room extra information, other users in the same room will receive the callback.
- **Related APIs**: Users can update room extra information through [setRoomExtraInfo] function.
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="onRoomTokenWillExpire"
  prototype="  onRoomTokenWillExpire(roomID: string, remainTimeInSecond: number): void"
  desc="Callback notification that room Token authentication is about to expire."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| roomID | string | Room ID where the user is logged in, a string of up to 128 bytes in length. |
| remainTimeInSecond | number | The remaining time before the token expires. |

**Details**

The callback notification that the room Token authentication is about to expire, please use [renewToken] to update the room Token authentication.

<Note title="">
- **Use cases**: In order to prevent illegal entry into the room, it is necessary to perform authentication control on login room, push streaming, etc., to improve security.
- **When to call /Trigger**: 30 seconds before the Token expires, the SDK will call [onRoomTokenWillExpire] to notify developer.
- **Caution**: The token contains important information such as the user's room permissions, publish stream permissions, and effective time, please refer to [https://docs.zegocloud.com/article/11649.](https://docs.zegocloud.com/article/11649.)
- **Related APIs**: When the developer receives this callback, he can use [renewToken] to update the token authentication information.
</Note>

<Warning title="">
- **Available since**: 2.8.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="startPublishingStream"
  prototype="  startPublishingStream(streamID: string, config?: [ZegoPublisherConfig](./struct#zegopublisherconfig), channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Starts publishing a stream. Support multi-room mode."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| streamID | string | Stream ID, a string of up to 256 characters.<br/>  Caution:<br/>  1. Stream ID is defined by you.<br/>  2. needs to be globally unique within the entire AppID. If in the same AppID, different users publish each stream and the stream ID is the same, which will cause the user to publish the stream failure. You cannot include URL keywords, otherwise publishing stream and playing stream will fails.<br/>  3. Only support numbers, English characters and '-', '_'. |
| config | [ZegoPublisherConfig](./struct#zegopublisherconfig) | Advanced publish configuration. |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publish stream channel. |

**Details**

Users push their local audio and video streams to the ZEGO RTC server or CDN, and other users in the same room can pull the audio and video streams to watch through the `streamID` or CDN pull stream address.

<Note title="">
- **Use cases**: It can be used to publish streams in real-time connecting wheat, live broadcast and other scenarios.
- **When to call**: After [loginRoom].
- **Caution**:   1. Before start to publish the stream, the user can choose to call [setVideoConfig] to set the relevant video parameters, and call [startPreview] to preview the video.
  2. Other users in the same room can get the streamID by monitoring the [onRoomStreamUpdate] event callback after the local user publishing stream successfully.
  3. In the case of poor network quality, user publish may be interrupted, and the SDK will attempt to reconnect. You can learn about the current state and error information of the stream published by monitoring the [onPublisherStateUpdate] event.
  4. To call [SetRoomMode] function to select multiple rooms, the room ID must be specified explicitly.
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="stopPublishingStream"
  prototype="  stopPublishingStream(channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Stops publishing a stream (for the specified channel)."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publish stream channel. |

**Details**

The user stops sending local audio and video streams, and other users in the room will receive a stream deletion notification.

<Note title="">
- **Use cases**: It can be used to stop publish streams in real-time connecting wheat, live broadcast and other scenarios.
- **When to call**: After [startPublishingStream].
- **Caution**:   1. After stopping the streaming, other users in the same room can receive the delete notification of the stream by listening to the [onRoomStreamUpdate] callback.
  2. If the user has initiated publish flow, this function must be called to stop the publish of the current stream before publishing the new stream (new streamID), otherwise the new stream publish will return a failure.
  3. After stopping streaming, the developer should stop the local preview based on whether the business situation requires it.
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="setStreamExtraInfo"
  prototype="  setStreamExtraInfo(extraInfo: string, channel: [ZegoPublishChannel](./enum#zegopublishchannel)): Promise&lt;Object&gt;"
  desc="Sets the extra information of the stream being published for the specified publish channel."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| extraInfo | string | Stream extra information, a string of up to 1024 characters. |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publish stream channel. |

**Details**

Use this function to set the extra info of the stream. The stream extra information is an extra information identifier of the stream ID. Unlike the stream ID, which cannot be modified during the publishing process, the stream extra information can be modified midway through the stream corresponding to the stream ID. Developers can synchronize variable content related to stream IDs based on stream additional information.

<Note title="">
- **When to call**: After the engine is created [createEngine], Called before and after [startPublishingStream] can both take effect.
- **Related callbacks**: Users can obtain the execution result of the function through [ZegoPublisherSetStreamExtraInfoCallback] callback.
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>

**Return**

Set stream extra information execution result notification.
</ParamField>
<ParamField
  name="startPreview"
  prototype="  startPreview(view: [ZegoView](./struct#zegoview), channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Starts/Updates the local video preview (for the specified channel)."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| view | [ZegoView](./struct#zegoview) | The view used to display the preview image. |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publish stream channel |

**Details**

The user can see his own local image by calling this function.

<Note title="">
- **Use cases**: It can be used for local preview in real-time connecting wheat, live broadcast and other scenarios.
- **When to call**: After [createEngine].
- **Caution**: 1. The preview function does not require you to log in to the room or publish the stream first. But after exiting the room, SDK internally actively stops previewing by default. 2. Local view and preview modes can be updated by calling this function again. The user can only preview on one view. If you call [startPreview] again to pass in a new view, the preview screen will only be displayed in the new view. 3. You can set the mirror mode of the preview by calling the [setVideoMirrorMode] function. The default preview setting is image mirrored. 4. When this function is called, the audio and video engine module inside SDK will start really, and it will start to try to collect audio and video.
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="stopPreview"
  prototype="  stopPreview(channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Stops the local preview (for the specified channel)."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publish stream channel |

**Details**

This function can be called to stop the preview when the preview is not needed locally.

<Note title="">
- **Caution**: Stopping the preview will not affect the publish stream and playing stream functions.
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>
</ParamField>
<ParamField
  name="setVideoConfig"
  prototype="  setVideoConfig(config: ([[ZegoVideoConfig](./struct#zegovideoconfig)Preset](/javascript_electron/enum/ZegoVideoConfigPreset)|ZegoVideoConfig), channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Sets up the video configurations (for the specified channel)."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | ([[ZegoVideoConfig](./struct#zegovideoconfig)Preset](/javascript_electron/enum/ZegoVideoConfigPreset)\|ZegoVideoConfig) | Video configuration, the SDK provides a common setting combination of resolution, frame rate and bit rate, they also can be customized. |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publish stream channel. |

**Details**

Set the video frame rate, bit rate, video capture resolution, and video encoding output resolution.

<Note title="">
- **Default value**: The default video capture resolution is 360p, the video encoding output resolution is 360p, the bit rate is 600 kbps, and the frame rate is 15 fps.
- **When to call**: After [createEngine].
- **Caution**: Developers should note that the wide and high resolution of the mobile end is opposite to the wide and high resolution of the PC. For example, in the case of 360p, the resolution of the mobile end is 360x640, and the resolution of the PC end is 640x360.
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: It is necessary to set the relevant video configuration before [startPreview], and only support the modification of the encoding resolution, the bit rate and the frame rate after [startPreview].
</Warning>
</ParamField>
<ParamField
  name="getVideoConfig"
  prototype="  getVideoConfig(channel: [ZegoPublishChannel](./enum#zegopublishchannel)): [ZegoVideoConfig](./struct#zegovideoconfig)"
  desc="Gets the current video configurations (for the specified channel)."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publish stream channel |

**Details**

This function can be used to get the specified publish channel's current video frame rate, bit rate, video capture resolution, and video encoding output resolution.
 This function is only available in ZegoExpressVideo SDK!

**Return**

Video configuration object
</ParamField>
<ParamField
  name="setVideoMirrorMode"
  prototype="  setVideoMirrorMode(mirrorMode: [ZegoVideoMirrorMode](./enum#zegovideomirrormode), channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Sets the video mirroring mode (for the specified channel)."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mirrorMode | [ZegoVideoMirrorMode](./enum#zegovideomirrormode) | Mirror mode for previewing or publishing the stream. |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publish stream channel. |

**Details**

Set whether the local preview video and the published video have mirror mode enabled. For specific mirroring mode.

<Note title="">
- **When to call**: After [createEngine].
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: This setting only works if the SDK is responsible for rendering.
  This function is only available in ZegoExpressVideo SDK!
</Warning>
</ParamField>
<ParamField
  name="setAudioConfig"
  prototype="  setAudioConfig(config: ([[ZegoAudioConfig](./struct#zegoaudioconfig)Preset](/javascript_electron/enum/ZegoAudioConfigPreset)|ZegoAudioConfig)): void"
  desc="Sets up the audio configurations."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | ([[ZegoAudioConfig](./struct#zegoaudioconfig)Preset](/javascript_electron/enum/ZegoAudioConfigPreset)\|ZegoAudioConfig) | Audio config. |

**Details**

You can set the combined value of the audio codec, bit rate, and audio channel through this function. If the preset value cannot meet the developer's scenario, the developer can set the parameters according to the business requirements.

<Note title="">
- **Default value**: The default audio config refers to the default value of [ZegoAudioConfig]. 
- **When to call**: After the engine is created [createEngine], and before publishing [startPublishingStream].
- **Caution**: Act on the main publish channel ZegoPublishChannel.Main.
- **Related APIs**: [getAudioConfig].
</Note>

<Warning title="">
- **Available since**: 1.3.4
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="setAudioConfigWithChannel"
  prototype="  setAudioConfigWithChannel(config: ([[ZegoAudioConfig](./struct#zegoaudioconfig)Preset](/javascript_electron/enum/ZegoAudioConfigPreset)|ZegoAudioConfig), channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Sets up the audio configurations for the specified publish channel."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | ([[ZegoAudioConfig](./struct#zegoaudioconfig)Preset](/javascript_electron/enum/ZegoAudioConfigPreset)\|ZegoAudioConfig) | Audio config. |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publish stream channel. |

**Details**

You can set the combined value of the audio codec, bit rate, and audio channel through this function. If the preset value cannot meet the developer's scenario, the developer can set the parameters according to the business requirements.

<Note title="">
- **Default value**: The default audio config refers to the default value of [ZegoAudioConfig]. 
- **When to call**: After the engine is created [createEngine], and before publishing [startPublishingStream].
- **Related APIs**: [getAudioConfig].
</Note>

<Warning title="">
- **Available since**: 1.3.4
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="getAudioConfig"
  prototype="  getAudioConfig(): [ZegoAudioConfig](./struct#zegoaudioconfig)"
  desc="Gets the current audio configurations."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
You can get the current audio codec, bit rate, and audio channel through this function.

<Note title="">
- **When to call**: After the engine is created [createEngine].
- **Caution**: Act on the main publish channel ZegoPublishChannel.Main.
- **Related APIs**: [setAudioConfig].
</Note>

<Warning title="">
- **Available since**: 1.8.0
- **Restrictions**: None.
</Warning>

Audio config.
</ParamField>
<ParamField
  name="setPublishStreamEncryptionKey"
  prototype="  setPublishStreamEncryptionKey(key: string, channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Set encryption key for the publishing stream for the specified publish channel."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| key | string | The encryption key, note that the key length only supports 16/24/32 bytes. |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publish stream channel. |

**Details**

Support calling this function to update the encryption key while publishing stream.

<Note title="">
- **When to call**: After the engine is created [createEngine], Called before and after [startPublishingStream] can both take effect.
- **Caution**:  that developers need to update the player's decryption key before updating the publisher's encryption key. 
- **Related APIs**: Calling [stopPublishingStream] or [logoutRoom] will clear the encryption key.
</Note>

<Warning title="">
- **Available since**: 1.19.0
- **Restrictions**: This function is only valid when publishing stream to the Zego RTC server.
</Warning>
</ParamField>
<ParamField
  name="takePublishStreamSnapshot"
  prototype="  takePublishStreamSnapshot(channel: [ZegoPublishChannel](./enum#zegopublishchannel)): Promise&lt;Object&gt;"
  desc="Take a snapshot of the publishing stream for the specified publish channel."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publish stream channel. |

**Details**

Take a snapshot of the publishing stream.

<Note title="">
- **When to call**: Called this function after calling [startPublishingStream] or [startPreview].
- **Caution**: The resolution of the snapshot is the encoding resolution set in [setVideoConfig]. If you need to change it to capture resolution, please call [setCapturePipelineScaleMode] to change the capture pipeline scale mode to [Post].
- **Related callbacks**: The screenshot result will be called back through [ZegoPublisherTakeSnapshotCallback].
- **Related APIs**: [takePlayStreamSnapshot].
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 1.17.0
- **Restrictions**: None.
</Warning>

**Return**

Results of take publish stream snapshot.
</ParamField>
<ParamField
  name="mutePublishStreamAudio"
  prototype="  mutePublishStreamAudio(mute: boolean, channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Stops or resumes sending the audio part of a stream for the specified channel."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mute | boolean | Whether to stop sending audio streams, true means not to send audio stream, and false means sending audio stream. The default is false. |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publish stream channel. |

**Details**

This function can be called when publishing the stream to realize not publishing the audio data stream. The SDK still collects and processes the audio, but send muted audio frame packets to the network.
 Use case: Users can call this interface when they do not want to publish any audio data. This interface does not affect [onBeforeAudioPrepAudioData].

<Note title="">
- **When to call**: Called after the engine is created [createEngine] can take effect.
- **Related callbacks**: If you stop sending audio streams, the remote user that play stream of local user publishing stream can receive `Mute` status change notification by monitoring [onRemoteMicStateUpdate] callbacks.
- **Related APIs**: [mutePublishStreamVideo].
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="mutePublishStreamVideo"
  prototype="  mutePublishStreamVideo(mute: boolean, channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Stops or resumes sending the video part of a stream for the specified channel."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mute | boolean | Whether to stop sending video streams, true means not to send video stream, and false means sending video stream. The default is false. |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publish stream channel. |

**Details**

This function can be called when publishing the stream to realize not publishing the video stream. The local camera can still work normally, can capture, preview and process video images normally, but does not send the video data to the network.

<Note title="">
- **When to call**: Called after the engine is created [createEngine] can take effect.
- **Related callbacks**: If you stop sending video streams locally, the remote user that play stream of local user publishing stream can receive `Mute` status change notification by monitoring [onRemoteCameraStateUpdate] callbacks.
- **Related APIs**: [mutePublishStreamAudio].
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="setStreamAlignmentProperty"
  prototype="  setStreamAlignmentProperty(alignment: number, channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Enable or disable the stream precision alignment function."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| alignment | number | Whether to enable the stream mixing precision alignment function. |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publish stream channel |

**Details**

Use this interface to enable stream alignment, the SDK will attach network time information to the stream when publishing it for accurate stream alignment.
 Use case: Generally used in scenarios such as KTV where stream mixing alignment is required.

<Note title="">
- **When to call**: After the engine is created [createEngine].
- **Caution**: If you need to align each stream through network time when playing multiple streams or mixed streams, you need to call [startPublishingStream] to publish the stream and [forceSynchronousNetworkTime] in [ZegoPublisherConfig] is 1 to enable network time synchronization.
- **Related APIs**: [startMixerTask], [startAutoMixerTask]
</Note>

<Warning title="">
- **Available since**: 2.11.0.
</Warning>
</ParamField>
<ParamField
  name="enableTrafficControl"
  prototype="  enableTrafficControl(enable: boolean, property: number, channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Enables or disables the traffic control for the specified publish channel."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | Whether to enable traffic control. The default is ture. |
| property | number | Adjustable property of traffic control, bitmask format. Should be one or the combinations of [ZegoTrafficControlProperty] enumeration. [AdaptiveFPS] as default. |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publish stream channel. |

**Details**

Enabling traffic control allows the SDK to adjust the audio and video streaming bitrate according to the current upstream network environment conditions, or according to the counterpart's downstream network environment conditions in a one-to-one interactive scenario, to ensure smooth results. At the same time, you can further specify the attributes of traffic control to adjust the corresponding control strategy.

<Note title="">
- **Default value**: Enable.
- **When to call**: After the engine is created [createEngine], Called before [startPublishingStream] can take effect.
</Note>

<Warning title="">
- **Available since**: 1.5.0
- **Restrictions**: Only support RTC publish.
</Warning>
</ParamField>
<ParamField
  name="setMinVideoBitrateForTrafficControl"
  prototype="  setMinVideoBitrateForTrafficControl(bitrate: number, mode: [ZegoTrafficControlMinVideoBitrateMode](./enum#zegotrafficcontrolminvideobitratemode)): void"
  desc="Set the minimum video bitrate threshold for traffic control."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| bitrate | number | Minimum video bitrate threshold for traffic control(kbps). |
| mode | [ZegoTrafficControlMinVideoBitrateMode](./enum#zegotrafficcontrolminvideobitratemode) | Video sending mode below the minimum bitrate. |

**Details**

Set the control strategy when the video bitrate reaches the lowest threshold during flow control. When the bitrate is lower than the minimum threshold, you can choose not to send video data or send it at a very low frame bitrate.

<Note title="">
- **Default value**: There is no control effect of the lowest threshold of video bitrate.
- **When to call**: After the engine is created [createEngine], Called before [startPublishingStream] can take effect.
- **Caution**: Act on the main publish channel ZegoPublishChannel.Main.
- **Related APIs**: [enableTrafficControl].
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: The traffic control must be turned on [enableTrafficControl].
</Warning>
</ParamField>
<ParamField
  name="setMinVideoFpsForTrafficControl"
  prototype="  setMinVideoFpsForTrafficControl(fps: number, channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Sets the minimum video frame rate threshold for traffic control."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| fps | number | The minimum video frame rate threshold for traffic control(fps). |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publish stream channel. |

**Details**

When enabling traffic control [enableTrafficControl], and its parameter [property] includes the attribute AdaptiveFPS, the minimum frame rate of the video will not be lower than the value set by the [setMinVideoFpsForTrafficControl] interface. A value of 0 indicates no limit.

<Note title="">
- **Default value**: There is no control effect of the lowest threshold of video frame rate.
- **When to call**: The call takes effect after the engine [createEngine] is created.
- **Related APIs**: [enableTrafficControl].
- **Caution**: If you need to cancel the limit of the setting value, you can set it to 0.
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 2.17.0
- **Restrictions**: The traffic control must be turned on [enableTrafficControl]. And its parameter [property] must contain AdaptiveFPS, Please refer to [ZegoTrafficControlProperty] for details.
</Warning>
</ParamField>
<ParamField
  name="setMinVideoResolutionForTrafficControl"
  prototype="  setMinVideoResolutionForTrafficControl(width: number, height: number, channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Sets the minimum video resolution threshold for traffic control."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| width | number | The flow controls the width of the lowest video resolution. |
| height | number | The flow controls the height of the lowest video resolution. |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publish stream channel. |

**Details**

When enabling traffic control [enableTrafficControl], and its parameter [property] includes the attribute AdaptiveResolution, the minimum resolution of the video will not be lower than the value set by the [setMinVideoResolutionForTrafficControl] interface. A value of 0 indicates no limit.

<Note title="">
- **Default value**: There is no control effect of the lowest threshold of video resolution.
- **When to call**: The call takes effect after the engine [createEngine] is created.
- **Related APIs**: [enableTrafficControl].
- **Caution**: If you need to cancel the limit of the setting value, you can set width and height to 0.
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 2.17.0
- **Restrictions**: The traffic control must be turned on [enableTrafficControl]. And its parameter [property] must contain AdaptiveResolution, Please refer to [ZegoTrafficControlProperty] for details.
</Warning>
</ParamField>
<ParamField
  name="setTrafficControlFocusOn"
  prototype="  setTrafficControlFocusOn(mode: [ZegoTrafficControlFocusOnMode](./enum#zegotrafficcontrolfocusonmode), channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Set the factors of concern that trigger traffic control for the specified publish channel."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mode | [ZegoTrafficControlFocusOnMode](./enum#zegotrafficcontrolfocusonmode) | When LOCAL_ONLY is selected, only the local network status is concerned. When choosing REMOTE, also take into account the remote network. |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publish stream channel. |

**Details**

Use this interface to control whether to start traffic control due to poor remote network conditions.

<Note title="">
- **Default value**: Default is disable.
- **When to call**: After the engine is created [createEngine], Called before [startPublishingStream] can take effect.
- **Related APIs**: [enableTrafficControl.
</Note>

<Warning title="">
- **Available since**: 2.4.0
- **Restrictions**: The traffic control must be turned on [enableTrafficControl].
</Warning>
</ParamField>
<ParamField
  name="setCaptureVolume"
  prototype="  setCaptureVolume(volume: number): void"
  desc="Sets the audio recording volume for stream publishing."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| volume | number | The volume gain percentage, the range is 0 ~ 200, and the default value is 100, which means 100% of the original collection volume of the device. |

**Details**

This function is used to perform gain processing based on the device's collected volume. The local user can control the sound level of the audio stream sent to the remote end.

<Note title="">
- **Default value**: Default is 100.
- **When to call**: After creating the engine [createEngine].
- **Related APIs**: Set the playing stream volume [setPlayVolume].
</Note>

<Warning title="">
- **Available since**: 1.13.0
- **Restrictions**: The capture volume can be dynamically set during publishing.
</Warning>
</ParamField>
<ParamField
  name="setAudioCaptureStereoMode"
  prototype="  setAudioCaptureStereoMode(mode: [ZegoAudioCaptureStereoMode](./enum#zegoaudiocapturestereomode)): void"
  desc="Set audio capture stereo mode."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mode | [ZegoAudioCaptureStereoMode](./enum#zegoaudiocapturestereomode) | Audio stereo capture mode. |

**Details**

This function is used to set the audio capture channel mode. When the developer turns on the stereo capture, using a special stereo capture device, the stereo audio data can be captured and streamed.

<Note title="">
- **Use cases**: In some professional scenes, users are particularly sensitive to sound effects, such as voice radio and musical instrument performance. At this time, support for stereo and high-quality sound is required.
- **Default value**: The default is None, which means mono capture.
- **When to call**: It needs to be called after [createEngine]， before [startPublishingStream], [startPlayingStream], [startPreview], [createMediaPlayer], [createAudioEffectPlayer] and [createRealTimeSequentialDataManager].
- **Related APIs**: When streaming, you need to enable the stereo audio encoding function through the [setAudioConfig] interface at the same time.
</Note>

<Warning title="">
- **Available since**: 1.15.0 (iOS/Android/Windows/OHOS); support macOS since 2.16.0
- **Restrictions**: If you need to enable stereo capture, you also need to meet the following conditions: For iOS/Android, you need to connect an external audio device that supports stereo capture and be at the media volume. For macOS, it needs to be at the media volume. For Windows, an external audio device that supports stereo capture is required.
</Warning>
</ParamField>
<ParamField
  name="addPublishCdnUrl"
  prototype="  addPublishCdnUrl(streamID: string, targetURL: string): Promise&lt;Object&gt;"
  desc="Adds a target CDN URL to which the stream will be relayed from ZEGO RTC server."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| streamID | string | Stream ID. |
| targetURL | string | CDN relay address, supported address format is rtmp, rtmps. |

**Details**

Forward audio and video streams from ZEGO RTC servers to custom CDN content distribution networks with high latency but support for high concurrent pull streams.

<Note title="">
- **Use cases**: 1. It is often used in large-scale live broadcast scenes that do not have particularly high requirements for delay. 2. Since ZEGO RTC server itself can be configured to support CDN(content distribution networks), this function is mainly used by developers who have CDN content distribution services themselves. 3. This function supports dynamic relay to the CDN content distribution network, so developers can use this function as a disaster recovery solution for CDN content distribution services.
- **When to call**: After calling the [createEngine] function to create the engine.
- **Caution**: Removing URLs retweeted to CDN requires calling [removePublishCdnUrl], calling [stopPublishingStream] will not remove URLs publish to CDN.
- **Related APIs**: Remove URLs that are re-pushed to the CDN [removePublishCdnUrl].
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: When the [enablePublishDirectToCDN] function is set to true to publish the stream straight to the CDN, then calling this function will have no effect.
</Warning>

**Return**

The execution result of update the relay CDN operation.
</ParamField>
<ParamField
  name="removePublishCdnUrl"
  prototype="  removePublishCdnUrl(streamID: string, targetURL: string): Promise&lt;Object&gt;"
  desc="Deletes the specified CDN URL, which is used for relaying streams from ZEGO RTC server to CDN."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| streamID | string | Stream ID. |
| targetURL | string | CDN relay address, supported address format rtmp. |

**Details**

When a CDN forwarding address has been added via [addPublishCdnUrl], this function is called when the stream needs to be stopped.

<Note title="">
- **When to call**: After calling the [createEngine] function to create the engine, When you don't need to continue publish to the CDN.
- **Caution**: This function does not stop publishing audio and video stream to the ZEGO ZEGO RTC server.
- **Related APIs**: Add URLs that are re-pushed to the CDN [addPublishCdnUrl].
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: When the [enablePublishDirectToCDN] function is set to true to publish the stream straight to the CDN, then calling this function will have no effect.
</Warning>

**Return**

The execution result of update the relay CDN operation.
</ParamField>
<ParamField
  name="enablePublishDirectToCDN"
  prototype="  enablePublishDirectToCDN(enable: boolean, config: ?[ZegoCDNConfig](./struct#zegocdnconfig), channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Whether to directly push to CDN (without going through the ZEGO RTC server), for the specified channel."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | Whether to enable direct publish CDN, true: enable direct publish CDN, false: disable direct publish CDN. |
| config | ?[ZegoCDNConfig](./struct#zegocdnconfig) | CDN configuration, if null, use Zego's background default configuration. |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publish stream channel. |

**Details**

Whether to publish streams directly from the client to CDN without passing through Zego RTC server.

<Note title="">
- **Use cases**: It is often used in large-scale live broadcast scenes that do not have particularly high requirements for delay.
- **Default value**: The default is false, and direct push is not enabled.
- **When to call**: After creating the engine [createEngine], before starting to push the stream [startPublishingStream].
- **Caution**: The Direct Push CDN feature does not pass through the ZEGO Real-Time Audio and Video Cloud during network transmission, so you cannot use ZEGO's ultra-low latency audio and video services.
- **Related APIs**: Dynamic re-push to CDN function [addPublishCdnUrl], [removePublishCdnUrl].
</Note>

<Warning title="">
- **Available since**: 1.5.0
</Warning>
</ParamField>
<ParamField
  name="setPublishWatermark"
  prototype="  setPublishWatermark(watermark: ?[ZegoWatermark](./struct#zegowatermark), isPreviewVisible: boolean, channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Sets up the stream watermark before stream publishing (for the specified channel)."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| watermark | ?[ZegoWatermark](./struct#zegowatermark) | The upper left corner of the watermark layout is the origin of the coordinate system, and the area cannot exceed the size set by the encoding resolution. If it is null, the watermark is cancelled. |
| isPreviewVisible | boolean | the watermark is visible on local preview |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publish stream channel. |

**Details**

Set watermark for publish stream screen.

<Note title="">
- **Use cases**: It is often used to identify the source of the publish.
- **When to call**: After creating the engine through [createEngine] function.
- **Caution**: The layout of the watermark cannot exceed the video encoding resolution of the stream. It can be set at any time before or during the publishing stream.
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>
</ParamField>
<ParamField
  name="setSEIConfig"
  prototype="  setSEIConfig(config: [ZegoSEIConfig](./struct#zegoseiconfig)): void"
  desc="Set the Supplemental Enhancement Information type."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | [ZegoSEIConfig](./struct#zegoseiconfig) | SEI configuration. The SEI defined by ZEGO is used by default. |

**Details**

By default, the SDK wraps the data with ZEGO's self-defined SEI type, which is not specified by the SEI standard. When the developer needs to use a third-party decoder to decode the SEI, the correct SEI will not be decoded and the [setSEIConfig] interface needs to be called to change the type of the SEI sent by the SDK to UserUnregister type.

<Note title="">
- **Use cases**: This function needs to be executed when the developer uses a third-party decoder to decode the SEI.
- **When to call**: After creating the engine [createEngine], before starting to push the stream [startPublishingStream].
</Note>

<Warning title="">
- **Available since**: 1.18.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="sendSEI"
  prototype="  sendSEI(data: ArrayBuffer, channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Sends Supplemental Enhancement Information to the specified publish channel."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| data | ArrayBuffer | SEI data. |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publish stream channel. |

**Details**

While pushing the stream to transmit the audio and video stream data, the stream media enhancement supplementary information is sent to synchronize some other additional information.

<Note title="">
- **Use cases**: Generally used in scenes such as synchronizing music lyrics or precise video layout, you can choose to send SEI.
- **When to call**: After starting to push the stream [startPublishingStream].
- **Caution**: 1. Due to network issues, frame loss may occur, which means SEI information may also be lost. To address this situation, it is advisable to send it multiple times within a limited frequency. 2. Even if the [enableCamera] interface is called to turn off the camera or [mutePublishStreamVideo] is used to stop sending video data, SEI can still be successfully sent; as long as the playback side does not call the [mutePlayStreamVideo] interface to stop pulling audio data, SEI can still be received normally. 3. If the SDK does not support the video module but does support the SEI functional module, SEI information can still be sent normally.
- **Related APIs**: After the pusher sends the SEI, the puller can obtain the SEI content by monitoring the callback of [onPlayerRecvSEI].
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: Do not exceed 30 times per second, and the SEI data length is limited to 4096 bytes.
</Warning>
</ParamField>
<ParamField
  name="enableHardwareEncoder"
  prototype="  enableHardwareEncoder(enable: boolean): void"
  desc="Enables or disables hardware encoding."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | Whether to enable hardware encoding, true: enable hardware encoding, false: disable hardware encoding. |

**Details**

Whether to use the hardware encoding function when publishing the stream, the GPU is used to encode the stream and to reduce the CPU usage.

<Note title="">
- **When to call**: The setting can take effect before the stream published. If it is set after the stream published, the stream should be stopped first before it takes effect.
- **Caution**: Because hard-coded support is not particularly good for a few models, SDK uses software encoding by default. If the developer finds that the device is hot when publishing a high-resolution audio and video stream during testing of some models, you can consider calling this function to enable hard coding.
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>
</ParamField>
<ParamField
  name="setCapturePipelineScaleMode"
  prototype="  setCapturePipelineScaleMode(mode: [ZegoCapturePipelineScaleMode](./enum#zegocapturepipelinescalemode)): void"
  desc="Sets the timing of video scaling in the video capture workflow. You can choose to do video scaling right after video capture (the default value) or before encoding."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mode | [ZegoCapturePipelineScaleMode](./enum#zegocapturepipelinescalemode) | The capture scale timing mode. |

<Note title="">
- **When to call**: This function needs to be set before call [startPreview] or [startPublishingStream].
- **Caution**: The main effect is Whether the local preview is affected when the acquisition resolution is different from the encoding resolution.
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>
</ParamField>
<ParamField
  name="setDummyCaptureImagePath"
  prototype="  setDummyCaptureImagePath(filePath: string, channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Set the path of the static picture would be published when the camera is closed."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| filePath | string | Picture file path |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publish channel. |

**Details**

Set the path of the static picture would be published when enableCamera(false) is called, it would start to publish static pictures, and when enableCamera(true) is called, it would end publishing static pictures.
 Use case: The developer wants to display a static picture when the camera is closed. For example, when the anchor exits the background, the camera would be actively closed. At this time, the audience side needs to display the image of the anchor temporarily leaving.

<Note title="">
- **When to call**: After the engine is initialized, call this API to configure the parameters before closing the camera.
- **Caution**:   1. The static picture cannot be seen in the local preview.
  2. External filters, mirroring, watermarks, and snapshots are all invalid.
  3. If the picture aspect ratio is inconsistent with the set code aspect ratio, it will be cropped according to the code aspect ratio.
  4. To publish the audio stream, you must call this interface again and set the image path to empty to avoid video billing.
- **Platform differences**:   1. Windows: Fill in the location of the picture directly, such as "D://dir//image.jpg".
  2. iOS: If it is a full path, add the prefix "file:", such as @"file:/var/image.png"; If it is a assets picture path, add the prefix "asset:", such as @"asset:watermark".
  3. Android: If it is a full path, add the prefix "file:", such as "file:/sdcard/image.png"; If it is a assets directory path, add the prefix "asset:", such as "asset:watermark.png".
  4. Flutter: If it is a absolute path, add the prefix "file:", such as "file:/sdcard/image.png"; If it is a assets resources directory path, add the prefix "flutter-asset://", such as "flutter-asset://assets/watermark.png".
  5. UniApp: Only absolute paths are supported. You need to add a "file:" prefix, such as: "file:/sdcard/image.png".
</Note>

<Warning title="">
- **Restrictions**:   1. Supported picture types are JPEG/JPG, PNG, BMP, HEIF.
  2. The function is only for SDK video capture and does not take effect for custom video capture.
  3. Not supported that the filePath is a network link.
</Warning>
</ParamField>
<ParamField
  name="enableH265EncodeFallback"
  prototype="  enableH265EncodeFallback(enable: boolean): void"
  desc="Whether to enable H.265 encoding to automatically downgrade to H.264 encoding."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | Whether to enable H.265 coding automatically fallback to H.264 coding, true: enable, false: disable, and the default value is true |

**Details**

When using H.265 encoding to push the stream, whether to enable the strategy of automatically degrading H.265 encoding to H.264 encoding under abnormal circumstances.After enabling automatic downgrade, when H.265 encoding is not supported or H.265 encoding fails, the SDK will try to downgrade and use H.264 encoding to push the stream.After turning off automatic downgrade, when H.265 encoding is not supported or H.265 encoding fails, the direct streaming fails.

<Note title="">
- **Use cases**: In the Co-hosting and Showroom Live Streaming scenarios, use H265 encoding to push the stream to save CDN traffic without degrading the picture quality.
 Default Value: When this interface is not called, the default is yes, which means that H.265 encoding is turned on and automatically downgraded to H.264 encoding.
- **When to call**: After creating the engine, call the [startPublishingStream] function before pushing the stream.
- **Related callbacks**: When the H.265 encoding is automatically downgraded to the H.264 encoding strategy, the [onPublisherVideoEncoderChanged] callback will be triggered when the encoding method changes.
- **Caution**: When downgrading from H.265 to H.264 encoding occurs during the streaming process, if you are recording local video or cloud recording, multiple recording files will be generated, which needs to be dealt with.
</Note>

<Warning title="">
- **Available since**: 2.12.0
</Warning>
</ParamField>
<ParamField
  name="isVideoEncoderSupported"
  prototype="  isVideoEncoderSupported(codecID: [ZegoVideoCodecID](./enum#zegovideocodecid), codecBackend: [ZegoVideoCodecBackend](./enum#zegovideocodecbackend)): number"
  desc="Whether the specified video encoding type and implementation are supported."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| codecID | [ZegoVideoCodecID](./enum#zegovideocodecid) | Video codec id. Required: Yes. |
| codecBackend | [ZegoVideoCodecBackend](./enum#zegovideocodecbackend) | Backend implementation of encoder. Required: Yes. |

**Details**

Whether the specified video encoding is supported depends on the following aspects, whether the hardware model supports hard encoding, whether the performance of the hardware model supports soft encoding, and whether the SDK has the encoding module.

<Note title="">
- **When to call**: After creating the engine.
- **Caution**: It is recommended that users call this interface to obtain H.265 encoding support capability before publish stream with H.265 encoding, if not supported, you can use other encodings for publish, such as H.264.On the mobile platform, the SDK only supports H.265 hardware encoding, and it is affected by the model and hardware capabilities.
</Note>

<Warning title="">
- **Available since**: 3.0.0 and above
</Warning>

**Return**

Whether the specified video encoding format is supported; 0 means not supported, and the encoding format cannot be used for publish stream; 1 means support, you can use this encoding format for publish stream; 2 means not confirmed, it is recommended to call this interface later.
</ParamField>
<ParamField
  name="setLowlightEnhancement"
  prototype="  setLowlightEnhancement(mode: [ZegoLowlightEnhancementMode](./enum#zegolowlightenhancementmode), channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Set low light enhancement."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mode | [ZegoLowlightEnhancementMode](./enum#zegolowlightenhancementmode) | Low light enhancement mode. |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publish stream channel. |

**Details**

According to the set low-light enhancement mode, the brightness of the image captured by the camera is enhanced, which is compatible with the beauty function. Users can watch the effect while previewing and toggle the low-light enhancement mode in real time.

<Note title="">
- **Use cases**: The environment on the streaming end is dark, or the frame rate set by the camera is high, which causes the picture to be dark, and the subject cannot be displayed or recognized normally.
- **Default value**: Off.
- **When to call**: After creating the engine [createEngine].
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 2.21.0
</Warning>
</ParamField>
<ParamField
  name="setVideoSource"
  prototype="  setVideoSource(source: [ZegoVideoSourceType](./enum#zegovideosourcetype), instanceID: number, channel: [ZegoPublishChannel](./enum#zegopublishchannel)): number"
  desc="Set a video capture instance as video capture source for the specified channel."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| source | [ZegoVideoSourceType](./enum#zegovideosourcetype) | Video capture source. |
| instanceID | number | Video capture source instance id. |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publish stream channel. |

**Details**

Set video capture source for switching between different video capture sources.

<Note title="">
- **Use cases**: Typically used in educational scenarios that require switching between different video capture sources.
- **When to call**: After the engine is created [createEngine].
- **Caution**: 1. Main push channel ZegoPublishChannel.Main does not support using ZegoVideoSourceType.Player and ZegoVideoSourceType.MainPublishChannel video source type. 
 2. When using ZegoVideoSourceType.Player and ZegoVideoSourceType.MainPublishChannel video source type in aux publish channel ZegoPublishChannel.Aux, must ensure that physical device works on main publish channel ZegoPublishChannel.Main. 
 3. Preemptive video sources are not allowed to be used on multiple channels at the same time, such as ZegoVideoSourceType.Camera and ZegoVideoSourceType.ScreenCapture. 
 4. The other publish channel can copy the main publish channel only when the main publish channel uses internal video capture. A maximum of one copy is supported. 
 5. When using ZegoVideoSourceType.Player video source type, please ensure that the ZegoMediaPlayer instance is created successfully.
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 3.1.0
- **Restrictions**: None.
</Warning>

**Return**

result.
</ParamField>
<ParamField
  name="setAudioSource"
  prototype="  setAudioSource(source: [ZegoAudioSourceType](./enum#zegoaudiosourcetype), channel: [ZegoPublishChannel](./enum#zegopublishchannel)): number"
  desc="Set audio capture source for the specified channel."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| source | [ZegoAudioSourceType](./enum#zegoaudiosourcetype) | Audio capture source. |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publish stream channel. |

**Details**

Set audio capture source for switching between different audio capture sources.

<Note title="">
- **Use cases**: Typically used in educational scenarios that require switching between different audio capture sources.
- **When to call**: After the engine is created [createEngine].
- **Caution**: 1. Main push channel ZegoPublishChannel.Main does not support using ZegoAudioSourceType.MediaPlayer and ZegoAudioSourceType.MainPublishChannel audio source type. 
 2. When using ZegoAudioSourceType.MediaPlayer and ZegoAudioSourceType.MainPublishChannel audio source type in aux publish channel ZegoPublishChannel.Aux, must ensure that physical device works on main publish channel ZegoPublishChannel.Main. 
 3. Preemptive audio sources are not allowed to be used on multiple channels at the same time, such as ZegoAudioSourceType.Microphone. 
 4. When using ZegoAudioSourceType.MediaPlayer audio source type, please ensure that the ZegoMediaPlayer instance is created successfully.
</Note>

<Warning title="">
- **Available since**: 3.1.0
</Warning>

**Return**

ErrorCode.
</ParamField>
<ParamField
  name="setAudioSourceWithConfig"
  prototype="  setAudioSourceWithConfig(source: [ZegoAudioSourceType](./enum#zegoaudiosourcetype), config: [ZegoAudioSourceMixConfig](./struct#zegoaudiosourcemixconfig)): number"
  desc="Set audio capture source with audio mix config."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| source | [ZegoAudioSourceType](./enum#zegoaudiosourcetype) | Audio capture source. |
| config | [ZegoAudioSourceMixConfig](./struct#zegoaudiosourcemixconfig) | Audio capture source mix config. |

**Details**

Set audio capture source for switching between different audio capture sources.

<Note title="">
- **Use cases**: Typically used in educational scenarios that require switching between different audio capture sources.
- **When to call**: After the engine is created [createEngine].
- **Caution**: 1. Act on the main publish channel ZegoPublishChannel.Main. 
 2. Main push channel ZegoPublishChannel.Main does not support using ZegoAudioSourceType.MediaPlayer and ZegoAudioSourceType.MainPublishChannel audio source type.
</Note>

<Warning title="">
- **Available since**: 3.1.0
- **Restrictions**: None.
</Warning>

**Return**

errorCode.
</ParamField>
<ParamField
  name="enableVideoObjectSegmentation"
  prototype="  enableVideoObjectSegmentation(enable: boolean, config: [ZegoObjectSegmentationConfig](./struct#zegoobjectsegmentationconfig), channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Enable video object segmentation."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | Whether to enable video object segmentation, off by default. |
| config | [ZegoObjectSegmentationConfig](./struct#zegoobjectsegmentationconfig) | The type of object segmentation. |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publish stream channel. |

**Details**

Video object segmentation and transmission is a technology that separates the video object (in most cases, a person) in a rectangular video through an AI algorithm at the push end, transmits it in the RTC network, and renders it at the stream playing end.

<Note title="">
- **Use cases**: Scenes where the object in the video needs to be separated from the background, such as mixed reality, multi-person interaction scenes, and so on.
- **When to call**: After the engine is created [createEngine].
- **Caution**: This feature requires special braiding, please contact ZEGO Technical Support
- **Related callbacks**: When the object segmentation is turned on or off, the notification of the object segmentation state can be received through [onVideoObjectSegmentationStateChanged].
- **Related APIs**: Use [enableAlphaChannelVideoEncoder] to support the transparent background encoding of the divided object, and then publish the stream, you can render the object with a transparent background effect on the stream playing side.
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 3.6.0
- **Restrictions**: Enabling object segmentation is a time-consuming operation, and it is not necessary to turn it on and off frequently.
</Warning>
</ParamField>
<ParamField
  name="enableAlphaChannelVideoEncoder"
  prototype="  enableAlphaChannelVideoEncoder(enable: boolean, alphaLayout: [ZegoAlphaLayoutType](./enum#zegoalphalayouttype), channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Enable video encoder alpha channel support."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | Enable video encoder alpha channel support, off by default. |
| alphaLayout | [ZegoAlphaLayoutType](./enum#zegoalphalayouttype) | Specify the layout position of the alpha channel data. |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publish stream channel. |

**Details**

Enable the alpha channel support of the video encoder on the stream publishing end, and encode the split video body for streaming.

<Note title="">
- **Use cases**: Scenes where the object in the video needs to be separated from the background, such as mixed reality, multi-person interaction scenes, and so on.
- **When to call**: After creating the engine.
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 3.4.0
</Warning>
</ParamField>
<ParamField
  name="onPublisherStateUpdate"
  prototype="  onPublisherStateUpdate(streamID: string, state: [ZegoPublisherState](./enum#zegopublisherstate), errorCode: number, extendedData: string): void"
  desc="The callback triggered when the state of stream publishing changes."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| streamID | string | Stream ID. |
| state | [ZegoPublisherState](./enum#zegopublisherstate) | State of publishing stream. |
| errorCode | number | The error code corresponding to the status change of the publish stream, please refer to the error codes document [https://docs.zegocloud.com/en/5548.html](https://docs.zegocloud.com/en/5548.html) for details. |
| extendedData | string | Extended information with state updates, include playing stream CDN address. |

**Details**

After calling the [startPublishingStream] successfully, the notification of the publish stream state change can be obtained through the callback function. You can roughly judge the user's uplink network status based on whether the state parameter is in [PUBLISH_REQUESTING].

<Note title="">
- **Caution**: The parameter [extendedData] is extended information with state updates. If you use ZEGO's CDN content distribution network, after the stream is successfully published, the keys of the content of this parameter are [flv_url_list], [rtmp_url_list], [hls_url_list], these correspond to the publishing stream URLs of the flv, rtmp, and hls protocols.
- **Related callbacks**: After calling the [startPlayingStream] successfully, the notification of the play stream state change can be obtained through the callback function [onPlayerStateUpdate]. You can roughly judge the user's downlink network status based on whether the state parameter is in [PLAY_REQUESTING].
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>
</ParamField>
<ParamField
  name="onPublisherQualityUpdate"
  prototype="  onPublisherQualityUpdate(streamID: string, quality: [ZegoPublishStreamQuality](./struct#zegopublishstreamquality)): void"
  desc="Callback for current stream publishing quality."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| streamID | string | Stream ID. |
| quality | [ZegoPublishStreamQuality](./struct#zegopublishstreamquality) | Publishing stream quality, including audio and video framerate, bitrate, RTT, etc. |

**Details**

After calling the [startPublishingStream] successfully, the callback will be received every 3 seconds default(If you need to change the time, please contact the instant technical support to configure). Through the callback, the collection frame rate, bit rate, RTT, packet loss rate and other quality data of the published audio and video stream can be obtained, and the health of the publish stream can be monitored in real time.You can monitor the health of the published audio and video streams in real time according to the quality parameters of the callback function, in order to show the uplink network status in real time on the device UI.

<Note title="">
- **Caution**: If you does not know how to use the parameters of this callback function, you can only pay attention to the [level] field of the [quality] parameter, which is a comprehensive value describing the uplink network calculated by SDK based on the quality parameters.
- **Related callbacks**: After calling the [startPlayingStream] successfully, the callback [onPlayerQualityUpdate] will be received every 3 seconds. You can monitor the health of play streams in real time based on quality data such as frame rate, code rate, RTT, packet loss rate, etc.
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>
</ParamField>
<ParamField
  name="onPublisherCapturedAudioFirstFrame"
  prototype="  onPublisherCapturedAudioFirstFrame(): void"
  desc="The callback triggered when the first audio frame is captured."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
This callback will be received when the SDK starts the microphone to capture the first frame of audio data. If this callback is not received, the audio capture device is occupied or abnormal.

<Note title="">
- **Trigger**: When the engine of the audio/video module inside the SDK starts, the SDK will go and collect the audio data from the local device and will receive the callback at that time.
- **Related callbacks**: Determine if the SDK actually collected video data by the callback function [onPublisherCapturedVideoFirstFrame], determine if the SDK has rendered the first frame of video data collected by calling back [onPublisherRenderVideoFirstFrame].
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>
</ParamField>
<ParamField
  name="onPublisherCapturedVideoFirstFrame"
  prototype="  onPublisherCapturedVideoFirstFrame(channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="The callback triggered when the first video frame is captured."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publishing stream channel.If you only publish one audio and video stream, you can ignore this parameter. |

**Details**

The SDK will receive this callback when the first frame of video data is captured. If this callback is not received, the video capture device is occupied or abnormal.

<Note title="">
- **Trigger**: When the SDK's internal audio/video module's engine starts, the SDK will collect video data from the local device and will receive this callback.
- **Related callbacks**: Determine if the SDK actually collected audio data by the callback function [onPublisherCapturedAudioFirstFrame], determine if the SDK has rendered the first frame of video data collected by calling back [onPublisherRenderVideoFirstFrame].
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>
</ParamField>
<ParamField
  name="onPublisherSendAudioFirstFrame"
  prototype="  onPublisherSendAudioFirstFrame(channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="The callback triggered when the first audio frame is sent."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publishing stream channel.If you only publish one audio stream, you can ignore this parameter. |

**Details**

After the [startPublishingStream] function is called successfully, this callback will be called when SDK received the first frame of audio data. Developers can use this callback to determine whether SDK has actually collected audio data. If the callback is not received, the audio capture device is occupied or abnormal.

<Note title="">
- **Trigger**: In the case of no startPublishingStream audio stream, the first startPublishingStream audio stream, it will receive this callback.
- **Related callbacks**: After the [startPublishingStream] function is called successfully, determine if the SDK actually collected video data by the callback function [onPublisherCapturedVideoFirstFrame], determine if the SDK has rendered the first frame of video data collected by calling back [onPublisherRenderVideoFirstFrame].
</Note>

<Warning title="">
- **Available since**: 3.5.0
</Warning>
</ParamField>
<ParamField
  name="onPublisherSendVideoFirstFrame"
  prototype="  onPublisherSendVideoFirstFrame(channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="The callback triggered when the first video frame is sent."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publishing stream channel.If you only publish one video stream, you can ignore this parameter. |

**Details**

After the [startPublishingStream] function is called successfully, this callback will be called when SDK received the first frame of video data. Developers can use this callback to determine whether SDK has actually collected video data. If the callback is not received, the video capture device is occupied or abnormal.

<Note title="">
- **Trigger**: In the case of no startPublishingStream video stream, the first startPublishingStream video stream, it will receive this callback.
- **Related callbacks**: After the [startPublishingStream] function is called successfully, determine if the SDK actually collected audio data by the callback function [onPublisherCapturedAudioFirstFrame], determine if the SDK has rendered the first frame of video data collected by calling back [onPublisherRenderVideoFirstFrame].
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 3.5.0
</Warning>
</ParamField>
<ParamField
  name="onPublisherVideoSizeChanged"
  prototype="  onPublisherVideoSizeChanged(width: number, height: number, channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="The callback triggered when the video capture resolution changes."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| width | number | Video capture resolution width. |
| height | number | Video capture resolution height. |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publishing stream channel.If you only publish one audio and video stream, you can ignore this parameter. |

**Details**

When the audio and video stream is not published [startPublishingStream] or previewed [startPreview] for the first time, the publishing stream or preview first time, that is, the engine of the audio and video module inside the SDK is started, the video data of the local device will be collected, and the collection resolution will change at this time.

<Note title="">
- **Trigger**: After the successful publish [startPublishingStream], the callback will be received if there is a change in the video capture resolution in the process of publishing the stream.
- **Use cases**: You can use this callback to remove the cover of the local preview UI and similar operations.You can also dynamically adjust the scale of the preview view based on the resolution of the callback.
- **Caution**: What is notified during external collection is the change in encoding resolution, which will be affected by flow control.
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>
</ParamField>
<ParamField
  name="onPublisherRelayCDNStateUpdate"
  prototype="  onPublisherRelayCDNStateUpdate(streamID: string, infoList: [ZegoStreamRelayCDNInfo](./struct#zegostreamrelaycdninfo)[]): void"
  desc="The callback triggered when the state of relayed streaming to CDN changes."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| streamID | string | Stream ID. |
| infoList | [ZegoStreamRelayCDNInfo](./struct#zegostreamrelaycdninfo)[] | List of information that the current CDN is relaying. |

**Details**

Developers can use this callback to determine whether the audio and video streams of the relay CDN are normal. If they are abnormal, further locate the cause of the abnormal audio and video streams of the relay CDN and make corresponding disaster recovery strategies.

<Note title="">
- **Trigger**: After the ZEGO RTC server relays the audio and video streams to the CDN, this callback will be received if the CDN relay status changes, such as a stop or a retry.
- **Caution**: If you do not understand the cause of the abnormality, you can contact ZEGO technicians to analyze the specific cause of the abnormality.
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>
</ParamField>
<ParamField
  name="onVideoObjectSegmentationStateChanged"
  prototype="  onVideoObjectSegmentationStateChanged(state: [ZegoObjectSegmentationState](./enum#zegoobjectsegmentationstate), channel: [ZegoPublishChannel](./enum#zegopublishchannel), errorCode: number): void"
  desc="The video object segmentation state changed."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| state | [ZegoObjectSegmentationState](./enum#zegoobjectsegmentationstate) | Object segmentation state. |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publishing stream channel.If you only publish one audio and video stream, you can ignore this parameter. |
| errorCode | number | The error code corresponding to the status change of the object segmentation, please refer to the error codes document [https://docs.zegocloud.com/en/5548.html](https://docs.zegocloud.com/en/5548.html) for details. |

**Details**

The object segmentation state of the stream publishing end changes.
 When to trigger: When [enableVideoObjectSegmentation] enables or disables object segmentation, notify the developer whether to enable object segmentation according to the actual state.

<Note title="">
- **Caution**: This callback depends on enabling preview or stream publishing.
</Note>

<Warning title="">
- **Available since**: 3.4.0
</Warning>
</ParamField>
<ParamField
  name="startPlayingStream"
  prototype="  startPlayingStream(streamID: string, view: [ZegoView](./struct#zegoview), config: [ZegoPlayerConfig](./struct#zegoplayerconfig)): void"
  desc="Starts playing a stream from ZEGO RTC server or from third-party CDN. Support multi-room mode."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| streamID | string | Stream ID, a string of up to 256 characters.<br/>  Caution:<br/>  Only support numbers, English characters and '-', '_'. |
| view | [ZegoView](./struct#zegoview) | The view used to display the preview image. |
| config | [ZegoPlayerConfig](./struct#zegoplayerconfig) | Advanced player configuration Room [roomID] in [ZegoPlayerConfig] is the login roomID. |

**Details**

Play audio and video streams from the ZEGO RTC server or CDN.

<Note title="">
- **Use cases**: In real-time or live broadcast scenarios, developers can listen to the [onRoomStreamUpdate] event callback to obtain the new stream information in the room where they are located, and call this interface to pass in streamID for play streams.
- **When to call**: After [loginRoom].
- **Caution**: 1. The developer can update the player canvas by calling this function again (the streamID must be the same). 2. After the first play stream failure due to network reasons or the play stream is interrupted, the default time for SDK reconnection is 20min. 3. In the case of poor network quality, user play may be interrupted, the SDK will try to reconnect, and the current play status and error information can be obtained by listening to the [onPlayerStateUpdate] event. please refer to [https://docs.zegocloud.com/faq/reconnect.](https://docs.zegocloud.com/faq/reconnect.) 4. Playing the stream ID that does not exist, the SDK continues to try to play after calling this function. After the stream ID is successfully published, the audio and video stream can be actually played.
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="stopPlayingStream"
  prototype="  stopPlayingStream(streamID: string): void"
  desc="Stops playing a stream."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| streamID | string | Stream ID. |

**Details**

Play audio and video streams from the ZEGO RTC server.

<Note title="">
- **Use cases**: In the real-time scenario, developers can listen to the [onRoomStreamUpdate] event callback to obtain the delete stream information in the room where they are located, and call this interface to pass in streamID for stop play streams.
- **When to call**: After [loginRoom].
- **Caution**: 1. When stopped, the attributes set for this stream previously, such as [setPlayVolume], [mutePlayStreamAudio], [mutePlayStreamVideo], etc., will be invalid and need to be reset when playing the the stream next time. 
 2. After stopping pulling, the iOS platform view will clear the last frame by default and keep the background color of the view. The Android platform view remains at the last frame by default. If you need to clear the last frame, please contact ZEGO technical support.
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="setPlayStreamDecryptionKey"
  prototype="  setPlayStreamDecryptionKey(streamID: string, key: string): void"
  desc="Set decryption key for the playing stream."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| streamID | string | Stream ID. |
| key | string | The decryption key, note that the key length only supports 16/24/32 bytes. |

**Details**

When streaming, the audio and video data will be decrypted according to the set key.

<Note title="">
- **Use cases**: Usually used in scenarios that require high security for audio and video calls.
- **When to call**: after [createEngine], after the play stream can be changed at any time.
- **Related APIs**: [setPublishStreamEncryptionKey]Set the publish stream encryption key.
- **Caution**: This interface can only be called if encryption is set on the publish. Calling [stopPlayingStream] or [logoutRoom] will clear the decryption key.
</Note>

<Warning title="">
- **Available since**: 1.19.0
- **Restrictions**: This function is only valid when calling from Zego RTC or L3 server.
</Warning>
</ParamField>
<ParamField
  name="takePlayStreamSnapshot"
  prototype="  takePlayStreamSnapshot(streamID: string): Promise&lt;Object&gt;"
  desc="Take a snapshot of the playing stream."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| streamID | string | Stream ID to be snapshot. |

**Details**

Take a screenshot of the specified stream ID.

<Note title="">
- **When to call**: after called [startPlayingStream].
- **Related callbacks**: [onPlayerTakeSnapshotResult] Screenshot data callback.
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 1.17.0
- **Restrictions**: None.
</Warning>

**Return**

Results of take play stream snapshot.
</ParamField>
<ParamField
  name="setPlayVolume"
  prototype="  setPlayVolume(streamID: string, volume: number): void"
  desc="Sets the stream playback volume."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| streamID | string | Stream ID. |
| volume | number | Volume percentage. The value ranges from 0 to 200, and the default value is 100. |

**Details**

Set the sound size of the stream, the local user can control the playback volume of the audio stream.

<Note title="">
- **When to call**: after called [startPlayingStream].
- **Related APIs**: [setAllPlayStreamVolume] Set all stream volume.
- **Caution**: You need to reset after [stopPlayingStream] and [startPlayingStream]. This function and the [setAllPlayStreamVolume] function overwrite each other, and the last call takes effect.
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="setAllPlayStreamVolume"
  prototype="  setAllPlayStreamVolume(volume: number): void"
  desc="Sets the all stream playback volume."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| volume | number | Volume percentage. The value ranges from 0 to 200, and the default value is 100. |

**Details**

Set the sound size of the stream, the local user can control the playback volume of the audio stream.

<Note title="">
- **When to call**: after called [startPlayingStream].
- **Related APIs**: [setPlayVolume] Set the specified streaming volume.
- **Caution**: Set the specified streaming volume and [setAllPlayStreamVolume] interface to override each other, and the last call takes effect.
</Note>

<Warning title="">
- **Available since**: 2.3.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="setPlayStreamVideoType"
  prototype="  setPlayStreamVideoType(streamID: string, streamType: [ZegoVideoStreamType](./enum#zegovideostreamtype)): void"
  desc="Set play video stream type."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| streamID | string | Stream ID. |
| streamType | [ZegoVideoStreamType](./enum#zegovideostreamtype) | Video stream type. |

**Details**

When the publish stream sets the codecID to SVC through [setVideoConfig], the puller can dynamically set and select different stream types (small resolution is one-half of the standard layer).

<Note title="">
- **Use cases**: In general, when the network is weak or the rendered UI window is small, you can choose to pull videos with small resolutions to save bandwidth.
- **When to call**: before or after called [startPlayingStream].
</Note>

<Warning title="">
- **Available since**: 2.3.0
- **Restrictions**: None.
  This function is only available in ZegoExpressVideo SDK!
</Warning>
</ParamField>
<ParamField
  name="setPlayStreamBufferIntervalRange"
  prototype="  setPlayStreamBufferIntervalRange(streamID: string, minBufferInterval: number, maxBufferInterval: number): void"
  desc="Set the adaptive adjustment interval range of the buffer for playing stream."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| streamID | string | Stream ID. |
| minBufferInterval | number | The lower limit of the buffer adaptation interval, in milliseconds. The default value is 0ms. |
| maxBufferInterval | number | The upper limit of the buffer adaptation interval, in milliseconds. The default value is 4000ms. |

**Details**

Set the range of adaptive adjustment of the internal buffer of the sdk when streaming is 0-4000ms.

<Note title="">
- **Use cases**: Generally, in the case of a poor network environment, adjusting and increasing the playback buffer of the pull stream will significantly reduce the audio and video freezes, but will increase the delay.
- **When to call**: after called [createEngine], if it has been set, you need to reset it every time you play the stream again.
- **Caution**: When the upper limit of the cache interval set by the developer exceeds 4000ms, the value will be 4000ms. When the upper limit of the cache interval set by the developer is less than the lower limit of the cache interval, the upper limit will be automatically set as the lower limit.
</Note>

<Warning title="">
- **Available since**: 2.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="setPlayStreamFocusOn"
  prototype="  setPlayStreamFocusOn(streamID: string): void"
  desc="Set the weight of the pull stream priority."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| streamID | string | Stream ID. |

**Details**

Set the weight of the streaming priority.

<Note title="">
- **Use cases**: This interface can be used when developers need to prioritize the quality of a audio and video stream in business（do not use in pure audio case）. For example: in class scene, if students pull multiple streams, you can set high priority for teacher stream.
- **When to call**: after called [startPlayingStream].
- **Caution**: By default, all streams have the same weight. Only one stream can be set with high priority, whichever is set last. After the flow is stopped, the initial state is automatically restored, and all flows have the same weight.When the local network is not good, while ensuring the focus flow, other stalls may be caused more.
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="mutePlayStreamAudio"
  prototype="  mutePlayStreamAudio(streamID: string, mute: boolean): void"
  desc="Whether the pull stream can receive the specified audio data."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| streamID | string | Stream ID. |
| mute | boolean | Whether it can receive the audio data of the specified remote user when streaming, "true" means prohibition, "false" means receiving, the default value is "false". |

**Details**

In the process of real-time audio and video interaction, local users can use this function to control whether to receive audio data from designated remote users when pulling streams as needed. When the developer does not receive the audio receipt, the hardware and network overhead can be reduced.

<Note title="">
- **Use cases**: Call this function when developers need to quickly close and restore remote audio. Compared to re-flow, it can greatly reduce the time and improve the interactive experience.
- **When to call**: This function can be called after calling [createEngine].
- **Caution**: 
 1. When used together with [muteAllPlayAudioStreams], they can override each other's configurations. 
 2. When used together with [muteAllPlayStreamAudio], this function only works when the [muteAllPlayStreamAudio] function is set to `false`. 
 3. After stopping streaming, any properties previously set for this stream such as [setPlayVolume], [mutePlayStreamAudio], [mutePlayStreamVideo] and other streaming-related configurations will become invalid and need to be reset before the next stream is pulled.
- **Related APIs**: You can call the [muteAllPlayStreamAudio] function to control whether to receive all audio data. When the two functions [muteAllPlayStreamAudio] and [mutePlayStreamAudio] are set to `false` at the same time, the local user can receive the audio data of the remote user when the stream is pulled: 1. When the [muteAllPlayStreamAudio(true)] function is called, it is globally effective, that is, local users will be prohibited from receiving all remote users' audio data. At this time, the [mutePlayStreamAudio] function will not take effect whether it is called before or after [muteAllPlayStreamAudio].2. When the [muteAllPlayStreamAudio(false)] function is called, the local user can receive the audio data of all remote users. At this time, the [mutePlayStreamAudio] function can be used to control whether to receive a single audio data. Calling the [mutePlayStreamAudio(true, streamID)] function allows the local user to receive audio data other than the `streamID`; calling the [mutePlayStreamAudio(false, streamID)] function allows the local user to receive all audio data.
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>
</ParamField>
<ParamField
  name="mutePlayStreamVideo"
  prototype="  mutePlayStreamVideo(streamID: string, mute: boolean): void"
  desc="Whether the pull stream can receive the specified video data."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| streamID | string | Stream ID. |
| mute | boolean | Whether it is possible to receive the video data of the specified remote user when streaming, "true" means prohibition, "false" means receiving, the default value is "false". The default value for automatically played streams within the SDK is false. |

**Details**

In the process of real-time video and video interaction, local users can use this function to control whether to receive video data from designated remote users when pulling streams as needed. When the developer does not receive the video data, the hardware and network overhead can be reduced.

<Note title="">
- **Use cases**: This function can be called when developers need to quickly close and resume watching remote video. Compared to re-flow, it can greatly reduce the time and improve the interactive experience.
- **When to call**: This function can be called after calling [createEngine].
- **Caution**: 
 1. When used together with [muteAllPlayVideoStreams], they can override each other's configurations. 
 2. When used together with [muteAllPlayStreamAudio], this function only works when the [muteAllPlayStreamVideo] function is set to `false`. 
 3. When you mute the video stream, the view remains at the last frame by default, if you need to clear the last frame, please contact ZEGO technical support. 
 4. After stopping streaming, any properties previously set for this stream such as [setPlayVolume], [mutePlayStreamAudio], [mutePlayStreamVideo] and other streaming-related configurations will become invalid and need to be reset before the next stream is pulled.
- **Related APIs**: You can call the [muteAllPlayStreamVideo] function to control whether to receive all video data. When the two functions [muteAllPlayStreamVideo] and [mutePlayStreamVideo] are set to `false` at the same time, the local user can receive the video data of the remote user when the stream is pulled: 1. When the [muteAllPlayStreamVideo(true)] function is called, it will take effect globally, that is, local users will be prohibited from receiving all remote users' video data. At this time, the [mutePlayStreamVideo] function will not take effect whether it is called before or after [muteAllPlayStreamVideo]. 2. When the [muteAllPlayStreamVideo(false)] function is called, the local user can receive the video data of all remote users. At this time, the [mutePlayStreamVideo] function can be used to control whether to receive a single video data. Call the [mutePlayStreamVideo(true, streamID)] function, the local user can receive other video data other than the `streamID`; call the [mutePlayStreamVideo(false, streamID)] function, the local user can receive all the video data.
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>
</ParamField>
<ParamField
  name="muteAllPlayStreamAudio"
  prototype="  muteAllPlayStreamAudio(mute: boolean): void"
  desc="Can the pull stream receive all audio data. (When set to true, calling [mutePlayStreamAudio] will not take effect)"
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mute | boolean | Whether it is possible to receive audio data from all remote users when streaming, "true" means prohibition, "false" means receiving, and the default value is "false". |

**Details**

In the process of real-time audio and video interaction, local users can use this function to control whether to receive audio data from all remote users when pulling streams (including the audio streams pushed by users who have newly joined the room after calling this function). By default, users can receive audio data pushed by all remote users after joining the room. When the developer does not receive the audio receipt, the hardware and network overhead can be reduced.

<Note title="">
- **Use cases**: Call this function when developers need to quickly close and restore remote audio. Compared to re-flow, it can greatly reduce the time and improve the interactive experience.
- **When to call**: This function can be called after calling [createEngine].
- **Caution**: This function cannot be used together with [muteAllPlayAudioStreams] throughout the SDK lifecycle.
- **Related APIs**: You can call the [mutePlayStreamAudio] function to control whether to receive a single piece of audio data. When the two functions [muteAllPlayStreamAudio] and [mutePlayStreamAudio] are set to `false` at the same time, the local user can receive the audio data of the remote user when the stream is pulled: 1. When the [muteAllPlayStreamAudio(true)] function is called, it takes effect globally, that is, local users will be prohibited from receiving audio data from all remote users. At this time, the [mutePlayStreamAudio] function will not take effect no matter if the [mutePlayStreamAudio] function is called before or after [muteAllPlayStreamAudio]. 2. When the [muteAllPlayStreamAudio(false)] function is called, the local user can receive the audio data of all remote users. At this time, the [mutePlayStreamAudio] function can be used to control whether to receive a single audio data. Calling the [mutePlayStreamAudio(true, streamID)] function allows the local user to receive audio data other than the `streamID`; calling the [mutePlayStreamAudio(false, streamID)] function allows the local user to receive all audio data.
</Note>

<Warning title="">
- **Available since**: 2.4.0
</Warning>
</ParamField>
<ParamField
  name="muteAllPlayStreamVideo"
  prototype="  muteAllPlayStreamVideo(mute: boolean): void"
  desc="Can the pull stream receive all video data. (When set to true, calling [mutePlayStreamVideo] will not take effect)"
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mute | boolean | Whether it is possible to receive all remote users' video data when streaming, "true" means prohibition, "false" means receiving, and the default value is "false". |

**Details**

In the process of real-time video and video interaction, local users can use this function to control whether to receive all remote users' video data when pulling the stream (including the video stream pushed by the new user who joins the room after calling this function). By default, users can receive video data pushed by all remote users after joining the room. When the developer does not receive the video data, the hardware and network overhead can be reduced.

<Note title="">
- **Use cases**: This function can be called when developers need to quickly close and resume watching remote video. Compared to re-flow, it can greatly reduce the time and improve the interactive experience.
- **When to call**: This function can be called after calling [createEngine].
- **Caution**: 
 1. This function cannot be used together with [muteAllPlayVideoStreams] throughout the SDK lifecycle. 
 2. When you mute the video stream, the view remains at the last frame by default, if you need to clear the last frame, please contact ZEGO technical support.
- **Related APIs**: You can call the [mutePlayStreamVideo] function to control whether to receive a single piece of video data. When the two functions [muteAllPlayStreamVideo] and [mutePlayStreamVideo] are set to `false` at the same time, the local user can receive the video data of the remote user when the stream is pulled: 1. When the [muteAllPlayStreamVideo(true)] function is called, it will take effect globally, that is, the local user will be prohibited from receiving all remote users' video data. At this time, the [mutePlayStreamVideo] function will not take effect whether it is called before or after [muteAllPlayStreamVideo]. 2. When the [muteAllPlayStreamVideo(false)] function is called, the local user can receive the video data of all remote users. At this time, the [mutePlayStreamVideo] function can be used to control whether to receive a single video data. Call the [mutePlayStreamVideo(true, streamID)] function, the local user can receive other video data other than the `streamID`; call the [mutePlayStreamVideo(false, streamID)] function, the local user can receive all the video data.
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 2.4.0
</Warning>
</ParamField>
<ParamField
  name="enableHardwareDecoder"
  prototype="  enableHardwareDecoder(enable: boolean): void"
  desc="Enables or disables hardware decoding."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | Whether to turn on hardware decoding switch, true: enable hardware decoding, false: disable hardware decoding. |

**Details**

Control whether hardware decoding is used when playing streams, with hardware decoding enabled the SDK will use the GPU for decoding, reducing CPU usage.

<Note title="">
- **Use cases**: If developers find that the device heats up badly when playing large resolution audio and video streams during testing on some models, consider calling this function to enable hardware decoding.
- **Default value**: Hardware decoding is disabled by default when this interface is not called.
- **When to call**: This function needs to be called after [createEngine] creates an instance.
- **Caution**: Need to be called before calling [startPlayingStream], if called after playing the stream, it will only take effect after stopping the stream and re-playing it. Once this configuration has taken effect, it will remain in force until the next call takes effect.
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="enableCheckPoc"
  prototype="  enableCheckPoc(enable: boolean): void"
  desc="Enables or disables frame order detection."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | Whether to turn on frame order detection, true: enable check poc, false: disable check poc. |

**Details**

Control whether to turn on frame order detection.

<Note title="">
- **Use cases**: Turning on frame order detection when pulling cdn's stream will prevent splash screens.
- **Default value**: Turn on frame order detection by default when this interface is not called.
- **When to call**: This function needs to be called after [createEngine] creates an instance.
- **Caution**: Turn off frame order detection during playing stream may result in a brief splash screen.
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="isVideoDecoderSupported"
  prototype="  isVideoDecoderSupported(codecID: [ZegoVideoCodecID](./enum#zegovideocodecid), codecBackend: [ZegoVideoCodecBackend](./enum#zegovideocodecbackend)): number"
  desc="Whether the specified video decoding format is supported."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| codecID | [ZegoVideoCodecID](./enum#zegovideocodecid) | Video codec id. Required: Yes. |
| codecBackend | [ZegoVideoCodecBackend](./enum#zegovideocodecbackend) | Backend implementation of decoder. Required: Yes. |

**Details**

Whether the specified video decoding is supported depends on the following aspects: whether the hardware model supports hard decoding, whether the performance of the hardware model supports soft decoding, and whether the SDK includes the decoding module.

<Note title="">
- **When to call**: After creating the engine.
- **Caution**: It is recommended that users call this interface to obtain the H.265 decoding support capability before pulling the H.265 stream. If it is not supported, the user can pull the stream of other encoding formats, such as H.264.
</Note>

<Warning title="">
- **Available since**: 3.0.0
</Warning>

**Return**

Whether the specified video decoding format is supported; 0 means not supported, and the decoding format cannot be used for play stream; 1 means support, you can use this decoding format for playing stream; 2 means not confirmed, it is recommended to call this interface later.
</ParamField>
<ParamField
  name="onPlayerStateUpdate"
  prototype="  onPlayerStateUpdate(streamID: string, state: [ZegoPlayerState](./enum#zegoplayerstate), errorCode: number, extendedData: string): void"
  desc="The callback triggered when the state of stream playing changes."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| streamID | string | stream ID. |
| state | [ZegoPlayerState](./enum#zegoplayerstate) | State of playing stream. |
| errorCode | number | The error code corresponding to the status change of the playing stream, please refer to the error codes document [https://docs.zegocloud.com/en/5548.html](https://docs.zegocloud.com/en/5548.html) for details. |
| extendedData | string | Extended Information with state updates. As the standby, only an empty json table is currently returned. |

**Details**

After calling the [startPlayingStream] successfully, the notification of the playing stream state change can be obtained through the callback function. You can roughly judge the user's downlink network status based on whether the state parameter is in [PLAY_REQUESTING].
 When to trigger:  After calling the [startPublishingStream], this callback is triggered when a playing stream's state changed.

<Note title="">
- **Related callbacks**: After calling the [startPublishingStream] successfully, the notification of the publish stream state change can be obtained through the callback function [onPublisherStateUpdate]. You can roughly judge the user's uplink network status based on whether the state parameter is in [PUBLISH_REQUESTING].
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>
</ParamField>
<ParamField
  name="onPlayerQualityUpdate"
  prototype="  onPlayerQualityUpdate(streamID: string, quality: [ZegoPlayStreamQuality](./struct#zegoplaystreamquality)): void"
  desc="Callback for current stream playing quality."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| streamID | string | Stream ID. |
| quality | [ZegoPlayStreamQuality](./struct#zegoplaystreamquality) | Playing stream quality, including audio and video framerate, bitrate, RTT, etc. |

**Details**

After calling the [startPlayingStream] successfully, the callback will be received every 3 seconds default(If you need to change the time, please contact the instant technical support to configure). Through the callback, the collection frame rate, bit rate, RTT, packet loss rate and other quality data can be obtained, and the health of the played audio and video streams can be monitored in real time.

<Note title="">
- **Use cases**: You can monitor the health of the played audio and video streams in real time according to the quality parameters of the callback function, in order to show the downlink network status on the device UI in real time.
- **Caution**: If you does not know how to use the various parameters of the callback function, you can only focus on the level field of the quality parameter, which is a comprehensive value describing the downlink network calculated by SDK based on the quality parameters.
- **Related callbacks**: After calling the [startPublishingStream] successfully, a callback [onPublisherQualityUpdate] will be received every 3 seconds. You can monitor the health of publish streams in real time based on quality data such as frame rate, code rate, RTT, packet loss rate, etc.
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>
</ParamField>
<ParamField
  name="onPlayerMediaEvent"
  prototype="  onPlayerMediaEvent(streamID: string, event: [ZegoPlayerMediaEvent](./enum#zegoplayermediaevent)): void"
  desc="The callback triggered when a media event occurs during streaming playing."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| streamID | string | Stream ID. |
| event | [ZegoPlayerMediaEvent](./enum#zegoplayermediaevent) | Specific events received when playing the stream. |

**Details**

This callback is used to receive pull streaming events.

<Note title="">
- **Use cases**: You can use this callback to make statistics on stutters or to make friendly displays in the UI of the app.
 When to trigger:  After calling the [startPublishingStream], this callback is triggered when an event such as audio and video jamming and recovery occurs in the playing stream.
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>
</ParamField>
<ParamField
  name="onPlayerRecvAudioFirstFrame"
  prototype="  onPlayerRecvAudioFirstFrame(streamID: string): void"
  desc="The callback triggered when the first audio frame is received."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| streamID | string | Stream ID. |

**Details**

After the [startPlayingStream] function is called successfully, this callback will be called when SDK received the first frame of audio data.

<Note title="">
- **Use cases**: Developer can use this callback to count time consuming that take the first frame time or update the UI for playing stream.
- **Trigger**: This callback is triggered when SDK receives the first frame of audio data from the network.
- **Related callbacks**: After a successful call to [startPlayingStream], the callback function [onPlayerRecvVideoFirstFrame] determines whether the SDK has received the video data, and the callback [onPlayerRenderVideoFirstFrame] determines whether the SDK has rendered the first frame of the received video data.
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>
</ParamField>
<ParamField
  name="onPlayerRecvVideoFirstFrame"
  prototype="  onPlayerRecvVideoFirstFrame(streamID: string): void"
  desc="The callback triggered when the first video frame is received."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| streamID | string | Stream ID. |

**Details**

After the [startPlayingStream] function is called successfully, this callback will be called when SDK received the first frame of video data.

<Note title="">
- **Use cases**: Developer can use this callback to count time consuming that take the first frame time or update the UI for playing stream.
- **Trigger**: This callback is triggered when SDK receives the first frame of video data from the network.
- **Related callbacks**: After a successful call to [startPlayingStream], the callback function [onPlayerRecvAudioFirstFrame] determines whether the SDK has received the audio data, and the callback [onPlayerRenderVideoFirstFrame] determines whether the SDK has rendered the first frame of the received video data.
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>
</ParamField>
<ParamField
  name="onPlayerRenderVideoFirstFrame"
  prototype="  onPlayerRenderVideoFirstFrame(streamID: string): void"
  desc="The callback triggered when the first video frame is rendered."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| streamID | string | Stream ID. |

**Details**

After the [startPlayingStream] function is called successfully, this callback will be called when SDK rendered the first frame of video data.

<Note title="">
- **Use cases**: Developer can use this callback to count time consuming that take the first frame time or update the UI for playing stream.
- **Trigger**: This callback is triggered when SDK rendered the first frame of video data from the network.
- **Related callbacks**: After a successful call to [startPlayingStream], the callback function [onPlayerRecvAudioFirstFrame] determines whether the SDK has received the audio data, and the callback [onPlayerRecvVideoFirstFrame] determines whether the SDK has received the video data.
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>
</ParamField>
<ParamField
  name="onPlayerVideoSizeChanged"
  prototype="  onPlayerVideoSizeChanged(streamID: string, width: number, height: number): void"
  desc="The callback triggered when the stream playback resolution changes."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| streamID | string | Stream ID. |
| width | number | Video decoding resolution width. |
| height | number | Video decoding resolution height. |

**Details**

After the [startPlayingStream] function is called successfully, the play resolution will change when the first frame of video data is received, or when the publisher changes the encoding resolution by calling [setVideoConfig], or when the network traffic control strategies work.

<Note title="">
- **Use cases**: Developers can update or switch the UI components that actually play the stream based on the final resolution of the stream.
- **Trigger**: After the [startPlayingStream] function is called successfully, this callback is triggered when the video resolution changes while playing the stream.
- **Caution**: 
 1. If the stream is only audio data, the callback will not be triggered. 
 2. If the user enables custom video rendering of the ZegoVideoBufferTypeEncodedData type, the SDK is not responsible for video decoding and will not trigger this callback.
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>
</ParamField>
<ParamField
  name="onPlayerRecvSEI"
  prototype="  onPlayerRecvSEI(streamID: string, data: UInt8Array): void"
  desc="The callback triggered when Supplemental Enhancement Information is received."
  suffixes={["deprecated"]}
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| streamID | string | Stream ID. |
| data | UInt8Array | SEI content. |

**Details**

After the [startPlayingStream] function is called successfully, when the remote stream sends SEI (such as directly calling [sendSEI], audio mixing with SEI data, and sending custom video capture encoded data with SEI, etc.), the local end will receive this callback.

<Note title="">
- **Trigger**: After the [startPlayingStream] function is called successfully, when the remote stream sends SEI, the local end will receive this callback.
- **Caution**: 
 1.The customer can directly operate the UI control in this callback function. 
 2. Since the video encoder itself generates an SEI with a payload type of 5, or when a video file is used for publishing, such SEI may also exist in the video file. Therefore, if the developer needs to filter out this type of SEI, it can be before [createEngine] Call [ZegoEngineConfig.advancedConfig("unregister_sei_filter", "XXXXX")]. Among them, unregister_sei_filter is the key, and XXXXX is the uuid filter string to be set. 
 3. When [mutePlayStreamVideo] or [muteAllPlayStreamVideo] is called to set only the audio stream to be pulled, the SEI will not be received.
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>

<Warning title="Deprecated">It will be deprecated in version 3.4.0 and above. Please use the [onPlayerSyncRecvSEI] function instead.</Warning>
</ParamField>
<ParamField
  name="onPlayerSyncRecvSEI"
  prototype="  onPlayerSyncRecvSEI(streamID: string, data: UInt8Array): void"
  desc="The callback triggered when Supplemental Enhancement Information is received synchronously."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| streamID | string | Stream ID. |
| data | UInt8Array | SEI content. |

**Details**

After the [startPlayingStream] function is called successfully, when the remote stream sends SEI (such as directly calling [sendSEI], audio mixing with SEI data, and sending custom video capture encoded data with SEI, etc.), the local end will receive this callback.

<Note title="">
- **Trigger**: After the [startPlayingStream] function is called successfully, when the remote stream sends SEI, the local end will receive this callback.
- **Caution**: 
 1. Since the video encoder itself generates an SEI with a payload type of 5, or when a video file is used for publishing, such SEI may also exist in the video file. Therefore, if the developer needs to filter out this type of SEI, it can be before [createEngine] Call [ZegoEngineConfig.advancedConfig("unregister_sei_filter", "XXXXX")]. Among them, unregister_sei_filter is the key, and XXXXX is the uuid filter string to be set. 
 2. When [mutePlayStreamVideo] or [muteAllPlayStreamVideo] is called to set only the audio stream to be pulled, the SEI will not be received.
</Note>

<Warning title="">
- **Available since**: 3.4.0
</Warning>
</ParamField>
<ParamField
  name="startMixerTask"
  prototype="  startMixerTask(task: [ZegoMixerTask](./struct#zegomixertask)): Promise&lt;number, string&gt;"
  desc="Starts a stream mixing task."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| task | [ZegoMixerTask](./struct#zegomixertask) | Mixing task object. Required: Yes. |

**Details**

Initiate a mixing stream request to the ZEGO RTC server, the server will look for the stream currently being pushed, and mix the layers according to the parameters of the mixing stream task requested by the SDK. When you need to update a mixing task, that is, when the input stream increases or decreases, you need to update the input stream list. At this time, you can update the field of the [ZegoMixerTask] object inputList and call this function again to pass in the same [ZegoMixerTask] object to update the mixing task.

<Note title="">
- **Use cases**: It is often used when multiple video images are required to synthesize a video using mixed streaming, such as education, live broadcast of teacher and student images.
- **When to call**: After calling [loginRoom] to log in to the room.
- **Caution**: Due to the performance considerations of the client device, the SDK muxing is to start the mixing task on the ZEGO RTC server for mixing. If an exception occurs when the mixing task is requested to start, for example, the most common mixing input stream does not exist, the error code will be given from the callback callback. If a certain input stream does not exist in the middle, the muxing task will automatically retry to pull this input stream for 90 seconds, and will not retry after 90 seconds. If all input streams no longer exist, the server will automatically stop the mixing task after 90 seconds.
- **Related callbacks**: [OnMixerRelayCDNStateUpdate] can be used to obtain the CDN status update notification of the mixed stream repost, and the sound update notification of each single stream in the mixed stream can be obtained through [onMixerSoundLevelUpdate].
- **Related APIs**: the mixing task can be stopped by the [stopMixerTask] function.
</Note>

<Warning title="">
- **Available since**: 1.2.1
- **Restrictions**: None.
</Warning>

**Return**

Start stream mixing task result
</ParamField>
<ParamField
  name="stopMixerTask"
  prototype="  stopMixerTask(task: [ZegoMixerTask](./struct#zegomixertask)): Promise&lt;number&gt;"
  desc="Stops a stream mixing task."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| task | [ZegoMixerTask](./struct#zegomixertask) | Mixing task object. Required: Yes. |

**Details**

Initiate a request to end the mixing task to the ZEGO RTC server.

<Note title="">
- **Use cases**: It is often used when multiple video images are required to synthesize a video using mixed streaming, such as education, live broadcast of teacher and student images.
- **When to call**: After calling [startMixerTask] to start mixing.
- **Caution**: If the developer starts the next mixing task without stopping the previous mixing task, the previous mixing task will not automatically stop until the input stream of the previous mixing task does not exist for 90 seconds. Before starting the next mixing task, you should stop the previous mixing task, so that when an anchor has already started the next mixing task to mix with other anchors, the audience is still pulling the output stream of the previous mixing task.
- **Related APIs**: You can start mixing by using the [startMixerTask] function.
</Note>

<Warning title="">
- **Available since**: 1.2.1
- **Restrictions**: None.
</Warning>

**Return**

Stop stream mixing task result
</ParamField>
<ParamField
  name="muteMicrophone"
  prototype="  muteMicrophone(mute: boolean): void"
  desc="Mutes or unmutes the microphone."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mute | boolean | Whether to mute (disable) the microphone, `true`: mute (disable) microphone, `false`: enable microphone. |

**Details**

This function is used to control whether to use the collected audio data. Mute (turn off the microphone) will use the muted data to replace the audio data collected by the device for streaming. At this time, the microphone device will still be occupied.
 Use case: Users can call this interface by only turning off the human voice collected by the microphone and not turning off the music sound of the media player. This interface affects [onBeforeAudioPrepAudioData].

<Note title="">
- **Default value**: The default is `false`, which means no muting.
- **When to call**: After creating the engine [createEngine].
- **Related APIs**: Developers who want to control whether to use microphone on the UI should use this function to avoid unnecessary performance overhead by using the [enableAudioCaptureDevice]. You can use [isMicrophoneMuted] to check if the microphone is muted.
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="isMicrophoneMuted"
  prototype="  isMicrophoneMuted(): boolean"
  desc="Checks whether the microphone is muted."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
Used to determine whether the microphone is set to mute.

<Note title="">
- **When to call**: After creating the engine [createEngine].
- **Related APIs**: [muteMicrophone].
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>

Whether the microphone is muted; true: the microphone is muted; `false`: the microphone is enable (not muted).
</ParamField>
<ParamField
  name="muteSpeaker"
  prototype="  muteSpeaker(mute: boolean): void"
  desc="Mutes or unmutes the audio output speaker."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mute | boolean | Whether to mute (disable) speaker audio output, `true`: mute (disable) speaker audio output, `false`: enable speaker audio output. |

**Details**

After mute speaker, all the SDK sounds will not play, including playing stream, mediaplayer, etc.

<Note title="">
- **Default value**: The default is `false`, which means no muting.
- **When to call**: After creating the engine [createEngine].
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="isSpeakerMuted"
  prototype="  isSpeakerMuted(): boolean"
  desc="Checks whether the audio output speaker is muted."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
Used to determine whether the audio output is muted.

<Note title="">
- **When to call**: After creating the engine [createEngine].
- **Related APIs**: [muteSpeaker].
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>

Whether the speaker is muted; `true`: the speaker is muted; `false`: the speaker is enable (not muted).
</ParamField>
<ParamField
  name="getAudioDeviceList"
  prototype="  getAudioDeviceList(deviceType: [ZegoAudioDeviceType](./enum#zegoaudiodevicetype)): [ZegoDeviceInfo](./struct#zegodeviceinfo)[]"
  desc="Gets a list of audio devices."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| deviceType | [ZegoAudioDeviceType](./enum#zegoaudiodevicetype) | Audio device type |

**Details**

Only for Windows / macOS / Linux

**Return**

Audo device List
</ParamField>
<ParamField
  name="getDefaultAudioDeviceID"
  prototype="  getDefaultAudioDeviceID(deviceType: [ZegoAudioDeviceType](./enum#zegoaudiodevicetype)): string"
  desc="Get the device ID of the default audio device."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| deviceType | [ZegoAudioDeviceType](./enum#zegoaudiodevicetype) | Audio device type |

**Details**

Only for Windows / macOS / Linux

**Return**

Default Audio device ID
</ParamField>
<ParamField
  name="useAudioDevice"
  prototype="  useAudioDevice(deviceID: string, deviceType: [ZegoAudioDeviceType](./enum#zegoaudiodevicetype)): void"
  desc="Chooses to use the specified audio device."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| deviceID | string | ID of a device obtained by [getAudioDeviceList] |
| deviceType | [ZegoAudioDeviceType](./enum#zegoaudiodevicetype) | Audio device type |

**Details**

Chooses to use the specified audio device.

<Note title="">
- **When to call**: After creating the engine [createEngine].
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: Only supports Windows / macOS / Linux
</Warning>
</ParamField>
<ParamField
  name="getAudioDeviceVolume"
  prototype="  getAudioDeviceVolume(deviceType: [ZegoAudioDeviceType](./enum#zegoaudiodevicetype), deviceID: string): number"
  desc="Get volume for the specified audio device."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| deviceType | [ZegoAudioDeviceType](./enum#zegoaudiodevicetype) | Audio device type |
| deviceID | string | ID of a device obtained by [getAudioDeviceList] |

**Details**

Get volume for the specified audio device. Only for Windows / macOS / Linux

**Return**

Device volume
</ParamField>
<ParamField
  name="setAudioDeviceVolume"
  prototype="  setAudioDeviceVolume(deviceType: [ZegoAudioDeviceType](./enum#zegoaudiodevicetype), deviceID: string, volume: number): void"
  desc="Set volume for the specified audio device."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| deviceType | [ZegoAudioDeviceType](./enum#zegoaudiodevicetype) | Audio device type |
| deviceID | string | ID of a device obtained by [getAudioDeviceList] |
| volume | number | Device volume |

**Details**

The direct operating system device may fail due to system restrictions. Please use [setCaptureVolume] and [setPlayVolume] first to adjust the volume of publish and play streams.
 Only for Windows / macOS / Linux
</ParamField>
<ParamField
  name="setSpeakerVolumeInAPP"
  prototype="  setSpeakerVolumeInAPP(deviceID: string, volume: number): void"
  desc="Set the volume of the speaker in the App."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| deviceID | string | ID of a device obtained by [getAudioDeviceList]. |
| volume | number | Device volume. |

**Details**

Set the volume of the speaker in the App.

<Note title="">
- **Use cases**: You need to adjust only the playback volume of the app, and do not adjust the playback volume of the system.
- **When to call**: After creating the engine [createEngine].
- **Caution**: This interface triggers startup switchover of the device. You are advised not to invoke this interface frequently to avoid unnecessary overhead and hardware problems. This interface may cause the volume mode to switch between call and media. If the media volume is inconsistent with the call volume, the volume may change.
</Note>

<Warning title="">
- **Available since**: 3.3.0
- **Restrictions**: Only for Windows.
</Warning>
</ParamField>
<ParamField
  name="getSpeakerVolumeInAPP"
  prototype="  getSpeakerVolumeInAPP(deviceID: string): number"
  desc="Get the volume of the speaker in the App, only support Windows."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| deviceID | string | ID of a device obtained by [getAudioDeviceList]. |

**Details**

Get the volume of the speaker in the App, only support Windows.

<Note title="">
- **When to call**: After creating the engine [createEngine].
- **Related APIs**: Set the volume of the speaker in the App [setSpeakerVolumeInAPP].
</Note>

<Warning title="">
- **Available since**: 3.3.0.
- **Restrictions**: Only for Windows.
</Warning>

**Return**

Device volume.
</ParamField>
<ParamField
  name="startAudioDeviceVolumeMonitor"
  prototype="  startAudioDeviceVolumeMonitor(deviceType: [ZegoAudioDeviceType](./enum#zegoaudiodevicetype), deviceID: string): void"
  desc="Turn on audio device volume monitoring."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| deviceType | [ZegoAudioDeviceType](./enum#zegoaudiodevicetype) | Audio device type |
| deviceID | string | ID of a device obtained by [getAudioDeviceList] |

**Details**

Starts the audio device volume monitor. When the volume of the device changes, the changed volume will be called back via [onAudioDeviceVolumeChanged].

<Note title="">
- **Caution**: Currently, only one audio output device and one audio input device are supported to be monitored at the same time. When this API is called multiple times and the same device type is set, the device ID set to this API during the last call will be overwritten.
- **When to call**: After creating the engine via [createEngine].
- **Platform differences**: Only supports Windows and macOS.
- **Related APIs**: When you no longer need to monitor the device volume, please call [stopAudioDeviceVolumeMonitor] to stop monitoring.
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>
</ParamField>
<ParamField
  name="stopAudioDeviceVolumeMonitor"
  prototype="  stopAudioDeviceVolumeMonitor(deviceType: [ZegoAudioDeviceType](./enum#zegoaudiodevicetype), deviceID: string): void"
  desc="Turn off audio device volume monitoring. Only for Windows/macOS."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| deviceType | [ZegoAudioDeviceType](./enum#zegoaudiodevicetype) | Audio device type |
| deviceID | string | ID of a device obtained by [getAudioDeviceList] |

**Details**

Stops the audio device volume monitor.

<Note title="">
- **When to call**: After creating the engine via [createEngine], and when you no longer need to monitor the device volume.
- **Platform differences**: Only supports Windows and macOS.
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>
</ParamField>
<ParamField
  name="muteAudioDevice"
  prototype="  muteAudioDevice(deviceType: [ZegoAudioDeviceType](./enum#zegoaudiodevicetype), deviceID: string, mute: boolean): void"
  desc="Mutes or unmutes the audio device."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| deviceType | [ZegoAudioDeviceType](./enum#zegoaudiodevicetype) | Audio device type |
| deviceID | string | ID of a device obtained by [getAudioDeviceList] |
| mute | boolean | Whether to mute the audio device; `true` means to mute the audio device; `false` means to unmute the audio device. |

**Details**

Only for Windows / macOS / Linux
</ParamField>
<ParamField
  name="enableAudioCaptureDevice"
  prototype="  enableAudioCaptureDevice(enable: boolean): void"
  desc="Enables or disables the audio capture device."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | Whether to enable the audio capture device, `true`: enable audio capture device, `false`: disable audio capture device. |

**Details**

This function is used to control whether to use the audio collection device. When the audio collection device is turned off, the SDK will no longer occupy the audio device. Of course, if the stream is being published at this time, by default, mute data will be used as audio data for streaming. not support Linux.

<Note title="">
- **Use cases**: When the user never needs to use the audio, you can call this function to close the audio collection.
- **Default value**: The default is `true`.
- **When to call**: After creating the engine [createEngine].
- **Related APIs**: Turning off or turning on the microphone on the hardware is a time-consuming operation, and there is a certain performance overhead when the user performs frequent operations. [muteMicrophone] is generally recommended.
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="enableCamera"
  prototype="  enableCamera(enable: boolean, channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Turns on/off the camera (for the specified channel)."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | Whether to turn on the camera, `true`: turn on camera, `false`: turn off camera |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publishing stream channel |

**Details**

This function is used to control whether to start the capture of the camera. After the camera is turned off, the video capture will not be performed. At this time, there will be no video data for local preview and push streaming.

<Note title="">
- **Default value**: The default is `true` which means the camera is turned on.
- **When to call**: After creating the engine [createEngine].
- **Caution**: In the case of using the custom video capture function [enableCustomVideoCapture], since the developer has taken over the video data capture, the SDK is no longer responsible for the video data capture, but this function still affects whether to encode or not. Therefore, when developers use custom video capture, please ensure that the value of this function is `true`.
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="useVideoDevice"
  prototype="  useVideoDevice(deviceID: string, channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Chooses to use the specified video device (for the specified channel)."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| deviceID | string | ID of a device obtained by [getVideoDeviceList] |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publishing stream channel |

**Details**

Only for Windows / macOS / Linux
 This function is only available in ZegoExpressVideo SDK!
</ParamField>
<ParamField
  name="getVideoDeviceList"
  prototype="  getVideoDeviceList(): [ZegoDeviceInfo](./struct#zegodeviceinfo)[]"
  desc="Gets a list of video devices."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
Only for Windows / macOS / Linux
 This function is only available in ZegoExpressVideo SDK!

Video device List
</ParamField>
<ParamField
  name="getDefaultVideoDeviceID"
  prototype="  getDefaultVideoDeviceID(): string"
  desc="Get the device ID of the default video device."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
Only for Windows / macOS / Linux
 This function is only available in ZegoExpressVideo SDK!

Default video device ID
</ParamField>
<ParamField
  name="startSoundLevelMonitor"
  prototype="  startSoundLevelMonitor(millisecond: number): void"
  desc="Starts sound level monitoring. Support setting the listening interval."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| millisecond | number | Monitoring time period of the sound level, in milliseconds, has a value range of [100, 3000]. Default is 100 ms. |

**Details**

After starting monitoring, you can receive local audio sound level via [onCapturedSoundLevelUpdate] callback, and receive remote audio sound level via [onRemoteSoundLevelUpdate] callback. Before entering the room, you can call [startPreview] with this function and combine it with [onCapturedSoundLevelUpdate] callback to determine whether the audio device is working properly.

<Note title="">
- **Use cases**: During the publishing and playing process, determine who is talking on the wheat and do a UI presentation.
- **When to call**: After the engine is created [createEngine].
- **Caution**:   1. [onCapturedSoundLevelUpdate] and [onRemoteSoundLevelUpdate] callback notification period is the value set by the parameter. If you want to use advanced feature of sound level, please use the function of the same name (the parameter type is ZegoSoundLevelConfig) instead.
  2. After the sound monitoring is started, even if the local audio capture is not started, [onCapturedSoundLevelUpdate] will have a callback, and the sound level is 0.
</Note>

<Warning title="">
- **Available since**: 1.15.0
</Warning>
</ParamField>
<ParamField
  name="startSoundLevelMonitorWithConfig"
  prototype="  startSoundLevelMonitorWithConfig(config: [ZegoSoundLevelConfig](./struct#zegosoundlevelconfig)): void"
  desc="Starts sound level monitoring. Support enable some advanced feature."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | [ZegoSoundLevelConfig](./struct#zegosoundlevelconfig) | Configuration for starts the sound level monitor. |

**Details**

After starting monitoring, you can receive local audio sound level via [onCapturedSoundLevelUpdate] callback, and receive remote audio sound level via [onRemoteSoundLevelUpdate] callback. Before entering the room, you can call [startPreview] with this function and combine it with [onCapturedSoundLevelUpdate] callback to determine whether the audio device is working properly.

<Note title="">
- **Use cases**: During the publishing and playing process, determine who is talking on the wheat and do a UI presentation.
- **When to call**: After the engine is created [createEngine].
- **Caution**:   1. [onCapturedSoundLevelUpdate] and [onRemoteSoundLevelUpdate] callback notification period is the value set by the parameter.
  2. After the sound monitoring is started, even if the local audio capture is not started, [onCapturedSoundLevelUpdate] will have a callback, and the sound level is 0.
</Note>

<Warning title="">
- **Available since**: 2.10.0
</Warning>
</ParamField>
<ParamField
  name="stopSoundLevelMonitor"
  prototype="  stopSoundLevelMonitor(): void"
  desc="Stops sound level monitoring."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
After the monitoring is stopped, the callback of the local/remote audio sound level will be stopped.

<Note title="">
- **When to call**: After the engine is created [createEngine].
- **Related APIs**: Soundwave monitoring can be initiated via [startSoundLevelMonitor].
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>
</ParamField>
<ParamField
  name="startAudioSpectrumMonitor"
  prototype="  startAudioSpectrumMonitor(millisecond: number): void"
  desc="Starts audio spectrum monitoring. Support setting the listening interval."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| millisecond | number | Monitoring time period of the audio spectrum, in milliseconds, the minimum value is 10. Default is 500 ms. |

**Details**

After starting monitoring, you can receive local audio spectrum via [onCapturedAudioSpectrumUpdate] callback, and receive remote audio spectrum via [onRemoteAudioSpectrumUpdate] callback.

<Note title="">
- **Use cases**: In the host K song scene, has been published or played under the premise that the host or audience to see the tone and volume change animation.
- **When to call**: After the engine is created [createEngine].
- **Caution**: [onCapturedAudioSpectrumUpdate] and [onRemoteAudioSpectrumUpdate] callback notification period is the value set by the parameter.
</Note>

<Warning title="">
- **Available since**: 1.15.0
</Warning>
</ParamField>
<ParamField
  name="stopAudioSpectrumMonitor"
  prototype="  stopAudioSpectrumMonitor(): void"
  desc="Stops audio spectrum monitoring."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
After the monitoring is stopped, the callback of the local/remote audio spectrum will be stopped.

<Note title="">
- **When to call**: After the engine is created [createEngine].
- **Related APIs**: Audio spectrum monitoring can be initiated via [startAudioSpectrumMonitor].
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>
</ParamField>
<ParamField
  name="enableHeadphoneMonitor"
  prototype="  enableHeadphoneMonitor(enable: boolean): void"
  desc="Enables or disables headphone monitoring."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | Whether to use headphone monitor, true: enable, false: disable |

**Details**

Enable/Disable headphone monitor, and users hear their own voices as they use the microphone to capture sounds.

<Note title="">
- **When to call**: After the engine is created [createEngine].
- **Default value**: Disable.
- **Caution**:   1. This setting does not actually take effect until both the headset and microphone are connected.
  2. The default is to return after acquisition and before pre-processing. If you need to return after pre-processing, please contact ZEGO technical support.
</Note>

<Warning title="">
- **Available since**: 1.9.0
</Warning>
</ParamField>
<ParamField
  name="setHeadphoneMonitorVolume"
  prototype="  setHeadphoneMonitorVolume(volume: number): void"
  desc="Sets the headphone monitor volume."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| volume | number | headphone monitor volume, range from 0 to 200, 60 as default. |

**Details**

set headphone monitor volume.

<Note title="">
- **When to call**: After the engine is created [createEngine].
- **Caution**: This setting does not actually take effect until both the headset and microphone are connected.
- **Related APIs**: Enables or disables headphone monitoring via [enableHeadphoneMonitor].
</Note>

<Warning title="">
- **Available since**: 1.9.0
</Warning>
</ParamField>
<ParamField
  name="enableMixSystemPlayout"
  prototype="  enableMixSystemPlayout(enable: boolean): void"
  desc="Enable or disable system audio capture."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | Whether to mix system playout. |

**Details**

Enable sound card capture to mix sounds played by the system into the publishing stream, such as sounds played by the browser, sounds played by the third-party player, etc.

<Note title="">
- **Default value**: Default is disable.
- **When to call**: Called this function after calling [startPublishingStream] or [startPreview].
- **Caution**: The system sound card sound does not include streaming sound, media player sound and sound effect player sound.
- **Related APIs**: [setMixSystemPlayoutVolume] function can set system audio capture volume.
- **Platform differences**: Only supports Windows and macOS.
</Note>

<Warning title="">
- **Available since**: 1.9.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="setMixSystemPlayoutVolume"
  prototype="  setMixSystemPlayoutVolume(volume: number): void"
  desc="set system audio capture volume."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| volume | number | the volume. Valid range [0, 200], default is 100. |

**Details**

set system audio capture volume.

<Note title="">
- **Use cases**: User needs to adjust the volume which system playout mix to stream publishing.
- **When to call /Trigger**: Called this function after calling [startPublishingStream] or [startPreview].
- **Related APIs**: [enableMixSystemPlayout] enable or disable mix system playout.
- **Platform differences**: Only supports Windows and macOS.
</Note>

<Warning title="">
- **Available since**: 2.4.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="enableMixEnginePlayout"
  prototype="  enableMixEnginePlayout(enable: boolean): void"
  desc="Enable or disable mix SDK playout to stream publishing."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | Whether to mix engine playout |

**Details**

Enable mix SDK playout sounds into the stream publishing.

<Note title="">
- **Use cases**: Users need to mix the sound of SDK playout into stream publishing. For example, when the class scene, the teacher and student Co-hosting, and the teacher can mix the play streaming sound into the publish streaming.
- **Default value**: Default is disable.
- **When to call /Trigger**: Called this function after calling [startPublishingStream] or [startPreview].
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="startAudioVADStableStateMonitor"
  prototype="  startAudioVADStableStateMonitor(type: [ZegoAudioVADStableStateMonitorType](./enum#zegoaudiovadstablestatemonitortype), millisecond: number): void"
  desc="Start audio VAD stable state monitoring, and the monitoring period can be set."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| type | [ZegoAudioVADStableStateMonitorType](./enum#zegoaudiovadstablestatemonitortype) | audio VAD monitor type. |
| millisecond | number | monitoring period default 3000. value of [200, 10000] |

**Details**

After monitoring is started, you can use the [onAudioVADStateUpdate] callback to receive the specified type of audio VAD callback.

<Note title="">
- **Use cases**: For example, when you specify the type of collection and use the microphone to collect, you can check whether the host has continuous and stable voice input through this interface.
- **When to call**: Before publish stream, you can call [startPreview] with this function and combine it with [onAudioVADStateUpdate] callback to determine whether the audio device is working properly.
- **Related APIs**: [stopAudioVADStableStateMonitor].
</Note>

<Warning title="">
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="stopAudioVADStableStateMonitor"
  prototype="  stopAudioVADStableStateMonitor(type: [ZegoAudioVADStableStateMonitorType](./enum#zegoaudiovadstablestatemonitortype)): void"
  desc="Stop audio VAD stable state monitoring."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| type | [ZegoAudioVADStableStateMonitorType](./enum#zegoaudiovadstablestatemonitortype) | audio VAD monitor type. |

**Details**

After calling this interface, the specified type of [onAudioVADStateUpdate] callback can no longer be received.

<Note title="">
- **When to call**: None.
- **Related APIs**: [startAudioVADStableStateMonitor].
</Note>

<Warning title="">
- **Available since**: 2.14.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="onAudioDeviceStateChanged"
  prototype="  onAudioDeviceStateChanged(updateType: [ZegoUpdateType](./enum#zegoupdatetype), deviceType: [ZegoAudioDeviceType](./enum#zegoaudiodevicetype), deviceInfo: [ZegoDeviceInfo](./struct#zegodeviceinfo)): void"
  desc="The callback triggered when there is a change to audio devices (i.e. new device added or existing device deleted)."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| updateType | [ZegoUpdateType](./enum#zegoupdatetype) | Update type (add/delete) |
| deviceType | [ZegoAudioDeviceType](./enum#zegoaudiodevicetype) | Audio device type |
| deviceInfo | [ZegoDeviceInfo](./struct#zegodeviceinfo) | Audio device information |

**Details**

By listening to this callback, users can update the sound collection or output using a specific device when necessary.
 When to trigger: This callback is triggered when an audio device is added or removed from the system.

<Note title="">
- **Platform differences**: Only supports Windows and macOS.
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="onAudioDeviceVolumeChanged"
  prototype="  onAudioDeviceVolumeChanged(deviceType: [ZegoAudioDeviceType](./enum#zegoaudiodevicetype), deviceID: string, volume: number): void"
  desc="The callback triggered when there is a change of the volume for the audio devices."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| deviceType | [ZegoAudioDeviceType](./enum#zegoaudiodevicetype) | Audio device type |
| deviceID | string | Audio device ID |
| volume | number | audio device volume |

**Details**

Audio device volume change event callback.
 When to trigger: After calling the [startAudioDeviceVolumeMonitor] function to start the device volume monitor, and the volume of the monitored audio device changes.

<Note title="">
- **Platform differences**: Only supports Windows and macOS.
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>
</ParamField>
<ParamField
  name="onVideoDeviceStateChanged"
  prototype="  onVideoDeviceStateChanged(updateType: [ZegoUpdateType](./enum#zegoupdatetype), deviceInfo: [ZegoDeviceInfo](./struct#zegodeviceinfo)): void"
  desc="The callback triggered when there is a change to video devices (i.e. new device added or existing device deleted)."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| updateType | [ZegoUpdateType](./enum#zegoupdatetype) | Update type (add/delete) |
| deviceInfo | [ZegoDeviceInfo](./struct#zegodeviceinfo) | Audio device information |

**Details**

By listening to this callback, users can update the video capture using a specific device when necessary.
 When to trigger: This callback is triggered when a video device is added or removed from the system.

<Note title="">
- **Platform differences**: Only supports Windows and macOS.
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None
</Warning>
</ParamField>
<ParamField
  name="onCapturedSoundLevelUpdate"
  prototype="  onCapturedSoundLevelUpdate(soundLevel: number): void"
  desc="The local captured audio sound level callback."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| soundLevel | number | Locally captured sound level value, ranging from 0.0 to 100.0 (This value only represents the range of the sound level value returned by the callback, not the precision.) . |

**Details**

The local captured audio sound level callback.

<Note title="">
- **Trigger**: After you start the sound level monitor by calling [startSoundLevelMonitor].
- **Caution**:   1. The callback notification period is the parameter value set when the [startSoundLevelMonitor] is called. The callback value is the default value of 0 When you have not called the interface [startPublishingStream] and [startPreview].
  2. This callback is a high-frequency callback, and it is recommended not to do complex logic processing inside the callback.
- **Related APIs**: Start sound level monitoring via [startSoundLevelMonitor]. Monitoring remote played audio sound level by callback [onRemoteSoundLevelUpdate]
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>
</ParamField>
<ParamField
  name="onCapturedSoundLevelInfoUpdate"
  prototype="  onCapturedSoundLevelInfoUpdate(soundLevelInfo: [ZegoSoundLevelInfo](./struct#zegosoundlevelinfo) *): void"
  desc="The local captured audio sound level callback, supported vad."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| soundLevelInfo | [ZegoSoundLevelInfo](./struct#zegosoundlevelinfo) * | Locally captured sound level value, ranging from 0.0 to 100.0 (This value only represents the range of the sound level value returned by the callback, not the precision.). |

**Details**

The local captured audio sound level callback.

<Note title="">
- **Trigger**: After you start the sound level monitor by calling [startSoundLevelMonitor].
- **Caution**:   1. The callback notification period is the parameter value set when the [startSoundLevelMonitor] is called.
  2. This callback is a high-frequency callback, and it is recommended not to do complex logic processing inside the callback.
- **Related APIs**: Start sound level monitoring via [startSoundLevelMonitor]. Monitoring remote played audio sound level by callback [onRemoteSoundLevelUpdate] or [onRemoteSoundLevelInfoUpdate].
</Note>

<Warning title="">
- **Available since**: 2.10.0
</Warning>
</ParamField>
<ParamField
  name="onRemoteSoundLevelUpdate"
  prototype="  onRemoteSoundLevelUpdate(soundLevels: Object): void"
  desc="The remote playing streams audio sound level callback."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| soundLevels | Object | Remote sound level hash map, key is the streamID, value is the sound level value of the corresponding streamID, value ranging from 0.0 to 100.0 (This value only represents the range of the sound level value returned by the callback, not the precision.). |

**Details**

The remote playing streams audio sound level callback.

<Note title="">
- **Trigger**: After you start the sound level monitor by calling [startSoundLevelMonitor], you are in the state of playing the stream [startPlayingStream].
- **Caution**: The callback notification period is the parameter value set when the [startSoundLevelMonitor] is called.
- **Related APIs**: Start sound level monitoring via [startSoundLevelMonitor]. Monitoring local captured audio sound by callback [onCapturedSoundLevelUpdate] or [onCapturedSoundLevelInfoUpdate].
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>
</ParamField>
<ParamField
  name="onLocalCaptureVideoData"
  prototype="  onLocalCaptureVideoData(videoParam: [ZegoVideoFrameObject](./struct#zegovideoframeobject)): void"
  desc="Callback to local capture video data."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| videoParam | [ZegoVideoFrameObject](./struct#zegovideoframeobject) | video param. |
</ParamField>
<ParamField
  name="onRemotePlayVideoData"
  prototype="  onRemotePlayVideoData(videoParam: [ZegoVideoFrameObject](./struct#zegovideoframeobject)): void"
  desc="Callback to play stream video data."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| videoParam | [ZegoVideoFrameObject](./struct#zegovideoframeobject) | video param. |
</ParamField>
<ParamField
  name="onRemoteSoundLevelInfoUpdate"
  prototype="  onRemoteSoundLevelInfoUpdate(soundLevelInfos: Map<String, [ZegoSoundLevelInfo](./struct#zegosoundlevelinfo)>): void"
  desc="The remote playing streams audio sound level callback, supported vad."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| soundLevelInfos | Map\<String, [ZegoSoundLevelInfo](./struct#zegosoundlevelinfo)\> | Remote sound level hash map, key is the streamID, value is the sound level value of the corresponding streamID, value ranging from 0.0 to 100.0 (This value only represents the range of the sound level value returned by the callback, not the precision.). |

**Details**

The remote playing streams audio sound level callback.

<Note title="">
- **Trigger**: After you start the sound level monitor by calling [startSoundLevelMonitor], you are in the state of playing the stream [startPlayingStream].
- **Caution**: The callback notification period is the parameter value set when the [startSoundLevelMonitor] is called.
- **Related APIs**: Start sound level monitoring via [startSoundLevelMonitor]. Monitoring local captured audio sound by callback [onCapturedSoundLevelUpdate] or [onCapturedSoundLevelInfoUpdate].
</Note>

<Warning title="">
- **Available since**: 2.10.0
</Warning>
</ParamField>
<ParamField
  name="onCapturedAudioSpectrumUpdate"
  prototype="  onCapturedAudioSpectrumUpdate(audioSpectrum: number[]): void"
  desc="The local captured audio spectrum callback."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| audioSpectrum | number[] | Locally captured audio spectrum value list. Spectrum value range is [0-2^30]. |

**Details**

The local captured audio spectrum callback.

<Note title="">
- **Trigger**: After you start the audio spectrum monitor by calling [startAudioSpectrumMonitor].
- **Caution**: The callback notification period is the parameter value set when the [startAudioSpectrumMonitor] is called. The callback value is the default value of 0 When you have not called the interface [startPublishingStream] and [startPreview].
- **Related APIs**: Start audio spectrum monitoring via [startAudioSpectrumMonitor]. Monitoring remote played audio spectrum by callback [onRemoteAudioSpectrumUpdate]
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>
</ParamField>
<ParamField
  name="onRemoteAudioSpectrumUpdate"
  prototype="  onRemoteAudioSpectrumUpdate(audioSpectrums: object): void"
  desc="The remote playing streams audio spectrum callback."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| audioSpectrums | object | Remote audio spectrum hash map, key is the streamID, value is the audio spectrum list of the corresponding streamID. Spectrum value range is [0-2^30] |

**Details**

The remote playing streams audio spectrum callback.

<Note title="">
- **Trigger**: After you start the audio spectrum monitor by calling [startAudioSpectrumMonitor], you are in the state of playing the stream [startPlayingStream].
- **Caution**: The callback notification period is the parameter value set when the [startAudioSpectrumMonitor] is called.
- **Related APIs**: Start audio spectrum monitoring via [startAudioSpectrumMonitor]. Monitoring local played audio spectrum by callback [onCapturedAudioSpectrumUpdate].
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>
</ParamField>
<ParamField
  name="onLocalDeviceExceptionOccurred"
  prototype="  onLocalDeviceExceptionOccurred(exceptionType: [ZegoDeviceExceptionType](./enum#zegodeviceexceptiontype), deviceType: [ZegoDeviceType](./enum#zegodevicetype), deviceID: string): void"
  desc="The callback triggered when a local device exception occurred."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| exceptionType | [ZegoDeviceExceptionType](./enum#zegodeviceexceptiontype) | The type of the device exception. |
| deviceType | [ZegoDeviceType](./enum#zegodevicetype) | The type of device where the exception occurred. |
| deviceID | string | Device ID. Currently, only desktop devices are supported to distinguish different devices; for mobile devices, this parameter will return an empty string. |

**Details**

The callback triggered when a local device exception occurs.

<Note title="">
- **Trigger**: This callback is triggered when the function of the local audio or video device is abnormal.
</Note>

<Warning title="">
- **Available since**: 2.15.0
</Warning>
</ParamField>
<ParamField
  name="onRemoteCameraStateUpdate"
  prototype="  onRemoteCameraStateUpdate(streamID: string, state: [ZegoRemoteDeviceState](./enum#zegoremotedevicestate)): void"
  desc="The callback triggered when the state of the remote camera changes."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| streamID | string | Stream ID. |
| state | [ZegoRemoteDeviceState](./enum#zegoremotedevicestate) | Remote camera status. |

**Details**

The callback triggered when the state of the remote camera changes.

<Note title="">
- **Use cases**: Developers of 1v1 education scenarios or education small class scenarios and similar scenarios can use this callback notification to determine whether the camera device of the remote publishing stream device is working normally, and preliminary understand the cause of the device problem according to the corresponding state.
- **Trigger**: When the state of the remote camera device changes, such as switching the camera, by monitoring this callback, it is possible to obtain an event related to the far-end camera, which can be used to prompt the user that the video may be abnormal.
- **Caution**: This callback will not be called back when the remote stream is play from the CDN, or when custom video acquisition is used at the peer.
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>
</ParamField>
<ParamField
  name="onRemoteMicStateUpdate"
  prototype="  onRemoteMicStateUpdate(streamID: string, state: [ZegoRemoteDeviceState](./enum#zegoremotedevicestate)): void"
  desc="The callback triggered when the state of the remote microphone changes."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| streamID | string | Stream ID. |
| state | [ZegoRemoteDeviceState](./enum#zegoremotedevicestate) | Remote microphone status. |

**Details**

The callback triggered when the state of the remote microphone changes.

<Note title="">
- **Use cases**: Developers of 1v1 education scenarios or education small class scenarios and similar scenarios can use this callback notification to determine whether the microphone device of the remote publishing stream device is working normally, and preliminary understand the cause of the device problem according to the corresponding state.
- **Trigger**: When the state of the remote microphone device is changed, such as switching a microphone, etc., by listening to the callback, it is possible to obtain an event related to the remote microphone, which can be used to prompt the user that the audio may be abnormal.
- **Caution**: This callback will not be called back when the remote stream is play from the CDN, or when custom audio acquisition is used at the peer (But the stream is not published to the ZEGO RTC server.).
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>
</ParamField>
<ParamField
  name="onRemoteSpeakerStateUpdate"
  prototype="  onRemoteSpeakerStateUpdate(streamID: string, state: [ZegoRemoteDeviceState](./enum#zegoremotedevicestate)): void"
  desc="The callback triggered when the state of the remote speaker changes."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| streamID | string | Stream ID. |
| state | [ZegoRemoteDeviceState](./enum#zegoremotedevicestate) | Remote speaker status. |

**Details**

The callback triggered when the state of the remote microphone changes.

<Note title="">
- **Use cases**: Developers of 1v1 education scenarios or education small class scenarios and similar scenarios can use this callback notification to determine whether the speaker device of the remote publishing stream device is working normally, and preliminary understand the cause of the device problem according to the corresponding state.
- **Trigger**: When the state of the remote speaker device changes, such as switching the speaker, by monitoring this callback, you can get events related to the remote speaker.
- **Caution**: This callback will not be called back when the remote stream is play from the CDN.
</Note>

<Warning title="">
- **Available since**: 1.1.0
</Warning>
</ParamField>
<ParamField
  name="onAudioVADStateUpdate"
  prototype="  onAudioVADStateUpdate(type: [ZegoAudioVADStableStateMonitorType](./enum#zegoaudiovadstablestatemonitortype), state: [ZegoAudioVADType](./enum#zegoaudiovadtype)): void"
  desc="Callback for audio VAD  stable state update."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| type | [ZegoAudioVADStableStateMonitorType](./enum#zegoaudiovadstablestatemonitortype) | audio VAD monitor type |
| state | [ZegoAudioVADType](./enum#zegoaudiovadtype) | VAD result |

**Details**

Callback for audio VAD  stable state update.
 When to trigger: the [startAudioVADStableStateMonitor] function must be called to start the audio VAD monitor and you must be in a state where it is publishing the audio and video stream or be in [startPreview] state.

<Note title="">
- **Related APIs**: [startAudioVADStableStateMonitor], [stopAudioVADStableStateMonitor].
</Note>

<Warning title="">
- **Available since**: 2.14.0
- **Restrictions**: The callback notification period is 3 seconds.
</Warning>
</ParamField>
<ParamField
  name="getCurrentAudioDevice"
  prototype="  getCurrentAudioDevice(deviceType: [ZegoAudioDeviceType](./enum#zegoaudiodevicetype)): [ZegoDeviceInfo](./struct#zegodeviceinfo)"
  desc="Get the audio device information currently in use."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| deviceType | [ZegoAudioDeviceType](./enum#zegoaudiodevicetype) | Audio device type.Required:Yes. |

**Details**

Get the audio device information currently in use.

<Note title="">
- **Use cases**: Used for scenes that need to manually switch between multiple audio devices.
- **When to call**: Called this function after calling [startPublishingStream] or [startPreview].
- **Related APIs**: The default audio device ID can be obtained through [getDefaultAudioDeviceID].
</Note>

<Warning title="">
- **Available since**: 2.12.0
- **Restrictions**: Only supports Windows and macOS.
</Warning>

**Return**

Audio device information.
</ParamField>
<ParamField
  name="enableAEC"
  prototype="  enableAEC(enable: boolean): void"
  desc="Whether to enable acoustic echo cancellation (AEC)."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | Whether to enable echo cancellation, true: enable, false: disable |

**Details**

Turning on echo cancellation, the SDK filters the collected audio data to reduce the echo component in the audio.
 Use case: When you need to reduce the echo to improve the call quality and user experience, you can turn on this feature.

<Note title="">
- **When to call**: It needs to be called after [createEngine].
- **Caution**: The AEC function only supports the processing of sounds playbacked through the SDK, such as sounds played by the playing stream, media player, audio effect player, etc. Before this function is called, the SDK automatically determines whether to use AEC. Once this function is called, the SDK does not automatically determine whether to use AEC.
- **Related APIs**: Developers can use [enableHeadphoneAEC] to set whether to enable AEC when using headphones, and use [setAECMode] to set the echo cancellation mode.
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="setAECMode"
  prototype="  setAECMode(mode: [ZegoAECMode](./enum#zegoaecmode)): void"
  desc="Sets the acoustic echo cancellation (AEC) mode."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mode | [ZegoAECMode](./enum#zegoaecmode) | Echo cancellation mode |

**Details**

When [enableAEC] is used to enable echo cancellation, this function can be used to switch between different echo cancellation modes to control the degree of echo cancellation.
 Use case: When the default echo cancellation effect does not meet expectations, this function can be used to adjust the echo cancellation mode.

<Note title="">
- **Default value**: When this function is not called, the default echo cancellation mode is [Aggressive].
- **When to call**: It needs to be called after [createEngine].
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: The value set by this function is valid only after the echo cancellation function is turned on.
</Warning>
</ParamField>
<ParamField
  name="enableAGC"
  prototype="  enableAGC(enable: boolean): void"
  desc="Enables or disables automatic gain control (AGC)."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | Whether to enable automatic gain control, true: enable, false: disable |

**Details**

After turning on this function, the SDK can automatically adjust the microphone volume to adapt to near and far sound pickups and keep the volume stable.
 Use case: When you need to ensure volume stability to improve call quality and user experience, you can turn on this feature.

<Note title="">
- **When to call**: It needs to be called after [createEngine].
- **Caution**: Before this function is called, the SDK automatically determines whether to use AGC. Once this function is called, the SDK does not automatically determine whether to use AGC.
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="enableANS"
  prototype="  enableANS(enable: boolean): void"
  desc="Enables or disables active noise suppression (ANS, aka ANC)."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | Whether to enable noise suppression, true: enable, false: disable |

**Details**

Enable the noise suppression can reduce the noise in the audio data and make the human voice clearer.
 Use case: When you need to suppress noise to improve call quality and user experience, you can turn on this feature.

<Note title="">
- **When to call**: It needs to be called after [createEngine].
- **Related APIs**: This function has a better suppression effect on continuous noise (such as the sound of rain, white noise). If you need to turn on transient noise suppression, please use [enableTransientANS]. And the noise suppression mode can be set by [setANSMode].
- **Caution**: Before this function is called, the SDK automatically determines whether to use ANS. Once this function is called, the SDK does not automatically determine whether to use ANS.
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="enableTransientANS"
  prototype="  enableTransientANS(enable: boolean): void"
  desc="Enables or disables transient noise suppression."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | Whether to enable transient noise suppression, true: enable, false: disable |

**Details**

Enable the transient noise suppression can suppress the noises such as keyboard and desk knocks.
 Use case: When you need to suppress transient noise to improve call quality and user experience, you can turn on this feature.

<Note title="">
- **Default value**: When this function is not called, this is disabled by default.
- **When to call**: It needs to be called after [createEngine].
- **Related APIs**: This function will not suppress normal noise after it is turned on. If you need to turn on normal noise suppression, please use [enableANS].
</Note>

<Warning title="">
- **Available since**: 1.17.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="setANSMode"
  prototype="  setANSMode(mode: [ZegoANSMode](./enum#zegoansmode)): void"
  desc="Sets the automatic noise suppression (ANS) mode."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mode | [ZegoANSMode](./enum#zegoansmode) | Audio Noise Suppression mode |

**Details**

When [enableANS] is used to enable noise suppression, this function can be used to switch between different noise suppression modes to control the degree of noise suppression.
 Use case: When the default noise suppression effect does not meet expectations, this function can be used to adjust the noise suppression mode.

<Note title="">
- **Default value**: When this function is not called, the default automatic noise suppression (ANS) mode is [Medium].
- **When to call**: It needs to be called after [createEngine].
</Note>

<Warning title="">
- **Available since**: 1.1.0
- **Restrictions**: The value set by this function is valid only after the noise suppression function is turned on.
</Warning>
</ParamField>
<ParamField
  name="setAudioEqualizerGain"
  prototype="  setAudioEqualizerGain(bandIndex: number, bandGain: number): void"
  desc="Set the sound equalizer (EQ)."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| bandIndex | number | Band frequency index, the value range is [0, 9], corresponding to 10 frequency bands, and the center frequencies are [31, 62, 125, 250, 500, 1K, 2K, 4K, 8K, 16K] Hz. |
| bandGain | number | Band gain for the index, the value range is [-15, 15]. Default value is 0, if all gain values in all frequency bands are 0, EQ function will be disabled. |

**Details**

Call this function to set the sound equalizer adjust the tone.

<Note title="">
- **Use cases**: Often used in voice chatroom, KTV.
- **When to call**: It should be called after the engine has started.
</Note>

<Warning title="">
- **Available since**: 1.12.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="setVoiceChangerPreset"
  prototype="  setVoiceChangerPreset(preset: [ZegoVoiceChangerPreset](./enum#zegovoicechangerpreset)): void"
  desc="Setting up the voice changer via preset enumeration."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| preset | [ZegoVoiceChangerPreset](./enum#zegovoicechangerpreset) | The voice changer preset enumeration. |

**Details**

Call this function to use preset voice changer effect.

<Note title="">
- **Use cases**: Often used in live broadcasting, voice chatroom and KTV.
- **When to call**: It needs to be called after [createEngine].
- **Related APIs**:  If you need advanced voice changer effect, please use [setVoiceChangerParam].
 The effect of using this function together with [setReverbPreset] may be different from what is expected. If you need to use it at the same time, it is recommended to enable the voice changer first, and then enable the reverb.
 Using ANDROID/ETHEREAL preset voice changer effect will modify reverberation or reverberation echo parameters. Calling [setVoiceChangerParam], [setReverbAdvancedParam], [setReverbEchoParam] may affect the voice changer effect after use these preset voice changer effect.
 If you need advanced reverb/echo/electronic effects/voice changer effect, please use [setReverbAdvancedParam], [setReverbEchoParam], [setElectronicEffects], [setVoiceChangerParam] together.
</Note>

<Warning title="">
- **Available since**: 1.17.0
</Warning>
</ParamField>
<ParamField
  name="setVoiceChangerParam"
  prototype="  setVoiceChangerParam(param: [ZegoVoiceChangerParam](./struct#zegovoicechangerparam)): void"
  desc="Setting up the specific voice changer parameters."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| param | [ZegoVoiceChangerParam](./struct#zegovoicechangerparam) | Voice changer parameters. |

**Details**

Call this function to set custom voice changer effect.

<Note title="">
- **Use cases**: Often used in live broadcasting, voice chatroom and KTV.
- **When to call**: It needs to be called after [createEngine].
- **Related APIs**:  [setVoiceChangerPreset] provide a set of preset voice changer effects.
 If you need advanced reverb/echo/voice changer effect, please use [setReverbAdvancedParam], [setReverbEchoParam], [setVoiceChangerParam] together.
</Note>

<Warning title="">
- **Available since**: 1.10.0
</Warning>
</ParamField>
<ParamField
  name="setReverbPreset"
  prototype="  setReverbPreset(preset: [ZegoReverbPreset](./enum#zegoreverbpreset)): void"
  desc="Setting up the reverberation via preset enumeration."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| preset | [ZegoReverbPreset](./enum#zegoreverbpreset) | The reverberation preset enumeration. |

**Details**

Call this function to set preset reverb effect.

<Note title="">
- **Use cases**: Often used in live broadcasting, voice chatroom and KTV.
- **When to call**: It needs to be called after [createEngine]. Support call this function to change preset reverb effect during publishing stream.
- **Related APIs**:  If you need advanced reverb effect, please use [setReverbAdvancedParam].
 The effect of using this function together with [setVoiceChangerPreset] may be different from what is expected. If you need to use it at the same time, it is recommended to enable the voice changer first, and then enable the reverb.
 If you need advanced reverb/echo/voice changer effect, please use [setReverbAdvancedParam], [setReverbEchoParam], [setVoiceChangerParam] together.
</Note>

<Warning title="">
- **Available since**: 1.17.0
</Warning>
</ParamField>
<ParamField
  name="setReverbAdvancedParam"
  prototype="  setReverbAdvancedParam(param: [ZegoReverbAdvancedParam](./struct#zegoreverbadvancedparam)): void"
  desc="Setting up the specific reverberation parameters."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| param | [ZegoReverbAdvancedParam](./struct#zegoreverbadvancedparam) | Reverb advanced parameter. |

**Details**

Call this function to set preset reverb effect.

<Note title="">
- **Use cases**: Often used in live broadcasting, voice chatroom and KTV.
- **When to call**: It needs to be called after [createEngine].
- **Caution**: Different values dynamically set during publishing stream will take effect. When all parameters are set to 0, the reverberation is turned off.
- **Related APIs**:  [setReverbPreset] provide a set of preset reverb effects.
 If you need advanced reverb/echo/voice changer effect, please use [setReverbAdvancedParam], [setReverbEchoParam], [setVoiceChangerParam] together.
</Note>

<Warning title="">
- **Available since**: 1.10.0
</Warning>
</ParamField>
<ParamField
  name="setReverbEchoParam"
  prototype="  setReverbEchoParam(param: [ZegoReverbEchoParam](./struct#zegoreverbechoparam)): void"
  desc="Setting up the specific reverberation echo parameters."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| param | [ZegoReverbEchoParam](./struct#zegoreverbechoparam) | The reverberation echo parameter. |

**Details**

Call this function to set reverb echo effect. This function can be used with voice changer and reverb to achieve a variety of custom sound effects.

<Note title="">
- **Use cases**: Often used in live broadcasting, voice chatroom and KTV.
- **When to call**: It needs to be called after [createEngine].
- **Related APIs**: If you need advanced reverb/echo/voice changer effect, please use [setReverbAdvancedParam], [setReverbEchoParam], [setVoiceChangerParam] together.
</Note>

<Warning title="">
- **Available since**: 1.17.0
</Warning>
</ParamField>
<ParamField
  name="enableVirtualStereo"
  prototype="  enableVirtualStereo(enable: boolean, angle: number): void"
  desc="Enable or disable the virtual stereo effect when publishing stream."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | true to turn on the virtual stereo, false to turn off the virtual stereo. |
| angle | number | The angle of the sound source in virtual stereo in the range of -1 ~ 360, with 90 being directly in front, 0 / 180 / 270 corresponding to the rightmost and leftmost respectively. In particular, when set to -1, it is all round virtual stereo effects. |

**Details**

Call this function to enable / disable the virtual stereo effect when publishing stream.

<Note title="">
- **Use cases**: Often used in live broadcasting, voice chatroom and KTV.
- **When to call**: It needs to be called after [createEngine].
- **Caution**: You need to set up a dual channel with [setAudioConfig] for the virtual stereo to take effect.
</Note>

<Warning title="">
- **Available since**: 1.10.0;  Starting from 2.15.0, the angle parameter supports setting -1 to present a all round virtual stereo effect.
</Warning>
</ParamField>
<ParamField
  name="sendBroadcastMessage"
  prototype="  sendBroadcastMessage(roomID: string, message: string): Promise&lt;Object&gt;"
  desc="Sends a Broadcast Message."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| roomID | string | Room ID, a string of less 128 bytes in length.<br/>  Caution:<br/>  1. room ID is defined by yourself.<br/>  2. Only support numbers, English characters and '~', '!', '@', '#', '$', '%', '^', '&', '*', '(', ')', '_', '+', '=', '-', '`', ';', '’', ',', '.', '&lt;', '&gt;', '\'.<br/>  3. If you need to communicate with the Web SDK, please do not use '%'. |
| message | string | The content of the message. Required: Yes. Value range: The length does not exceed 1024 bytes. |

**Details**

Send a broadcast message to the room, users who have entered the same room can receive the message, and the message is reliable.

<Note title="">
- **Use cases**: Generally used in the live room.
- **When to call**: After calling [loginRoom] to log in to the room.
- **Related callbacks**: The room broadcast message can be received through [onIMRecvBroadcastMessage].
- **Related APIs**: Barrage messages can be sent through the [sendBarrageMessage] function, and custom command can be sent through the [sendCustomCommand] function.
</Note>

<Warning title="">
- **Available since**: 1.2.1
- **Restrictions**: The frequency of sending broadcast messages in the same room cannot be higher than 10 messages/s. The maximum QPS for a single user to call this interface within a single room is 2. For restrictions on the use of this function, please contact ZEGO technical support.
</Warning>

**Return**

Send broadcast message result callback
</ParamField>
<ParamField
  name="sendBarrageMessage"
  prototype="  sendBarrageMessage(roomID: string, message: string): Promise&lt;Object&gt;"
  desc="Sends a Barrage Message (bullet screen) to all users in the same room, without guaranteeing the delivery."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| roomID | string | Room ID, a string of less 128 bytes in length.<br/>  Caution:<br/>  1. room ID is defined by yourself.<br/>  2. Only support numbers, English characters and '~', '!', '@', '#', '$', '%', '^', '&', '*', '(', ')', '_', '+', '=', '-', '`', ';', '’', ',', '.', '&lt;', '&gt;', '\'.<br/>  3. If you need to communicate with the Web SDK, please do not use '%'. |
| message | string | The content of the message. Required: Yes. Value range: The length does not exceed 1024 bytes. |

**Details**

Send a barrage message to the room, users who have logged in to the same room can receive the message, the message is unreliable.

<Note title="">
- **Use cases**: Generally used in scenarios where there is a large number of messages sent and received in the room and the reliability of the messages is not required, such as live barrage.
- **When to call**: After calling [loginRoom] to log in to the room.
- **Related callbacks**: The room barrage message can be received through [onIMRecvBarrageMessage].
- **Related APIs**: Broadcast messages can be sent through the [sendBroadcastMessage] function, and custom command can be sent through the [sendCustomCommand] function.
</Note>

<Warning title="">
- **Available since**: 1.5.0
- **Restrictions**: The frequency of sending barrage messages in the same room cannot be higher than 20 messages/s. For restrictions on the use of this function, please contact ZEGO technical support.
</Warning>

**Return**

Send barrage message result callback.
</ParamField>
<ParamField
  name="sendCustomCommand"
  prototype="  sendCustomCommand(roomID: string, command: string, toUserList: [ZegoUser](./struct#zegouser)[]): Promise&lt;Object&gt;"
  desc="Sends a Custom Command to the specified users in the same room."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| roomID | string | Room ID, a string of less 128 bytes in length.<br/>  Caution:<br/>  1. room ID is defined by yourself.<br/>  2. Only support numbers, English characters and '~', '!', '@', '#', '$', '%', '^', '&', '*', '(', ')', '_', '+', '=', '-', '`', ';', '’', ',', '.', '&lt;', '&gt;', '\'.<br/>  3. If you need to communicate with the Web SDK, please do not use '%'. |
| command | string | Custom command content. Required: Yes. Value range: The maximum length is 1024 bytes. Caution: To protect privacy, please do not fill in sensitive user information in this interface, including but not limited to mobile phone number, ID number, passport number, real name, etc. |
| toUserList | [ZegoUser](./struct#zegouser)[] | List of recipients of signaling. Required: Yes. Value range: user list or [nullptr]. Caution: When it is [nullptr], the SDK will send custom signaling back to all users in the room |

**Details**

Send point-to-point signaling to other users who have logged into the same room, and the message is reliable.

<Note title="">
- **Use cases**: Generally used for remote control signaling or message sending between users.
- **When to call**: After calling [loginRoom] to log in to the room.
- **Related callbacks**: The room custom command can be received through [onIMRecvCustomCommand].
- **Related APIs**: Broadcast messages can be sent through the [sendBroadcastMessage] function, and barrage messages can be sent through the [sendBarrageMessage] function.
- **Privacy reminder**: Please do not fill in sensitive user information in this interface, including but not limited to mobile phone number, ID number, passport number, real name, etc.
</Note>

<Warning title="">
- **Available since**: 1.2.1
- **Restrictions**: The frequency of sending barrage messages in the same room cannot be higher than 20 messages/s. For restrictions on the use of this function, please contact ZEGO technical support.
</Warning>

**Return**

Send command result callback.
</ParamField>
<ParamField
  name="onIMRecvBroadcastMessage"
  prototype="  onIMRecvBroadcastMessage(roomID: string, messageList: [ZegoBroadcastMessageInfo](./struct#zegobroadcastmessageinfo)[]): void"
  desc="The callback triggered when Broadcast Messages are received."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| roomID | string | Room ID. Value range: The maximum length is 128 bytes. |
| messageList | [ZegoBroadcastMessageInfo](./struct#zegobroadcastmessageinfo)[] | List of received messages. Value range: Up to 50 messages can be received each time. |

**Details**

This callback is used to receive broadcast messages sent by other users in the same room.

<Note title="">
- **Use cases**: Generally used in the live room.
 When to trigger: After calling [loginRoom] to log in to the room, if a user in the room sends a broadcast message via [sendBroadcastMessage] function, this callback will be triggered.
- **Caution**: The broadcast message sent by the user will not be notified through this callback.
- **Related callbacks**: You can receive room barrage messages through [onIMRecvBarrageMessage], and you can receive room custom signaling through [onIMRecvCustomCommand].
</Note>

<Warning title="">
- **Available since**: 1.2.1
- **Restrictions**: None
</Warning>
</ParamField>
<ParamField
  name="onIMRecvBarrageMessage"
  prototype="  onIMRecvBarrageMessage(roomID: string, messageList: [ZegoBarrageMessageInfo](./struct#zegobarragemessageinfo)[]): void"
  desc="The callback triggered when Barrage Messages are received."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| roomID | string | Room ID. Value range: The maximum length is 128 bytes. |
| messageList | [ZegoBarrageMessageInfo](./struct#zegobarragemessageinfo)[] | List of received messages. Value range: Up to 50 messages can be received each time. |

**Details**

This callback is used to receive barrage messages sent by other users in the same room.

<Note title="">
- **Use cases**: Generally used in scenarios where there is a large number of messages sent and received in the room and the reliability of the messages is not required, such as live barrage.
 When to trigger: After calling [loginRoom] to log in to the room, if a user in the room sends a barrage message through the [sendBarrageMessage] function, this callback will be triggered.
- **Caution**: Barrage messages sent by users themselves will not be notified through this callback. When there are a large number of barrage messages in the room, the notification may be delayed, and some barrage messages may be lost.
- **Related callbacks**: Develop can receive room broadcast messages through [onIMRecvBroadcastMessage], and can receive room custom signaling through [onIMRecvCustomCommand].
</Note>

<Warning title="">
- **Available since**: 1.5.0
- **Restrictions**: None
</Warning>
</ParamField>
<ParamField
  name="onIMRecvCustomCommand"
  prototype="  onIMRecvCustomCommand(roomID: string, fromUser: [ZegoUser](./struct#zegouser), command: string): void"
  desc="The callback triggered when a Custom Command is received."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| roomID | string | Room ID. Value range: The maximum length is 128 bytes. |
| fromUser | [ZegoUser](./struct#zegouser) | Sender of the command. |
| command | string | Command content received.Value range: The maximum length is 1024 bytes. |

**Details**

This callback is used to receive custom command sent by other users in the same room.

<Note title="">
- **Use cases**: Generally used in the live room.
 When to trigger: After calling [loginRoom] to log in to the room, if other users in the room send custom signaling to the developer through the [sendCustomCommand] function, this callback will be triggered.
- **Caution**: The custom command sent by the user himself will not be notified through this callback.
- **Related callbacks**: You can receive room broadcast messages through [onIMRecvBroadcastMessage], and you can receive room barrage message through [onIMRecvBarrageMessage].
</Note>

<Warning title="">
- **Available since**: 1.2.1
- **Restrictions**: None
</Warning>
</ParamField>
<ParamField
  name="createMediaPlayer"
  prototype="  createMediaPlayer(): [ZegoMediaPlayer](#zegomediaplayer)"
  desc="Creates a media player instance."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
Creates a media player instance.
 Use case: It is often used to play media resource scenes, For example, play video files, push the video of media resources in combination with custom video acquisition, and the remote end can pull the stream for viewing.

<Note title="">
- **When to call**: It can be called after the SDK by [createEngine] has been initialized.
- **Caution**: The more instances of a media player, the greater the performance overhead on the device.
- **Related APIs**: User can call [destroyMediaPlayer] function to destroy a media player instance.
</Note>

<Warning title="">
- **Available since**: 2.1.0
- **Restrictions**: Currently, a maximum of 10 instances can be created, after which it will return null.
</Warning>

Media player instance, null will be returned when the maximum number is exceeded.
</ParamField>
<ParamField
  name="destroyMediaPlayer"
  prototype="  destroyMediaPlayer(mediaPlayer: [ZegoMediaPlayer](#zegomediaplayer)): void"
  desc="Destroys a media player instance."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mediaPlayer | [ZegoMediaPlayer](#zegomediaplayer) | The media player instance object to be destroyed. |

**Details**

Destroys a media player instance.

<Note title="">
- **Related APIs**: User can call [createMediaPlayer] function to create a media player instance.
</Note>

<Warning title="">
- **Available since**: 2.1.0
</Warning>
</ParamField>
<ParamField
  name="createAudioEffectPlayer"
  prototype="  createAudioEffectPlayer(): [ZegoAudioEffectPlayer](#zegoaudioeffectplayer)"
  desc="Creates a audio effect player instance."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
Creates a audio effect player instance.

<Note title="">
- **Use cases**: When you need to play short sound effects, such as applause, cheers, etc., you can use audioEffectPlayer to achieve.
- **When to call**: It can be called after [createEngine].
- **Related APIs**: [destroyAudioEffectPlayer].
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: Currently, a maximum of 1 instances can be created, after which it will return null.
</Warning>

audio effect player instance, null will be returned when the maximum number is exceeded.
</ParamField>
<ParamField
  name="destroyAudioEffectPlayer"
  prototype="  destroyAudioEffectPlayer(audioEffectPlayer: [ZegoAudioEffectPlayer](#zegoaudioeffectplayer)): void"
  desc="Destroys a audio effect player instance."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| audioEffectPlayer | [ZegoAudioEffectPlayer](#zegoaudioeffectplayer) | The audio effect player instance object to be destroyed. |

**Details**

Destroys the specified audio effect player instance.

<Note title="">
- **When to call**: It can be called after [createAudioEffectPlayer].
- **Related APIs**: [createAudioEffectPlayer].
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="startRecordingCapturedData"
  prototype="  startRecordingCapturedData(config: [ZegoDataRecordConfig](./struct#zegodatarecordconfig), channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Starts to record and directly save the data to a file."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | [ZegoDataRecordConfig](./struct#zegodatarecordconfig) | Record config. |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publishing stream channel. |

**Details**

Starts to record locally captured audio or video and directly save the data to a file, The recorded data will be the same as the data publishing through the specified channel.

<Note title="">
- **Caution**: Developers should not [stopPreview] or [stopPublishingStream] during recording, otherwise the SDK will end the current recording task. The data of the media player needs to be mixed into the publishing stream to be recorded.
- **Related callbacks**: Developers will receive the [onCapturedDataRecordStateUpdate] and the [onCapturedDataRecordProgressUpdate] callback after start recording.
</Note>

<Warning title="">
- **Available since**: 1.10.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="stopRecordingCapturedData"
  prototype="  stopRecordingCapturedData(channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Stops recording locally captured audio or video."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publishing stream channel. |

**Details**

Stops recording locally captured audio or video.

<Note title="">
- **When to call**: After [startRecordingCapturedData].
</Note>

<Warning title="">
- **Available since**: 1.10.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="onCapturedDataRecordStateUpdate"
  prototype="  onCapturedDataRecordStateUpdate(state: [ZegoDataRecordState](./enum#zegodatarecordstate), errorCode: number, config: [ZegoDataRecordConfig](./struct#zegodatarecordconfig), channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="The callback triggered when the state of data recording (to a file) changes."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| state | [ZegoDataRecordState](./enum#zegodatarecordstate) | File recording status. |
| errorCode | number | Error code, please refer to the error codes document [https://docs.zegocloud.com/en/5548.html](https://docs.zegocloud.com/en/5548.html) for details. |
| config | [ZegoDataRecordConfig](./struct#zegodatarecordconfig) | Record config. |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publishing stream channel. |

**Details**

The callback triggered when the state of data recording (to a file) changes.

<Note title="">
- **Use cases**: The developer should use this callback to determine the status of the file recording or for UI prompting.
 When to trigger: After [startRecordingCapturedData] is called, if the state of the recording process changes, this callback will be triggered.
</Note>

<Warning title="">
- **Available since**: 1.10.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="onCapturedDataRecordProgressUpdate"
  prototype="  onCapturedDataRecordProgressUpdate(progress: [ZegoDataRecordProgress](./struct#zegodatarecordprogress), config: [ZegoDataRecordConfig](./struct#zegodatarecordconfig), channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="The callback to report the current recording progress."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| progress | [ZegoDataRecordProgress](./struct#zegodatarecordprogress) | File recording progress, which allows developers to hint at the UI, etc. |
| config | [ZegoDataRecordConfig](./struct#zegodatarecordconfig) | Record config. |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publishing stream channel. |

**Details**

Recording progress update callback, triggered at regular intervals during recording.

<Note title="">
- **Use cases**: Developers can do UI hints for the user interface.
 When to trigger: After [startRecordingCapturedData] is called, If configured to require a callback, timed trigger during recording.
</Note>

<Warning title="">
- **Available since**: 1.10.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="startNetworkSpeedTest"
  prototype="  startNetworkSpeedTest(config: [ZegoNetworkSpeedTestConfig](./struct#zegonetworkspeedtestconfig), interval: number): void"
  desc="Start network speed test. Support set speed test interval。"
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | [ZegoNetworkSpeedTestConfig](./struct#zegonetworkspeedtestconfig) | Network speed test configuration. |
| interval | number | Interval of network speed test. In milliseconds, default is 3000 ms. |

**Details**

This function supports uplink/downlink network speed test when the network can be connected.

<Note title="">
- **Use cases**: This function can be used to detect whether the network environment is suitable for pushing/pulling streams with specified bitrates.
- **When to call**: It needs to be called after [loginRoom]. If you call [startPublishingStream]/[startPlayingStream] while speed testing, the speed test will automatically stop.
- **Caution**: Developers can register [onNetworkSpeedTestQualityUpdate] callback to get the speed test result, which will be triggered every 3 seconds. If an error occurs during the speed test process, [onNetworkSpeedTestError] callback will be triggered. If this function is repeatedly called multiple times, the last functioh call's configuration will be used.
- **Related APIs**: Call [stopNetworkSpeedTest] to stop network speed test.
</Note>

<Warning title="">
- **Available since**: 1.20.0
- **Restrictions**: The default maximum allowable test time for a single network speed test is 30 seconds.
</Warning>
</ParamField>
<ParamField
  name="stopNetworkSpeedTest"
  prototype="  stopNetworkSpeedTest(): void"
  desc="Stop network speed test."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
Stop network speed test.

<Note title="">
- **Use cases**: This function can be used to detect whether the network environment is suitable for pushing/pulling streams with specified bitrates.
- **When to call**: It needs to be called after [createEngine].
- **Caution**: After the network speed test stopped, [onNetworkSpeedTestQualityUpdate] callback will not be triggered.
- **Related APIs**: Call [startNetworkSpeedTest] to start network speed test.
</Note>

<Warning title="">
- **Available since**: 1.20.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="getNetworkTimeInfo"
  prototype="  getNetworkTimeInfo(): [ZegoNetworkTimeInfo](./struct#zegonetworktimeinfo)"
  desc="Obtain synchronization network time information."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
Obtain synchronization network time(NTP), including timestamp and maximum deviation.

<Note title="">
- **Use cases**: When performing multi-terminal synchronization behaviors, network time synchronization is required.
- **When to call**: It needs to be called after [createEngine].
</Note>

<Warning title="">
- **Available since**: 2.9.0
- **Restrictions**: None.
</Warning>

Network time information.
</ParamField>
<ParamField
  name="onNetworkModeChanged"
  prototype="  onNetworkModeChanged(mode: [ZegoNetworkMode](./enum#zegonetworkmode)): void"
  desc="Network mode changed callback."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mode | [ZegoNetworkMode](./enum#zegonetworkmode) | Current network mode. |

**Details**

Network mode changed callback.
 When to trigger: This callback will be triggered when the device's network mode changed, such as switched from WiFi to 5G, or when network is disconnected.

<Warning title="">
- **Available since**: 1.20.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="onNetworkSpeedTestError"
  prototype="  onNetworkSpeedTestError(errorCode: number, type: [ZegoNetworkSpeedTestType](./enum#zegonetworkspeedtesttype)): void"
  desc="Network speed test error callback."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| errorCode | number | Network speed test error code. Please refer to error codes document [https://docs.zegocloud.com/en/5548.html](https://docs.zegocloud.com/en/5548.html) for details. |
| type | [ZegoNetworkSpeedTestType](./enum#zegonetworkspeedtesttype) | Uplink or downlink. |

**Details**

Network speed test error callback.

<Note title="">
- **Use cases**: This function can be used to detect whether the network environment is suitable for pushing/pulling streams with specified bitrates.
 When to 
- **Trigger**: If an error occurs during the speed test, such as: can not connect to speed test server, this callback will be triggered.
</Note>

<Warning title="">
- **Available since**: 1.20.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="onNetworkSpeedTestQualityUpdate"
  prototype="  onNetworkSpeedTestQualityUpdate(quality: [ZegoNetworkSpeedTestQuality](./struct#zegonetworkspeedtestquality), type: [ZegoNetworkSpeedTestType](./enum#zegonetworkspeedtesttype)): void"
  desc="Network speed test quality callback."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| quality | [ZegoNetworkSpeedTestQuality](./struct#zegonetworkspeedtestquality) | Network speed test quality. |
| type | [ZegoNetworkSpeedTestType](./enum#zegonetworkspeedtesttype) | Uplink or downlink. |

**Details**

Network speed test quality callback when the network can be connected.

<Note title="">
- **Use cases**: This function can be used to detect whether the network environment is suitable for pushing/pulling streams with specified bitrates.
 When to 
- **Trigger**: After call [startNetworkSpeedTest] start network speed test, this callback will be triggered. The trigger period is determined by the parameter value specified by call [startNetworkSpeedTest], default value is 3 seconds 
- **Caution**: When error occurred during network speed test or [stopNetworkSpeedTest] called, this callback will not be triggered.
</Note>

<Warning title="">
- **Available since**: 1.20.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="onNetworkQuality"
  prototype="  onNetworkQuality(userID: string, upstreamQuality: [ZegoStreamQualityLevel](./enum#zegostreamqualitylevel), downstreamQuality: [ZegoStreamQualityLevel](./enum#zegostreamqualitylevel)): void"
  desc="The network quality callback of users who are publishing in the room."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| userID | string | User ID, empty means local user |
| upstreamQuality | [ZegoStreamQualityLevel](./enum#zegostreamqualitylevel) | Upstream network quality |
| downstreamQuality | [ZegoStreamQualityLevel](./enum#zegostreamqualitylevel) | Downstream network quality |

**Details**

The uplink and downlink network callbacks of the local and remote users, that would be called by default every two seconds for the local and each playing remote user's network quality.
  Versions 2.10.0 to 2.13.1:
  1. Developer must both publish and play streams before you receive your own network quality callback.
  2. When playing a stream, the publish end has a play stream and the publish end is in the room where it is located, then the user's network quality will be received.
  Versions 2.14.0 to 2.21.1:
  1. As long as you publish or play a stream, you will receive your own network quality callback.
  2. When you play a stream, the publish end is in the room where you are, and you will receive the user's network quality.
  Version 2.22.0 and above:
  1. As long as you publish or play a stream, you will receive your own network quality callback.
  2. When you play a stream, the publish end is in the room where you are, and you will receive the user's network quality.
  3. Estimate the network conditions of the remote stream publishing user. If the remote stream publishing user loses one heartbeat, the network quality will be called back as unknown; if the remote stream publishing user's heartbeat loss reaches 3 Second, call back its network quality to die.
 Use case: When the developer wants to analyze the network condition on the link, or wants to know the network condition of local and remote users.
 When to

<Note title="">
- **Trigger**: After publishing a stream by called [startPublishingStream] or playing a stream by called [startPlayingStream].
</Note>

<Warning title="">
- **Available since**: 2.10.0
</Warning>
</ParamField>
<ParamField
  name="enableCustomVideoCapture"
  prototype="  enableCustomVideoCapture(enable: boolean, channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Enables or disables custom video capture (for the specified channel)."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | enable or disable |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | publish channel |

**Details**

If the value of enable is true, the video collection function is enabled. If the value of enable is false, the video collection function is disabled.
 Use case: The App developed by the developer uses the beauty SDK of a third-party beauty manufacturer to broadcast non-camera collected data.

<Note title="">
- **Default value**: When this function is not called, custom video collection is disabled by default.
- **When to call**: After [createEngine], call [startPreview], [startPublishingStream], [createRealTimeSequentialDataManager], and call [logoutRoom] to modify the configuration.
- **Caution**: Custom video rendering can be used in conjunction with custom video capture, but when both are enabled, the local capture frame callback for custom video rendering will no longer be triggered, and the developer should directly capture the captured video frame from the custom video capture source.
- **Related callbacks**: When developers to open a custom collection, by calling [setCustomVideoCaptureHandler] can be set up to receive a custom collection start-stop event notification.
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 1.9.0
</Warning>
</ParamField>
<ParamField
  name="enableExternalRender"
  prototype="  enableExternalRender(enable: boolean): void"
  desc="enable/disable external render, when external rendering is enabled, data rendering will no longer take place inside the SDK."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | true-enable/false-disable |
</ParamField>
<ParamField
  name="registerCustomVideoCapturePlugin"
  prototype="  registerCustomVideoCapturePlugin(plugin: Number, channel: [ZegoPublishChannel](./enum#zegopublishchannel), config: Object): void"
  desc="register custom video capture plugin"
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| plugin | Number | video capture plugin |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | publish channel |
| config | Object | custom config. type(1-blend/0-default) is_render-default enable(true-Enable/false-Disable)render. |
</ParamField>
<ParamField
  name="unregisterCustomVideoCapturePlugin"
  prototype="  unregisterCustomVideoCapturePlugin(plugin: Number): void"
  desc="unregister custom video capture plugin"
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| plugin | Number | video capture plugin |
</ParamField>
<ParamField
  name="enableCameraVideoDataCapturePlugin"
  prototype="  enableCameraVideoDataCapturePlugin(enable: boolean, channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Enable or disable the camera video data capture plugin"
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | Enable/Disable |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | publish channel |
</ParamField>
<ParamField
  name="getCameraVideoDataCapturePlugin"
  prototype="  getCameraVideoDataCapturePlugin(channel: [ZegoPublishChannel](./enum#zegopublishchannel)): number"
  desc="Get the camera video data capture plugin, it needs to call interface [enableCameraVideoDataCapturePlugin] open to use."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | publish channel |

**Return**

The plugin ID
</ParamField>
<ParamField
  name="setCustomVideoCaptureFillMode"
  prototype="  setCustomVideoCaptureFillMode(mode: [ZegoViewMode](./enum#zegoviewmode), channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Sets the video fill mode of custom video capture (for the specified channel)."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mode | [ZegoViewMode](./enum#zegoviewmode) | View mode |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publishing stream channel |

**Details**

When the custom video collection function is enabled, you can use this interface to set the video zooming and filling mode.

<Note title="">
- **Use cases**: If the customized collection resolution and SDK coding resolution are inconsistent, THE SDK will process the video frame according to the fill mode and adjust it to the coding resolution.
- **When to call**: Before [sendCustomVideoCaptureRawData], [sendCustomVideoCaptureTextureData], [sendCustomVideoCapturePixelBuffer], [sendCustomVideoCaptureEncodedData].
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 1.10.0
</Warning>
</ParamField>
<ParamField
  name="setCustomVideoCaptureRegionOfInterest"
  prototype="  setCustomVideoCaptureRegionOfInterest(rectList: Array<[ZegoRoiRect](./struct#zegoroirect)>, rectCount: number, channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Set the region of interest (ROI) for encoder of custom video capture (for the specified channel)."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| rectList | Array\<[ZegoRoiRect](./struct#zegoroirect)\> | ROI rectangle area list, currently supports up to 6 areas. |
| rectCount | number | Length of the rectangle list (count of rectangle). |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publish channel |

**Details**

You can set the video encoder's region of interest rectangle areas of custom video capture (for the specified channel) through this function.

<Note title="">
- **When to call**: After the callback [onStart] is received.
- **Caution**: This function is currently an experimental feature, please contact ZEGO technical support before using it.
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 2.16.0.
- **Restrictions**: Currently, only certain video encoders support this function, please contact ZEGO technical support before using it.
</Warning>
</ParamField>
<ParamField
  name="enableCustomVideoProcessing"
  prototype="  enableCustomVideoProcessing(enable: boolean, channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Enables or disables custom video processing, and support specifying the publish channel."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | enable or disable. Required: Yes. |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publishing stream channel.Required: No.Default value: Main publish channel. |

**Details**

When the developer opens custom pre-processing, by calling [setCustomVideoProcessHandler] you can set the custom video pre-processing callback.

<Note title="">
- **Use cases**: After the developer collects the video data by himself or obtains the video data collected by the SDK, if the basic beauty and watermark functions of the SDK cannot meet the needs of the developer (for example, the beauty effect cannot meet the expectations), the ZegoEffects SDK can be used to perform the video Some special processing, such as beautifying, adding pendants, etc., this process is the pre-processing of custom video.
- **Default value**: Off by default
- **When to call**: Must be set before calling [startPreview], [startPublishingStream], [createRealTimeSequentialDataManager]. If you need to modify the configuration, please call [logoutRoom] to log out of the room first, otherwise it will not take effect.
- **Related APIs**: Call the [setCustomVideoProcessHandler] function to set the callback before custom video processing.
  This function is only available in ZegoExpressVideo SDK!
</Note>

<Warning title="">
- **Available since**: 2.2.0 (Android/iOS/macOS native), 2.4.0 (Windows/macOS C++).
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="registerCustomVideoProcessPlugin"
  prototype="  registerCustomVideoProcessPlugin(plugin: number, channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Register custom video process plugin"
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| plugin | number | Video process plugin |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publish channel |
</ParamField>
<ParamField
  name="setCustomVideoProcessCutRegion"
  prototype="  setCustomVideoProcessCutRegion(left: number, top: number, right: number, bottom: number, channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Set the custom video process crop region"
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| left | number | The value at the left of the horizontal axis of the rectangle |
| top | number | The value at the top of the vertical axis of the rectangle |
| right | number | The value at the right of the horizontal axis of the rectangle |
| bottom | number | The value at the bottom of the vertical axis of the rectangle |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Publish channel |
</ParamField>
<ParamField
  name="enableCustomAudioCaptureProcessing"
  prototype="  enableCustomAudioCaptureProcessing(enable: boolean, config: [ZegoCustomAudioProcessConfig](./struct#zegocustomaudioprocessconfig)): void"
  desc="Enable local collection and custom audio processing(before ear return)."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | Whether to enable local capture custom audio processing. |
| config | [ZegoCustomAudioProcessConfig](./struct#zegocustomaudioprocessconfig) | Custom audio processing configuration. |

**Details**

Enable custom audio processing(before ear return), developers can receive locally collected audio frames through [onProcessCapturedAudioData], and can modify the audio data.

<Note title="">
- **Use cases**: If the developer wants to implement special functions (such as voice change, bel canto, etc.) through custom processing after the audio data is collected or before the remote audio data is drawn for rendering.
- **When to call**: It needs to be called before [startPublishingStream], [startPlayingStream], [startPreview], [createMediaPlayer], [createAudioEffectPlayer] and [createRealTimeSequentialDataManager] to be effective.
</Note>

<Warning title="">
- **Available since**: 1.13.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="registerCustomAudioProcessPlugin"
  prototype="  registerCustomAudioProcessPlugin(plugin: Number, type: [ZegoCustomAudioProcessConfigureType](./enum#zegocustomaudioprocessconfiguretype)): void"
  desc="Register custom audio processing plugin."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| plugin | Number | Audio processing plugin. |
| type | [ZegoCustomAudioProcessConfigureType](./enum#zegocustomaudioprocessconfiguretype) | Custom audio process configure type. |
</ParamField>
<ParamField
  name="unregisterCustomAudioProcessPlugin"
  prototype="  unregisterCustomAudioProcessPlugin(type: [ZegoCustomAudioProcessConfigureType](./enum#zegocustomaudioprocessconfiguretype)): void"
  desc="Unregister custom audio processing plugin."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| type | [ZegoCustomAudioProcessConfigureType](./enum#zegocustomaudioprocessconfiguretype) | Custom audio process configure type. |
</ParamField>
<ParamField
  name="enableCustomAudioCaptureProcessingAfterHeadphoneMonitor"
  prototype="  enableCustomAudioCaptureProcessingAfterHeadphoneMonitor(enable: boolean, config: [ZegoCustomAudioProcessConfig](./struct#zegocustomaudioprocessconfig)): void"
  desc="Turn on local collection and custom audio processing (after ear return)."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | Whether to enable local capture custom audio processing. |
| config | [ZegoCustomAudioProcessConfig](./struct#zegocustomaudioprocessconfig) | Custom audio processing configuration. |

**Details**

Enable custom audio processing(after ear return), developers can receive locally collected audio frames through [onProcessCapturedAudioData], and can modify the audio data.

<Note title="">
- **Use cases**: If the developer wants to implement special functions (such as voice change, bel canto, etc.) through custom processing after the audio data is collected or before the remote audio data is drawn for rendering.
- **When to call**: It needs to be called before [startPublishingStream], [startPlayingStream], [startPreview], [createMediaPlayer], [createAudioEffectPlayer] and [createRealTimeSequentialDataManager] to be effective.
</Note>

<Warning title="">
- **Available since**: 1.13.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="enableCustomAudioIO"
  prototype="  enableCustomAudioIO(enable: boolean, config?: [ZegoCustomAudioConfig](./struct#zegocustomaudioconfig), channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="Enables the custom audio I/O function (for the specified channel), support PCM, AAC format data."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | Whether to enable custom audio IO, default is false. |
| config | [ZegoCustomAudioConfig](./struct#zegocustomaudioconfig) | Custom audio IO config. |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | Specify the publish channel to enable custom audio IO. |

**Details**

Enable custom audio IO function, support PCM, AAC format data.

<Note title="">
- **Use cases**: If the developer wants to implement special functions (such as voice change, bel canto, etc.) through custom processing after the audio data is collected or before the remote audio data is drawn for rendering.
- **When to call**: It needs to be called before [startPublishingStream], [startPlayingStream], [startPreview], [createMediaPlayer], [createAudioEffectPlayer] and [createRealTimeSequentialDataManager] to be effective.
</Note>

<Warning title="">
- **Available since**: 1.10.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="registerCustomAudioCapturePlugin"
  prototype="  registerCustomAudioCapturePlugin(plugin: Number, channel: [ZegoPublishChannel](./enum#zegopublishchannel)): void"
  desc="register custom audio capture plugin"
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| plugin | Number | audio capture plugin |
| channel | [ZegoPublishChannel](./enum#zegopublishchannel) | publish channel |
</ParamField>
<ParamField
  name="unregisterCustomAudioCapturePlugin"
  prototype="  unregisterCustomAudioCapturePlugin(plugin: Number): void"
  desc="unregister custom audio capture plugin"
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| plugin | Number | audio capture plugin |
</ParamField>
<ParamField
  name="createCopyrightedMusic"
  prototype="  createCopyrightedMusic(): [ZegoCopyrightedMusic](#zegocopyrightedmusic)"
  desc="Creates a copyrighted music instance."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
Creates a copyrighted music instance.
 Use case: Often used in online KTV chorus scenarios, users can use related functions by creating copyrighted music instance objects.

<Note title="">
- **When to call**: It can be called after the engine by [createEngine] has been initialized.
</Note>

<Warning title="">
- **Available since**: 2.13.0
- **Restrictions**: The SDK only supports the creation of one instance of CopyrightedMusic. Multiple calls to this function return the same object.
</Warning>

copyrighted music instance, multiple calls to this function return the same object.
</ParamField>
<ParamField
  name="destroyCopyrightedMusic"
  prototype="  destroyCopyrightedMusic(copyrightedMusic: [ZegoCopyrightedMusic](#zegocopyrightedmusic)): void"
  desc="Destroys a copyrighted music instance."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| copyrightedMusic | [ZegoCopyrightedMusic](#zegocopyrightedmusic) | The copyrighted music instance object to be destroyed. |

**Details**

Destroys a copyrighted music instance.

<Note title="">
- **When to call**: It can be called before the engine by [destroyEngine]
</Note>

<Warning title="">
- **Available since**: 2.13.0
</Warning>
</ParamField>
<ParamField
  name="onDownloadProgressUpdate"
  prototype="  onDownloadProgressUpdate(resourceID: string, progressRate: number): void"
  desc="Callback for download song or accompaniment progress rate."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| resourceID | string | The resource ID of the song or accompaniment that triggered this callback. |
| progressRate | number | download progress rate. |
</ParamField>
<ParamField
  name="onCurrentPitchValueUpdate"
  prototype="  onCurrentPitchValueUpdate(resourceID: string, currentDuration: number, pitchValue: number): void"
  desc="Real-time pitch line callback."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| resourceID | string | The resource ID of the song or accompaniment that triggered this callback. |
| currentDuration | number | Current playback progress. |
| pitchValue | number | Real-time pitch accuracy or value. |
</ParamField>
<ParamField
  name="getScreenCaptureSources"
  prototype="  getScreenCaptureSources(thumbnailWidth: number, thumbnailHeight: number, iconWidth: number, iconHeight: number): promise&lt;Array&lt;[ZegoScreenCaptureSourceInfo](./struct#zegoscreencapturesourceinfo)&gt;&gt;"
  desc="Get a list of screens or windows in a screen."
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| thumbnailWidth | number | Get the thumbnail width corresponding to the window, the thumbnail can be used to draw on the window selection interface. (unit is pixel) |
| thumbnailHeight | number | Get the thumbnail height corresponding to the window, the thumbnail can be used to draw on the window selection interface. (unit is pixel) |
| iconWidth | number | Get the width of the icon corresponding to the program. (unit is pixel) |
| iconHeight | number | Get the height of the icon corresponding to the program. (unit is pixel) |

**Details**

Get a list of screens or windows in a screen.

<Warning title="">
- **Available since**: 3.1.0
- **Restrictions**: Only support in Windows/macOS.
</Warning>

**Return**

List of capture source info objects.
</ParamField>
<ParamField
  name="createScreenCaptureSource"
  prototype="  createScreenCaptureSource(sourceId: number, sourceType: [ZegoScreenCaptureSourceType](./enum#zegoscreencapturesourcetype)): [ZegoScreenCaptureSource](#zegoscreencapturesource)"
  desc="Create the screen capture source"
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| sourceId | number | The specified screen ID or window ID. |
| sourceType | [ZegoScreenCaptureSourceType](./enum#zegoscreencapturesourcetype) | The specified screen source type. |

**Details**

Creates a screen capture source object based on the provided source ID and source type.

<Note title="">
- **Use cases**: It is used when you need to record and share the screen or window.
- **When to call**: It needs to be called after [createEngine].
- **Platform differences**: Only supports Windows and macOS.
</Note>

**Return**

The screen capture instance, null will be returned when the maximum number is exceeded.
</ParamField>
<ParamField
  name="destroyScreenCaptureSource"
  prototype="  destroyScreenCaptureSource(source: [ZegoScreenCaptureSource](#zegoscreencapturesource)): void"
  desc="Destroy the screen capture source instance"
  parent_file="Declared in \`ZegoExpressEngine.js\`"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| source | [ZegoScreenCaptureSource](#zegoscreencapturesource) | The screen capture source instance to be destroyed. |

**Details**

Destroy the [ZegoScreenCaptureSource] instance object.

<Note title="">
- **Use cases**: When you no longer need to use the screen capture function, you can use this function to destroy the instance object created by the [createScreenCaptureSource] function
- **When to call**: When you need to the screen capture source object needs to be destroyed
- **Platform differences**: Only supports Windows and macOS.
</Note>

<Warning title="">
- **Restrictions**: After destroy the instance, you need to release the [ZegoScreenCaptureSource] instance object you hold by yourself, and don’t call the function of this instance object after the destruction.
</Warning>
</ParamField>

## ZegoMediaPlayer

*Declared in `ZegoExpressMediaPlayer.js`*

### Methods
<ParamField
  name="loadResource"
  prototype="  loadResource(path: string): Promise&lt;Object&gt;"
  desc="Load local or network media resource."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| path | string | The absolute resource path or the URL of the network resource and cannot be null or "". Android can set this path string with Uri. |

**Details**

Load media resources.
 Use case: Developers can load the absolute path to the local resource or the URL of the network resource incoming.

<Note title="">
- **When to call**: It can be called after the engine by [createEngine] has been initialized and the media player has been created by [createMediaPlayer].
- **Related APIs**: Resources can be loaded through the [loadResourceWithPosition] or [loadResourceFromMediaData] function.
- **Caution**: If the mediaplayer has already loaded resources or is in the process of playing, please first call the [stop] interface to halt the playback, and then proceed to call the interface to load the media resources; failure to do so will result in an unsuccessful load.
</Note>

**Return**

Callback result of loading media resource.
</ParamField>
<ParamField
  name="loadResourceWithPosition"
  prototype="  loadResourceWithPosition(path: string, startPosition: number): Promise&lt;Object&gt;"
  desc="Load local or network media resource and specify the start position."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| path | string | The absolute resource path or the URL of the network resource and cannot be null or "". Android can set this path string with Uri. |
| startPosition | number | The progress at which the playback started. |

**Details**

Load media resources, and specify the progress, in milliseconds, at which playback begins.
 Use case: Developers can load the absolute path to the local resource or the URL of the network resource incoming.

<Note title="">
- **When to call**: It can be called after the engine by [createEngine] has been initialized and the media player has been created by [createMediaPlayer].
- **Related APIs**: Resources can be loaded through the [loadResource] or [loadResourceFromMediaData] function.
- **Caution**: 1.When [startPosition] exceeds the total playing time, it will start playing from the beginning. 
 2.If the mediaplayer has already loaded resources or is in the process of playing, please first call the [stop] interface to halt the playback, and then proceed to call the interface to load the media resources; failure to do so will result in an unsuccessful load.
</Note>

**Return**

Callback result of loading media resource.
</ParamField>
<ParamField
  name="loadCopyrightedMusicResourceWithPosition"
  prototype="  loadCopyrightedMusicResourceWithPosition(resourceID: string, startPosition: number): Promise&lt;Object&gt;"
  desc="Load copyrighted music resource."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| resourceID | string | The resource ID obtained from the copyrighted music module. |
| startPosition | number | The progress at which the playback started. |

**Details**

Load media resources, and specify the progress, in milliseconds, at which playback begins.
 Use case: Developers can load the resource ID of copyrighted music.

<Note title="">
- **When to call**: It can be called after the engine by [createEngine] has been initialized and the media player has been created by [createMediaPlayer].
- **Caution**: 1.When [startPosition] exceeds the total playing time, it will start playing from the beginning. 
 2.If the mediaplayer has already loaded resources or is in the process of playing, please first call the [stop] interface to halt the playback, and then proceed to call the interface to load the media resources; failure to do so will result in an unsuccessful load.
</Note>

**Return**

Callback result of loading media resource.
</ParamField>
<ParamField
  name="start"
  prototype="  start(): void"
  desc="Start playing."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
You need to load resources before playing
</ParamField>
<ParamField
  name="stop"
  prototype="  stop(): void"
  desc="Stop playing."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
</ParamField>
<ParamField
  name="pause"
  prototype="  pause(): void"
  desc="Pause playing."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
</ParamField>
<ParamField
  name="resume"
  prototype="  resume(): void"
  desc="Resume playing."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
</ParamField>
<ParamField
  name="seekTo"
  prototype="  seekTo(millisecond: number): Promise&lt;Object&gt;"
  desc="Set the specified playback progress."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| millisecond | number | Point in time of specified playback progress |

**Details**

Unit is millisecond

**Return**

The result notification of set the specified playback progress
</ParamField>
<ParamField
  name="enableRepeat"
  prototype="  enableRepeat(enable: boolean): void"
  desc="Whether to repeat playback."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | repeat playback flag. The default is false. |
</ParamField>
<ParamField
  name="enableAux"
  prototype="  enableAux(enable: boolean): void"
  desc="Whether to mix the player's sound into the stream being published."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | Aux audio flag. The default is false. |

**Details**

This interface will only mix the media player sound into the main channel
</ParamField>
<ParamField
  name="muteLocal"
  prototype="  muteLocal(mute: boolean): void"
  desc="Whether to play locally silently."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mute | boolean | Mute local audio flag, The default is false. |

**Details**

If [enableAux] switch is turned on, there is still sound in the publishing stream. The default is false.
</ParamField>
<ParamField
  name="setPlayerView"
  prototype="  setPlayerView(view: [ZegoView](./struct#zegoview)): void"
  desc="Set the view of the player playing video."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| view | [ZegoView](./struct#zegoview) | Video rendered view object |
</ParamField>
<ParamField
  name="setVolume"
  prototype="  setVolume(volume: number): void"
  desc="Set mediaplayer volume. Both the local play volume and the publish volume are set."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| volume | number | The range is 0 ~ 200. The default is 60. |
</ParamField>
<ParamField
  name="setPlayVolume"
  prototype="  setPlayVolume(volume: number): void"
  desc="Set mediaplayer local playback volume."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| volume | number | The range is 0 ~ 200. The default is 60. |
</ParamField>
<ParamField
  name="setPublishVolume"
  prototype="  setPublishVolume(volume: number): void"
  desc="Set mediaplayer publish volume."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| volume | number | The range is 0 ~ 200. The default is 60. |
</ParamField>
<ParamField
  name="setProgressInterval"
  prototype="  setProgressInterval(millisecond: number): void"
  desc="Set playback progress callback interval."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| millisecond | number | Interval of playback progress callback in milliseconds |

**Details**

This function can control the callback frequency of [onMediaPlayerPlayingProgress]. When the callback interval is set to 0, the callback is stopped. The default callback interval is 1s
 This callback are not returned exactly at the set callback interval, but rather at the frequency at which the audio or video frames are processed to determine whether the callback is needed to call
</ParamField>
<ParamField
  name="getPlayVolume"
  prototype="  getPlayVolume(): number"
  desc="Gets the current local playback volume of the mediaplayer, the range is 0 ~ 200, with the default value of 60."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
current volume
</ParamField>
<ParamField
  name="getPublishVolume"
  prototype="  getPublishVolume(): number"
  desc="Gets the current publish volume of the mediaplayer, the range is 0 ~ 200, with the default value of 60."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
current volume
</ParamField>
<ParamField
  name="getTotalDuration"
  prototype="  getTotalDuration(): number"
  desc="Get the total progress of your media resources."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
You should load resource before invoking this function, otherwise the return value is 0

Unit is millisecond
</ParamField>
<ParamField
  name="getCurrentProgress"
  prototype="  getCurrentProgress(): number"
  desc="Get current playing progress."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
You should load resource before invoking this function, otherwise the return value is 0

current progress
</ParamField>
<ParamField
  name="getCurrentRenderingProgress"
  prototype="  getCurrentRenderingProgress(): number"
  desc="Get current rendering progress."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
You should load resource before invoking this function, otherwise the return value is 0

current rendering progress
</ParamField>
<ParamField
  name="getAudioTrackCount"
  prototype="  getAudioTrackCount(): number"
  desc="Get the number of audio tracks of the playback file."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
Number of audio tracks
</ParamField>
<ParamField
  name="setAudioTrackIndex"
  prototype="  setAudioTrackIndex(index: number): void"
  desc="Set the audio track of the playback file."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| index | number | Audio track index, the number of audio tracks can be obtained through the [getAudioTrackCount] function. |
</ParamField>
<ParamField
  name="getCurrentState"
  prototype="  getCurrentState(): [ZegoMediaPlayerState](./enum#zegomediaplayerstate)"
  desc="Get the current playback status."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
current state
</ParamField>
<ParamField
  name="getIndex"
  prototype="  getIndex(): number"
  desc="Get media player index."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
Get media player index.

<Note title="">
- **When to call**: It can be called after [createMediaPlayer].
</Note>

<Warning title="">
- **Restrictions**: None.
</Warning>

Media player index.
</ParamField>
<ParamField
  name="takeSnapshot"
  prototype="  takeSnapshot(): Promise&lt;Object&gt;"
  desc="Take a screenshot of the current playing screen of the media player."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
Only in the case of calling [setPlayerCanvas] to set the display controls and the playback state, can the screenshot be taken normally
  This function is only available in ZegoExpressVideo SDK!

snapshot error code(errorCode) and base64 string of the image in jpg format(image)
</ParamField>
<ParamField
  name="enableSoundLevelMonitor"
  prototype="  enableSoundLevelMonitor(enable: boolean, millisecond: number): void"
  desc="Whether to enable sound level monitoring."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | Whether to enable monitoring, true is enabled, false is disabled. |
| millisecond | number | Monitoring time period of the sound level, in milliseconds, has a value range of [100, 3000]. |

**Details**

Whether to enable sound level monitoring.

<Note title="">
- **When to call**: It can be called after the engine by [createEngine] has been initialized and the media player has been created by [createMediaPlayer].
- **Related callbacks**: After it is turned on, user can use the [onMediaPlayerSoundLevelUpdate] callback to monitor sound level updates.
</Note>

<Warning title="">
- **Available since**: 2.15.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="enableFrequencySpectrumMonitor"
  prototype="  enableFrequencySpectrumMonitor(enable: boolean, millisecond: number): void"
  desc="Whether to enable frequency spectrum monitoring."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | Whether to enable monitoring, true is enabled, false is disabled. |
| millisecond | number | Monitoring time period of the frequency spectrum, in milliseconds, has a value range of [10, 3000]. Note that on v3.19.0 and older version, the value range is [100, 3000]. |

**Details**

Whether to enable frequency spectrum monitoring.

<Note title="">
- **When to call**: It can be called after the engine by [createEngine] has been initialized and the media player has been created by [createMediaPlayer].
- **Related APIs**: After it is turned on, user can use the [onMediaPlayerFrequencySpectrumUpdate] callback to monitor frequency spectrum updates.
</Note>

<Warning title="">
- **Available since**: 2.15.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="getMediaInfo"
  prototype="  getMediaInfo(): [ZegoMediaPlayerMediaInfo](./struct#zegomediaplayermediainfo)"
  desc="Get meida information such as video resolution from media file."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
Get meida information such as video resolution from media file.

<Note title="">
- **When to call**: It can be called after the engine by [createEngine] has been initialized and the media player has been created by [createMediaPlayer].
</Note>

<Warning title="">
- **Available since**: 3.6.0
- **Restrictions**: None.
</Warning>

Media file info.
</ParamField>
<ParamField
  name="enablePublishVideo"
  prototype="  enablePublishVideo(enable: boolean, channel: number): void"
  desc="Whether to mix the player's video into the stream being published."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | enable publish video |
| channel | number | channel |
</ParamField>
<ParamField
  name="getCustomVideoCapturePlugin"
  prototype="  getCustomVideoCapturePlugin(): number"
  desc="Get the custom video capture plugin of the media player"
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
The plugin ID
</ParamField>
<ParamField
  name="registerCustomAudioProcessPlugin"
  prototype="  registerCustomAudioProcessPlugin(plugin: Number): void"
  desc="Register custom audio data processing plugin for mediaplayer."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| plugin | Number | Custom audio processing plugin for mediaplayer. |
</ParamField>
<ParamField
  name="unregisterCustomAudioProcessPlugin"
  prototype="  unregisterCustomAudioProcessPlugin(): void"
  desc="Unregister custom audio processing plugin for mediaplayer."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
</ParamField>
<ParamField
  name="enableLiveAudioEffect"
  prototype="  enableLiveAudioEffect(enable: boolean, mode: [ZegoLiveAudioEffectMode](./enum#zegoliveaudioeffectmode)): void"
  desc="Enable live audio effect."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | Whether to enable live audio effect. |
| mode | [ZegoLiveAudioEffectMode](./enum#zegoliveaudioeffectmode) | Live audio effect mode. |

**Details**

When the live audio effect is turned on, the spatial sense is enhanced and the instrument sounds become more prominent, without any increase in delay.

<Note title="">
- **Use cases**: It is commonly used in voice chat rooms and karaoke scenarios to enhance the live audio effects of the accompaniment.
- **When to call**: It can be called after the engine by [createEngine] has been initialized and the media player has been created by [createMediaPlayer].
- **Caution**: To enhance the live audio effect experience, it is recommended to configure dual-channel stereo encoding. Developers can achieve this configuration by using the [setAudioCaptureStereoMode] method. Failure to configure dual-channel stereo encoding may significantly diminish the effects of certain songs, as the left and right channel effects may cancel each other out when synthesizing mono audio, resulting in less noticeable effects.
</Note>

<Warning title="">
- **Available since**: 3.10.0
</Warning>
</ParamField>
<ParamField
  name="enableLocalCache"
  prototype="  enableLocalCache(enable: boolean, cacheDir: string): void"
  desc="Enable local caching of http/https network resources."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | Whether to enable local caching. |
| cacheDir | string | Cache dir. If left blank, the directory specified internally by SDK will be used. |

**Details**

When playing http/https network resources, when the local cache is enabled, the network resources will be saved locally and the cache information will be called back through [onMediaPlayerLocalCache].

<Note title="">
- **When to call**: It can be called after the engine by [createEngine] has been initialized and the media player has been created by [createMediaPlayer]. Called after [loadResource] or during playback, it will take effect next playback.
- **Caution**: Only http/https single file type network resources are supported. If there is a [seek] operation during playback, the cache will fail.
</Note>

<Warning title="">
- **Available since**: 3.12.0
</Warning>
</ParamField>
<ParamField
  name="onMediaPlayerStateUpdate"
  prototype="  onMediaPlayerStateUpdate(state: [ZegoMediaPlayerState](./enum#zegomediaplayerstate), errorCode: number): void"
  desc="MediaPlayer playback status callback."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| state | [ZegoMediaPlayerState](./enum#zegomediaplayerstate) | Media player status. |
| errorCode | number | Error code, please refer to the error codes document [https://docs.zegocloud.com/en/5548.html](https://docs.zegocloud.com/en/5548.html) for details. |

**Details**

MediaPlayer playback status callback.

<Note title="">
- **Trigger**: The callback triggered when the state of the media player changes.
</Note>

<Warning title="">
- **Available since**: 1.3.4
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="onMediaPlayerNetworkEvent"
  prototype="  onMediaPlayerNetworkEvent(networkEvent: [ZegoMediaPlayerNetworkEvent](./enum#zegomediaplayernetworkevent)): void"
  desc="The callback triggered when the network status of the media player changes."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| networkEvent | [ZegoMediaPlayerNetworkEvent](./enum#zegomediaplayernetworkevent) | Network status event. |

**Details**

The callback triggered when the network status of the media player changes.

<Note title="">
- **Trigger**: When the media player is playing network resources, this callback will be triggered when the status change of the cached data.
- **Related APIs**: [setNetWorkBufferThreshold].
</Note>

<Warning title="">
- **Available since**: 1.3.4
- **Restrictions**: The callback will only be triggered when the network resource is played.
</Warning>
</ParamField>
<ParamField
  name="onMediaPlayerPlayingProgress"
  prototype="  onMediaPlayerPlayingProgress(millisecond: number): void"
  desc="The callback to report the current playback progress of the media player."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| millisecond | number | Progress in milliseconds. |

**Details**

The callback triggered when the network status of the media player changes. Set the callback interval by calling [setProgressInterval]. When the callback interval is set to 0, the callback is stopped. The default callback interval is 1 second.

<Note title="">
- **Trigger**: When the media player is playing network resources, this callback will be triggered when the status change of the cached data.
- **Related APIs**: [setProgressInterval].
</Note>

<Warning title="">
- **Available since**: 1.3.4
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="onMediaPlayerRenderingProgress"
  prototype="  onMediaPlayerRenderingProgress(millisecond: number): void"
  desc="The callback to report the current rendering progress of the media player."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| millisecond | number | Progress in milliseconds. |

**Details**

The callback to report the current rendering progress of the media player. Set the callback interval by calling [setProgressInterval]. When the callback interval is set to 0, the callback is stopped. The default callback interval is 1 second.

<Note title="">
- **Trigger**: This callback will be triggered when the media player starts playing resources.
- **Related APIs**: [setProgressInterval].
</Note>

<Warning title="">
- **Available since**: 3.8.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="onMediaPlayerVideoSizeChanged"
  prototype="  onMediaPlayerVideoSizeChanged(width: number, height: number): void"
  desc="The callback triggered when when the resolution of the playback video changes."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| width | number | width. |
| height | number | height. |

**Details**

The callback triggered when when the resolution of the playback video changes.

<Note title="">
- **Trigger**: When the media player is playing a video resource, This callback will be triggered when playback starts and the resolution of the video changes.
</Note>

<Warning title="">
- **Available since**: 3.11.0
</Warning>
</ParamField>
<ParamField
  name="onMediaPlayerLoadResource"
  prototype="  onMediaPlayerLoadResource(errorCode: number, seq: number): void"
  desc="Callback to the result of media player loading resources."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| errorCode | number | Error code, please refer to the error codes document [https://docs.zegocloud.com/en/5548.html](https://docs.zegocloud.com/en/5548.html) for details. |
| seq | number | The serial number of the calling interface. |
</ParamField>
<ParamField
  name="onMediaPlayerVideoData"
  prototype="  onMediaPlayerVideoData(videoParam: [ZegoVideoFrameObject](./struct#zegovideoframeobject)): void"
  desc="Callback to mediaplayer video data."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| videoParam | [ZegoVideoFrameObject](./struct#zegovideoframeobject) | video param. |
</ParamField>
<ParamField
  name="onMediaPlayerRecvSEI"
  prototype="  onMediaPlayerRecvSEI(data: ArrayBuffer): void"
  desc="The callback triggered when the media player got media side info."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| data | ArrayBuffer | SEI content. |

**Details**

The callback triggered when the media player got media side info.

<Note title="">
- **Trigger**: When the media player starts playing media files, the callback is triggered if the SEI is resolved to the media file.
- **Caution**: The callback does not actually take effect until call [on] to register it.
</Note>

<Warning title="">
- **Available since**: 2.2.0
- **Restrictions**: Not available for WebGL.
</Warning>
</ParamField>
<ParamField
  name="onMediaPlayerSoundLevelUpdate"
  prototype="  onMediaPlayerSoundLevelUpdate(soundLevel: number): void"
  desc="The callback of sound level update."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| soundLevel | number | Sound level value, value range: [0.0, 100.0] (This value only represents the range of the sound level value returned by the callback, not the precision.). |

**Details**

The callback of sound level update.

<Note title="">
- **Trigger**: The callback frequency is specified by [EnableSoundLevelMonitor].
- **Caution**: The callback does not actually take effect until call [on] to register.
- **Related APIs**: To monitor this callback, you need to enable it through [EnableSoundLevelMonitor].
</Note>

<Warning title="">
- **Available since**: 2.15.0
</Warning>
</ParamField>
<ParamField
  name="onMediaPlayerFrequencySpectrumUpdate"
  prototype="  onMediaPlayerFrequencySpectrumUpdate(spectrumList: Array<number>): void"
  desc="The callback of frequency spectrum update."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| spectrumList | Array\<number\> | Locally captured frequency spectrum value list. Spectrum value range is [0-2^30]. |

**Details**

The callback of frequency spectrum update.

<Note title="">
- **Trigger**: The callback frequency is specified by [EnableFrequencySpectrumMonitor].
- **Caution**: The callback does not actually take effect until call [on] to register.
- **Related APIs**: To monitor this callback, you need to enable it through [EnableFrequencySpectrumMonitor].
</Note>

<Warning title="">
- **Available since**: 2.15.0
</Warning>
</ParamField>
<ParamField
  name="onMediaPlayerFirstFrameEvent"
  prototype="  onMediaPlayerFirstFrameEvent(event: [ZegoMediaPlayerFirstFrameEvent](./enum#zegomediaplayerfirstframeevent)): void"
  desc="The callback triggered when the media player plays the first frame."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| event | [ZegoMediaPlayerFirstFrameEvent](./enum#zegomediaplayerfirstframeevent) | The first frame callback event type. |

**Details**

The callback triggered when the media player plays the first frame.

<Note title="">
- **Trigger**: This callback is generated when the media player starts playing.
- **Caution**: The callback does not actually take effect until call [on] to register.
- **Related APIs**: You need to call the [setPlayerCanvas] interface to set the view for the media player in order to receive the video first frame event callback.
</Note>

<Warning title="">
- **Available since**: 3.5.0
</Warning>
</ParamField>
<ParamField
  name="onMediaPlayerLocalCache"
  prototype="  onMediaPlayerLocalCache(errorCode: number, resource: string, cachedFile: string): void"
  desc="The callback triggered when the media player caches http/https network resource locally."
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| errorCode | number | Error code. |
| resource | string | Played resource |
| cachedFile | string | Cached file |

**Details**

The callback triggered when the media player caches http/https network resource locally.

<Note title="">
- **Trigger**: This callback occurs after the media player caches http/https network resources.
- **Caution**: This callback will not take effect until the [enableLocalCache] API is called and the http/https network resources are played.
- **Related APIs**: Need to call the [enableLocalCache] interface.
</Note>

<Warning title="">
- **Available since**: 3.12.0
</Warning>
</ParamField>
<ParamField
  name="setVoiceChangerParam"
  prototype="  setVoiceChangerParam(audioChannel: [ZegoMediaPlayerAudioChannel](./enum#zegomediaplayeraudiochannel), param: [ZegoVoiceChangerParam](./struct#zegovoicechangerparam)): void"
  desc="[Deprecated] Setting up the specific voice changer parameters."
  suffixes={["deprecated"]}
  parent_file="Declared in \`ZegoExpressMediaPlayer.js\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| audioChannel | [ZegoMediaPlayerAudioChannel](./enum#zegomediaplayeraudiochannel) | The audio channel to be voice changed |
| param | [ZegoVoiceChangerParam](./struct#zegovoicechangerparam) | Voice changer parameters |

<Warning title="Deprecated">Deprecated since 3.15.0, please use [enableVoiceChanger] instead.</Warning>
</ParamField>

## ZegoScreenCaptureSource

*Declared in `ZegoExpressScreenCaptureSource.js`*

### Methods
<ParamField
  name="updateCaptureSource"
  prototype="  updateCaptureSource(sourceId: number, sourceType: [ZegoScreenCaptureSourceType](./enum#zegoscreencapturesourcetype)): void"
  desc="Create the screen capture source"
  parent_file="Declared in \`ZegoExpressScreenCaptureSource.js\`"
  parent_name="ZegoScreenCaptureSource"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| sourceId | number | The specified screen ID or window ID. |
| sourceType | [ZegoScreenCaptureSourceType](./enum#zegoscreencapturesourcetype) | The specified screen source type. |

**Details**

Update a screen capture source object based on the provided source ID and source type.

<Note title="">
- **Use cases**: It is used when you need to record and share the screen or window.
- **When to call**: It can be called after the engine by [createScreenCaptureSource] has been initialized.
</Note>

<Warning title="">
- **Restrictions**: Only available on Windows/macOS.
</Warning>
</ParamField>
<ParamField
  name="startCapture"
  prototype="  startCapture(): void"
  desc="Start screen capture."
  parent_file="Declared in \`ZegoExpressScreenCaptureSource.js\`"
  parent_name="ZegoScreenCaptureSource"
  parent_type="class">
Start screen capture.

<Note title="">
- **When to call**: It can be called after the engine by [createScreenCaptureSource] has been initialized.
</Note>

<Warning title="">
- **Available since**: 3.1.0
</Warning>
</ParamField>
<ParamField
  name="stopCapture"
  prototype="  stopCapture(): void"
  desc="Stop screen capture."
  parent_file="Declared in \`ZegoExpressScreenCaptureSource.js\`"
  parent_name="ZegoScreenCaptureSource"
  parent_type="class">
Stop screen capture.

<Warning title="">
- **Available since**: 3.1.0
</Warning>
</ParamField>
<ParamField
  name="getCaptureSourceRect"
  prototype="  getCaptureSourceRect(): [ZegoRect](./struct#zegorect)"
  desc="Gets the rectangle of the screen capture source."
  parent_file="Declared in \`ZegoExpressScreenCaptureSource.js\`"
  parent_name="ZegoScreenCaptureSource"
  parent_type="class">
Gets the rectangle of the screen capture source.

<Warning title="">
- **Available since**: 3.6.0
- **Restrictions**: Called after starting [startScreenCapture] acquisition, only support in Windows/macOS.
</Warning>

Rect information about the capture resource.
</ParamField>
<ParamField
  name="updateCaptureRegion"
  prototype="  updateCaptureRegion(rect: [ZegoRect](./struct#zegorect)): void"
  desc="Update the area captured by the screen."
  parent_file="Declared in \`ZegoExpressScreenCaptureSource.js\`"
  parent_name="ZegoScreenCaptureSource"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| rect | [ZegoRect](./struct#zegorect) | The position of the area to be captured relative to the entire screen or window. |

**Details**

Update the area captured by the screen.

<Note title="">
- **When to call**: It can be called after the engine by [createScreenCaptureSource] has been initialized.
</Note>

<Warning title="">
- **Available since**: 3.1.0
- **Restrictions**: Only support in Windows/macOS.
</Warning>
</ParamField>
<ParamField
  name="updatePublishRegion"
  prototype="  updatePublishRegion(rect: [ZegoRect](./struct#zegorect)): void"
  desc="Update the streaming area of ​​the screen capture."
  parent_file="Declared in \`ZegoExpressScreenCaptureSource.js\`"
  parent_name="ZegoScreenCaptureSource"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| rect | [ZegoRect](./struct#zegorect) | The position of the area to be pushed relative to the upper left corner of the capture screen, the actual capture screen size can be obtained through [onAvailableFrame]. |

**Details**

Update the streaming area of ​​the screen capture.

<Note title="">
- **When to call**: After updating the screen capture source [updateScreenCaptureSource].
- **Caution**: The set area cannot exceed the size returned by [onAvailableFrame], otherwise the setting will fail and the original frame will be pushed. The failure of the streaming area will be notified through [onExceptionOccurred].
</Note>

<Warning title="">
- **Available since**: 3.8.0
- **Restrictions**: Every time the screen capture source [updateScreenCaptureSource] is updated, the area will be cleared and needs to be reset, only support in Windows/macOS.
</Warning>
</ParamField>
<ParamField
  name="setExcludeWindowList"
  prototype="  setExcludeWindowList(list: Array<number>): void"
  desc="Sets the filtered list of windows."
  parent_file="Declared in \`ZegoExpressScreenCaptureSource.js\`"
  parent_name="ZegoScreenCaptureSource"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| list | Array\<number\> | List of IDs to filter windows. |

**Details**

Specify a list of windows, and filter these windows when capturing the screen, and not display them on the screen.

<Note title="">
- **When to call**: It can be called after the engine by [createScreenCaptureSource] has been initialized.
</Note>

<Warning title="">
- **Available since**: 3.1.0
- **Restrictions**: Only available on Windows/macOS.
</Warning>
</ParamField>
<ParamField
  name="enableWindowActivate"
  prototype="  enableWindowActivate(active: boolean): void"
  desc="Whether to activate the promotion of the window to the foreground."
  parent_file="Declared in \`ZegoExpressScreenCaptureSource.js\`"
  parent_name="ZegoScreenCaptureSource"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| active | boolean | Whether to activate the window. true to activate the window, false to not activate the window, the default is true. |

**Details**

When the capture target is a window, set whether to activate the window to be displayed in the foreground during the first capture.

<Note title="">
- **When to call**: It can be called after the engine by [createScreenCaptureSource] has been initialized.
</Note>

<Warning title="">
- **Available since**: 3.1.0
- **Restrictions**: Only available on Windows/macOS.
</Warning>
</ParamField>
<ParamField
  name="enableCursorVisible"
  prototype="  enableCursorVisible(visible: boolean): void"
  desc="Set whether to show the cursor"
  parent_file="Declared in \`ZegoExpressScreenCaptureSource.js\`"
  parent_name="ZegoScreenCaptureSource"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| visible | boolean | Whether to show the cursor. true to show the cursor, false to not show the cursor, the default is true. |

**Details**

Set whether to show the cursor.

<Note title="">
- **When to call**: It can be called after the engine by [createScreenCaptureSource] has been initialized.
</Note>

<Warning title="">
- **Available since**: 3.1.0
- **Restrictions**: Only available on Windows/macOS.
</Warning>
</ParamField>
<ParamField
  name="enableHightLight"
  prototype="  enableHightLight(enable: boolean, config: [ZegoLayerBorderConfig](./struct#zegolayerborderconfig)): void"
  desc="Set whether to highlight the capture area"
  parent_file="Declared in \`ZegoExpressScreenCaptureSource.js\`"
  parent_name="ZegoScreenCaptureSource"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | Whether to highlight the capture area. true to highlight, false to not highlight, the default is false. |
| config | [ZegoLayerBorderConfig](./struct#zegolayerborderconfig) | Highlight capture area border configuration. |

**Details**

Set whether to highlight the capture area.

<Note title="">
- **When to call**: It can be called after the engine by [createScreenCaptureSource] has been initialized.
</Note>

<Warning title="">
- **Available since**: 3.21.0
- **Restrictions**: Only available on Windows/macOS.
</Warning>
</ParamField>
<ParamField
  name="getIndex"
  prototype="  getIndex(): number"
  desc="Get screen capture source index."
  parent_file="Declared in \`ZegoExpressScreenCaptureSource.js\`"
  parent_name="ZegoScreenCaptureSource"
  parent_type="class">
Index of the screen capture source.
</ParamField>
<ParamField
  name="onExceptionOccurred"
  prototype="  onExceptionOccurred(exceptionType: [ZegoScreenCaptureSourceExceptionType](./enum#zegoscreencapturesourceexceptiontype)): void"
  desc="The callback triggered when a screen capture source exception occurred"
  parent_file="Declared in \`ZegoExpressScreenCaptureSource.js\`"
  parent_name="ZegoScreenCaptureSource"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| exceptionType | [ZegoScreenCaptureSourceExceptionType](./enum#zegoscreencapturesourceexceptiontype) | Capture source exception type. |

**Details**

The callback triggered when a screen capture source exception occurred.

<Note title="">
- **Trigger**: This callback is triggered when an exception occurs after the screen start capture.
- **Caution**: The callback does not actually take effect until call [on] to register.
</Note>

<Warning title="">
- **Available since**: 3.1.0
- **Restrictions**: Only available on Windows/macOS.
</Warning>
</ParamField>
<ParamField
  name="onCaptureTypeExceptionOccurred"
  prototype="  onCaptureTypeExceptionOccurred(sourceType: [ZegoScreenCaptureSourceType](./enum#zegoscreencapturesourcetype), exceptionType: [ZegoScreenCaptureSourceExceptionType](./enum#zegoscreencapturesourceexceptiontype)): void"
  desc="The callback triggered when a screen capture source capture type exception occurred"
  parent_file="Declared in \`ZegoExpressScreenCaptureSource.js\`"
  parent_name="ZegoScreenCaptureSource"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| sourceType | [ZegoScreenCaptureSourceType](./enum#zegoscreencapturesourcetype) | Capture source type. |
| exceptionType | [ZegoScreenCaptureSourceExceptionType](./enum#zegoscreencapturesourceexceptiontype) | Capture source exception type. |

**Details**

The callback triggered when a screen capture source capture type exception occurred.

<Note title="">
- **Trigger**: This callback is triggered when an exception occurs after the screen start capture.
- **Caution**: The callback does not actually take effect until call [setEventHandler] to set.
</Note>

<Warning title="">
- **Available since**: 3.21.0
- **Restrictions**: Only available on Windows/macOS.
</Warning>
</ParamField>
<ParamField
  name="onWindowStateChanged"
  prototype="  onWindowStateChanged(windowState: ZegoScreenCaptureWindowState, windowRect: [ZegoRect](./struct#zegorect)): void"
  desc="The callback will be triggered when the state of the capture target window change."
  parent_file="Declared in \`ZegoExpressScreenCaptureSource.js\`"
  parent_name="ZegoScreenCaptureSource"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| windowState | ZegoScreenCaptureWindowState | Capture window state. |
| windowRect | [ZegoRect](./struct#zegorect) | Capture window rect. |

<Note title="">
- **Caution**: The callback does not actually take effect until call [on] to register.
</Note>

<Warning title="">
- **Available since**: 3.4.0
- **Restrictions**: Only available on Windows/macOS.
</Warning>
</ParamField>
<ParamField
  name="onRectChanged"
  prototype="  onRectChanged(captureRect: [ZegoRect](./struct#zegorect)): void"
  desc="The callback will be triggered when the state of the capture target window change."
  parent_file="Declared in \`ZegoExpressScreenCaptureSource.js\`"
  parent_name="ZegoScreenCaptureSource"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| captureRect | [ZegoRect](./struct#zegorect) | Capture source rect. |

<Note title="">
- **Caution**: The callback does not actually take effect until call [on] to register.
</Note>

<Warning title="">
- **Available since**: 3.7.0
- **Restrictions**: Only available on Windows/macOS.
</Warning>
</ParamField>
<ParamField
  name="enableAudioCapture"
  prototype="  enableAudioCapture(enable: boolean, audioParam: [ZegoAudioFrameParam](./struct#zegoaudioframeparam)): void"
  desc="[Deprecated] Whether to collect the sound of the window process during window collection"
  suffixes={["deprecated"]}
  parent_file="Declared in \`ZegoExpressScreenCaptureSource.js\`"
  parent_name="ZegoScreenCaptureSource"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | boolean | Whether to collect sound. true for collection, false for no collection, default false. |
| audioParam | [ZegoAudioFrameParam](./struct#zegoaudioframeparam) | Audio collection parameters. |

**Details**

Whether to collect the sound of the window process during window collection.

<Note title="">
- **When to call**: Before starting the collection [startScreencapture]. [setAudioSource] Set the acquisition source to ZegoAudioSourceTypeCustom, and the screen acquisition and streaming channels are the same.
</Note>

<Warning title="">
- **Available since**: 3.13.0
- **Restrictions**: Only applicable to Windows 10 and above versions.
</Warning>

<Warning title="Deprecated">Deprecated since 3.23.0, please use the method with the same name with [config] parameter instead.</Warning>
</ParamField>
