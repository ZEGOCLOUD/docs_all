---
id: query-forbid-cdn-live-stream
title: "QueryForbidCDNLiveStream"
description: "调用本接口查询已被禁止推流到 CDN 的 URL 列表。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/media-service/open-api-desc
---

<h1 className={"openapi__heading"}>QueryForbidCDNLiveStream</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


调用本接口查询已被禁止推流到 CDN 的 URL 列表。

<Warning title="注意">
首次使用本接口，需要联系 ZEGO 技术支持进行配置。
</Warning>
<Note title="调用频率限制">同一个 AppID 下所有房间：20 次/秒</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=QueryForbidCDNLiveStream\n","required":true,"schema":{"type":"string","enum":["QueryForbidCDNLiveStream"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/real-time-video-server/api-reference/accessing-server-apis#签名机制)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"IsTest","in":"query","description":"💡公共参数。是否为测试环境。设为 true 表示使用测试环境。\n2021-11-16 及之前在 ZEGO 控制台 创建的项目默认是测试环境，可根据业务需求设置此参数；而之后创建的项目默认是正式环境。\n> ⚠️注意：测试环境跟正式环境是隔离的，请不要在操作正式环境 appid 时误把该参数标记为 true。2021-11-16 及之后创建的项目建议**不要填写该参数**。\n>\n> 📌是否必填参数：2021-11-16 及之前在 [ZEGO 控制台](https://console.zego.im)创建的项目为**必填**，之后创建的则不是必填。\n","required":false,"schema":{"type":"string","enum":["false","true"],"default":"false"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Vendor","in":"query","required":true,"schema":{"type":"string"},"description":"CDN 提供商，ws：网宿。"}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"integer","format":"number","description":"返回码。\n以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n<table>\n  <thead>\n    <tr><th>返回码</th><th>说明</th><th>处理建议</th></tr>\n  </thead>\n  <tbody>\n    <tr><td>0</td><td>请求成功。</td><td>-</td></tr>\n    <tr><td>1</td><td>请求失败。</td><td>-</td></tr>\n    <tr><td>2</td><td>参数错误。</td><td>-</td></tr>\n    <tr><td>3</td><td>鉴权失败。</td><td>请检查鉴权参数是否正确。</td></tr>\n  </tbody>\n</table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"操作结果描述","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID","example":""}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>响应数据</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Ws</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>网宿返回的查询结果</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>ResultDetail</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>查询结果的集合</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"Channel"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"加速域名","example":"publish-ws.zegotech.cn"}}></SchemaItem><SchemaItem collapsible={false} name={"Url"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"被禁止推流的 CDN 直播地址的完整 URL，例如，rtmp://publish-ws.zegotech.cn/test/流 ID","example":"rtmp://publish-ws.zegotech.cn/test/stream001"}}></SchemaItem><SchemaItem collapsible={false} name={"StartTime"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"开始禁止推流的时间，UTC 时间","example":"2024-10-12T03:47:53Z"}}></SchemaItem><SchemaItem collapsible={false} name={"EndTime"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"恢复推流的时间，UTC 时间","example":"2024-10-14T02:22:00Z"}}></SchemaItem><SchemaItem collapsible={false} name={"Ip"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","deprecated":true,"description":"禁止观看直播的用户 IP（已废弃）","example":""}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"\",\n  \"Data\": {\n    \"Ws\": {\n      \"ResultDetail\": [\n        {\n          \"Channel\": \"publish-ws.zegotech.cn\",\n          \"Url\": \"rtmp://publish-ws.zegotech.cn/test/stream001\",\n          \"StartTime\": \"2024-10-12T03:47:53Z\",\n          \"EndTime\": \"2024-10-14T02:22:00Z\"\n        }\n      ]\n    }\n  }\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Example"} value={"Example"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"\",\n  \"Data\": {\n    \"Ws\": {\n      \"ResultDetail\": [\n        {\n          \"Channel\": \"publish-ws.zegotech.cn\",\n          \"Url\": \"rtmp://publish-ws.zegotech.cn/test/stream001\",\n          \"StartTime\": \"2024-10-12T03:47:53Z\",\n          \"EndTime\": \"2024-11-11T03:47:53Z\",\n          \"Ip\": \"\"\n        },\n        {\n          \"Channel\": \"publish-ws.zegotech.cn\",\n          \"Url\": \"rtmp://publish-ws.zegotech.cn/test/stream002\",\n          \"StartTime\": \"2024-10-12T02:48:15Z\",\n          \"EndTime\": \"2024-10-14T02:22:00Z\",\n          \"Ip\": \"\"\n        }\n      ]\n    }\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      