---
id: add-stream
title: "AddStream"
description: "调用本接口可向指定房间增加一路流。多用于“一起看”场景，比如将 CDN 的直播流添加到指定房间，从而让房间内的用户获取流 ID，实现服务端控制指定房间的直播内容。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/room/open-api-desc
---

<h1 className={"openapi__heading"}>AddStream</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


调用本接口可向指定房间增加一路流。多用于“一起看”场景，比如将 CDN 的直播流添加到指定房间，从而让房间内的用户获取流 ID，实现服务端控制指定房间的直播内容。

<Warning title="注意">
- 往指定房间增加流时需要保证该房间是存在的，本接口无法创建房间。若您希望增加流时，自动创建对应房间，请联系 ZEGO 技术支持开启相关功能。
- 本接口一般与 [删除房间流](/real-time-video-server/api-reference/room/delete-stream) 配合使用，比如业务上需要停止向某个房间广播流。
</Warning>

本接口仅用于抛出房间内流增加的相关通知，不会执行实际的推流操作。开发者需要从自己的客户端，调用 `startPublishingStream` 接口进行推流（或其它的推流方式），该条被增加的流才能被 `startPlayingStream` 接口拉流到。

客户端接收房间内流增加的通知使用 ZEGO Express SDK 回调接口：

| |ZegoExpress SDK|LiveRoom SDK|
|-|-|-|
|iOS/macOS| onRoomStreamUpdate | onStreamUpdated |
|Android| onRoomStreamUpdate | onStreamUpdated |
|Windows| onRoomStreamUpdate |  OnStreamUpdated |
|Web| roomStreamUpdate | onStreamUpdated |

<Note title="调用频率限制">同一个 AppID 下所有房间：10 次/秒（测试环境：1 次/秒）</Note>
<Warning title="注意">
- 不建议使用与房间内实际用户相同的 UserId，避免与客户端 SDK 的流新增行为产生冲突。可以使用特定的名称标识为服务端行为，例如：userId = “Server-Administrator”。
- 如果使用了与房间内实际用户相同的 UserId（不建议）时，需要注意以下事项：
  - 相应操作人 UserId 的客户端不会收到本服务端接口触发的流增加回调。
  - 如果实际房间内用户 UserId 没有推流，会触发相应 StreamId 的流删除逻辑。
  - 如果实际房间内用户 UserId 退出房间，会触发相应 StreamId 的流删除逻辑。
</Warning>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=AddStream\n","required":true,"allowEmptyValue":false,"schema":{"type":"string","enum":["AddStream"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/real-time-video-server/api-reference/accessing-server-apis#签名机制)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"IsTest","in":"query","description":"💡公共参数。是否为测试环境。设为 true 表示使用测试环境。\n2021-11-16 及之前在 ZEGO 控制台 创建的项目默认是测试环境，可根据业务需求设置此参数；而之后创建的项目默认是正式环境。\n> ⚠️注意：测试环境跟正式环境是隔离的，请不要在操作正式环境 appid 时误把该参数标记为 true。2021-11-16 及之后创建的项目建议**不要填写该参数**。\n>\n> 📌是否必填参数：2021-11-16 及之前在 [ZEGO 控制台](https://console.zego.im)创建的项目为**必填**，之后创建的则不是必填。\n","required":false,"schema":{"type":"string","enum":["false","true"],"default":"false"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"RoomId","in":"query","description":"房间 ID。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"UserId","in":"query","description":"用户 ID。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"UserName","in":"query","description":"用户名。","required":false,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"StreamId","in":"query","description":"流 ID，不超过 256 字节。","required":true,"schema":{"type":"string","maxLength":256}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"StreamTitle","in":"query","description":"流标题，不超过 127 字节。\n使用时，需对其内容执行 URL 编码（UrlEncode）处理。\n","required":false,"schema":{"type":"string","maxLength":127}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"ExtraInfo","in":"query","description":"流附加信息，不超过 1024 字节。","required":false,"schema":{"type":"string","maxLength":1024}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"CensorFlag","in":"query","description":"是否允许送审标识。审核房间流列表时，当前流是否允许审核：0 表示允许，1 表示不允许。\n> **📌 重要说明**\n>\n> - 当设置为不允许送审时，审核服务商将不会拉取此条流送审。\n>\n> - 在使用流注入方式实现跨房间 PK 的业务场景时，建议将此字段设置为\"不允许\"，以避免同一条流在多个房间内被重复送审。\n","required":false,"schema":{"type":"integer","format":"int32","enum":[0,1],"default":0}}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>操作成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","example":0,"description":"返回码。以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n\n<table>\n  <thead>\n    <tr>\n      <th>返回码</th>\n      <th>说明</th>\n      <th>处理建议</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>123</td>\n      <td>设置流信息失败。</td>\n      <td>请重试，或联系 ZEGO 技术支持处理。</td>\n    </tr>\n    <tr>\n      <td>1012</td>\n      <td>多个用户操作同一个流。</td>\n      <td>请检查逻辑。</td>\n    </tr>\n  </tbody>\n</table>\n"}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"success","description":"操作结果描述。"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":4443515903608307000,"description":"请求 ID。"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": 4443515903608307000\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      