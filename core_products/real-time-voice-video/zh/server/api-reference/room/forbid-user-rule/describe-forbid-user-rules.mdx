---
id: describe-forbid-user-rules
title: "DescribeForbidUserRules"
description: "查询用户封禁规则。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/room/forbid-user-rule/open-api-desc
---

<h1 className={"openapi__heading"}>DescribeForbidUserRules</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


查询用户封禁规则。
<Note title="调用频率限制">同一个 AppID 下所有房间：10 次/秒。</Note>
<Warning title="注意">
调用 `DescribeForbidUserRules` 接口，可以查询到当前处于有效期内的规则，也可以查询到已失效的规则。**请注意，ZEGO 会不定期清理数据库中的已失效的封禁规则，调用本接口查询得到的失效规则列表可能不完整。**
</Warning>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=DescribeForbidUserRules\n","required":true,"allowEmptyValue":false,"schema":{"type":"string","enum":["DescribeForbidUserRules"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/real-time-video-server/api-reference/accessing-server-apis#签名机制)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"IsTest","in":"query","description":"💡公共参数。是否为测试环境。设为 true 表示使用测试环境。\n2021-11-16 及之前在 ZEGO 控制台 创建的项目默认是测试环境，可根据业务需求设置此参数；而之后创建的项目默认是正式环境。\n> ⚠️注意：测试环境跟正式环境是隔离的，请不要在操作正式环境 appid 时误把该参数标记为 true。2021-11-16 及之后创建的项目建议**不要填写该参数**。\n>\n> 📌是否必填参数：2021-11-16 及之前在 [ZEGO 控制台](https://console.zego.im)创建的项目为**必填**，之后创建的则不是必填。\n","required":false,"schema":{"type":"string","enum":["false","true"],"default":"false"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"RuleType","in":"query","description":"需要查询的封禁规则类型：\n- 1：通过 IP 地址封禁用户；\n- 2：通过 RoomId 封禁用户；\n- 3：通过 UserId 封禁用户；\n- 4：通过 RoomId 和 UserId 封禁用户。\n","required":true,"schema":{"type":"integer","format":"int32","enum":[1,2,3,4]}}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>操作成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","description":"返回码。以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n\n<table>\n  <thead>\n    <tr>\n      <th>返回码</th>\n      <th>说明</th>\n      <th>处理建议</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>0</td>\n      <td>请求成功。</td>\n      <td>-</td>\n    </tr>\n    <tr>\n      <td>1</td>\n      <td>请求失败。</td>\n      <td>请联系 ZEGO 技术支持处理。</td>\n    </tr>\n    <tr>\n      <td>2</td>\n      <td>输入参数错误。</td>\n      <td>-</td>\n    </tr>\n    <tr>\n      <td>9</td>\n      <td>未开通当前接口的使用权限。</td>\n      <td>请联系 ZEGO 技术支持处理。</td>\n    </tr>\n    <tr>\n      <td>206</td>\n      <td>App 请求 QPS 过高被限制。</td>\n      <td>降低请求频率，或联系 ZEGO 技术支持提高 QPS 限制阈值。</td>\n    </tr>\n    <tr>\n      <td>50123</td>\n      <td>当前处于有效期内的封禁规则条数超过限制。</td>\n      <td>请减少规则条数。</td>\n    </tr>\n  </tbody>\n</table>\n"}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"操作结果描述。","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID。","example":"TestRequestId1675674022729915000"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>RuleList</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>用户封禁规则列表。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"RuleType"} required={false} schemaName={"int32"} qualifierMessage={"**Possible values:** [`1`, `2`, `3`, `4`]"} schema={{"type":"integer","format":"int32","description":"封禁规则类型：1：通过 IP 地址封禁用户；2：通过 RoomId 封禁用户；3：通过 UserId 封禁用户；4：通过 RoomId 和 UserId 封禁用户。","enum":[1,2,3,4]}}></SchemaItem><SchemaItem collapsible={false} name={"IP"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"IP 地址。RuleType 为 1 时，该参数有值。","example":""}}></SchemaItem><SchemaItem collapsible={false} name={"RoomId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"房间 ID。RuleType 为 2、4 时，该参数有值。","example":"room1"}}></SchemaItem><SchemaItem collapsible={false} name={"UserId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户 ID。RuleType 为 3、4 时，该参数有值。","example":"user1"}}></SchemaItem><SchemaItem collapsible={false} name={"DisabledPrivilegeList"} required={false} schemaName={"int32[]"} qualifierMessage={"**Possible values:** [`1`, `2`]"} schema={{"type":"array","description":"规则封禁用户所能使用的功能：1：登录；2：推流。","items":{"type":"integer","format":"int32","enum":[1,2]}}}></SchemaItem><SchemaItem collapsible={false} name={"ExpireTime"} required={false} schemaName={"int64"} qualifierMessage={undefined} schema={{"type":"integer","format":"int64","description":"用户封禁规则的过期时间，Unix 时间戳，单位：秒。","example":1704282648}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"TestRequestId1675674022729915000\",\n  \"Data\": {\n    \"RuleList\": [\n      {\n        \"RuleType\": 1,\n        \"IP\": \"\",\n        \"RoomId\": \"room1\",\n        \"UserId\": \"user1\",\n        \"DisabledPrivilegeList\": [\n          1\n        ],\n        \"ExpireTime\": 1704282648\n      }\n    ]\n  }\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Example"} value={"Example"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"TestRequestId1675674022729915000\",\n  \"Data\": {\n    \"RuleList\": [\n      {\n        \"RuleType\": 2,\n        \"IP\": \"\",\n        \"RoomId\": \"room1\",\n        \"UserId\": \"\",\n        \"DisabledPrivilegeList\": [\n          1,\n          2\n        ],\n        \"ExpireTime\": 1704282648\n      },\n      {\n        \"RuleType\": 2,\n        \"IP\": \"\",\n        \"RoomId\": \"room2\",\n        \"UserId\": \"\",\n        \"DisabledPrivilegeList\": [\n          1\n        ],\n        \"ExpireTime\": 1704282648\n      }\n    ]\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      