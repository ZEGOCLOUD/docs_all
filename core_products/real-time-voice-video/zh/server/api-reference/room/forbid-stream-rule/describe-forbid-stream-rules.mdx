---
id: describe-forbid-stream-rules
title: "DescribeForbidStreamRules"
description: "查询音视频流封禁规则。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/room/forbid-stream-rule/open-api-desc
---

<h1 className={"openapi__heading"}>DescribeForbidStreamRules</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


查询音视频流封禁规则。
<Note title="调用频率限制">同一个 AppID 下所有房间：10 次/秒。</Note>
<Note title="说明">如果所查询的 StreamId 不存在、或未设置任何音视频流封禁规则，则返回结果中所有字段值将会为 0，如响应示例中的 streamId2。</Note>
<Warning title="注意">
  调用 `DescribeForbidStreamRules` 接口，可以查询到当前处于有效期内的规则，也可以查询到已失效的规则。**请注意，ZEGO 会不定期清理数据库中的已失效的封禁规则，调用本接口查询得到的失效规则列表可能不完整。**
</Warning>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=DescribeForbidStreamRules\n","required":true,"allowEmptyValue":false,"schema":{"type":"string","enum":["DescribeForbidStreamRules"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/real-time-video-server/api-reference/accessing-server-apis#签名机制)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"IsTest","in":"query","description":"💡公共参数。是否为测试环境。设为 true 表示使用测试环境。\n2021-11-16 及之前在 ZEGO 控制台 创建的项目默认是测试环境，可根据业务需求设置此参数；而之后创建的项目默认是正式环境。\n> ⚠️注意：测试环境跟正式环境是隔离的，请不要在操作正式环境 appid 时误把该参数标记为 true。2021-11-16 及之后创建的项目建议**不要填写该参数**。\n>\n> 📌是否必填参数：2021-11-16 及之前在 [ZEGO 控制台](https://console.zego.im)创建的项目为**必填**，之后创建的则不是必填。\n","required":false,"schema":{"type":"string","enum":["false","true"],"default":"false"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"RoomId","in":"query","description":"需要查询的房间 ID。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"StreamId","in":"query","description":"需要查询的流 ID，调用本接口查询时不可超过 10 个流 ID。","required":true,"schema":{"type":"array","items":{"type":"string"},"maxItems":10,"minItems":1},"style":"form","explode":true}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>操作成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","description":"返回码。以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n\n<table>\n  <thead>\n    <tr>\n      <th>返回码</th>\n      <th>说明</th>\n      <th>处理建议</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>0</td>\n      <td>请求成功。</td>\n      <td>-</td>\n    </tr>\n    <tr>\n      <td>1</td>\n      <td>请求失败。</td>\n      <td>请联系 ZEGO 技术支持处理。</td>\n    </tr>\n    <tr>\n      <td>2</td>\n      <td>输入参数错误。</td>\n      <td>-</td>\n    </tr>\n    <tr>\n      <td>9</td>\n      <td>未开通当前接口的使用权限。</td>\n      <td>请联系 ZEGO 技术支持处理。</td>\n    </tr>\n    <tr>\n      <td>123</td>\n      <td>设置流信息失败。</td>\n      <td>请重试，或联系 ZEGO 技术支持处理。</td>\n    </tr>\n    <tr>\n      <td>206</td>\n      <td>App 请求 QPS 过高被限制。</td>\n      <td>降低请求频率，或联系 ZEGO 技术支持提高 QPS 限制阈值。</td>\n    </tr>\n  </tbody>\n</table>\n"}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"操作结果描述。"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID。"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><SchemaItem collapsible={false} name={"RoomId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"房间 ID。"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>ForbidStreamRuleList</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>查询到的音视频流封禁规则信息列表。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"StreamId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"查询的流 ID。"}}></SchemaItem><SchemaItem collapsible={false} name={"DisableAudio"} required={false} schemaName={"int32"} qualifierMessage={"**Possible values:** [`0`, `1`]"} schema={{"type":"integer","format":"int32","description":"流 ID 对应的音频是否封禁。0：不封禁；1：封禁。","enum":[0,1]}}></SchemaItem><SchemaItem collapsible={false} name={"DisableVideo"} required={false} schemaName={"int32"} qualifierMessage={"**Possible values:** [`0`, `1`]"} schema={{"type":"integer","format":"int32","description":"流 ID 对应的视频是否封禁。0：不封禁；1：封禁。","enum":[0,1]}}></SchemaItem><SchemaItem collapsible={false} name={"CreateTime"} required={false} schemaName={"int64"} qualifierMessage={undefined} schema={{"type":"integer","format":"int64","description":"音视频流封禁规则的创建时间，Unix 时间戳，单位：秒。"}}></SchemaItem><SchemaItem collapsible={false} name={"EffectiveTime"} required={false} schemaName={"int64"} qualifierMessage={undefined} schema={{"type":"integer","format":"int64","description":"音视频流封禁规则的有效时间，Unix 时间戳，单位：秒。"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"string\",\n  \"RequestId\": \"string\",\n  \"Data\": {\n    \"RoomId\": \"string\",\n    \"ForbidStreamRuleList\": [\n      {\n        \"StreamId\": \"string\",\n        \"DisableAudio\": 0,\n        \"DisableVideo\": 0,\n        \"CreateTime\": 0,\n        \"EffectiveTime\": 0\n      }\n    ]\n  }\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Example"} value={"Example"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Data\": {\n    \"RoomId\": \"room1\",\n    \"ForbidStreamRuleList\": [\n      {\n        \"StreamId\": \"streamId1\",\n        \"DisableAudio\": 1,\n        \"DisableVideo\": 1,\n        \"CreateTime\": 1343313411,\n        \"EffectiveTime\": 3600\n      },\n      {\n        \"StreamId\": \"streamId2\",\n        \"DisableAudio\": 0,\n        \"DisableVideo\": 0,\n        \"CreateTime\": 0,\n        \"EffectiveTime\": 0\n      }\n    ]\n  },\n  \"Message\": \"success\",\n  \"RequestId\": \"TestRequestId1710224543000\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      