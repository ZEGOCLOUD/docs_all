---
id: send-barrage-message
title: "SendBarrageMessage"
description: "调用本接口在房间内推送弹幕消息，一般用于房间内有大量消息收发且不需要保证消息可靠性的场景。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/room/open-api-desc
---

<h1 className={"openapi__heading"}>SendBarrageMessage</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


调用本接口在房间内推送弹幕消息，一般用于房间内有大量消息收发且不需要保证消息可靠性的场景。

客户端接收消息使用 ZEGO Express SDK 回调接口：

| |ZegoExpress SDK|LiveRoom SDK|
|-|-|-|
|iOS/macOS| onIMRecvBarrageMessage | onRecvBigRoomMessage |
|Android| onIMRecvBarrageMessage | onRecvBigRoomMessage |
|Windows| onIMRecvBarrageMessage |  OnRecvBigRoomMessage |
|Web| IMRecvBarrageMessage | onRecvBigRoomMessage |

<Note title="调用频率限制">同一个 AppID 下所有房间：100 次/秒（测试环境：10 次/秒）</Note>
<Warning title="注意">
- 在服务端通过某个 UserId 发送消息时，使用相同 UserId 的客户端不会收到该条消息，即发送方不能接收到自己发送的消息。
- 如果开发者需要让房间内的所有用户都收到消息，调用本接口时，应传入该房间用户之外的 UserId。
- 使用的 UserId 无需登录该房间，即可直接发送消息。
</Warning>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=SendBarrageMessage\n","required":true,"allowEmptyValue":false,"schema":{"type":"string","enum":["SendBarrageMessage"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/real-time-video-server/api-reference/accessing-server-apis#签名机制)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"IsTest","in":"query","description":"💡公共参数。是否为测试环境。设为 true 表示使用测试环境。\n2021-11-16 及之前在 ZEGO 控制台 创建的项目默认是测试环境，可根据业务需求设置此参数；而之后创建的项目默认是正式环境。\n> ⚠️注意：测试环境跟正式环境是隔离的，请不要在操作正式环境 appid 时误把该参数标记为 true。2021-11-16 及之后创建的项目建议**不要填写该参数**。\n>\n> 📌是否必填参数：2021-11-16 及之前在 [ZEGO 控制台](https://console.zego.im)创建的项目为**必填**，之后创建的则不是必填。\n","required":false,"schema":{"type":"string","enum":["false","true"],"default":"false"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"RoomId","in":"query","description":"房间 ID。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"UserId","in":"query","description":"发送方用户 ID。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"UserName","in":"query","description":"发送方用户名（与 UserId 一一对应）。","required":false,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"MessageCategory","in":"query","description":"消息分类。1：系统消息。2：聊天消息。","required":true,"schema":{"type":"integer","format":"uint32","enum":[1,2]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"MessageContent","in":"query","description":"消息内容，长度不能超过 1024 个字节。使用时，需对其内容执行 URL 编码（UrlEncode）处理。","required":true,"schema":{"type":"string","maxLength":1024}}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>操作成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","example":0,"description":"返回码。\n以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n<table>\n  <thead>\n    <tr>\n      <th>返回码</th>\n      <th>说明</th>\n      <th>处理建议</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>1008</td>\n      <td>消息内容 MessageContent 为空。</td>\n      <td>请重试，或联系 ZEGO 技术支持处理。</td>\n    </tr>\n    <tr>\n      <td>50012</td>\n      <td>消息长度超过限制。</td>\n      <td>请检查参数长度是否超过限制。</td>\n    </tr>\n  </tbody>\n</table>\n"}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"success","description":"操作结果描述。"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":2237080460466033400,"description":"请求 ID。"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><SchemaItem collapsible={false} name={"MessageId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"1_1611647493487_29","description":"消息 ID。"}}></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": 2237080460466033400,\n  \"Data\": {\n    \"MessageId\": \"1_1611647493487_29\"\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      