---
id: media-thumbnails
title: "MediaThumbnails"
description: "本接口用于对点播中的音视频媒体（比如 CDN 录制后文件）发起截图处理任务，包括“指定时间点截图”和“按时间间隔截图”。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/cdn/open-api-desc
---

<h1 className={"openapi__heading"}>MediaThumbnails</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


本接口用于对点播中的音视频媒体（比如 CDN 录制后文件）发起截图处理任务，包括“指定时间点截图”和“按时间间隔截图”。
- 指定时间点截图：文件开始播放后，将在所设置的时间点进行截图。
- 按时间间隔截图：文件开始播放后，将会根据所设置的时间间隔，反复进行截图，直至文件播放结束。
<Note title="调用频率限制">同一个 AppID 下所有房间：20 次/秒</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=MediaThumbnails\n","required":true,"schema":{"type":"string","enum":["MediaThumbnails"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/real-time-video-server/api-reference/accessing-server-apis#签名机制)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"IsTest","in":"query","description":"💡公共参数。是否为测试环境。设为 true 表示使用测试环境。\n2021-11-16 及之前在 ZEGO 控制台 创建的项目默认是测试环境，可根据业务需求设置此参数；而之后创建的项目默认是正式环境。\n> ⚠️注意：测试环境跟正式环境是隔离的，请不要在操作正式环境 appid 时误把该参数标记为 true。2021-11-16 及之后创建的项目建议**不要填写该参数**。\n>\n> 📌是否必填参数：2021-11-16 及之前在 [ZEGO 控制台](https://console.zego.im)创建的项目为**必填**，之后创建的则不是必填。\n","required":false,"schema":{"type":"string","enum":["false","true"],"default":"false"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Vendor","in":"query","required":true,"schema":{"type":"string","enum":["Tencent","Huawei"]},"description":"对应的 CDN 厂商：<br/><ul><li>Tencent：腾讯云。</li><li>Huawei：华为云。</li></ul>"}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"FileId","in":"query","required":true,"schema":{"type":"string"},"description":"文件唯一标识。各 CDN 厂商的录制文件唯一标识不同：<br/>\n<ul>\n<li>腾讯云：FileID。</li><li>华为云：ObsObject。</li>\n</ul>\n您可以通过以下方式获取：\n<ul>\n<li><a href=\"!Callback/Record_File_Create_Callback\" target=\"blank\">录制文件生成回调</a> 的参数 FileID 及 ObsObject。</li>\n<li><a href=\"!Callback/compose\" target=\"blank\">媒体文件合并完成回调</a> 的参数 file_id。</li>\n<li><a href=\"!Media_File/SearchMedia\" target=\"blank\">检索媒体信息</a> 的参数 FileId。</li>\n</ul>\n\n>**注意**\n>\n> ZEGO 不会对“传入的 FileId 文件是否真实存在”进行验证，请您注意填写正确的 FileId；传入错误的 FileId，响应参数中的 Code 为 1000。\n"}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Type","in":"query","required":true,"schema":{"type":"string","enum":["SnapshotByTimeOffset","SampleSnapshot"]},"description":"截图方式。\n<ul>\n<li>指定时间点截图：SnapshotByTimeOffset。</li><li>按时间间隔截图：SampleSnapshot。</li>\n</ul>\n"}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Definition","in":"query","required":false,"schema":{"type":"number"},"description":"截图模板 ID，请联系 ZEGO 技术支持获取。<br/><b>仅对 Vendor 取值为 Tencent 有效且为必填项，取值为 Huawei 无效。</b><br/>"}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"ExtTimeOffsetSet","in":"query","required":false,"description":"需要截图的时间点，单位秒。<br/><b>Type 取值为 SnapshotByTimeOffset 时必填。</b><br/>","schema":{"type":"array","items":{"type":"number"}},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Interval","in":"query","required":false,"schema":{"type":"number"},"description":"需要连续截图的时间间隔，单位秒。\n<br/><b>仅对 Vendor 取值为 Huawei 有效且为必填项，取值为 Tencent 时无效。</b><br/>\n"}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","description":"返回码。\n以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n<table>\n  <thead>\n    <tr><th>返回码</th><th>说明</th><th>处理建议</th></tr>\n  </thead>\n  <tbody>\n    <tr><td>0</td><td>请求成功。</td><td>-</td></tr>\n    <tr><td>2</td><td>输入参数错误。</td><td>-</td></tr>\n    <tr><td>3</td><td>未开通相关权限。</td><td>请联系 ZEGO 技术支持。</td></tr>\n    <tr><td>4</td><td>CDN 类型不匹配。</td><td>请检查参数。</td></tr>\n    <tr><td>5</td><td>配置错误。</td><td>请联系 ZEGO 技术支持。</td></tr>\n    <tr><td>6</td><td>请求过于频繁。</td><td>请稍后重试。</td></tr>\n    <tr><td>7</td><td>鉴权失败。</td><td>请检查鉴权参数是否正确。</td></tr>\n    <tr><td>1000</td><td>请求失败。</td><td>请联系 ZEGO 技术支持。</td></tr>\n    <tr><td>41003</td><td>文件不存在。</td><td>请确认文件格式、文件 ID 等是否正确。</td></tr>\n  </tbody>\n</table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"操作结果描述","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID，由 ZEGO 服务端返回"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>响应数据</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Tencent</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>腾讯云返回内容（Vendor 为 Tencent 时返回）</div><SchemaItem collapsible={false} name={"TaskId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"全局唯一标识点播截图任务的任务 ID","example":"1500030200-procedurev2-afc1fe7dfe51cd88a5d588cacba53393tt0"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"唯一请求 ID。如需 ZEGO 技术支持定位问题，需要提供该 RequestId","example":"474284b3-d722-490a-ba2c-de0b472eab83"}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Huawei</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>华为云返回内容（Vendor 为 Huawei 时返回）</div><SchemaItem collapsible={false} name={"task_id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"全局唯一标识点播截图任务的任务 ID"}}></SchemaItem></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"string\",\n  \"Data\": {\n    \"Tencent\": {\n      \"TaskId\": \"1500030200-procedurev2-afc1fe7dfe51cd88a5d588cacba53393tt0\",\n      \"RequestId\": \"474284b3-d722-490a-ba2c-de0b472eab83\"\n    },\n    \"Huawei\": {\n      \"task_id\": \"string\"\n    }\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      