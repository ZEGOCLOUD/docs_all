---
id: media-thumbnails
title: "MediaThumbnails"
description: "本接口用于对点播中的音视频媒体（比如 CDN 录制后文件）发起截图处理任务，包括“指定时间点截图”和“按时间间隔截图”。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/cdn/open-api-desc
---

<h1 className={"openapi__heading"}>MediaThumbnails</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


本接口用于对点播中的音视频媒体（比如 CDN 录制后文件）发起截图处理任务，包括“指定时间点截图”和“按时间间隔截图”。
- 指定时间点截图：文件开始播放后，将在所设置的时间点进行截图。
- 按时间间隔截图：文件开始播放后，将会根据所设置的时间间隔，反复进行截图，直至文件播放结束。
<Note title="调用频率限制">同一个 AppID 下所有房间：20 次/秒</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=MediaThumbnails\n","required":true,"schema":{"type":"string","enum":["MediaThumbnails"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。应用 Id，由 ZEGO 分配的用户唯一凭证。可从 <a target=\"_blank\" href=\"https://console.zego.im/\">ZEGO 控制台</a> 获取。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。16 位 16 进制随机字符串（8 字节随机数的 hex 编码）。生成算法可参考 <a href=\"/real-time-video-server/api-reference/accessing-server-apis#signature-example\">签名示例</a>。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。当前 Unix 时间戳，单位为秒。生成算法可参考 <a href=\"/real-time-video-server/api-reference/accessing-server-apis#signature-example\">签名示例</a>，最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/real-time-video-server/api-reference/accessing-server-apis#signature-mechanism)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Vendor","in":"query","required":true,"schema":{"type":"string","enum":["Tencent","Huawei"]},"description":"对应的 CDN 厂商：<br/><ul><li>Tencent：腾讯云。</li><li>Huawei：华为云。</li></ul>"}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"FileId","in":"query","required":true,"schema":{"type":"string"},"description":"文件唯一标识。各 CDN 厂商的录制文件唯一标识不同：<br/>\n<ul>\n<li>腾讯云：FileID。</li><li>华为云：ObsObject。</li>\n</ul>\n您可以通过以下方式获取：\n<ul>\n<li><a href=\"/real-time-video-server/callback/cdn/cdn-record-completed\" target=\"blank\">录制文件生成回调</a> 的参数 FileID 及 ObsObject。</li>\n<li><a href=\"/real-time-video-server/callback/cdn/merge-media-completed\" target=\"blank\">媒体文件合并完成回调</a> 的参数 file_id。</li>\n<li><a href=\"/real-time-video-server/api-reference/cdn/search-media\" target=\"blank\">检索媒体信息</a> 的参数 FileId。</li>\n</ul>\n\n>**注意**\n>\n> ZEGO 不会对“传入的 FileId 文件是否真实存在”进行验证，请您注意填写正确的 FileId；传入错误的 FileId，响应参数中的 Code 为 1000。\n"}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Type","in":"query","required":true,"schema":{"type":"string","enum":["SnapshotByTimeOffset","SampleSnapshot"]},"description":"截图方式。\n<ul>\n<li>指定时间点截图：SnapshotByTimeOffset。</li><li>按时间间隔截图：SampleSnapshot。</li>\n</ul>\n"}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Definition","in":"query","required":false,"schema":{"type":"number"},"description":"截图模板 ID，请联系 ZEGO 技术支持获取。<br/><b>仅对 Vendor 取值为 Tencent 有效且为必填项，取值为 Huawei 无效。</b><br/>"}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"ExtTimeOffsetSet","in":"query","required":false,"description":"需要截图的时间点，单位秒。<br/><b>Type 取值为 SnapshotByTimeOffset 时必填。</b><br/>","schema":{"type":"array","items":{"type":"number"}},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Interval","in":"query","required":false,"schema":{"type":"number"},"description":"需要连续截图的时间间隔，单位秒。\n<br/><b>仅对 Vendor 取值为 Huawei 有效且为必填项，取值为 Tencent 时无效。</b><br/>\n"}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","description":"返回码。\n以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n<table>\n  <thead>\n    <tr><th>返回码</th><th>说明</th><th>处理建议</th></tr>\n  </thead>\n  <tbody>\n    <tr><td>0</td><td>请求成功。</td><td>-</td></tr>\n    <tr><td>2</td><td>输入参数错误。</td><td>-</td></tr>\n    <tr><td>3</td><td>未开通相关权限。</td><td>请联系 ZEGO 技术支持。</td></tr>\n    <tr><td>4</td><td>CDN 类型不匹配。</td><td>请检查参数。</td></tr>\n    <tr><td>5</td><td>配置错误。</td><td>请联系 ZEGO 技术支持。</td></tr>\n    <tr><td>6</td><td>请求过于频繁。</td><td>请稍后重试。</td></tr>\n    <tr><td>7</td><td>鉴权失败。</td><td>请检查鉴权参数是否正确。</td></tr>\n    <tr><td>1000</td><td>请求失败。</td><td>请联系 ZEGO 技术支持。</td></tr>\n    <tr><td>41003</td><td>文件不存在。</td><td>请确认文件格式、文件 ID 等是否正确。</td></tr>\n  </tbody>\n</table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"操作结果描述","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID，由 ZEGO 服务端返回"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>响应数据</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Tencent</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>腾讯云返回内容（Vendor 为 Tencent 时返回）</div><SchemaItem collapsible={false} name={"TaskId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"全局唯一标识点播截图任务的任务 ID","example":"1500030200-procedurev2-afc1fe7dfe51cd88a5d588cacba53393tt0"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"唯一请求 ID。如需 ZEGO 技术支持定位问题，需要提供该 RequestId","example":"474284b3-d722-490a-ba2c-de0b472eab83"}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Huawei</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>华为云返回内容（Vendor 为 Huawei 时返回）</div><SchemaItem collapsible={false} name={"task_id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"全局唯一标识点播截图任务的任务 ID"}}></SchemaItem></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"string\",\n  \"Data\": {\n    \"Tencent\": {\n      \"TaskId\": \"1500030200-procedurev2-afc1fe7dfe51cd88a5d588cacba53393tt0\",\n      \"RequestId\": \"474284b3-d722-490a-ba2c-de0b472eab83\"\n    },\n    \"Huawei\": {\n      \"task_id\": \"string\"\n    }\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      