---
id: delete-media
title: "DeleteMedia"
description: "用户进行 CDN 录制时，会把录制好的媒体文件存放在 CDN 服务器上，用户可以调用本接口删除该文件。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/cdn/open-api-desc
---

<h1 className={"openapi__heading"}>DeleteMedia</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


用户进行 CDN 录制时，会把录制好的媒体文件存放在 CDN 服务器上，用户可以调用本接口删除该文件。
<Warning title="注意"> 首次使用本接口之前，请确认是否已经开通 CDN 录制服务。若未开通，请前往 [ZEGO 控制台](https://console.zego.im) 自助开通，详情请参考 [控制台 - 服务配置 - CDN](/console/service-configuration/activate-cdn-service)，或联系 ZEGO 技术支持开通。 </Warning> <Note title="调用频率限制">同一个 AppID 下所有房间：20 次/秒</Note>
## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=DeleteMedia\n","required":true,"schema":{"type":"string","enum":["DeleteMedia"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。应用 Id，由 ZEGO 分配的用户唯一凭证。可从 <a target=\"_blank\" href=\"https://console.zego.im/\">ZEGO 控制台</a> 获取。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。16 位 16 进制随机字符串（8 字节随机数的 hex 编码）。生成算法可参考 <a href=\"/real-time-video-server/api-reference/accessing-server-apis#signature-example\">签名示例</a>。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。当前 Unix 时间戳，单位为秒。生成算法可参考 <a href=\"/real-time-video-server/api-reference/accessing-server-apis#signature-example\">签名示例</a>，最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/real-time-video-server/api-reference/accessing-server-apis#signature-mechanism)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Vendor","in":"query","required":true,"schema":{"type":"string","enum":["Tencent","Ws","Huawei"]},"description":"<p>可能的取值及对应的 CDN 厂商：</p>\nTencent：腾讯云。\nWs：网宿。\nHuawei：华为云。\n"}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"FileId","in":"query","required":true,"description":"<p>文件唯一标识，在 <a href=\"/real-time-video-server/callback/cdn/cdn-record-completed\" target=\"blank\">录制文件生成回调</a> 中返回，最大支持 100 个媒体文件 FileId。</p><p>请注意，各 CDN 厂商的录制文件唯一标识不同：</p><ul><li>腾讯云：FileID。</li><li>网宿：PersistentId。</li><li>华为云：ObsObject。</li></ul><p>您也可以通过 <a href=\"/real-time-video-server/api-reference/cdn/search-media\" target=\"blank\">检索媒体信息</a> 接口，获取媒体文件的唯一标识，标识对应的参数名称有所差异，请注意区分使用。</p><p>示例：&FileId[]=5285890813221514958&FileId[]=5285890813221513290</p>","schema":{"type":"array","items":{"type":"string"},"minItems":1,"maxItems":100},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"ClearCache","in":"query","required":false,"description":"删除文件时是否删除在 CDN 节点上面的缓存。\n\n>**注意：**\n>\n>只支持网宿,缓存的删除只针对删除成功的文件，只有在删除文件成功后才会删除缓存。\n","schema":{"type":"boolean"}}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","description":"返回码。\n<br/>\n以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n<table>\n  <thead>\n    <tr><th>返回码</th><th>说明</th><th>处理建议</th></tr>\n  </thead>\n  <tbody>\n    <tr><td>0</td><td>请求成功。</td><td>-</td></tr>\n    <tr><td>2</td><td>输入参数错误。</td><td>-</td></tr>\n    <tr><td>3</td><td>未开通相关权限。</td><td>请联系 ZEGO 技术支持。</td></tr>\n    <tr><td>4</td><td>CDN 类型不匹配。</td><td>请检查参数。</td></tr>\n    <tr><td>5</td><td>配置错误。</td><td>请联系 ZEGO 技术支持。</td></tr>\n    <tr><td>6</td><td>请求过于频繁。</td><td>请稍后重试。</td></tr>\n    <tr><td>7</td><td>鉴权失败。</td><td>请检查鉴权参数是否正确。</td></tr>\n    <tr><td>1000</td><td>请求失败。</td><td>请联系 ZEGO 技术支持。</td></tr>\n  </tbody>\n</table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"操作结果描述。","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID，由 ZEGO 服务端返回。","example":"3574501647605445341"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>响应数据，由以下参数 JSON 序列化后生成。</div><SchemaItem collapsible={false} name={"Deleted"} required={false} schemaName={"string[]"} qualifierMessage={undefined} schema={{"type":"array","description":"成功删除的文件列表。","items":{"type":"string"},"example":["3270835010809755971","3270835010811335406"]}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Errors</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>未成功删除的文件列表。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"删除文件失败的错误码。"}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"删除文件失败的错误消息。"}}></SchemaItem><SchemaItem collapsible={false} name={"Key"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"删除失败的文件的唯一标识。"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"唯一请求 ID，由请求参数 Vendor 取值对应的 CDN 厂商返回，定位问题时需要提供该次请求的 RequestId。"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>WsItemIdReceiverResp</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>删除文件缓存的结果。</div><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","description":"响应码。\n- 1：删除文件缓存。\n- 非 1：删除文件缓存失败。\n"}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"响应消息。删除文件缓存的结果描述。"}}></SchemaItem></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"3574501647605445341\",\n  \"Data\": {\n    \"Deleted\": [\n      \"3270835010809755971\",\n      \"3270835010811335406\"\n    ],\n    \"Errors\": [],\n    \"WsItemIdReceiverResp\": {\n      \"Code\": \"1\",\n      \"Message\": \"handle success\"\n    }\n  }\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"删除文件缓存成功"} value={"删除文件缓存成功"}><Markdown> 删除文件缓存成功的返回示例。</Markdown><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"Data\": {\n    \"Deleted\": [\n      \"pickrecord-clarechen_test_ws--20251226115411.mp4\"\n    ],\n    \"Errors\": [],\n    \"WsItemIdReceiverResp\": {\n      \"Code\": 1,\n      \"Message\": \"handle success\"\n    }\n  },\n  \"RequestId\": 123456\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"删除文件缓存失败"} value={"删除文件缓存失败"}><Markdown> 没有填 ClearCache 或者 ClearCache 不为 true 的返回示例。</Markdown><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"Data\": {\n    \"Deleted\": [\n      \"pickrecord-clarechen_test_ws--20251226115803.mp4\"\n    ],\n    \"Errors\": [],\n    \"WsItemIdReceiverResp\": {\n      \"Code\": 0,\n      \"Message\": \"\"\n    }\n  },\n  \"RequestId\": 123456\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      