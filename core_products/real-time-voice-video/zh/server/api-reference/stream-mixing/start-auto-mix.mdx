---
id: start-auto-mix
title: "StartAutoMix"
description: "本文介绍如何调用服务端 API 接口，指定房间，自动将房间内的所有 `音频` 流进行混流。可以应用在语聊房、合唱等场景中。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/stream-mixing/open-api-desc
---

<h1 className={"openapi__heading"}>StartAutoMix</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


本文介绍如何调用服务端 API 接口，指定房间，自动将房间内的所有 `音频` 流进行混流。可以应用在语聊房、合唱等场景中。

在跨房间 PK 连麦等场景中，支持增加其他房间内的某条流，参与自动混流；或剔除当前房间的某条流，不参与自动混流，具体请参考请求参数中的 `ExtraMixInput` 参数说明。

<Note title="说明">
* 目前只支持自动混 `音频` 流。
* 后续房间内如果有流新增或删除，您都不需要做任何处理，ZEGO 服务端内部自动更新混流。
</Note>

“客户端”的混流功能，请参考 [混流 - 自动混流](/real-time-video-android-java/live-streaming/stream-mixing)；“服务端”的相关回调，请参考 [混流开始回调](/real-time-video-server/callback/stream-mixing/started) 和 [混流结束回调](/real-time-video-server/callback/stream-mixing/stopped)。
## 前提条件

在实现混流之前，请确保：

- 已在 [ZEGO 控制台](https://console.zego.im) 创建项目，并申请有效的 AppId 和 ServerSecret，详情请参考 [控制台 - 项目信息](/console/project-info)。
- 已在 [ZEGO 控制台](https://console.zego.im) 自助接入服务开通“混流”服务权限，详情请参考 [控制台 - 服务配置 - 混流](/console/service-configuration/enable-stream-mixing-service)，或联系 ZEGO 技术支持开通。
- 已通过开发者自己的客户端，在房间内发起推拉流，详情请参考 [实现视频通话](/real-time-video-android-java/quick-start/implementing-video-call)。
- 若您希望创建自动混流时，如果房间不存在，可自动创建对应房间，请联系 ZEGO 技术支持开启相关功能。
<Note title="说明">
测试环境下（详见 IsTest 公共参数说明），`输入流`的流 ID 和`输出流`的流 ID：

- 如果是开发者自己输入的原始流 ID，需要加上 “zegotest-AppId-” 前缀，否则会导致混流失败（混流服务器拉不到输入流或拉不到混流输出流）。例如，开发者输入流 ID 为 “test”，在 AppId 为 “123456789” 的测试环境下，流 ID 应为 “zegotest-123456789-test”。
- 如果是通过 SDK 接口，或通过服务端 API 接口获取到的，此时不需要添加 “zegotest-AppId-” 的前缀。
</Note>

<Note title="调用频率限制">100 次/秒</Note>

**此接口中只有部分参数在开始混流后支持动态更新，未标注的则不支持动态更新，详情请参考下表中的参数描述。**

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=StartAutoMix\n","required":true,"schema":{"type":"string","enum":["StartAutoMix"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。应用 Id，由 ZEGO 分配的用户唯一凭证。可从 <a target=\"_blank\" href=\"https://console.zego.im/\">ZEGO 控制台</a> 获取。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。16 位 16 进制随机字符串（8 字节随机数的 hex 编码）。生成算法可参考 <a href=\"/real-time-video-server/api-reference/accessing-server-apis#signature-example\">签名示例</a>。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。当前 Unix 时间戳，单位为秒。生成算法可参考 <a href=\"/real-time-video-server/api-reference/accessing-server-apis#signature-example\">签名示例</a>，最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/real-time-video-server/api-reference/accessing-server-apis#signature-mechanism)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"TaskId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"任务 ID，混流任务的唯一标识。\n- 重复调用\"开始混流\"接口，传入相同的 TaskId，可以直接更新混流任务信息。\n- 发起\"音视频\"混流时，如果之前已发起过对应 TaskId 的\"纯音频\"混流任务，则需要先停止此任务，再重新发起\"音视频\"混流任务。\n","example":"2213699902971205739"}}></SchemaItem><SchemaItem collapsible={false} name={"UserId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"发起混流任务的用户 ID，由开发者自定义。\n\n**同一个任务的用户 ID 需要一致，不同任务的用户 ID 需要保持不同**。\n\n通过 UserId 可以实现混流任务的用户归属，也就是该用户才能更新或者停止对应 TaskId 的混流任务，该功能需要联系 ZEGO 技术支持开通。\n","example":"123"}}></SchemaItem><SchemaItem collapsible={false} name={"RoomId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"房间 ID。","example":"room123"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>ExtraMixInput</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>额外的输入流列表（其他房间内的流），默认最多支持 9 条额外的输入流。<br/>**📌注意**<br/>开启自动混流时，最多支持 9 条输入流。即该房间内的流，增加、剔除（根据 ModifyType 取值判断增加或删除某条流）额外的输入流后，流的总数量不能超过 9 条。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"StreamId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"room_other_stream1","description":"混流输入流 ID，该流 ID 来自 RTC 服务。\n\n仅支持数字、英文字符和 \"-\"、\"_\"。\n\n> **注意**\n>\n> StreamId 和 StreamUrl 二者取其一即可，若同时填写 StreamId 和 StreamUrl：\n> - ModifyType 为 0（增加）时，StreamUrl 生效。\n> - ModifyType 为 1（剔除）时，StreamId 生效。\n"}}></SchemaItem><SchemaItem collapsible={false} name={"StreamUrl"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"","description":"混流输入流 URL，支持 RTMP 和 HTTP-FLV 两种协议。\n\n> **注意**\n>\n> StreamId 和 StreamUrl 二者取其一即可，若同时填写 StreamId 和 StreamUrl：\n> - ModifyType 为 0（增加）时，StreamUrl 生效。\n> - ModifyType 为 1（剔除）时，StreamId 生效。\n"}}></SchemaItem><SchemaItem collapsible={false} name={"ModifyType"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** [`0`, `1`]"} schema={{"type":"integer","format":"int","enum":[0,1],"description":"输入流列表的类型，表示在当前混流任务中\"增加\"或\"剔除\"该条输入流：\n- 0：开启自动混流时，在输入流列表中**增加**当前流，默认值\n- 1：开启自动混流时，在输入流列表中**剔除**当前流。此时只需要填写 StreamId 和本参数的取值即可\n"}}></SchemaItem><SchemaItem collapsible={false} name={"SoundLevelId"} required={false} schemaName={"int"} qualifierMessage={undefined} schema={{"type":"integer","format":"int","description":"声浪 ID。参数 SoundLevel（混流声浪）取值为 \"1\" 时，此参数必填。\n"}}></SchemaItem><SchemaItem collapsible={false} name={"Volume"} required={false} schemaName={"int"} qualifierMessage={undefined} schema={{"type":"integer","format":"int","default":100,"description":"音量，取值范围 [0, 200]，默认为 100。"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>MixOutput</strong><span className={"openapi-schema__name"}> object[]</span><span className={"openapi-schema__divider"}></span><span className={"openapi-schema__required"}>required</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>输出流信息，目前最多支持 3 个。当输出目标为 URL 格式时，目前只支持 RTMP URL 格式：rtmp://xxxxxxxx，且不能传入两个相同的混流输出的地址。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"StreamId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"stream3","description":"输出流 ID。默认情况下表示混流输出至 RTC 或低延迟直播产品，也可联系 ZEGO 技术支持配置混流输出至 ZEGO 代理的 CDN 直播产品，生效范围为整个 AppId。如果希望控制指定流输出至 CDN 直播产品，则不能配置混流默认输出至 ZEGO 代理 CDN，应按需设置 StreamUrl。\n\n**StreamId 和 StreamUrl 二者取其一即可，若填写了 StreamId，则 StreamUrl 不生效。**\n"}}></SchemaItem><SchemaItem collapsible={false} name={"StreamUrl"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"","description":"仅支持 RTMP 协议，表示混流输出至 CDN 直播服务，观众可以从 CDN 直播拉混流。\n\n**StreamId 和 StreamUrl 二者取其一即可，若填写了 StreamUrl，则 StreamId 不生效。**\n"}}></SchemaItem><SchemaItem collapsible={false} name={"AudioCodec"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** [`0`, `1`, `2`, `3`]"} schema={{"type":"integer","format":"int","enum":[0,1,2,3],"example":0,"description":"音频编码及采样率。如需修改采样率，请联系 ZEGO 技术支持配置：\n- 0：HE-AAC，采样率：44100 kHz，默认值\n- 1：AAC-LC，采样率：44100 kHz\n- 2：MP3，采样率：44100 kHz\n- 3：OPUS，采样率：48000 kHz\n"}}></SchemaItem><SchemaItem collapsible={false} name={"AudioBitrate"} required={false} schemaName={"int"} qualifierMessage={undefined} schema={{"type":"integer","format":"int","description":"混流输出音频码率，不填时默认值为 48000，单位为 bps。"}}></SchemaItem><SchemaItem collapsible={false} name={"SoundChannel"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** [`1`, `2`]"} schema={{"type":"integer","format":"int","enum":[1,2],"description":"输出音频声道数，优先级比全局参数高：\n- 1：单声道，默认值\n- 2：双声道\n"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem><SchemaItem collapsible={false} name={"Sequence"} required={false} schemaName={"int"} qualifierMessage={undefined} schema={{"type":"integer","format":"int","description":"混流请求的序列号，用于保证时序，同个任务的参数修改需要保证序列号的递增。例如：\"Sequence\": 1。\n\n**如果开启了混流任务的时序控制（如有需要，请联系 ZEGO 技术支持开启），此参数必填。**\n"}}></SchemaItem><SchemaItem collapsible={false} name={"UserData"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"base64_encoded_data","description":"自定义用户数据，使用时需要对此参数内容进行 base64 编码。长度限制为 4000 字节，建议不超过 850 字节。\n\n自定义的用户数据将作为 SEI 信息传输给拉流方，拉流方可通过监听客户端的 <a href=\"https://doc-zh.zego.im/article/api?doc=Express_Video_SDK_API~objective-c_ios~protocol~ZegoEventHandler#on-player-sync-recv-sei-stream-id\" target=\"_blank\">onPlayerSyncRecvSEI</a> 回调获取该数据。\n\n**🔁再次调用本接口，即可动态更新该参数。**\n"}}></SchemaItem><SchemaItem collapsible={false} name={"SoundLevel"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** [`0`, `1`]"} schema={{"type":"integer","format":"int","enum":[0,1],"example":0,"description":"混流声浪，指混流的音量大小。支持混流过程中实时更新：\n- 0：不开启，默认值\n- 1：开启。开启后，客户端可以通过 <a href=\"https://doc-zh.zego.im/article/api?doc=Express_Video_SDK_API~objective-c_ios~protocol~ZegoEventHandler#on-auto-mixer-sound-level-update\" target=\"_blank\">onAutoMixerSoundLevelUpdate</a> 回调来接收自动混流声浪更新的通知\n\n**🔁再次调用本接口，即可动态更新该参数。**\n"}}></SchemaItem><SchemaItem collapsible={false} name={"ByPass"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** [`0`, `1`]"} schema={{"type":"integer","format":"int","default":0,"enum":[0,1],"description":"单流透传开关，即输入流就一个时是否按输出参数重新编码，该功能需要联系 ZEGO 技术支持开通：\n- 0：不启用，默认值\n- 1：启用\n"}}></SchemaItem><SchemaItem collapsible={false} name={"SoundChannel"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** [`1`, `2`]"} schema={{"type":"integer","format":"int","default":1,"enum":[1,2],"description":"输出音频声道数，当没有指定输出流时使用该配置：\n- 1：单声道，默认值\n- 2：双声道\n"}}></SchemaItem><SchemaItem collapsible={false} name={"AlignmentType"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** [`0`, `1`, `2`]"} schema={{"type":"integer","format":"int","enum":[0,1,2],"description":"控制播放的实时音视频流是否需要按照 NTP（网络时间）精准对齐后进行混流。**此参数主要应用于 KTV 场景中，会增加一定的混流延时；非 KTV 类似场景，不建议设置此参数。**\n- 0：不对齐，默认值\n- 1：指定流对齐\n- 2：所有流强制对齐\n"}}></SchemaItem><SchemaItem collapsible={false} name={"RecvBufferLevel"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** `>= 0` and `<= 4000`"} schema={{"type":"integer","format":"int","minimum":0,"maximum":4000,"description":"控制拉流最小缓冲时间，取值范围 [0, 4000]，单位：毫秒；默认最小缓冲时间为 0。"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>ExPara</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>拓展参数，根据实际情况填入，常规任务可不填。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"Key"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"k1","description":"key 值。"}}></SchemaItem><SchemaItem collapsible={false} name={"Value"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"v1","description":"value 值。"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>操作成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int"} qualifierMessage={undefined} schema={{"type":"integer","format":"int","description":"以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n\n<table>\n<thead>\n  <tr><th>返回码</th><th>说明</th><th>处理建议</th></tr>\n</thead>\n<tbody>\n  <tr><td>110200001</td><td>失败。</td><td>请重试。</td></tr>\n  <tr><td>110200002</td><td>输入参数错误。</td><td>请参考 Message 信息处理。</td></tr>\n  <tr><td>110200003</td><td>鉴权失败。</td><td>请确认鉴权信息是否正确或过期，详情请参考 <a href=\"/real-time-video-server/api-reference/accessing-server-apis#签名机制-\" target=\"_blank\">调用方式</a> 中的 \"签名机制\"。</td></tr>\n  <tr><td>110200004</td><td>解析输入参数失败。</td><td>请检查混流参数是否正确。</td></tr>\n  <tr><td>110200005</td><td>混流开始获取分布式锁失败。</td><td>同一个 UserId 开始混流请求过于频繁，请稍后再试。</td></tr>\n  <tr><td>110200006</td><td>混流结束获取分布式锁失败。</td><td>同一个 UserId 停止混流请求过于频繁，请稍后再试。</td></tr>\n  <tr><td>110200151</td><td>混流任务失败。</td><td>请重试，或联系 ZEGO 技术支持处理。</td></tr>\n  <tr><td>110200194</td><td>混流请求过载。</td><td>请求过于频繁，请稍后再试。</td></tr>\n</tbody>\n</table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"操作结果描述。","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID。","example":"8472822294336370476"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>响应数据。</div><SchemaItem collapsible={false} name={"UserId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户 ID。","example":"123"}}></SchemaItem><SchemaItem collapsible={false} name={"Sequence"} required={false} schemaName={"int"} qualifierMessage={undefined} schema={{"type":"integer","format":"int","description":"序列号。","example":1}}></SchemaItem><SchemaItem collapsible={false} name={"RoomId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"房间 ID。","example":"room123"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>PlayInfo</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>播放信息。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"StreamId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"输出流的流 ID。","example":"test"}}></SchemaItem><SchemaItem collapsible={false} name={"RTMP"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"RTMP 协议对应的 CDN 播放地址（如果指定混流输出地址是 CDN 并且配置了这个协议的拉流域名）。","example":"rtmp://domain/appname/test"}}></SchemaItem><SchemaItem collapsible={false} name={"HLS"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"HLS 协议对应的 CDN 播放地址（如果指定混流输出地址是 CDN 并且配置了这个协议的拉流域名）。","example":"http://domain/appname/test/playlist.m3u8"}}></SchemaItem><SchemaItem collapsible={false} name={"FLV"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"HTTP-FLV 协议对应的 CDN 播放地址（如果指定混流输出地址是 CDN 并且配置了这个协议的拉流域名）。","example":"http://domain/appname/test.flv"}}></SchemaItem><SchemaItem collapsible={false} name={"Status"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"流状态。","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"UserName"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户名称。","example":""}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"8472822294336370476\",\n  \"Data\": {\n    \"UserId\": \"123\",\n    \"Sequence\": 1,\n    \"RoomId\": \"room123\",\n    \"PlayInfo\": [\n      {\n        \"StreamId\": \"test\",\n        \"RTMP\": \"rtmp://domain/appname/test\",\n        \"HLS\": \"http://domain/appname/test/playlist.m3u8\",\n        \"FLV\": \"http://domain/appname/test.flv\",\n        \"Status\": 0,\n        \"UserName\": \"\"\n      }\n    ]\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      