---
id: start-auto-mix
title: "StartAutoMix"
description: "本文介绍如何调用服务端 API 接口，指定房间，自动将房间内的所有 `音频` 流进行混流。可以应用在语聊房、合唱等场景中。"
api: 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
info_path: core_products/real-time-voice-video/zh/server/api-reference/stream-mixing/open-api-desc
---

<h1 className={"openapi__heading"}>StartAutoMix</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


本文介绍如何调用服务端 API 接口，指定房间，自动将房间内的所有 `音频` 流进行混流。可以应用在语聊房、合唱等场景中。

在跨房间 PK 连麦等场景中，支持增加其他房间内的某条流，参与自动混流；或剔除当前房间的某条流，不参与自动混流，具体请参考请求参数中的 `ExtraMixInput` 参数说明。

<Note title="说明">
* 目前只支持自动混 `音频` 流。
* 后续房间内如果有流新增或删除，您都不需要做任何处理，ZEGO 服务端内部自动更新混流。
</Note>

“客户端”的混流功能，请参考 [混流 - 自动混流](/real-time-video-android-java/live-streaming/stream-mixing)；“服务端”的相关回调，请参考 [混流开始回调](/real-time-video-server/callback/stream-mixing/started) 和 [混流结束回调](/real-time-video-server/callback/stream-mixing/stopped)。
## 前提条件

在实现混流之前，请确保：

- 已在 [ZEGO 控制台](https://console.zego.im) 创建项目，并申请有效的 AppId 和 ServerSecret，详情请参考 [控制台 - 项目信息](/console/project-info)。
- 已在 [ZEGO 控制台](https://console.zego.im) 自助接入服务开通“混流”服务权限，详情请参考 [控制台 - 服务配置 - 混流](/console/service-configuration/enable-stream-mixing-service)，或联系 ZEGO 技术支持开通。
- 已通过开发者自己的客户端，在房间内发起推拉流，详情请参考 [实现视频通话](/real-time-video-android-java/quick-start/implementing-video-call)。
- 若您希望创建自动混流时，如果房间不存在，可自动创建对应房间，请联系 ZEGO 技术支持开启相关功能。
<Note title="说明">
测试环境下（详见 IsTest 公共参数说明），`输入流`的流 ID 和`输出流`的流 ID：

- 如果是开发者自己输入的原始流 ID，需要加上 “zegotest-AppId-” 前缀，否则会导致混流失败（混流服务器拉不到输入流或拉不到混流输出流）。例如，开发者输入流 ID 为 “test”，在 AppId 为 “123456789” 的测试环境下，流 ID 应为 “zegotest-123456789-test”。
- 如果是通过 SDK 接口，或通过服务端 API 接口获取到的，此时不需要添加 “zegotest-AppId-” 的前缀。
</Note>

<Note title="调用频率限制">100 次/秒</Note>

**此接口中只有部分参数在开始混流后支持动态更新，未标注的则不支持动态更新，详情请参考下表中的参数描述。**

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://rtc-api.zego.im?Action=StartAutoMix\n","required":true,"schema":{"type":"string","enum":["StartAutoMix"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。AppId，ZEGO 分配的用户唯一凭证。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。随机字符串。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。Unix 时间戳，单位为秒。最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/real-time-video-server/api-reference/accessing-server-apis#签名机制)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"IsTest","in":"query","description":"💡公共参数。是否为测试环境。设为 true 表示使用测试环境。\n2021-11-16 及之前在 ZEGO 控制台 创建的项目默认是测试环境，可根据业务需求设置此参数；而之后创建的项目默认是正式环境。\n> ⚠️注意：测试环境跟正式环境是隔离的，请不要在操作正式环境 appid 时误把该参数标记为 true。2021-11-16 及之后创建的项目建议**不要填写该参数**。\n>\n> 📌是否必填参数：2021-11-16 及之前在 [ZEGO 控制台](https://console.zego.im)创建的项目为**必填**，之后创建的则不是必填。\n","required":false,"schema":{"type":"string","enum":["false","true"],"default":"false"}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"TaskId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"任务 ID，混流任务的唯一标识。\n- 重复调用\"开始混流\"接口，传入相同的 TaskId，可以直接更新混流任务信息。\n- 发起\"音视频\"混流时，如果之前已发起过对应 TaskId 的\"纯音频\"混流任务，则需要先停止此任务，再重新发起\"音视频\"混流任务。\n","example":"2213699902971205739"}}></SchemaItem><SchemaItem collapsible={false} name={"UserId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"发起混流任务的用户 ID，由开发者自定义。\n\n**同一个任务的用户 ID 需要一致，不同任务的用户 ID 需要保持不同**。\n\n通过 UserId 可以实现混流任务的用户归属，也就是该用户才能更新或者停止对应 TaskId 的混流任务，该功能需要联系 ZEGO 技术支持开通。\n","example":"123"}}></SchemaItem><SchemaItem collapsible={false} name={"RoomId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"房间 ID。","example":"room123"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>ExtraMixInput</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>额外的输入流列表（其他房间内的流），默认最多支持 9 条额外的输入流。<br/>**📌注意**<br/>开启自动混流时，最多支持 9 条输入流。即该房间内的流，增加、剔除（根据 ModifyType 取值判断增加或删除某条流）额外的输入流后，流的总数量不能超过 9 条。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"StreamId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"room_other_stream1","description":"混流输入流 ID，该流 ID 来自 RTC 服务。\n\n仅支持数字、英文字符和 \"-\"、\"_\"。\n\n> **注意**\n>\n> StreamId 和 StreamUrl 二者取其一即可，若同时填写 StreamId 和 StreamUrl：\n> - ModifyType 为 0（增加）时，StreamUrl 生效。\n> - ModifyType 为 1（剔除）时，StreamId 生效。\n"}}></SchemaItem><SchemaItem collapsible={false} name={"StreamUrl"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"","description":"混流输入流 URL，支持 RTMP 和 HTTP-FLV 两种协议。\n\n> **注意**\n>\n> StreamId 和 StreamUrl 二者取其一即可，若同时填写 StreamId 和 StreamUrl：\n> - ModifyType 为 0（增加）时，StreamUrl 生效。\n> - ModifyType 为 1（剔除）时，StreamId 生效。\n"}}></SchemaItem><SchemaItem collapsible={false} name={"ModifyType"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** [`0`, `1`]"} schema={{"type":"integer","format":"int","enum":[0,1],"description":"输入流列表的类型，表示在当前混流任务中\"增加\"或\"剔除\"该条输入流：\n- 0：开启自动混流时，在输入流列表中**增加**当前流，默认值\n- 1：开启自动混流时，在输入流列表中**剔除**当前流。此时只需要填写 StreamId 和本参数的取值即可\n"}}></SchemaItem><SchemaItem collapsible={false} name={"SoundLevelId"} required={false} schemaName={"int"} qualifierMessage={undefined} schema={{"type":"integer","format":"int","description":"声浪 ID。参数 SoundLevel（混流声浪）取值为 \"1\" 时，此参数必填。\n"}}></SchemaItem><SchemaItem collapsible={false} name={"Volume"} required={false} schemaName={"int"} qualifierMessage={undefined} schema={{"type":"integer","format":"int","default":100,"description":"音量，取值范围 [0, 200]，默认为 100。"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>MixOutput</strong><span className={"openapi-schema__name"}> object[]</span><span className={"openapi-schema__divider"}></span><span className={"openapi-schema__required"}>required</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>输出流信息，目前最多支持 3 个。当输出目标为 URL 格式时，目前只支持 RTMP URL 格式：rtmp://xxxxxxxx，且不能传入两个相同的混流输出的地址。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"StreamId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"stream3","description":"输出流 ID。默认情况下表示混流输出至 RTC 或低延迟直播产品，也可联系 ZEGO 技术支持配置混流输出至 ZEGO 代理的 CDN 直播产品，生效范围为整个 AppId。如果希望控制指定流输出至 CDN 直播产品，则不能配置混流默认输出至 ZEGO 代理 CDN，应按需设置 StreamUrl。\n\n**StreamId 和 StreamUrl 二者取其一即可，若填写了 StreamId，则 StreamUrl 不生效。**\n"}}></SchemaItem><SchemaItem collapsible={false} name={"StreamUrl"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"","description":"仅支持 RTMP 协议，表示混流输出至 CDN 直播服务，观众可以从 CDN 直播拉混流。\n\n**StreamId 和 StreamUrl 二者取其一即可，若填写了 StreamUrl，则 StreamId 不生效。**\n"}}></SchemaItem><SchemaItem collapsible={false} name={"AudioCodec"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** [`0`, `1`, `2`, `3`]"} schema={{"type":"integer","format":"int","enum":[0,1,2,3],"example":0,"description":"音频编码及采样率。如需修改采样率，请联系 ZEGO 技术支持配置：\n- 0：HE-AAC，采样率：44100 kHz，默认值\n- 1：AAC-LC，采样率：44100 kHz\n- 2：MP3，采样率：44100 kHz\n- 3：OPUS，采样率：48000 kHz\n"}}></SchemaItem><SchemaItem collapsible={false} name={"AudioBitrate"} required={false} schemaName={"int"} qualifierMessage={undefined} schema={{"type":"integer","format":"int","description":"混流输出音频码率，不填时默认值为 48000，单位为 bps。"}}></SchemaItem><SchemaItem collapsible={false} name={"SoundChannel"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** [`1`, `2`]"} schema={{"type":"integer","format":"int","enum":[1,2],"description":"输出音频声道数，优先级比全局参数高：\n- 1：单声道，默认值\n- 2：双声道\n"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem><SchemaItem collapsible={false} name={"Sequence"} required={false} schemaName={"int"} qualifierMessage={undefined} schema={{"type":"integer","format":"int","description":"混流请求的序列号，用于保证时序，同个任务的参数修改需要保证序列号的递增。例如：\"Sequence\": 1。\n\n**如果开启了混流任务的时序控制（如有需要，请联系 ZEGO 技术支持开启），此参数必填。**\n"}}></SchemaItem><SchemaItem collapsible={false} name={"UserData"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"base64_encoded_data","description":"自定义用户数据，使用时需要对此参数内容进行 base64 编码。长度限制为 4000 字节，建议不超过 850 字节。\n\n自定义的用户数据将作为 SEI 信息传输给拉流方，拉流方可通过监听客户端的 <a href=\"https://doc-zh.zego.im/article/api?doc=Express_Video_SDK_API~objective-c_ios~protocol~ZegoEventHandler#on-player-sync-recv-sei-stream-id\" target=\"_blank\">onPlayerSyncRecvSEI</a> 回调获取该数据。\n\n**🔁再次调用本接口，即可动态更新该参数。**\n"}}></SchemaItem><SchemaItem collapsible={false} name={"SoundLevel"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** [`0`, `1`]"} schema={{"type":"integer","format":"int","enum":[0,1],"example":0,"description":"混流声浪，指混流的音量大小。支持混流过程中实时更新：\n- 0：不开启，默认值\n- 1：开启。开启后，客户端可以通过 <a href=\"https://doc-zh.zego.im/article/api?doc=Express_Video_SDK_API~objective-c_ios~protocol~ZegoEventHandler#on-auto-mixer-sound-level-update\" target=\"_blank\">onAutoMixerSoundLevelUpdate</a> 回调来接收自动混流声浪更新的通知\n\n**🔁再次调用本接口，即可动态更新该参数。**\n"}}></SchemaItem><SchemaItem collapsible={false} name={"ByPass"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** [`0`, `1`]"} schema={{"type":"integer","format":"int","default":0,"enum":[0,1],"description":"单流透传开关，即输入流就一个时是否按输出参数重新编码，该功能需要联系 ZEGO 技术支持开通：\n- 0：不启用，默认值\n- 1：启用\n"}}></SchemaItem><SchemaItem collapsible={false} name={"SoundChannel"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** [`1`, `2`]"} schema={{"type":"integer","format":"int","default":1,"enum":[1,2],"description":"输出音频声道数，当没有指定输出流时使用该配置：\n- 1：单声道，默认值\n- 2：双声道\n"}}></SchemaItem><SchemaItem collapsible={false} name={"AlignmentType"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** [`0`, `1`, `2`]"} schema={{"type":"integer","format":"int","enum":[0,1,2],"description":"控制播放的实时音视频流是否需要按照 NTP（网络时间）精准对齐后进行混流。**此参数主要应用于 KTV 场景中，会增加一定的混流延时；非 KTV 类似场景，不建议设置此参数。**\n- 0：不对齐，默认值\n- 1：指定流对齐\n- 2：所有流强制对齐\n"}}></SchemaItem><SchemaItem collapsible={false} name={"RecvBufferLevel"} required={false} schemaName={"int"} qualifierMessage={"**Possible values:** `>= 0` and `<= 4000`"} schema={{"type":"integer","format":"int","minimum":0,"maximum":4000,"description":"控制拉流最小缓冲时间，取值范围 [0, 4000]，单位：毫秒；默认最小缓冲时间为 0。"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>ExPara</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>拓展参数，根据实际情况填入，常规任务可不填。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"Key"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"k1","description":"key 值。"}}></SchemaItem><SchemaItem collapsible={false} name={"Value"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"v1","description":"value 值。"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>操作成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int"} qualifierMessage={undefined} schema={{"type":"integer","format":"int","description":"以下仅列出了接口业务逻辑相关的部分返回码，完整返回码请参考 [全局返回码](/real-time-video-server/api-reference/return-codes)。\n\n<table>\n<thead>\n  <tr><th>返回码</th><th>说明</th><th>处理建议</th></tr>\n</thead>\n<tbody>\n  <tr><td>110200001</td><td>失败。</td><td>请重试。</td></tr>\n  <tr><td>110200002</td><td>输入参数错误。</td><td>请参考 Message 信息处理。</td></tr>\n  <tr><td>110200003</td><td>鉴权失败。</td><td>请确认鉴权信息是否正确或过期，详情请参考 <a href=\"!Making_API_Requests/Making_API_Requests#5\" target=\"_blank\">调用方式</a> 中的 \"3 签名机制\"。</td></tr>\n  <tr><td>110200004</td><td>解析输入参数失败。</td><td>请检查混流参数是否正确。</td></tr>\n  <tr><td>110200005</td><td>混流开始获取分布式锁失败。</td><td>同一个 UserId 开始混流请求过于频繁，请稍后再试。</td></tr>\n  <tr><td>110200006</td><td>混流结束获取分布式锁失败。</td><td>同一个 UserId 停止混流请求过于频繁，请稍后再试。</td></tr>\n  <tr><td>110200151</td><td>混流任务失败。</td><td>请重试，或联系 ZEGO 技术支持处理。</td></tr>\n  <tr><td>110200194</td><td>混流请求过载。</td><td>请求过于频繁，请稍后再试。</td></tr>\n</tbody>\n</table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"操作结果描述。","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID。","example":"8472822294336370476"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>响应数据。</div><SchemaItem collapsible={false} name={"UserId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户 ID。","example":"123"}}></SchemaItem><SchemaItem collapsible={false} name={"Sequence"} required={false} schemaName={"int"} qualifierMessage={undefined} schema={{"type":"integer","format":"int","description":"序列号。","example":1}}></SchemaItem><SchemaItem collapsible={false} name={"RoomId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"房间 ID。","example":"room123"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>PlayInfo</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>播放信息。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"StreamId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"输出流的流 ID。","example":"test"}}></SchemaItem><SchemaItem collapsible={false} name={"RTMP"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"RTMP 协议对应的 CDN 播放地址（如果指定混流输出地址是 CDN 并且配置了这个协议的拉流域名）。","example":"rtmp://domain/appname/test"}}></SchemaItem><SchemaItem collapsible={false} name={"HLS"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"HLS 协议对应的 CDN 播放地址（如果指定混流输出地址是 CDN 并且配置了这个协议的拉流域名）。","example":"http://domain/appname/test/playlist.m3u8"}}></SchemaItem><SchemaItem collapsible={false} name={"FLV"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"HTTP-FLV 协议对应的 CDN 播放地址（如果指定混流输出地址是 CDN 并且配置了这个协议的拉流域名）。","example":"http://domain/appname/test.flv"}}></SchemaItem><SchemaItem collapsible={false} name={"Status"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"流状态。","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"UserName"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户名称。","example":""}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"8472822294336370476\",\n  \"Data\": {\n    \"UserId\": \"123\",\n    \"Sequence\": 1,\n    \"RoomId\": \"room123\",\n    \"PlayInfo\": [\n      {\n        \"StreamId\": \"test\",\n        \"RTMP\": \"rtmp://domain/appname/test\",\n        \"HLS\": \"http://domain/appname/test/playlist.m3u8\",\n        \"FLV\": \"http://domain/appname/test.flv\",\n        \"Status\": 0,\n        \"UserName\": \"\"\n      }\n    ]\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      