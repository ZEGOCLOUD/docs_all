openapi: 3.0.0
info:
  title: open-api-desc
  version: 1.0.0
  contact:
    name: Real-time Voice/Video API Support
    email: support@zegocloud.com

tags:
  - name: stream-mixing

servers:
  $ref: '../shared-components.yaml#/servers'

paths:
  /:
    post:
      tags:
        - stream-mixing
      summary: StartMix
      description: |
        ## ç®€ä»‹

        æœ¬æ¥å£ç”¨äºå¼€å§‹/æ›´æ–°æ··æµä»»åŠ¡ã€‚

        å®¢æˆ·ç«¯çš„æ··æµåŠŸèƒ½ä»‹ç»è¯·å‚è€ƒ [å¤šè·¯æ··æµ](/real-time-video-android-java/live-streaming/stream-mixing)ï¼Œç›¸å…³å›è°ƒè¯·å‚è€ƒ [æ··æµå¼€å§‹å›è°ƒ](/real-time-video-server/callback/stream-mixing/started) å’Œ [æ··æµç»“æŸå›è°ƒ](/real-time-video-server/callback/stream-mixing/stopped)ã€‚

        <Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/Common/ZegoExpressEngine/mixstream.png" /></Frame>

        ## å‰ææ¡ä»¶

        åœ¨å®ç°æ··æµä¹‹å‰ï¼Œè¯·ç¡®ä¿ï¼š

        - å·²åœ¨ [ZEGO æ§åˆ¶å°](https://console.zego.im) åˆ›å»ºé¡¹ç›®ï¼Œå¹¶ç”³è¯·æœ‰æ•ˆçš„ AppId å’Œ ServerSecretï¼Œè¯¦æƒ…è¯·å‚è€ƒ [æ§åˆ¶å° - é¡¹ç›®ä¿¡æ¯](/console/project-info)ã€‚
        - å·²åœ¨ [ZEGO æ§åˆ¶å°](https://console.zego.im) è‡ªåŠ©æ¥å…¥æœåŠ¡å¼€é€š"æ··æµ"æœåŠ¡æƒé™ï¼Œè¯¦æƒ…è¯·å‚è€ƒ [æ§åˆ¶å° - æœåŠ¡é…ç½® - æ··æµ](/console/service-configuration/enable-stream-mixing-service)ï¼Œæˆ–è”ç³» ZEGO æŠ€æœ¯æ”¯æŒå¼€é€šã€‚
        - å·²é€šè¿‡å¼€å‘è€…è‡ªå·±çš„å®¢æˆ·ç«¯ï¼Œåœ¨æˆ¿é—´å†…å‘èµ·æ¨æ‹‰æµï¼Œè¯¦æƒ…è¯·å‚è€ƒ [å®ç°è§†é¢‘é€šè¯](/real-time-video-android-java/quick-start/implementing-video-call)ã€‚

        ## ç¤ºä¾‹ä»£ç 

        ZEGO æä¾›å¤šç§ç¼–ç¨‹è¯­è¨€çš„ç¤ºä¾‹ä»£ç ï¼Œä»¥ä¸‹ç¤ºä¾‹ä»£ç ä¸º"å°†ä¸¤æ¡éŸ³è§†é¢‘æµï¼ˆstream1ã€stream2ï¼‰è¿›è¡Œæ··æµï¼Œæ··åˆè¾“å‡ºåˆ°ä¸€æ¡æµï¼ˆstream3ï¼‰"ï¼š


        <Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/server_v2/startMix_layout.jpg" /></Frame>

        <Accordion title="å¼€å§‹æ··æµï¼ˆGoï¼‰" defaultOpen="false">
        ```go
        package main

        import (
        	"bytes"
        	"crypto/md5"
        	"crypto/rand"
        	"encoding/hex"
        	"encoding/json"
        	"fmt"
        	"io/ioutil"
        	"net/http"
        	"net/url"
        	"strconv"
        	"time"
        )
        // rtc-api.zego.im è¡¨ç¤ºä½¿ç”¨çš„äº§å“æ˜¯äº‘é€šè®¯äº§å“ï¼ŒåŒ…æ‹¬äº†å®æ—¶éŸ³è§†é¢‘ï¼ˆExpress Videoï¼‰ã€å®æ—¶éŸ³é¢‘ï¼ˆExpress Audioï¼‰ã€ä½å»¶è¿Ÿç›´æ’­ï¼ˆL3ï¼‰
        const DOMAIN = "https://rtc-api.zego.im"

        var (
        	//è¯·å°† appId ä¿®æ”¹ä¸ºä½ çš„ appIdï¼Œappid ä¸º uint32
        	//ä¸¾ä¾‹ï¼š1234567890
        	AppId uint32 = 1234567890
        	//è¯·å°† serverSecret ä¿®æ”¹ä¸ºä½ çš„ serverSecretï¼ŒserverSecret ä¸º string
        	Secret = ""
        )

        type MixStartRequest struct {
        	Appid     uint64       `json:"Appid"`
        	UserId    string       `json:"UserId"`
        	Sequence  int64        `json:"Sequence"`
        	MixInput  []*MixInput  `json:"MixInput"`
        	MixOutput []*MixOutput `json:"MixOutput"`
        	MixTaskId string       `json:"TaskId"`
        }

        type RectInfo struct {
        	Top    int32 `json:"Top"`
        	Left   int32 `json:"Left"`
        	Bottom int32 `json:"Bottom"`
        	Right  int32 `json:"Right"`
        }

        type MixInput struct {
        	StreamId  string    `json:"StreamId"`
        	RectInfo  *RectInfo `json:"RectInfo"`
        }

        type MixOutput struct {
        	StreamId     string `json:"StreamId"`
        	VideoBitrate int32  `json:"VideoBitrate"`
        	Fps          int32  `json:"Fps"`
        	Height       int32  `json:"Height"`
        	Width        int32  `json:"Width"`
        }

        func main() {
        	nonce := make([]byte, 8)
        	rand.Read(nonce)
        	hexNonce := hex.EncodeToString(nonce)
        	ts := time.Now()
        	signature := GenerateSignature(AppId, hexNonce, Secret, ts.Unix())
        	value := url.Values{}
        	value.Add("AppId", strconv.FormatUint(AppId, 10))
        	value.Add("SignatureNonce", hexNonce)
        	value.Add("Timestamp", strconv.FormatInt(ts.Unix(), 10))
        	value.Add("Signature", signature)
        	value.Add("Action", "StartMix")
        	value.Add("SignatureVersion", "2.0")
        	urlData, err := url.Parse(DOMAIN)
        	if err != nil {
        		fmt.Println(err)
        		return
        	}
        	urlData.RawQuery = value.Encode()
        	dataJson, _ := json.Marshal(GenerateStartMixData())
        	req, err := http.NewRequest("POST", urlData.String(), bytes.NewBuffer(dataJson))
        	if err != nil {
        		fmt.Println(err)
        		return
        	}
        	req.Header.Set("Content-Type", "application/json")
        	req.Close = true
        	client := &http.Client{}
        	r, err := client.Do(req)
        	if err != nil {
        		fmt.Println(err)
        		return
        	}
        	if r.StatusCode != 200 {
        		fmt.Printf("status code is:%v", r.StatusCode)
        	}
        	defer r.Body.Close()
        	resp, err := ioutil.ReadAll(r.Body)
        	if err != nil {
        		return
        	}
        	fmt.Println(string(resp))
        	return
        }

        //ä»¥ä¸‹ç¤ºä¾‹ä¸º å°† streamId ä¸º "stream1" çš„éŸ³è§†é¢‘æµ ä¸ streamId ä¸º "stream2" çš„éŸ³è§†é¢‘æµè¿›è¡Œæ··æµï¼Œæ··å‡º streamId ä¸º "stream3" çš„éŸ³è§†é¢‘æµ
        func GenerateStartMixData() *MixStartRequest {
        	inputs := make([]*MixInput, 0)
        	input1 := MixInput{
        		StreamId: "stream1",
        		RectInfo: &RectInfo{
        			Top:    70,
        			Left:   100,
        			Bottom: 160,
        			Right:  260,
        		},
        	}
        	inputs = append(inputs, &input1)
        	input2 := MixInput{
        		StreamId: "stream2",
        		RectInfo: &RectInfo{
        			Top:    200,
        			Left:   100,
        			Bottom: 290,
        			Right:  260,
        		},
        	}
        	inputs = append(inputs, &input2)
        	output := MixOutput{
        		StreamId:     "stream3",
        		VideoBitrate: 12000,
        		Fps:          15,
        		Height:       360,
        		Width:        360,
        	}
        	outputs := append([]*MixOutput{}, &output)
        	req := &MixStartRequest{
        		Appid:     AppId,
        		UserId:    "123",
        		Sequence:  123,
        		MixInput:  inputs,
        		MixOutput: outputs,
        		MixTaskId: "123",
        	}
        	return req
        }

        //Signature=md5(AppId + SignatureNonce + ServerSecret + Timestamp)
        func GenerateSignature(appid uint64, nonce string, appSecret string, timestamp int64) (signature string) {
        	data := fmt.Sprintf("%d%s%s%d", appid, nonce, appSecret, timestamp)
        	h := md5.New() //è§„å®šä½¿ç”¨å“ˆå¸Œç®—æ³•ä¸­çš„MD5ç®—æ³•
        	h.Write([]byte(data))
        	//hex.EncodeToString(h.Sum(nil))è¾“å‡º16è¿›åˆ¶å­—ç¬¦ä¸²
        	return hex.EncodeToString(h.Sum(nil))
        }
        ```
        </Accordion>


        <Accordion title="å¼€å§‹æ··æµï¼ˆPythonï¼‰" defaultOpen="false">
        ```py
        # -*- coding: UTF-8 -*-
        import hashlib
        import secrets
        import time

        # ç”Ÿæˆç­¾å
        # Signature=md5(AppId + SignatureNonce + ServerSecret + Timestamp)
        from urllib.parse import urlencode

        import requests


        def GenerateSignature(appId, signatureNonce, serverSecret, timestamp):
            str1 = str(appId) + signatureNonce + serverSecret + str(timestamp)
            hash = hashlib.md5()
            hash.update(str1.encode("utf8"))
            signature = hash.hexdigest()
            return signature


        if __name__ == '__main__':
            # è¯·å°† appId ä¿®æ”¹ä¸ºä½ çš„ appIdï¼Œappid ä¸º æ•°å­—
            # ä¸¾ä¾‹ï¼š1234567890
            appId = 1234567890
            # è¯·å°† serverSecret ä¿®æ”¹ä¸ºä½ çš„ serverSecretï¼ŒserverSecret ä¸º string
            serverSecret = ""

            signatureNonce = secrets.token_hex(8)
            timestamp = int(time.time())
            sig = GenerateSignature(appId, signatureNonce, serverSecret, timestamp)

            # ä»¥ä¸‹ç¤ºä¾‹ å°† StreamId ä¸º "stream1" çš„éŸ³è§†é¢‘æµ ä¸ StreamId ä¸º "stream2" çš„éŸ³è§†é¢‘æµè¿›è¡Œæ··æµï¼Œæ··å‡º StreamId ä¸º "stream3" çš„éŸ³è§†é¢‘æµ
            par = {
                "Action": "StartMix",
                "AppId": appId,
                "Signature": sig,
                "SignatureNonce": signatureNonce,
                "SignatureVersion": "2.0",
                "Timestamp": timestamp,
                "IsTest": "False"
            }
            body = {
                'TaskId': '123',
                'Sequence': 123,
                'UserId': '123',
                'MixInput': [
                    {
                        'StreamId': 'stream1',
                        'RectInfo': {
                            "Top": 70,
                            "Bottom": 160,
                            "Left": 100,
                            "Right": 260,
                        },

                    },
                    {
                        'StreamId': 'stream2',
                        'RectInfo': {
                            "Top": 200,
                            "Bottom": 290,
                            "Left": 100,
                            "Right": 260,
                        },
                    }
                ],
                'MixOutput': [{
                    'StreamId': 'stream3',
                    'Width': 360,
                    'Height': 360,
                    'VideoBitrate': 12000,
                    'Fps': 15
                }]
            }
            url = 'https://rtc-api.zego.im/'
            req = requests.post(url, params=par, json=body)
            print("Url: ", req.url)
            print("StatusCode", req.status_code)
            print("Respone:", req.text)
        ```
        </Accordion>


        <Accordion title="å¼€å§‹æ··æµï¼ˆJavaï¼‰" defaultOpen="false">
        ```java
        package org.example;

        import java.io.BufferedReader;
        import java.io.IOException;
        import java.io.InputStream;
        import java.io.InputStreamReader;
        import java.io.OutputStream;
        import java.io.OutputStreamWriter;
        import java.net.HttpURLConnection;
        import java.net.MalformedURLException;
        import java.net.URL;
        import java.security.MessageDigest;
        import java.security.SecureRandom;
        import java.util.HashMap;
        import java.util.Map;

        /**
         * è¯·å…ˆå¼•å…¥ com.alibaba.fastjsonï¼Œæ–¹ä¾¿æ„å»ºè¯·æ±‚çš„ body å‚æ•°
         */
        import com.alibaba.fastjson.JSONArray;
        import com.alibaba.fastjson.JSONObject;

        public class StartMix {

            //
            public static void main(String[] args) {
                // è·å–æˆ¿é—´å†…ç”¨æˆ·æ•°ç›®
                startMixStream();
            }

            /**
             * å‘èµ·æ··æµ
             */
            public static void startMixStream() {
                // è¯·å¡«å†™ä½ ä»æ§åˆ¶å°è·å–çš„APP ID,
                // ä¸¾ä¾‹ï¼š1234567890L
                Long APP_ID = 1234567890L;
                // è¯·å¡«å†™ä½ ä»æ§åˆ¶åå°è·å–çš„ SERVER SECRETï¼Œ
                // ä¸¾ä¾‹ï¼š"abcde1234aaaaaaaabbbbbbb"
                String SERVER_SECRET = ;
                // ç”Ÿæˆ16è¿›åˆ¶éšæœºå­—ç¬¦ä¸²(16ä½)
                byte[] bytes = new byte[8];
                SecureRandom sr = new SecureRandom();
                sr.nextBytes(bytes);
                String signatureNonce = bytesToHex(bytes);
                // è®¾å®šæ—¶é—´æˆ³
                long timestamp = System.currentTimeMillis() / 1000L;

                // ç”Ÿæˆç­¾åSignature=md5(AppId + SignatureNonce + ServerSecret + Timestamp)
                String signatue = generateSignature(APP_ID, signatureNonce, SERVER_SECRET, timestamp);

                // ç»„è£…è¯·æ±‚URL
                //ä»¥ä¸‹ç¤ºä¾‹ä¸º å°† StreamId ä¸º "stream1" çš„éŸ³è§†é¢‘æµ ä¸ StreamId ä¸º "stream2" çš„éŸ³è§†é¢‘æµè¿›è¡Œæ··æµï¼Œæ··å‡º StreamId ä¸º "stream3" çš„éŸ³è§†é¢‘æµ
                Map<String, Object> params = new HashMap<String, Object>();
                params.put("Action", "StartMix");
                params.put("AppId", APP_ID);
                params.put("SignatureNonce", signatureNonce);
                params.put("Timestamp", timestamp);
                params.put("Signature", signatue);
                params.put("SignatureVersion", "2.0");
                // rtc-api.zego.im è¡¨ç¤ºä½¿ç”¨çš„äº§å“æ˜¯äº‘é€šè®¯äº§å“ï¼ŒåŒ…æ‹¬äº†å®æ—¶éŸ³è§†é¢‘ï¼ˆExpress Videoï¼‰ã€å®æ—¶éŸ³é¢‘ï¼ˆExpress Audioï¼‰ã€ä½å»¶è¿Ÿç›´æ’­ï¼ˆL3ï¼‰
                String url = buildAPIUrl("https://rtc-api.zego.im/", params);

                JSONObject body = new JSONObject()
                        .fluentPut("TaskId", "123")
                        .fluentPut("Sequence", 123)
                        .fluentPut("UserId", "123");

                JSONArray mixInputList = new JSONArray();
                mixInputList.add(new JSONObject()
                        .fluentPut("StreamId", "stream1")
                        .fluentPut("RectInfo", new JSONObject()
                                .fluentPut("Top", 70)
                                .fluentPut("Bottom", 160)
                                .fluentPut("Left", 100)
                                .fluentPut("Right", 260)));
                mixInputList.add(new JSONObject()
                        .fluentPut("StreamId", "stream2")
                        .fluentPut("RectInfo", new JSONObject()
                                .fluentPut("Top", 200)
                                .fluentPut("Bottom", 290)
                                .fluentPut("Left", 100)
                                .fluentPut("Right", 260)));
                body.put("MixInput", mixInputList);

                JSONArray mixOutputList = new JSONArray();
                mixOutputList.add(new JSONObject()
                        .fluentPut("StreamId", "stream3")
                        .fluentPut("Width", 360)
                        .fluentPut("Height", 360)
                        .fluentPut("VideoBitrate", 12000)
                        .fluentPut("Fps", 15));
                body.put("MixOutput", mixOutputList);

                String result = sendPost(url, body.toString());
                System.out.println(result);
            }

            /**
             * ç”Ÿæˆç­¾å
             * @param appId åº”ç”¨APPID
             * @param signatureNonce ç­¾åéšæœºç 
             * @param serverSecret æœåŠ¡ç«¯APIå¯†é’¥
             * @param timestamp ç­¾åæ—¶é—´æˆ³
             * @return ç”Ÿæˆçš„ç­¾åå­—ç¬¦ä¸²
             */
            public static String generateSignature(long appId, String signatureNonce, String serverSecret, long timestamp){
                String str = String.valueOf(appId) + signatureNonce + serverSecret + String.valueOf(timestamp);
                String signature = "";
                try{
                    //åˆ›å»ºä¸€ä¸ªæä¾›ä¿¡æ¯æ‘˜è¦ç®—æ³•çš„å¯¹è±¡ï¼Œåˆå§‹åŒ–ä¸ºmd5ç®—æ³•å¯¹è±¡
                    MessageDigest md = MessageDigest.getInstance("MD5");
                    //è®¡ç®—åè·å¾—å­—èŠ‚æ•°ç»„
                    byte[] bytes = md.digest(str.getBytes("utf-8"));
                    //æŠŠæ•°ç»„æ¯ä¸€å­—èŠ‚æ¢æˆ16è¿›åˆ¶è¿æˆmd5å­—ç¬¦ä¸²
                    signature = bytesToHex(bytes);
                }catch (Exception e) {
                    e.printStackTrace();
                }
                return signature;
            }

            /**
             * å­—èŠ‚æ•°ç»„è½¬16è¿›åˆ¶
             * @param bytes éœ€è¦è½¬æ¢çš„byteæ•°ç»„
             * @return è½¬æ¢åçš„Hexå­—ç¬¦ä¸²
             */
            public static String bytesToHex(byte[] bytes) {
                StringBuffer md5str = new StringBuffer();
                //æŠŠæ•°ç»„æ¯ä¸€å­—èŠ‚æ¢æˆ16è¿›åˆ¶è¿æˆmd5å­—ç¬¦ä¸²
                int digital;
                for (int i = 0; i < bytes.length; i++) {
                    digital = bytes[i];
                    if (digital < 0) {
                        digital += 256;
                    }
                    if (digital < 16) {
                        md5str.append("0");
                    }
                    md5str.append(Integer.toHexString(digital));
                }
                return md5str.toString();
            }

            /**
             * å‘é€HTTP-GETè¯·æ±‚
             * @param httpurl è¯·æ±‚è·¯å¾„
             * @return å“åº”å†…å®¹
             */
            public static String sendGet(String httpurl) {
                HttpURLConnection connection = null;
                InputStream is = null;
                BufferedReader br = null;
                String result = null;// è¿”å›ç»“æœå­—ç¬¦ä¸²
                try {
                    // åˆ›å»ºè¿œç¨‹urlè¿æ¥å¯¹è±¡
                    URL url = new URL(httpurl);
                    // é€šè¿‡è¿œç¨‹urlè¿æ¥å¯¹è±¡æ‰“å¼€ä¸€ä¸ªè¿æ¥ï¼Œå¼ºè½¬æˆhttpURLConnectionç±»
                    connection = (HttpURLConnection) url.openConnection();
                    // è®¾ç½®è¿æ¥æ–¹å¼ï¼šget
                    connection.setRequestMethod("GET");
                    // è®¾ç½®è¿æ¥ä¸»æœºæœåŠ¡å™¨çš„è¶…æ—¶æ—¶é—´ï¼š15000æ¯«ç§’
                    connection.setConnectTimeout(15000);
                    // è®¾ç½®è¯»å–è¿œç¨‹è¿”å›çš„æ•°æ®æ—¶é—´ï¼š60000æ¯«ç§’
                    connection.setReadTimeout(60000);
                    // å‘é€è¯·æ±‚
                    connection.connect();
                    // é€šè¿‡connectionè¿æ¥ï¼Œè·å–è¾“å…¥æµ
                    if (connection.getResponseCode() == 200) {
                        is = connection.getInputStream();
                        // å°è£…è¾“å…¥æµisï¼Œå¹¶æŒ‡å®šå­—ç¬¦é›†
                        br = new BufferedReader(new InputStreamReader(is, "UTF-8"));
                        // å­˜æ”¾æ•°æ®
                        StringBuffer sbf = new StringBuffer();
                        String temp = null;
                        while ((temp = br.readLine()) != null) {
                            sbf.append(temp);
                            sbf.append("\r\n");
                        }
                        result = sbf.toString();
                    }
                } catch (MalformedURLException e) {
                    e.printStackTrace();
                } catch (IOException e) {
                    e.printStackTrace();
                } finally {
                    // å…³é—­èµ„æº
                    if (null != br) {
                        try {
                            br.close();
                        } catch (IOException e) {
                            e.printStackTrace();
                        }
                    }
                    if (null != is) {
                        try {
                            is.close();
                        } catch (IOException e) {
                            e.printStackTrace();
                        }
                    }
                    connection.disconnect();// å…³é—­è¿œç¨‹è¿æ¥
                }
                return result;
            }

            /**
             * å‘é€HTTP-POSTè¯·æ±‚
             * @param param æ¶ˆæ¯ä½“å‚æ•°
             * @return å“åº”å†…å®¹
             */
            public static String sendPost(String httpUrl, String param) {
                HttpURLConnection connection = null;
                InputStream is = null;
                OutputStream os = null;
                BufferedReader br = null;
                String result = null;
                try {
                    URL url = new URL(httpUrl);
                    // é€šè¿‡è¿œç¨‹urlè¿æ¥å¯¹è±¡æ‰“å¼€è¿æ¥
                    connection = (HttpURLConnection) url.openConnection();
                    // è®¾ç½®è¿æ¥è¯·æ±‚æ–¹å¼
                    connection.setRequestMethod("POST");
                    // è®¾ç½®è¿æ¥ä¸»æœºæœåŠ¡å™¨è¶…æ—¶æ—¶é—´ï¼š15000æ¯«ç§’
                    connection.setConnectTimeout(15000);
                    // è®¾ç½®è¯»å–ä¸»æœºæœåŠ¡å™¨è¿”å›æ•°æ®è¶…æ—¶æ—¶é—´ï¼š60000æ¯«ç§’
                    connection.setReadTimeout(60000);
                    // é»˜è®¤å€¼ä¸ºï¼šfalseï¼Œå½“å‘è¿œç¨‹æœåŠ¡å™¨ä¼ é€æ•°æ®/å†™æ•°æ®æ—¶ï¼Œéœ€è¦è®¾ç½®ä¸ºtrue
                    connection.setDoOutput(true);
                    // é»˜è®¤å€¼ä¸ºï¼štrueï¼Œå½“å‰å‘è¿œç¨‹æœåŠ¡è¯»å–æ•°æ®æ—¶ï¼Œè®¾ç½®ä¸ºtrueï¼Œè¯¥å‚æ•°å¯æœ‰å¯æ— 
                    connection.setDoInput(true);
                    // è®¾ç½®ä¼ å…¥å‚æ•°çš„æ ¼å¼:è¯·æ±‚å‚æ•°åº”è¯¥æ˜¯ name1=value1&name2=value2 çš„å½¢å¼ã€‚
                    connection.setRequestProperty("Content-Type", "application/json");
                    // å»ºç«‹è¿æ¥
                    connection.connect();
                    // é€šè¿‡è¿æ¥å¯¹è±¡è·å–ä¸€ä¸ªè¾“å‡ºæµå¯¹è±¡
                    OutputStreamWriter writer = new OutputStreamWriter(connection.getOutputStream(),"UTF-8");
                    writer.write(param);
                    writer.flush();
                    // é€šè¿‡è¿æ¥å¯¹è±¡è·å–ä¸€ä¸ªè¾“å…¥æµï¼Œå‘è¿œç¨‹è¯»å–
                    if (connection.getResponseCode() == 200) {
                        is = connection.getInputStream();
                        // å¯¹è¾“å…¥æµå¯¹è±¡è¿›è¡ŒåŒ…è£…:charsetæ ¹æ®å·¥ä½œé¡¹ç›®ç»„çš„è¦æ±‚æ¥è®¾ç½®
                        br = new BufferedReader(new InputStreamReader(is, "UTF-8"));
                        StringBuffer sbf = new StringBuffer();
                        String temp = null;
                        // å¾ªç¯éå†ä¸€è¡Œä¸€è¡Œè¯»å–æ•°æ®
                        while ((temp = br.readLine()) != null) {
                            sbf.append(temp);
                            sbf.append("\r");
                        }
                        result = sbf.toString();
                    }
                } catch (MalformedURLException e) {
                    e.printStackTrace();
                } catch (IOException e) {
                    e.printStackTrace();
                } finally {
                    // å…³é—­èµ„æº
                    if (null != br) {
                        try {
                            br.close();
                        } catch (IOException e) {
                            e.printStackTrace();
                        }
                    }
                    if (null != os) {
                        try {
                            os.close();
                        } catch (IOException e) {
                            e.printStackTrace();
                        }
                    }
                    if (null != is) {
                        try {
                            is.close();
                        } catch (IOException e) {
                            e.printStackTrace();
                        }
                    }
                    // æ–­å¼€ä¸è¿œç¨‹åœ°å€urlçš„è¿æ¥
                    connection.disconnect();
                }
                return result;
            }

            /**
             * ç»„è£…APIåœ°å€å­—ç¬¦ä¸²
             * @param url APIåœ°å€
             * @param params è¯·æ±‚å‚æ•°
             * @return ç»„è£…å¥½çš„APIåœ°å€å­—ç¬¦ä¸²
             */
            public static String buildAPIUrl(String url, Map<String, Object> params) {
                if(params.isEmpty()) {
                    return url;
                }
                StringBuffer buffer = new StringBuffer(url).append("?");
                for(String key : params.keySet()) {
                    buffer.append(key).append("=").append(params.get(key)).append("&");
                }
                String apiurl = buffer.toString();
                if(apiurl.endsWith("&")) {
                    return apiurl.substring(0, apiurl.length()-1);
                } else {
                    return apiurl;
                }
            }

        }
        ```
        </Accordion>


        <Accordion title="å¼€å§‹æ··æµï¼ˆPHPï¼‰" defaultOpen="false">
        ```php
        <?php

        /**
         * å‘èµ·å¼€å§‹æ··æµçš„æœ€ç®€ç¤ºä¾‹ä»£ç 
         */

        //è¯·å°† appId ä¿®æ”¹ä¸ºä½ çš„ appId
        //ä¸¾ä¾‹ï¼š1234567890
        $appId = 1234567890;
        //è¯·å°† serverSecret ä¿®æ”¹ä¸ºä½ çš„ serverSecretï¼ŒserverSecret ä¸º string
        $serverSecret = "";

        //ç”Ÿæˆç­¾å
        //Signature=md5(AppId + SignatureNonce + ServerSecret + Timestamp)
        function GenerateSignature($appId, $signatureNonce, $serverSecret, $timeStamp){
            $str = $appId . $signatureNonce . $serverSecret . $timeStamp;
            //ä½¿ç”¨PHPä¸­æ ‡å‡†çš„MD5ç®—æ³•ï¼Œé»˜è®¤è¿”å›32å­—ç¬¦16è¿›åˆ¶æ•°
            return md5($str);
        }

        //å–éšæœºå­—ç¬¦ä¸²å¹¶è½¬æ¢ä¸ºåå…­è¿›åˆ¶å€¼
        $signatureNonce = bin2hex(random_bytes(8));

        //å–æ¯«ç§’çº§æ—¶é—´æˆ³
        list($msec, $sec) = explode(' ', microtime());
        $msecTime = (float)sprintf('%.0f', (floatval($msec) + floatval($sec)) * 1000);
        //å¯¹$msecTimeå››èˆäº”å…¥å–åˆ°ç§’çº§æ—¶é—´æˆ³
        $timeStamp = round($msecTime/1000);
        $sig = GenerateSignature($appId, $signatureNonce, $serverSecret, $timeStamp);

        //ä»¥ä¸‹ç¤ºä¾‹ å°† StreamId ä¸º "stream1" çš„éŸ³è§†é¢‘æµ ä¸ StreamId ä¸º "stream2" çš„éŸ³è§†é¢‘æµè¿›è¡Œæ··æµï¼Œæ··å‡º StreamId ä¸º "stream3" çš„éŸ³è§†é¢‘æµ
        $url = "https://rtc-api.zego.im/?Action=StartMix&AppId=$appId&SignatureNonce=$signatureNonce&Timestamp=$timeStamp&Signature=$sig&SignatureVersion=2.0&IsTest=false";

        $body = [
            "TaskId"   => "123",
            "Sequence" => 123,
            "UserId"   => "123",
            "MixInput" => [
                [
                    "StreamId" => "stream1",
                    "RectInfo" => [
                    "Top"    => 70,
                        "Bottom" => 160,
                        "Left"   => 100,
                        "Right"  => 260,
                    ],
                ],
                [
                    "StreamId" => "stream2",
                    "RectInfo" => [
                    "Top"    => 200,
                        "Bottom" => 290,
                        "Left"   => 100,
                        "Right"  => 260,
                    ],
                ]
            ],
            "MixOutput" => [
                [
                    "StreamId" => "stream3",
                    "Width"    => 360,
                    "Height"   => 360,
                    "VideoBitrate" => 12000,
                    "Fps"      => 15
                ]
            ]
        ];

        $post_string = json_encode($body);

        $ch = curl_init();

        curl_setopt ($ch, CURLOPT_URL, $url);
        curl_setopt ($ch, CURLOPT_POST, 1);
        curl_setopt ($ch, CURLOPT_RETURNTRANSFER, 1);
        //è®¾ç½®è¯·æ±‚è¿æ¥è¶…æ—¶æ—¶é—´,å•ä½ï¼šç§’
        curl_setopt ($ch, CURLOPT_CONNECTTIMEOUT, 5);
        curl_setopt($ch, CURLOPT_POSTFIELDS, $post_string);
        curl_setopt($ch, CURLOPT_HTTPHEADER, array(
                'Content-Type: application/json; charset=utf-8',
            )
        );
        $response = curl_exec($ch);
        curl_close($ch);

        echo "Url:" . $url;
        echo "\r\n";
        echo "request body:" . $post_string;
        echo "\r\n";
        echo "response:" . $response;
        ```
        </Accordion>


        <Accordion title="å¼€å§‹æ··æµï¼ˆNode.jsï¼‰" defaultOpen="false">
        ```js
        const crypto = require('crypto');
        const request = require('request');

        //è¯·å°† appId ä¿®æ”¹ä¸ºä½ çš„ appIdï¼Œappid ä¸º number
        var appId = ;
        //è¯·å°† serverSecret ä¿®æ”¹ä¸ºä½ çš„ serverSecretï¼ŒserverSecret ä¸º string
        var serverSecret = "";

        //Signature=md5(AppId + SignatureNonce + ServerSecret + Timestamp)
        function GenerateSignature(appId, signatureNonce, serverSecret, timeStamp) {
            const hash = crypto.createHash('md5'); //è§„å®šä½¿ç”¨å“ˆå¸Œç®—æ³•ä¸­çš„MD5ç®—æ³•
            var str = appId + signatureNonce + serverSecret + timeStamp;
            hash.update(str);
            //hash.digest('hex')è¡¨ç¤ºè¾“å‡ºçš„æ ¼å¼ä¸º16è¿›åˆ¶
            return hash.digest('hex');
        }

        var signatureNonce = crypto.randomBytes(8).toString('hex');
        var timeStamp = Math.round(Date.now() / 1000);
        var sig = GenerateSignature(appId, signatureNonce, serverSecret, timeStamp)

        //ä»¥ä¸‹ç¤ºä¾‹ å°† StreamId ä¸º "stream1" çš„éŸ³è§†é¢‘æµ ä¸ StreamId ä¸º "stream2" çš„éŸ³è§†é¢‘æµè¿›è¡Œæ··æµï¼Œæ··å‡º StreamId ä¸º "stream3" çš„éŸ³è§†é¢‘æµ
        var url = `https://rtc-api.zego.im/?Action=StartMix&AppId=${appId}&SignatureNonce=${signatureNonce}&Timestamp=${timeStamp}&Signature=${sig}&SignatureVersion=2.0&IsTest=false`
        var body = {
            'TaskId': '123',
            'Sequence': 123,
            'UserId': '123',
            'MixInput': [
            {
                'StreamId': 'stream1',
                'RectInfo': {
                    "Top": 70,
                    "Bottom": 160,
                    "Left": 100,
                    "Right": 260,
                },
            },
            {
                'StreamId': 'stream2',
                'RectInfo': {
                    "Top": 200,
                    "Bottom": 290,
                    "Left": 100,
                    "Right": 260,
                },
            }
            ],
            'MixOutput': [{
                'StreamId': 'stream3',
                'Width': 360,
                'Height': 360,
                'VideoBitrate': 12000,
                'Fps': 15
            }]
        }

        request({
            url: url,
            method: 'POST',
            json: true,
            headers: {
                'content-type': 'application/json'
            },
            body: body
        }, function (error, response, body) {
            console.log(error)
            console.log(response.statusCode)
            if (!error && response.statusCode === 200) {
                console.log(body.Data)
            }
        })
        ```
        </Accordion>

        <Note title="è°ƒç”¨é¢‘ç‡é™åˆ¶">100 æ¬¡/ç§’</Note>
        ## å‚æ•°è¯´æ˜

        <Note title="è¯´æ˜">

        æµ‹è¯•ç¯å¢ƒä¸‹ï¼ˆè¯¦è§ IsTest å…¬å…±å‚æ•°è¯´æ˜ï¼‰ï¼Œ`è¾“å…¥æµ`çš„æµ ID å’Œ`è¾“å‡ºæµ`çš„æµ IDï¼š

        - å¦‚æœæ˜¯å¼€å‘è€…è‡ªå·±è¾“å…¥çš„åŸå§‹æµ IDï¼Œéœ€è¦åŠ ä¸Š "zegotest-AppId-" å‰ç¼€ï¼Œå¦åˆ™ä¼šå¯¼è‡´æ··æµå¤±è´¥ï¼ˆæ··æµæœåŠ¡å™¨æ‹‰ä¸åˆ°è¾“å…¥æµæˆ–æ‹‰ä¸åˆ°æ··æµè¾“å‡ºæµï¼‰ã€‚ä¾‹å¦‚ï¼Œå¼€å‘è€…è¾“å…¥æµ ID ä¸º "test"ï¼Œåœ¨ AppId ä¸º "123456789" çš„æµ‹è¯•ç¯å¢ƒä¸‹ï¼Œæµ ID åº”ä¸º "zegotest-123456789-test"ã€‚
        - å¦‚æœæ˜¯é€šè¿‡ SDK æ¥å£ï¼Œæˆ–é€šè¿‡æœåŠ¡ç«¯ API æ¥å£è·å–åˆ°çš„ï¼Œæ­¤æ—¶ä¸éœ€è¦æ·»åŠ  "zegotest-AppId-" çš„å‰ç¼€ã€‚

        </Note>
        <Note title="è¯´æ˜">
        ä»¥ä¸‹æ‰€æœ‰çš„è¯·æ±‚å‚æ•°ä¸­ã€ç±»å‹ä¸º "String" çš„å‚æ•°ï¼Œä»…æ”¯æŒæ•°å­—ï¼Œè‹±æ–‡å­—ç¬¦ å’Œ '~', '!', '@', '#', '$', '%', '^', '&', '*', '(', ')', '_', '+', '=', '-', '`', ';', ''', ',', '.', '\<', '\>', '/', ''ã€‚
        </Note>
        ä»¥ä¸‹å‚æ•°è¯´æ˜åŒ…å«äº†å¼€å§‹æ··æµæ¥å£çš„æ‰€æœ‰å‚æ•°ï¼ŒåŒ…å«ä¸€äº›è¿›é˜¶åŠŸèƒ½ï¼ˆä¾‹å¦‚ï¼šè®¾ç½®æ°´å°ã€èƒŒæ™¯å›¾ç‰‡ï¼Œè®¾ç½®æ‰©å±•å‚æ•°ç­‰ï¼‰ã€‚
        <Warning title="æ³¨æ„">
        å¦‚æœæ‚¨æƒ³å¿«é€Ÿå‘èµ·æ··æµä»»åŠ¡ï¼Œè¯·å‚è€ƒå³ä¾§ REQUEST é¢æ¿ä¸­çš„ Example ç¤ºä¾‹ï¼Œå¡«å†™åŸºç¡€å‚æ•°å³å¯å‘èµ·ä»»åŠ¡ã€‚
        </Warning>

        ***æ­¤æ¥å£ä¸­åªæœ‰éƒ¨åˆ†å‚æ•°åœ¨å¼€å§‹æ··æµåæ”¯æŒåŠ¨æ€æ›´æ–°ï¼Œæœªæ ‡æ³¨çš„åˆ™ä¸æ”¯æŒåŠ¨æ€æ›´æ–°ï¼Œè¯¦æƒ…è¯·å‚è€ƒä¸‹è¡¨ä¸­çš„å‚æ•°æè¿°ã€‚***

        ## å¸¸è§é—®é¢˜

        1. **åœ¨æ¨çº¯éŸ³é¢‘æ··æµå¹¶è®¾ç½®äº†èƒŒæ™¯å›¾æ—¶ï¼Œé‡åˆ°èƒŒæ™¯å›¾æ— æ³•æ­£å¸¸è¿›è¡Œå±•ç¤ºï¼Œå¦‚ä½•å¤„ç†ï¼Ÿ**

            åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®¢æˆ·éœ€è¦æ ¹æ®è‡ªèº«ä¸šåŠ¡éœ€æ±‚ï¼Œæ­£ç¡®è®¾ç½®è¾“å‡ºå¸ƒå±€çš„å®½å’Œé«˜ï¼Œå¹¶è”ç³» ZEGO æŠ€æœ¯æ”¯æŒé…ç½®å¼€å¯è¡¥é»‘å¸§ã€‚
      operationId: start-mix
      parameters:
        - name: Action
          in: query
          description: |
            > æ¥å£åŸå‹å‚æ•°
            >
            > https://rtc-api.zego.im?Action=StartMix
          required: true
          schema:
            type: string
            enum: [StartMix]
          style: form
          explode: true
        # å…¬å…±å‚æ•°ï¼ˆQueryï¼‰
        - $ref: '../shared-components.yaml#/components/parameters/AppId'
        - $ref: '../shared-components.yaml#/components/parameters/SignatureNonce'
        - $ref: '../shared-components.yaml#/components/parameters/Timestamp'
        - $ref: '../shared-components.yaml#/components/parameters/Signature'
        - $ref: '../shared-components.yaml#/components/parameters/SignatureVersion'
        - $ref: '../shared-components.yaml#/components/parameters/IsTest'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StartMixRequest'
            example:
              {
                "TaskId": "2213699902971205739",
                "UserId": "123",
                "MixInput": [
                  {
                    "RectInfo": {
                      "Bottom": 640,
                      "Left": 0,
                      "Right": 180,
                      "Top": 0
                    },
                    "StreamId": "stream1"
                  },
                  {
                    "RectInfo": {
                      "Bottom": 640,
                      "Left": 180,
                      "Right": 360,
                      "Top": 0
                    },
                    "StreamId": "stream2"
                  }
                ],
                "MixOutput": [
                  {
                    "Fps": 15,
                    "Width": 360,
                    "Height": 640,
                    "StreamId": "stream3",
                    "VideoBitrate": 1200000
                  }
                ]
              }
      responses:
        "200":
          description: æ“ä½œæˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StartMixResponse'

components:
  schemas:
    RectInfoWatermark:
      type: object
      description: æ°´å°ä½ç½®ä¿¡æ¯ã€‚**ğŸ”å†æ¬¡è°ƒç”¨æœ¬æ¥å£ï¼Œå³å¯åŠ¨æ€æ›´æ–°è¯¥å‚æ•°**ã€‚
      properties:
        Top:
          type: integer
          format: int
          description: ä¸Šè¾¹æ¡†ã€‚è·ç¦»è¾“å‡ºç”»å¸ƒä¸Šè¾¹æ¡†çš„åƒç´ å¤§å°ã€‚
        Left:
          type: integer
          format: int
          description: å·¦è¾¹æ¡†ã€‚è·ç¦»è¾“å‡ºç”»å¸ƒå·¦è¾¹æ¡†çš„åƒç´ å¤§å°ã€‚
        Bottom:
          type: integer
          format: int
          description: ä¸‹è¾¹æ¡†ã€‚è·ç¦»è¾“å‡ºç”»å¸ƒä¸Šè¾¹æ¡†çš„åƒç´ å¤§å°ã€‚
        Right:
          type: integer
          format: int
          description: å³è¾¹æ¡†ã€‚è·ç¦»è¾“å‡ºç”»å¸ƒå·¦è¾¹æ¡†çš„åƒç´ å¤§å°ã€‚
    RectInfo:
      type: object
      description: è¾“å…¥æµä½ç½®ä¿¡æ¯ã€‚è¾“å…¥æµçš„ä½ç½®å‚è€ƒå¦‚ä¸‹ï¼š<img src="https://doc-media.zego.im/sdk-doc/Pics/server_v2/mixStream_Coordinate.png"/><ul><li><b>å¦‚æœè¯¥å‚æ•°ä¸‹çš„å­—æ®µï¼ˆTopã€Leftã€Bottomã€Rightï¼‰éƒ½ä¸å¡«å†™æ—¶ï¼Œé»˜è®¤ä¸ºçº¯éŸ³é¢‘æ··æµã€‚</b></li><li><b>å¦‚æœè¾“å…¥æµåˆ†è¾¨ç‡ä¸å¯¹åº”è¾“å…¥æµç”»å¸ƒå®½é«˜ä¸ä¸€è‡´æ—¶ï¼Œå°†å‚è€ƒ RenderMode è¿›è¡Œæ¸²æŸ“ã€‚</b></li></ul>
      properties:
        Layer:
          type: integer
          format: int
          description: å›¾å±‚å±‚æ¬¡ã€‚0 è¡¨ç¤ºæœ€åº•å±‚ï¼Œæ•°å€¼è¶Šå¤§å±‚æ¬¡è¶Šé«˜ã€‚**ğŸ”å†æ¬¡è°ƒç”¨æœ¬æ¥å£ï¼Œå³å¯åŠ¨æ€æ›´æ–°è¯¥å‚æ•°**ã€‚
        Top:
          type: integer
          format: int
          description: ä¸Šè¾¹æ¡†ã€‚è·ç¦»è¾“å‡ºç”»å¸ƒä¸Šè¾¹æ¡†çš„åƒç´ å¤§å°ã€‚**ğŸ”å†æ¬¡è°ƒç”¨æœ¬æ¥å£ï¼Œå³å¯åŠ¨æ€æ›´æ–°è¯¥å‚æ•°**ã€‚
        Left:
          type: integer
          format: int
          description: å·¦è¾¹æ¡†ã€‚è·ç¦»è¾“å‡ºç”»å¸ƒå·¦è¾¹æ¡†çš„åƒç´ å¤§å°ã€‚**ğŸ”å†æ¬¡è°ƒç”¨æœ¬æ¥å£ï¼Œå³å¯åŠ¨æ€æ›´æ–°è¯¥å‚æ•°**ã€‚
        Bottom:
          type: integer
          format: int
          description: ä¸‹è¾¹æ¡†ã€‚è·ç¦»è¾“å‡ºç”»å¸ƒä¸Šè¾¹æ¡†çš„åƒç´ å¤§å°ã€‚**ğŸ”å†æ¬¡è°ƒç”¨æœ¬æ¥å£ï¼Œå³å¯åŠ¨æ€æ›´æ–°è¯¥å‚æ•°**ã€‚
        Right:
          type: integer
          format: int
          description: å³è¾¹æ¡†ã€‚è·ç¦»è¾“å‡ºç”»å¸ƒå·¦è¾¹æ¡†çš„åƒç´ å¤§å°ã€‚**ğŸ”å†æ¬¡è°ƒç”¨æœ¬æ¥å£ï¼Œå³å¯åŠ¨æ€æ›´æ–°è¯¥å‚æ•°**ã€‚
        CornerRadius:
          type: integer
          format: int
          description: åœ†è§’å¤§å°ã€‚å–å€¼èŒƒå›´ [0, 100]ï¼Œé»˜è®¤ä¸º 0ã€‚**ğŸ”å†æ¬¡è°ƒç”¨æœ¬æ¥å£ï¼Œå³å¯åŠ¨æ€æ›´æ–°è¯¥å‚æ•°**ã€‚![åœ†è§’æ•ˆæœ](https://doc-media.zego.im/sdk-doc/Pics/server_v2/video_CornerRadius.png)
    MixInputItem:
      type: object
      required: [StreamId, StreamUrl, RectInfo]
      properties:
        StreamId:
          type: string
          description: |
            æ··æµè¾“å…¥æµ IDï¼Œè¡¨ç¤ºè¯¥æµ ID æ¥è‡ª RTC æœåŠ¡ã€‚

            **StreamId å’Œ StreamUrl äºŒè€…å–å…¶ä¸€å³å¯ï¼Œè‹¥åŒæ—¶å¡«å†™ StreamId å’Œ StreamUrlï¼Œåˆ™ StreamUrl ç”Ÿæ•ˆã€‚**
        StreamUrl:
          type: string
          description: |
            æ··æµè¾“å…¥æµ URLï¼Œæ”¯æŒ RTMP å’Œ HTTP-FLV ä¸¤ç§åè®®ã€‚

            **StreamId å’Œ StreamUrl äºŒè€…å–å…¶ä¸€å³å¯ï¼Œè‹¥åŒæ—¶å¡«å†™ StreamId å’Œ StreamUrlï¼Œåˆ™ StreamUrl ç”Ÿæ•ˆã€‚**
        RectInfo:
          $ref: '#/components/schemas/RectInfo'
        Image:
          type: object
          description: |
            ä¸ºè¯¥è¾“å…¥æµè®¾ç½®å ä½å›¾ç‰‡ï¼Œç”¨äºè¦†ç›–è§†é¢‘å†…å®¹ï¼›ä½¿ç”¨å›¾ç‰‡æ—¶ï¼Œä¸æ˜¾ç¤ºè§†é¢‘å†…å®¹ã€‚

            **è®¾ç½®çš„å›¾ç‰‡ï¼Œå°†å¤ç”¨ RectInfo é…ç½®çš„ä½ç½®ä¿¡æ¯**ã€‚
          properties:
            Url:
              type: string
              example: "https://storage.zego.im/sdk-doc/Pics/Video_call/13763_1.png"
              description: |
                å›¾ç‰‡è·¯å¾„ï¼Œæ”¯æŒ JPG å’Œ PNG æ ¼å¼ã€‚æ”¯æŒä»¥ä¸‹ 2 ç§ä½¿ç”¨æ–¹å¼ï¼š
                - URIï¼šå°†å›¾ç‰‡æä¾›ç»™ ZEGO æŠ€æœ¯æ”¯æŒè¿›è¡Œé…ç½®ï¼Œé…ç½®å®Œæˆåä¼šæä¾›å›¾ç‰‡ URIï¼Œä¾‹å¦‚ï¼špreset-id://xxx.jpg
                - URLï¼šæ”¯æŒ HTTP/HTTPS åè®®ï¼Œå›¾ç‰‡å¤§å°éœ€é™åˆ¶åœ¨ 1MB ä»¥å†…

                **æœ¬å‚æ•°ä¸ºç©ºæ—¶æ˜¾ç¤ºè§†é¢‘å†…å®¹ï¼Œå¦åˆ™å³æ˜¾ç¤ºå¯¹åº”å›¾ç‰‡ã€‚ğŸ”å†æ¬¡è°ƒç”¨æœ¬æ¥å£ï¼Œå³å¯åŠ¨æ€æ›´æ–°è¯¥å‚æ•°**ã€‚
            DisplayMode:
              type: integer
              format: int
              description: |
                å›¾ç‰‡æ˜¾ç¤ºæ¨¡å¼ï¼š
                - 0ï¼šé»˜è®¤å€¼ã€‚å½“ URL ä¸ä¸ºç©ºæ—¶ï¼Œè¦†ç›–è§†é¢‘å†…å®¹ï¼Œæ˜¾ç¤ºå›¾ç‰‡
                - 1ï¼šæ ¹æ®æ‘„åƒå¤´çŠ¶æ€ï¼Œåˆ¤æ–­æ˜¯å¦æ˜¾ç¤ºå›¾ç‰‡ï¼š
                  - æ‘„åƒå¤´å…³é—­ï¼Œæ˜¾ç¤ºå›¾ç‰‡
                  - æ‘„åƒå¤´æ‰“å¼€ï¼Œæ˜¾ç¤ºè§†é¢‘å†…å®¹ï¼ˆæ— éœ€æ‰‹åŠ¨æ¸…ç©º URL å‚æ•°ï¼‰
                - 2ï¼šæ ¹æ®è¾“å…¥æµæ˜¯å¦ä¸ºç©ºæµï¼Œåˆ¤æ–­æ˜¯å¦æ˜¾ç¤ºå›¾ç‰‡ã€‚è¾“å…¥æµè¿ç»­3ç§’ä¸ºç©ºæµæ—¶ï¼Œæ˜¾ç¤ºå›¾ç‰‡
              enum: [0,1,2]
        ContentControl:
          type: integer
          format: int
          description: |
            å†…å®¹æ§åˆ¶ï¼š
            - 0ï¼šå–éŸ³è§†é¢‘ï¼Œé»˜è®¤å€¼
            - 1ï¼šå–éŸ³é¢‘
            - 2ï¼šå–è§†é¢‘

            **ğŸ”å†æ¬¡è°ƒç”¨æœ¬æ¥å£ï¼Œå³å¯åŠ¨æ€æ›´æ–°è¯¥å‚æ•°**ã€‚
          enum: [0,1,2]
        SoundLevelId:
          type: integer
          format: uint32
          description: |
            å£°æµª IDã€‚

            **å‚æ•° SoundLevelï¼ˆæ··æµå£°æµªï¼‰å–å€¼ä¸º "1" æ—¶ï¼Œæ­¤å‚æ•°å¿…å¡«**ã€‚
        Volume:
          type: integer
          format: int
          default: 100
          description: éŸ³é‡ï¼Œå–å€¼èŒƒå›´ [0, 200]ï¼Œé»˜è®¤ä¸º 100ã€‚
        Label:
          type: object
          required: [Text, Left, Top, Font]
          description: æ–‡å­—æ°´å°å‚æ•°
          properties:
            Text:
              type: string
              description: |
                æ°´å°å†…å®¹ã€‚

                æœ€å¤§é•¿åº¦ä¸º 100 ä¸ªä¸­æ–‡å­—ç¬¦æˆ– 300 ä¸ªè‹±æ–‡å­—ç¬¦ã€‚
            Left:
              type: integer
              format: int
              description: æ–‡å­—æ°´å°ä½ç½®ï¼Œç›¸å¯¹è¾“å…¥æµå·¦è¾¹æ¡†çš„è·ç¦»ã€‚
            Top:
              type: integer
              format: int
              description: æ–‡å­—æ°´å°ä½ç½®ï¼Œç›¸å¯¹è¾“å…¥æµä¸Šè¾¹æ¡†çš„è·ç¦»ã€‚
            Font:
              type: object
              required: [FontType]
              description: æ–‡å­—å‚æ•°
              properties:
                FontType:
                  type: integer
                  format: int
                  description: |
                    å­—ä½“ç±»å‹ã€‚åªèƒ½è®¾ç½®ä¸€ç§ç±»å‹ï¼Œä¸”ä¸æ”¯æŒåœ¨æ··æµä¸­é€”ä¿®æ”¹ï¼Œä¹Ÿä¸æ”¯æŒä¸åŒçš„è¾“å…¥æµæœ‰ä¸åŒçš„å­—ä½“ï¼š
                    - 0ï¼šæ€æºé»‘ä½“ Regularï¼Œé»˜è®¤å€¼
                    - 1ï¼šé˜¿é‡Œå·´å·´æ™®æƒ ä½“
                    - 2ï¼šåºé—¨æ­£é“æ ‡é¢˜ä½“
                    - 3ï¼šç«™é…·å¿«ä¹ä½“
                FontSize:
                  type: integer
                  format: int
                  description: å­—ä½“å¤§å°ï¼Œå–å€¼èŒƒå›´ [12, 100]ï¼Œé»˜è®¤ä¸º 24ã€‚
                FontColor:
                  type: integer
                  format: int
                  description: |
                    å­—ä½“é¢œè‰²ï¼Œé»˜è®¤ä¸º RGB(255, 255, 255)ï¼Œå³ç™½è‰²ã€‚

                    è¯¥å‚æ•°è®¡ç®—å…¬å¼ä¸º R + G Ã— 256 + B Ã— 65536ï¼Œå…¶ä¸­ Rï¼ˆçº¢ï¼‰ã€Gï¼ˆç»¿ï¼‰ã€Bï¼ˆè“ï¼‰çš„å–å€¼èŒƒå›´ [0, 255]ã€‚
                Transparency:
                  type: integer
                  format: int
                  description: |
                    å­—ä½“é€æ˜åº¦ï¼Œå–å€¼èŒƒå›´ [0, 100]ï¼Œé»˜è®¤ä¸º 100ã€‚

                    å‚æ•°å–å€¼è¶Šå¤§è¶Šé€æ˜ï¼Œå³ 0 è¡¨ç¤ºä¸é€æ˜ï¼Œ100 è¡¨ç¤ºå®Œå…¨é€æ˜ã€‚
                BorderColor:
                  type: integer
                  format: int
                  description: |
                    å­—ä½“è½®å»“é¢œè‰²ï¼Œé»˜è®¤æ— å­—ä½“è½®å»“ï¼Œå¡«å†™è¯¥å‚æ•°åå­—ä½“ä¼šæœ‰è½®å»“ã€‚

                    è¯¥å‚æ•°è®¡ç®—å…¬å¼ä¸º R + G Ã— 256 + B Ã— 65536ï¼Œå…¶ä¸­ Rï¼ˆçº¢ï¼‰ã€Gï¼ˆç»¿ï¼‰ã€Bï¼ˆè“ï¼‰çš„å–å€¼èŒƒå›´ [0, 255]ã€‚
        RenderMode:
          type: integer
          format: int32
          description: <p>æ··æµè¾“å…¥å¡«å……æ¨¡å¼ã€‚</p><ul><li>0ï¼šè£å‰ªæ¨¡å¼ï¼Œé»˜è®¤å€¼ï¼Œç”»é¢ä¼šè¢«è£å‰ªä¸ºè®¾ç½®çš„å¸ƒå±€å¤§å°ã€‚</li><li>1ï¼šå¡«å……æ¨¡å¼ï¼Œ<b>è®¾ç½®çš„ RectInfo å‚æ•°å¤±æ•ˆ</b>ï¼Œè¾“å…¥ç”»é¢å®Œæ•´å±•ç¤ºï¼Œå¸ƒå±€ä¼šè°ƒæ•´é€‚é…è¾“å…¥æµå®½é«˜æ¯”ã€‚</li></ul><frame caption="" height="auto" width="512"/><img src="https://doc-media.zego.im/sdk-doc/Pics/server_v2/RenderMode.png"/>
          enum: [0,1]
        UID:
          type: string
          description: |
            è¾“å…¥æµå¯¹åº”çš„ç”¨æˆ· ID, ä¼šå‡ºç°åœ¨SEIä¸­ï¼Œé•¿åº¦åº”è¯¥å°äº 64 å­—èŠ‚ã€‚

            ä½¿ç”¨æ­¤å­—æ®µå‰ï¼Œéœ€è”ç³» ZEGO æŠ€æœ¯æ”¯æŒå¼€å¯é…ç½® enable_layout_in_idrã€‚
    MixOutputItem:
      type: object
      required: [StreamId, StreamUrl, VideoBitrate, Fps, Height, Width]
      properties:
        StreamId:
          type: string
          description: |
            è¾“å‡ºæµ IDã€‚
            é»˜è®¤æƒ…å†µä¸‹è¡¨ç¤ºæ··æµè¾“å‡ºè‡³ RTC æˆ–ä½å»¶è¿Ÿç›´æ’­äº§å“ï¼Œä¹Ÿå¯è”ç³» ZEGO æŠ€æœ¯æ”¯æŒé…ç½®æ··æµè¾“å‡ºè‡³ ZEGO ä»£ç†çš„ CDN ç›´æ’­äº§å“ï¼Œç”Ÿæ•ˆèŒƒå›´ä¸ºæ•´ä¸ª AppIdã€‚å¦‚æœå¸Œæœ›æ§åˆ¶æŒ‡å®šæµè¾“å‡ºè‡³ CDN ç›´æ’­äº§å“ï¼Œåˆ™ä¸èƒ½é…ç½®æ··æµé»˜è®¤è¾“å‡ºè‡³ ZEGO ä»£ç† CDNï¼Œåº”æŒ‰éœ€è®¾ç½® StreamUrlã€‚

            **StreamId å’Œ StreamUrl äºŒè€…å–å…¶ä¸€å³å¯ï¼Œè‹¥åŒæ—¶å¡«å†™ StreamId å’Œ StreamUrlï¼Œåˆ™ StreamUrl ç”Ÿæ•ˆã€‚**
        StreamUrl:
          type: string
          description: |
            ä»…æ”¯æŒ RTMP åè®®ï¼Œè¡¨ç¤ºæ··æµè¾“å‡ºè‡³ CDN ç›´æ’­æœåŠ¡ï¼Œè§‚ä¼—å¯ä»¥ä» CDN ç›´æ’­æ‹‰æ··æµã€‚

            **StreamId å’Œ StreamUrl äºŒè€…å–å…¶ä¸€å³å¯ï¼Œè‹¥åŒæ—¶å¡«å†™ StreamId å’Œ StreamUrlï¼Œåˆ™ StreamUrl ç”Ÿæ•ˆã€‚**
        VideoBitrate:
          type: integer
          format: int
          description: |
            è§†é¢‘ç ç‡ï¼Œå–å€¼å¿…é¡»å¤§äº 0ï¼Œå•ä½ä¸º bpsã€‚ä¾‹å¦‚è¾“å…¥åˆ†è¾¨ç‡ä¸º 360*640 æ—¶ï¼Œè¾“å‡ºæµçš„è¯¥å‚æ•°è®¾ç½®ä¸º 1200000 bpsã€‚

            çº¯éŸ³é¢‘æ··æµæ—¶ï¼Œæ¨èå¡«å†™ 1ã€‚æ”¯æŒæ··æµè¿‡ç¨‹ä¸­å®æ—¶æ›´æ–°ã€‚**ğŸ”å†æ¬¡è°ƒç”¨æœ¬æ¥å£ï¼Œå³å¯åŠ¨æ€æ›´æ–°è¯¥å‚æ•°**ã€‚
        VideoEncId:
          type: integer
          format: int32
          description: |
            è¾“å‡ºè§†é¢‘ç¼–ç ï¼š
            - 0ï¼šH264ï¼Œé»˜è®¤å€¼
            - 2ï¼šVP8
            - 3ï¼šH265
            - 4ï¼šH264 SVCï¼Œåˆ†å±‚è§†é¢‘ç¼–ç 

            è¯·æ³¨æ„ï¼š
            - **è¯¥å‚æ•°åœ¨å¼€å§‹æ··æµåï¼Œä¸æ”¯æŒåŠ¨æ€æ›´æ–°**ã€‚
            - æ”¯æŒä¸åŒè¾“å‡ºæµä½¿ç”¨ä¸åŒçš„è§†é¢‘ç¼–ç æ ¼å¼ï¼Œä¸Šé™ä¸ºä¸¤ç§ã€‚**ä½¿ç”¨è§†é¢‘å¤šç¼–ç æ ¼å¼æ—¶ï¼Œè¯·å…ˆè”ç³» ZEGO æŠ€æœ¯æ”¯æŒå¼€é€š mutil_encode åå°å‚æ•°**ã€‚
            - **å–å€¼ä¸º 2 æˆ–è€… 3 æ—¶**ï¼Œå¦‚éœ€ä½¿ç”¨ç›¸åº”çš„ç¼–ç æ ¼å¼ï¼Œè¯·è”ç³» ZEGO æŠ€æœ¯æ”¯æŒã€‚
            - **å–å€¼ä¸º 4 æ—¶ï¼Œéœ€è¦è”ç³» ZEGO æŠ€æœ¯æ”¯æŒå¼€é€š mutil_encode åå°å‚æ•°ã€å¹¶å¡«å†™ ExtraLayers å­—æ®µï¼ŒH264 SVC æ ¼å¼æ‰ä¼šç”Ÿæ•ˆ**ã€‚å¦‚æœæ··æµè¾“å‡ºè‡³ CDN ç›´æ’­æœåŠ¡ï¼Œè¾“å‡ºæµè‡ªåŠ¨é™çº§ä¸º H264 æ ¼å¼ã€‚
        Fps:
          type: integer
          format: int32
          description: |
            è§†é¢‘å¸§ç‡ï¼Œçº¯éŸ³é¢‘æ··æµæ—¶ï¼Œæ¨èå¡«å†™ 1ã€‚
            - **è¯¥å‚æ•°åœ¨å¼€å§‹æ··æµåï¼Œä¸æ”¯æŒåŠ¨æ€æ›´æ–°**ã€‚
            - **æ··æµè¾“å‡ºçš„æœ€å¤§å¸§ç‡é»˜è®¤é™åˆ¶åœ¨ 20 å¸§ä»¥å†…ï¼Œå¦‚æœéœ€è¦è¾“å‡ºæ›´å¤§å¸§ç‡ï¼Œè¯·è”ç³» ZEGO æŠ€æœ¯æ”¯æŒè¿›è¡Œé…ç½®**ã€‚
        Width:
          type: integer
          format: int
          description: |
            å®½ï¼ŒèŒƒå›´ä¸º [0, 3000]ï¼Œæ•°å€¼å¿…é¡»æ˜¯ 2 çš„å€æ•°ã€‚

            çº¯éŸ³é¢‘æ··æµæ—¶ï¼Œæ¨èå¡«å†™ 1ï¼Œæ”¯æŒæ··æµè¿‡ç¨‹ä¸­å®æ—¶æ›´æ–°ã€‚**ğŸ”å†æ¬¡è°ƒç”¨æœ¬æ¥å£ï¼Œå³å¯åŠ¨æ€æ›´æ–°è¯¥å‚æ•°**ã€‚
        Height:
          type: integer
          format: int
          description: |
            é«˜ï¼ŒèŒƒå›´ä¸º [0, 3000]ï¼Œæ•°å€¼å¿…é¡»æ˜¯ 2 çš„å€æ•°ã€‚

            çº¯éŸ³é¢‘æ··æµæ—¶ï¼Œæ¨èå¡«å†™ 1ï¼Œæ”¯æŒæ··æµè¿‡ç¨‹ä¸­å®æ—¶æ›´æ–°ã€‚**ğŸ”å†æ¬¡è°ƒç”¨æœ¬æ¥å£ï¼Œå³å¯åŠ¨æ€æ›´æ–°è¯¥å‚æ•°**ã€‚
        AudioCodec:
          type: integer
          format: int
          description: |
            éŸ³é¢‘ç¼–ç åŠé‡‡æ ·ç‡ã€‚å¦‚éœ€ä¿®æ”¹é‡‡æ ·ç‡ï¼Œè¯·è”ç³» ZEGO æŠ€æœ¯æ”¯æŒé…ç½®ï¼š
            - 0ï¼šHE-AACï¼Œé‡‡æ ·ç‡ï¼š44100 kHzï¼Œé»˜è®¤å€¼
            - 1ï¼šAAC-LCï¼Œé‡‡æ ·ç‡ï¼š44100 kHz
            - 2ï¼šMP3ï¼Œé‡‡æ ·ç‡ï¼š44100 kHz
            - 3ï¼šOPUSï¼Œé‡‡æ ·ç‡ï¼š48000 kHz

            > **æ³¨æ„**
            >
            > å¦‚æœä½¿ç”¨ CDN å½•åˆ¶ï¼ŒéŸ³é¢‘ç¼–ç è¯·é€‰æ‹© AAC-LCã€‚è¿™æ˜¯å› ä¸ºéƒ¨åˆ†æµè§ˆå™¨ï¼ˆå¦‚ Google Chrome å’Œ Microsoft Edgeï¼‰ä¸å…¼å®¹ HE-AAC éŸ³é¢‘ç¼–ç æ ¼å¼ï¼Œä»è€Œå¯¼è‡´å½•åˆ¶æ–‡ä»¶æ— æ³•æ’­æ”¾ã€‚
        AudioBitrate:
          type: integer
          format: int
          description: æ··æµè¾“å‡ºéŸ³é¢‘ç ç‡ï¼Œä¸å¡«æ—¶é»˜è®¤å€¼ä¸º 48000ï¼Œå•ä½ä¸º bpsã€‚
        SoundChannel:
          type: integer
          format: int
          description: |
            è¾“å‡ºéŸ³é¢‘å£°é“æ•°ï¼Œä¼˜å…ˆçº§æ¯”å…¨å±€å‚æ•°é«˜ï¼š
            - 1ï¼šå•å£°é“ï¼Œé»˜è®¤å€¼
            - 2ï¼šåŒå£°é“
        ExtraLayers:
          type: array
          required: [VideoBitrate]
          description: |
            åˆ†å±‚è§†é¢‘ç¼–ç çš„å„å±‚å‚æ•°ã€‚

            **å½“ VideoEncId å–å€¼ä¸º 4ï¼ˆH264 SVCï¼‰æ—¶ï¼Œè¯¥å­—æ®µå¿…å¡«ï¼Œä¸”é•¿åº¦å¿…é¡»ä¸º 1ã€‚**
          items:
            type: object
            properties:
              VideoBitrate:
                type: integer
                format: int
                description: |
                  åŸºæœ¬å±‚ï¼ˆå°åˆ†è¾¨ç‡ï¼‰çš„è§†é¢‘ç ç‡ã€‚

                  å–å€¼å¿…é¡»å¤§äº 0ï¼Œä¸€èˆ¬è®¾ç½®ä¸ºæ‰©å±•å±‚ï¼ˆå¤§åˆ†è¾¨ç‡ï¼‰è§†é¢‘ç ç‡çš„ 25%ï¼Œå•ä½ä¸º bpsã€‚
        LowBitrateHD:
          type: integer
          format: int
          description: |
            æ˜¯å¦å¼€å¯"é«˜æ¸…ä½ç "åŠŸèƒ½ï¼š
            - 0ï¼šé»˜è®¤å€¼ï¼Œä¸å¼€å¯
            - 1ï¼šå¼€å¯

            ç›®å‰"é«˜æ¸…ä½ç "åŠŸèƒ½éœ€è¦è”ç³» ZEGO æŠ€æœ¯æ”¯æŒå¼€é€šæƒé™ï¼Œä¸”ä»…åœ¨ VideoEncId å–å€¼ä¸º 3ï¼ˆH265ï¼‰æ—¶ç”Ÿæ•ˆã€‚
        TargetRoom:
          type: object
          required: [RoomId, UserId]
          description: |
            å°†è¾“å‡ºæµå¢åŠ åˆ°æŒ‡å®šæˆ¿é—´çš„æµåˆ—è¡¨ä¸­ï¼š<br/>
            - æ¯æ¡è¾“å‡ºæµåªæ”¯æŒåŠ å…¥ä¸€ä¸ªæˆ¿é—´ï¼Œä¸€æ—¦æ·»åŠ ï¼Œæ··æµè¿‡ç¨‹ä¸­ä¸æ”¯æŒåŠ¨æ€æ›´æ–°æˆ¿é—´ï¼Œä½†ä¸€ä¸ªæˆ¿é—´å¯ä»¥æœ‰å¤šæ¡è¾“å‡ºæµã€‚<br/>
            - å¼€å§‹æ··æµæ—¶ï¼Œè‹¥åŠ å…¥æˆ¿é—´å¤±è´¥ï¼Œåˆ™è¯¥æ··æµä»»åŠ¡å¤±è´¥ï¼Œéœ€å¼€å‘è€…é‡æ–°å‘èµ·æ··æµä»»åŠ¡ã€‚<br/>
            - æˆ¿é—´å…³é—­æ—¶ï¼Œæˆ¿é—´å†…æ‰€æœ‰æµçŠ¶æ€å°†å…³é—­ï¼Œä½†æ··æµä»»åŠ¡ä¸ä¼šåœæ­¢ã€‚<br/>
            - RoomId å’Œ UserId ä¸èƒ½ä¸ºç©ºã€‚
          properties:
            RoomId:
              type: string
              description: ç›®æ ‡æˆ¿é—´ IDï¼Œè‹¥æˆ¿é—´ ID ä¸å­˜åœ¨ï¼Œå°†æ·»åŠ å¤±è´¥ã€‚
            UserId:
              type: string
              description: å°†è¾“å‡ºæµå¢åŠ åˆ°ç›®æ ‡æˆ¿é—´æ—¶ï¼Œä½¿ç”¨çš„ç”¨æˆ· IDã€‚
    StartMixRequest:
      type: object
      required: [TaskId, UserId, MixInput, MixOutput]
      properties:
        TaskId:
          type: string
          description: |
            ä»»åŠ¡ IDï¼Œæ··æµä»»åŠ¡çš„å”¯ä¸€æ ‡è¯†ã€‚

            **é‡å¤è°ƒç”¨"å¼€å§‹æ··æµ"æ¥å£ï¼Œä¼ å…¥ç›¸åŒçš„ TaskIdï¼Œå¯ä»¥ç›´æ¥æ›´æ–°æ··æµä»»åŠ¡ä¿¡æ¯**ã€‚
          example: "2213699902971205739"
        UserId:
          type: string
          description: |
            å‘èµ·æ··æµä»»åŠ¡çš„ç”¨æˆ· IDï¼Œç”±å¼€å‘è€…è‡ªå®šä¹‰ã€‚

            **åŒä¸€ä¸ªä»»åŠ¡çš„ç”¨æˆ· ID éœ€è¦ä¸€è‡´ï¼Œä¸åŒä»»åŠ¡çš„ç”¨æˆ· ID éœ€è¦ä¿æŒä¸åŒ**ã€‚

            é€šè¿‡ UserId å¯ä»¥å®ç°æ··æµä»»åŠ¡çš„ç”¨æˆ·å½’å±ï¼Œä¹Ÿå°±æ˜¯è¯¥ç”¨æˆ·æ‰èƒ½æ›´æ–°æˆ–è€…åœæ­¢å¯¹åº” TaskId çš„æ··æµä»»åŠ¡ï¼Œè¯¥åŠŸèƒ½éœ€è¦è”ç³» ZEGO æŠ€æœ¯æ”¯æŒå¼€é€šã€‚
          example: "123"
        MixInput:
          type: array
          description: |
            è¾“å…¥æµä¿¡æ¯ï¼Œæ”¯æŒå¤šä¸ªï¼Œé»˜è®¤ä¸Šé™ä¸º 9ã€‚
            å¦‚æœæœ‰æ›´å¤šçš„éœ€æ±‚ï¼Œè¯·è”ç³» ZEGO æŠ€æœ¯æ”¯æŒå¤„ç†ã€‚
          items: { $ref: '#/components/schemas/MixInputItem' }
          example:
            - RectInfo:
                Bottom: 640
                Layer: 1
                Left: 0
                Right: 180
                Top: 0
                CornerRadius: 10
              SoundLevelId: 1
              StreamId: "stream1"
              Image:
                Url: "https://storage.zego.im/sdk-doc/Pics/Video_call/13763_1.png"
                DisplayMode: 0
              ContentControl: 2
              RenderMode: 0
              Volume: 100
              Label:
                Text: "Hello"
                Left: 10
                Top: 10
                Font:
                  FontType: 1
                  FontSize: 26
                  FontColor: 256
                  Transparency: 50
                  BorderColor: 0
            - RectInfo:
                Bottom: 640
                Layer: 2
                Left: 180
                Right: 360
                Top: 0
              SoundLevelId: 2
              StreamId: "stream2"
              ContentControl: 2
              RenderMode: 0
        MixOutput:
          type: array
          description: |
            è¾“å‡ºæµä¿¡æ¯ï¼šç›®å‰ 1 ä¸ªæ··æµä»»åŠ¡æœ€å¤šæ”¯æŒè¾“å‡º 4 è·¯ä¸åŒåˆ†è¾¨ç‡çš„è§†é¢‘æµã€‚<br/>
            - åŒä¸€æ··æµä»»åŠ¡è¾“å‡ºå¤šä¸ªä¸åŒåˆ†è¾¨ç‡çš„è§†é¢‘æµæ—¶ï¼Œå»ºè®®ç¬¬ä¸€ä¸ª Mixoutput ä¸­çš„åˆ†è¾¨ç‡ä¸ºæœ€å¤§åˆ†è¾¨ç‡ã€‚<br/>
            - åŒä¸€æ··æµä»»åŠ¡è¾“å‡ºå¤šä¸ªä¸åŒåˆ†è¾¨ç‡çš„è§†é¢‘æµæ—¶ï¼Œå…¶ä»–åˆ†è¾¨ç‡æŒ‰ç…§ç¬¬ä¸€ä¸ªåˆ†è¾¨ç‡è¿›è¡Œç­‰æ¯”ä¾‹ç¼©æ”¾è£å‰ªï¼Œå»ºè®®è¾“å‡ºç­‰æ¯”ä¾‹çš„ä¸åŒåˆ†è¾¨ç‡ã€‚<br/>
            - åŒä¸€æ··æµä»»åŠ¡è¾“å‡ºå¤šä¸ªä¸åŒåˆ†è¾¨ç‡çš„è§†é¢‘æµæ—¶ï¼Œå¦‚æœå¸§ç‡å‚æ•°è®¾ç½®ä¸ä¸€è‡´ï¼ŒæŒ‰ç…§ç¬¬ä¸€ä¸ª Mixoutput çš„å¸§ç‡è¿›è¡Œå¸§ç‡å¯¹é½ï¼Œå»ºè®®è®¾ç½®ç›¸åŒçš„å¸§ç‡ã€‚<br/>
            - å¦‚éœ€å®ç°ä¸€è·¯æ··æµä»»åŠ¡åŒæ—¶è¾“å‡ºå¤šä¸ªåˆ†è¾¨ç‡ï¼Œè¯·è”ç³» ZEGO æŠ€æœ¯æ”¯æŒå¼€é€š mutil_encode åå°å‚æ•°ã€‚<br/><br/>
            å½“è¾“å‡ºç›®æ ‡ä¸º URL æ ¼å¼æ—¶ï¼Œç›®å‰åªæ”¯æŒ RTMP URL æ ¼å¼ï¼š`rtmp://xxxxxxxx`ï¼Œä¸”ä¸èƒ½ä¼ å…¥ä¸¤ä¸ªç›¸åŒçš„æ··æµè¾“å‡ºçš„åœ°å€ã€‚
          items: { $ref: '#/components/schemas/MixOutputItem' }
          example:
            - StreamId: "stream3"
              VideoBitrate: 1200000
              Fps: 15
              Width: 360
              Height: 640
              AudioCodec: 0
              AudioBitrate: 48000
              SoundChannel: 2
              VideoEncId: 0
              ExtraLayers:
                - VideoBitrate: 1200000
              LowBitrateHD: 0
        Sequence:
          type: integer
          format: int
          description: |
            æ··æµè¯·æ±‚çš„åºåˆ—å·ï¼Œç”¨äºä¿è¯æ—¶åºï¼ŒåŒä¸ªä»»åŠ¡çš„å‚æ•°ä¿®æ”¹éœ€è¦ä¿è¯åºåˆ—å·çš„é€’å¢ã€‚ä¾‹å¦‚ï¼š"Sequence": 1ã€‚

            **å¦‚æœå¼€å¯äº†æ··æµä»»åŠ¡çš„æ—¶åºæ§åˆ¶ï¼ˆå¦‚æœ‰éœ€è¦ï¼Œè¯·è”ç³» ZEGO æŠ€æœ¯æ”¯æŒå¼€å¯ï¼‰ï¼Œæ­¤å‚æ•°å¿…å¡«ã€‚**
          example: 1
        RoomId:
          type: string
          description: æˆ¿é—´ IDã€‚
          example: "321"
        UserData:
          type: string
          description:  <p>è‡ªå®šä¹‰ç”¨æˆ·æ•°æ®ï¼Œä½¿ç”¨æ—¶éœ€è¦å¯¹æ­¤å‚æ•°å†…å®¹è¿›è¡Œ base64 ç¼–ç ã€‚é•¿åº¦é™åˆ¶ä¸º 4000 å­—èŠ‚ï¼Œå»ºè®®ä¸è¶…è¿‡ 850 å­—èŠ‚ã€‚</p><p>è‡ªå®šä¹‰çš„ç”¨æˆ·æ•°æ®å°†ä½œä¸º SEI ä¿¡æ¯ä¼ è¾“ç»™æ‹‰æµæ–¹ï¼Œæ‹‰æµæ–¹å¯é€šè¿‡ç›‘å¬å®¢æˆ·ç«¯çš„ <a href="https://doc-zh.zego.im/article/api?doc=Express_Video_SDK_API~objective-c_ios~protocol~ZegoEventHandler#on-player-sync-recv-sei-stream-id" target="_blank">onPlayerSyncRecvSEI</a> å›è°ƒè·å–è¯¥æ•°æ®ã€‚</p><p><b>ğŸ”å†æ¬¡è°ƒç”¨æœ¬æ¥å£ï¼Œå³å¯åŠ¨æ€æ›´æ–°è¯¥å‚æ•°ã€‚</b></p>
          example: "DoraTest"
        SoundLevel:
          type: integer
          format: int
          enum: [0,1]
          description: |
            > **æ³¨æ„**
            >
            > åœ¨è§†é¢‘åœºæ™¯ä¸­ï¼Œä¸å»ºè®®æ‰“å¼€å£°æµªå¼€å…³ï¼Œå¦åˆ™webç«¯æ‹‰HLSåè®®çš„æµå¯èƒ½ä¼šå‡ºç°å…¼å®¹æ€§é—®é¢˜
            <p>æ··æµå£°æµªï¼ŒæŒ‡æ··æµçš„éŸ³é‡å¤§å°ã€‚æ”¯æŒæ··æµè¿‡ç¨‹ä¸­å®æ—¶æ›´æ–°ã€‚</p><ul><li>0ï¼šä¸å¼€å¯ï¼Œé»˜è®¤å€¼ã€‚</li><li>1ï¼šå¼€å¯ã€‚</li></ul><p><b>ğŸ”å†æ¬¡è°ƒç”¨æœ¬æ¥å£ï¼Œå³å¯åŠ¨æ€æ›´æ–°è¯¥å‚æ•°ã€‚</b></p>
          example: 1
        BackgroundImage:
          type: string
          description: |
            èƒŒæ™¯å›¾ï¼Œæ”¯æŒ JPG å’Œ PNG æ ¼å¼ã€‚æ”¯æŒä»¥ä¸‹ 2 ç§ä½¿ç”¨æ–¹å¼ï¼š
            - URIï¼šå°†å›¾ç‰‡æä¾›ç»™ ZEGO æŠ€æœ¯æ”¯æŒè¿›è¡Œé…ç½®ï¼Œé…ç½®å®Œæˆåä¼šæä¾›å›¾ç‰‡ URIï¼Œä¾‹å¦‚ï¼špreset-id://xxx.jpg
            - URLï¼šæ”¯æŒ HTTP/HTTPS åè®®ã€‚åŒä¸€ä¸ª AppID ä¸‹ï¼Œæœ€å¤šæ”¯æŒ 20 ä¸ª URL åœ°å€ï¼›å·²ä½¿ç”¨çš„ URL åœ°å€ä¸æ”¯æŒåˆ é™¤ã€‚å¦‚æœéœ€è¦å˜æ›´å›¾ç‰‡ï¼Œå¼ºçƒˆå»ºè®®æ‚¨ç›´æ¥åŒåï¼ˆåŒä¸ª URLï¼‰æ›´æ–°å›¾ç‰‡æ–‡ä»¶ã€‚å›¾ç‰‡å¤§å°éœ€é™åˆ¶åœ¨ 5MB ä»¥å†…ï¼Œè¶…è¿‡ 5MB è®¾ç½®å°†ä¸ä¼šç”Ÿæ•ˆã€‚
            **ğŸ”å†æ¬¡è°ƒç”¨æœ¬æ¥å£ï¼Œå³å¯åŠ¨æ€æ›´æ–°è¯¥å‚æ•°**ã€‚
          example: "https://storage.zego.im/sdk-doc/Pics/Video_call/13763_1.png"
        BackGroundColorHex:
          type: string
          description: |
            æ··æµèƒŒæ™¯é¢œè‰²ï¼Œé¢œè‰²å€¼å¯¹åº” RGBA ä¸º 0xRRGGBBAAã€‚ç›®å‰ä¸æ”¯æŒè®¾ç½®èƒŒæ™¯è‰²çš„é€æ˜åº¦ï¼Œå¯ä»¥å°† 0xRRGGBBAA ä¸­çš„ AA è®¾ç½®ä¸º 00 å³å¯ã€‚ä¾‹å¦‚ï¼ŒRGB é¢œè‰²ä¸º #87CEFAï¼Œæ­¤å‚æ•°å¯¹åº”å–å€¼ä¸º 0x87CEFA00ã€‚

            **ğŸ”å†æ¬¡è°ƒç”¨æœ¬æ¥å£ï¼Œå³å¯åŠ¨æ€æ›´æ–°è¯¥å‚æ•°**ã€‚
          example: "0x87CEFA00"
        WaterMark:
          type: object
          description: æ°´å°é…ç½®ã€‚
          properties:
            Image:
              type: string
              description: |
                æ°´å°å›¾ç‰‡ï¼Œæ”¯æŒ JPG å’Œ PNG æ ¼å¼ã€‚ä½¿ç”¨æ–¹å¼åŒèƒŒæ™¯å›¾ BackgroundImageã€‚

                **ğŸ”å†æ¬¡è°ƒç”¨æœ¬æ¥å£ï¼Œå³å¯åŠ¨æ€æ›´æ–°è¯¥å‚æ•°**ã€‚
              example: "https://storage.zego.im/sdk-doc/Pics/Video_call/13763_1.png"
            RectInfo:
              $ref: '#/components/schemas/RectInfoWatermark'
              description: |
                æ°´å°ä½ç½®ä¿¡æ¯ã€‚

                **ğŸ”å†æ¬¡è°ƒç”¨æœ¬æ¥å£ï¼Œå³å¯åŠ¨æ€æ›´æ–°è¯¥å‚æ•°**ã€‚
              example:
                Top: 0
                Left: 0
                Bottom: 200
                Right: 150
        ByPass:
          type: integer
          format: int
          enum: [0,1]
          description: |
            å•æµé€ä¼ å¼€å…³ï¼Œå³è¾“å…¥æµå°±ä¸€ä¸ªæ—¶æ˜¯å¦æŒ‰è¾“å‡ºå‚æ•°é‡æ–°ç¼–ç ï¼Œè¯¥åŠŸèƒ½éœ€è¦è”ç³» ZEGO æŠ€æœ¯æ”¯æŒå¼€é€šï¼š
            - 0ï¼šä¸å¯ç”¨ï¼Œé»˜è®¤å€¼
            - 1ï¼šå¯ç”¨
          example: 1
        SoundChannel:
          type: integer
          format: int
          enum: [1,2]
          description: |
            è¾“å‡ºéŸ³é¢‘å£°é“æ•°ï¼Œå½“æ²¡æœ‰æŒ‡å®šè¾“å‡ºæµæ—¶ä½¿ç”¨è¯¥é…ç½®ï¼š
            - 1ï¼šå•å£°é“ï¼Œé»˜è®¤å€¼
            - 2ï¼šåŒå£°é“
          example: 2
        CheckImageMode:
          type: integer
          format: int
          enum: [0,1,2]
          description: |
            æ§åˆ¶èƒŒæ™¯å›¾ï¼ˆBackgroundImageï¼‰ã€è¾“å…¥æµå ä½å›¾ï¼ˆMixInput.Image.Urlï¼‰ã€æ°´å°å›¾ç‰‡ï¼ˆWaterMark.Imageï¼‰ç­‰ 3 ä¸ªå›¾ç‰‡å‚æ•°æ ¡éªŒå¤±è´¥æ—¶ï¼Œèƒ½å¦æ­£å¸¸å‘èµ·æ··æµä»»åŠ¡ï¼š
            - 0ï¼šä¸¥æ ¼æ ¡éªŒ 3 ä¸ªå›¾ç‰‡å‚æ•°çš„é™åˆ¶æ¡ä»¶ï¼Œå³å¿…é¡»æ»¡è¶³å‚æ•°åŸæœ‰çš„ "æ”¯æŒåè®®å’Œæ ¼å¼"ã€"å›¾ç‰‡å¤§å°"ã€"å›¾ç‰‡èµ„æºè¯·æ±‚æˆåŠŸ" ç­‰è§„åˆ™ï¼Œæ‰èƒ½æ­£å¸¸å‘èµ·æ··æµï¼Œé»˜è®¤å€¼
            - 1ï¼šä»…æ ¡éªŒ 3 ä¸ªå›¾ç‰‡å‚æ•°çš„å›¾ç‰‡è·¯å¾„ URI/URL æ ¼å¼ï¼Œå³å›¾ç‰‡è·¯å¾„æ ¼å¼æ­£ç¡®ã€ä½†å›¾ç‰‡èµ„æºè¯·æ±‚å¤±è´¥ã€æˆ–å›¾ç‰‡å¤§å°è¶…å‡ºé™åˆ¶æ—¶ï¼Œä»èƒ½æ­£å¸¸å‘èµ·æ··æµ
            - 2ï¼šä¸æ ¡éªŒ 3 ä¸ªå›¾ç‰‡å‚æ•°çš„ä»»ä½•é™åˆ¶æ¡ä»¶ï¼Œå³å›¾ç‰‡è·¯å¾„æ ¼å¼é”™è¯¯ã€å›¾ç‰‡èµ„æºè¯·æ±‚å¤±è´¥ã€æˆ–å›¾ç‰‡å¤§å°è¶…å‡ºé™åˆ¶æ—¶ï¼Œä»èƒ½æ­£å¸¸å‘èµ·æ··æµ

            è¯¥å‚æ•°ä»…å¯¹å›¾ç‰‡å‚æ•°è®¾ç½®é”™è¯¯æ—¶ã€èƒ½å¦æ­£å¸¸å‘èµ·æ··æµä»»åŠ¡æœ‰å½±å“ï¼›å›¾ç‰‡æœ¬èº«æ˜¯å¦èƒ½æ­£å¸¸ç”Ÿæ•ˆï¼Œä»éœ€æ»¡è¶³å¯¹åº”å‚æ•°çš„æ‰€æœ‰è§„åˆ™ã€‚
          example: 0
        ExPara:
          type: array
          description: æ‹“å±•å‚æ•°ï¼Œæ ¹æ®å®é™…æƒ…å†µå¡«å…¥ï¼Œå¸¸è§„ä»»åŠ¡å¯ä¸å¡«ã€‚
          items:
            type: object
            properties:
              Key:
                type: string
                description: key å€¼ã€‚
              Value:
                type: string
                description: value å€¼ã€‚
          example:
            - Key: "video_encode"
              Value: "h264"
            - Key: "sei_mode"
              Value: "1"
            - Key: "mixowner_userid"
              Value: "[\"456\"]"
        AlignmentType:
          type: integer
          format: int
          description: |
            æ§åˆ¶æ’­æ”¾çš„å®æ—¶éŸ³è§†é¢‘æµæ˜¯å¦éœ€è¦æŒ‰ç…§ NTPï¼ˆç½‘ç»œæ—¶é—´ï¼‰ç²¾å‡†å¯¹é½åè¿›è¡Œæ··æµã€‚**æ­¤å‚æ•°ä¸»è¦åº”ç”¨äº KTV åœºæ™¯ä¸­ï¼Œä¼šå¢åŠ ä¸€å®šçš„æ··æµå»¶æ—¶ï¼›é KTV ç±»ä¼¼åœºæ™¯ï¼Œä¸å»ºè®®è®¾ç½®æ­¤å‚æ•°**ã€‚
            - 0ï¼šä¸å¯¹é½ï¼Œé»˜è®¤å€¼
            - 1ï¼šæŒ‡å®šæµå¯¹é½
            - 2ï¼šæ‰€æœ‰æµå¼ºåˆ¶å¯¹é½
          example: 0
        RecvBufferLevel:
          type: integer
          format: int
          description: ç”¨äºæ§åˆ¶æ‹‰æµæœ€å°ç¼“å†²æ—¶é—´(å•ä½ï¼šæ¯«ç§’)ï¼Œå–å€¼èŒƒå›´ [0,4000]ï¼Œé»˜è®¤æœ€å°ç¼“å†²æ—¶é—´ä¸º0ã€‚
          example: 0
        WaitVideoInput:
          type: integer
          format: int
          description: |
            æ˜¯å¦æ‹‰åˆ°è§†é¢‘æ•°æ®åæ‰å¼€å§‹æ¨æµï¼š
            - 0ï¼šå¦ï¼ˆé»˜è®¤ï¼‰
            - 1ï¼šæ˜¯ï¼Œå¦‚æœ10s å†…ä¸èƒ½æ‹‰åˆ°è§†é¢‘æ•°æ®ï¼Œæ··æµä»»åŠ¡å°†è‡ªåŠ¨ç»“æŸ
          example: 0
    StartMixResponse:
      type: object
      properties:
        Code:
          type: integer
          format: int
          description: |
            ä»¥ä¸‹ä»…åˆ—å‡ºäº†æ¥å£ä¸šåŠ¡é€»è¾‘ç›¸å…³çš„éƒ¨åˆ†è¿”å›ç ï¼Œå®Œæ•´è¿”å›ç è¯·å‚è€ƒ [å…¨å±€è¿”å›ç ](/real-time-video-server/api-reference/return-codes)ã€‚

            <table>

            <tbody><tr>
            <th>è¿”å›ç </th>
            <th>è¯´æ˜</th>
            <th>å¤„ç†å»ºè®®</th>
            </tr>
            <tr>
            <td>110200002</td>
            <td>è¾“å…¥å‚æ•°é”™è¯¯ã€‚</td>
            <td>è¯·å‚è€ƒ Message ä¿¡æ¯å¤„ç†ã€‚</td>
            </tr>
            <tr>
            <td>110200003</td>
            <td>é‰´æƒå¤±è´¥ã€‚</td>
            <td>è¯·ç¡®è®¤é‰´æƒä¿¡æ¯æ˜¯å¦æ­£ç¡®æˆ–è¿‡æœŸï¼Œè¯¦æƒ…è¯·å‚è€ƒ <a href="!Making_API_Requests/Making_API_Requests#5" target="_blank">è°ƒç”¨æ–¹å¼</a> ä¸­çš„ "3 ç­¾åæœºåˆ¶"ã€‚</td>
            </tr>
            <tr>
            <td>110200150</td>
            <td>æ··æµçš„è¾“å…¥æµä¸å­˜åœ¨ã€‚</td>
            <td>è¯·ç¡®è®¤è¾“å…¥æµ StreamId æˆ– StreamUrl æ˜¯å¦å­˜åœ¨ã€‚å¦‚ä¸å­˜åœ¨ï¼Œç§»é™¤è¯¥æ¡ä¸å­˜åœ¨çš„æµå¹¶é‡è¯•ï¼›æˆ–å¯¹è¯¥æ¡ä¸å­˜åœ¨çš„æµè¿›è¡Œæ¨æµå¹¶é‡è¯•ã€‚</td>
            </tr>
            <tr>
            <td>110200151</td>
            <td>æ··æµä»»åŠ¡å¤±è´¥ã€‚</td>
            <td>è¯·é‡è¯•ï¼Œæˆ–è”ç³» ZEGO æŠ€æœ¯æ”¯æŒå¤„ç†ã€‚</td>
            </tr>
            <tr>
            <td>110200157</td>
            <td>æ··æµæƒé™æœªå¼€ã€‚</td>
            <td>è¯·ç¡®è®¤å½“å‰ä½¿ç”¨çš„ AppId æ‰€å±é¡¹ç›®ï¼Œæ˜¯å¦åœ¨ <a href="https://console.zego.im/" target="_blank">ZEGO æ§åˆ¶å°</a> ä¸Šå¼€å¯äº†æ··æµæœåŠ¡çš„æƒé™ï¼Œè¯¦æƒ…è¯·å‚è€ƒ <a href="/console/service-configuration/enable-stream-mixing-service" target="_blank">æ§åˆ¶å° - æœåŠ¡é…ç½® - æ··æµ</a>ã€‚</td>
            </tr>
            <tr>
            <td>110200158</td>
            <td>æ··æµè¾“å…¥æµæ¡æ•°è¿‡é™ã€‚</td>
            <td>è¾“å…¥æµæ”¯æŒå¤šæ¡ï¼Œé»˜è®¤ä¸Šé™ä¸º 9 æ¡ï¼Œç¡®è®¤æ˜¯å¦è¶…å‡ºé™åˆ¶ã€‚</td>
            </tr>
            <tr>
            <td>110200175</td>
            <td>è¾“å…¥æµé‡å¤ã€‚</td>
            <td>è¯·ç¡®è®¤ MixInput å‚æ•°ä¸­ï¼Œå„è¾“å…¥æµ StreamId æˆ– StreamUrl æ˜¯å¦æ˜¯å…¨å±€å”¯ä¸€ã€‚</td>
            </tr>
            <tr>
            <td>110200184</td>
            <td>æ··æµå¼€å§‹å‚æ•°è§£æå¤±è´¥ã€‚</td>
            <td>è¯·æ ¹æ®è¿”å›æç¤ºä¿¡æ¯ï¼Œæ£€æŸ¥å‚æ•°å†…å®¹æ˜¯å¦åˆæ³•ã€‚</td>
            </tr>
            <tr>
            <td>110200197</td>
            <td>æ·»åŠ æµåˆ°ç›®æ ‡æˆ¿é—´å¤±è´¥ã€‚</td>
            <td>æ£€æŸ¥ç›®æ ‡æˆ¿é—´æ˜¯å¦å­˜åœ¨ã€‚</td>
            </tr>
            </tbody></table>
          example: 0
        Message:
          type: string
          description: æ“ä½œç»“æœæè¿°ã€‚
          example: "success"
        RequestId:
          type: string
          description: è¯·æ±‚ IDã€‚
          example: "8472822294336370476"
        Data:
          type: object
          description: å“åº”æ•°æ®ã€‚
          properties:
            UserId:
              type: string
              description: å‘èµ·æ··æµä»»åŠ¡çš„ç”¨æˆ· IDã€‚
              example: "123"
            Sequence:
              type: integer
              format: int32
              description: åºåˆ—å·ã€‚
              example: 1
            RoomId:
              type: string
              description: æˆ¿é—´ IDã€‚
              example: "321"
            PlayInfo:
              type: array
              description: æ’­æ”¾ä¿¡æ¯ã€‚
              items:
                type: object
                properties:
                  StreamId:
                    type: string
                    description: è¾“å‡ºæµçš„æµ IDã€‚
                    example: "test"
                  RTMP:
                    type: string
                    description: RTMP åè®®å¯¹åº”çš„ CDN æ’­æ”¾åœ°å€ï¼ˆå¦‚æœæŒ‡å®šæ··æµè¾“å‡ºåœ°å€æ˜¯ CDN å¹¶ä¸”é…ç½®äº†è¿™ä¸ªåè®®çš„æ‹‰æµåŸŸåï¼‰ã€‚
                    example: "rtmp://domain/appname/test"
                  HLS:
                    type: string
                    description: HLS åè®®å¯¹åº”çš„ CDN æ’­æ”¾åœ°å€ï¼ˆå¦‚æœæŒ‡å®šæ··æµè¾“å‡ºåœ°å€æ˜¯ CDN å¹¶ä¸”é…ç½®äº†è¿™ä¸ªåè®®çš„æ‹‰æµåŸŸåï¼‰ã€‚
                    example: "http://domain/appname/test/playlist.m3u8"
                  FLV:
                    type: string
                    description: HTTP-FLV åè®®å¯¹åº”çš„ CDN æ’­æ”¾åœ°å€ï¼ˆå¦‚æœæŒ‡å®šæ··æµè¾“å‡ºåœ°å€æ˜¯ CDN å¹¶ä¸”é…ç½®äº†è¿™ä¸ªåè®®çš„æ‹‰æµåŸŸåï¼‰ã€‚
                    example: "http://domain/appname/test.flv"
                  Status:
                    type: integer
                    description: æµçŠ¶æ€ã€‚
                    example: 0
                  UserName:
                    type: string
                    description: ç”¨æˆ·åç§°ã€‚
                    example: ""

