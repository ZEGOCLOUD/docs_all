






# 功能总览



- - -



ZEGO SDK 拥有全面覆盖全球重点区域的网络节点，提供丰富的 API，为多端提供清晰稳定的实时语音视频云服务。

API 返回的错误码请参考：https://doc-zh.zego.im/article/4378。

以下为基本的 API 简要介绍。







## 初始化相关的前置功能

 | 方法名 | 描述 | 
 | --- | --- | 
 | [CreateEngine](./class.mdx#createengine-zegoexpressengine-class) | 创建 ZegoExpressEngine 单例对象并初始化 SDK。
[DestroyEngine](./class.mdx#destroyengine-zegoexpressengine-class) | 销毁 ZegoExpressEngine 单例对象并反初始化 SDK。
[GetEngine](./class.mdx#getengine-zegoexpressengine-class) | 获取引擎单例对象。
[SetEngineConfig](./class.mdx#setengineconfig-zegoexpressengine-class) | 设置引擎进阶配置。
[SetLogConfig](./class.mdx#setlogconfig-zegoexpressengine-class) | 设置日志配置。
[SetRoomMode](./class.mdx#setroommode-zegoexpressengine-class) | 设置房间模式。
[GetVersion](./class.mdx#getversion-zegoexpressengine-class) | 获取 SDK 版本号。
[UploadLog](./class.mdx#uploadlog-zegoexpressengine-class) | 上传日志到 ZEGO 服务器。
[SubmitLog](./class.mdx#submitlog-zegoexpressengine-class) | 上传日志到 ZEGO 服务器。
[EnableDebugAssistant](./class.mdx#enabledebugassistant-zegoexpressengine-class) | 开启调试助手。注意，请勿在线上版本开启此功能！仅在开发阶段使用！
[OnDebugError](./class.mdx#ondebugerror-izegoeventhandler-class) | 调试错误信息回调。
[OnEngineStateUpdate](./class.mdx#onenginestateupdate-izegoeventhandler-class) | 音视频引擎状态更新的回调通知。 | 

## 房间功能

 | 方法名 | 描述 | 
 | --- | --- | 
 | [LoginRoom](./class.mdx#loginroom-zegoexpressengine-class) | 使用配置进阶属性的方式登录房间，推拉流前必须登录房间。
[LogoutRoom](./class.mdx#logoutroom-zegoexpressengine-class) | 退出房间。
[LogoutRoom](./class.mdx#logoutroom2-zegoexpressengine-class) | 退出指定房间 ID 的房间。
[SwitchRoom](./class.mdx#switchroom-zegoexpressengine-class) | 使用配置进阶属性的方式切换房间。
[SetRoomExtraInfo](./class.mdx#setroomextrainfo-zegoexpressengine-class) | 设置房间附加消息。
[OnRoomStateUpdate](./class.mdx#onroomstateupdate-izegoeventhandler-class) | 房间状态变化通知。
[OnRoomUserUpdate](./class.mdx#onroomuserupdate-izegoeventhandler-class) | 房间内其他用户增加或减少的回调通知。
[OnRoomOnlineUserCountUpdate](./class.mdx#onroomonlineusercountupdate-izegoeventhandler-class) | 房间内当前在线用户数量回调。
[OnRoomStreamUpdate](./class.mdx#onroomstreamupdate-izegoeventhandler-class) | 相同房间内其他用户推的流增加或减少的通知。
[OnRoomStreamExtraInfoUpdate](./class.mdx#onroomstreamextrainfoupdate-izegoeventhandler-class) | 房间内流附加信息更新通知。
[OnRoomExtraInfoUpdate](./class.mdx#onroomextrainfoupdate-izegoeventhandler-class) | 房间附加信息更新通知。 | 

## 推流功能

 | 方法名 | 描述 | 
 | --- | --- | 
 | [StartPublishingStream](./class.mdx#startpublishingstream-zegoexpressengine-class) | 开始推流，可选择推第二路流。
[StartPublishingStream](./class.mdx#startpublishingstream2-zegoexpressengine-class) | 开始推流，支持多房间模式
[StopPublishingStream](./class.mdx#stoppublishingstream-zegoexpressengine-class) | 停止推流，可停止指定通道的音视频流。
[SetStreamExtraInfo](./class.mdx#setstreamextrainfo-zegoexpressengine-class) | 设置指定推流通道的流附加信息。
[StartPreview](./class.mdx#startpreview-zegoexpressengine-class) | 启动/更新本地预览，支持设置其他通道的推流。
[StopPreview](./class.mdx#stoppreview-zegoexpressengine-class) | 停止本地预览，支持设置其他通道的推流
[SetVideoConfig](./class.mdx#setvideoconfig-zegoexpressengine-class) | 设置视频配置，支持设置其他通道的推流。
[GetVideoConfig](./class.mdx#getvideoconfig-zegoexpressengine-class) | 获取当前视频配置，支持设置其他通道的推流
[SetVideoMirrorMode](./class.mdx#setvideomirrormode-zegoexpressengine-class) | 设置镜像模式，支持设置其他通道的推流。
[SetAppOrientation](./class.mdx#setapporientation-zegoexpressengine-class) | 设置采集视频的朝向，支持设置其他通道的推流。
[SetAudioConfig](./class.mdx#setaudioconfig-zegoexpressengine-class) | 设置指定推流通道的音频质量配置。
[GetAudioConfig](./class.mdx#getaudioconfig-zegoexpressengine-class) | 获取当前音频质量配置。
[MutePublishStreamAudio](./class.mdx#mutepublishstreamaudio-zegoexpressengine-class) | 停止或恢复发送指定推流通道的音频流。
[MutePublishStreamVideo](./class.mdx#mutepublishstreamvideo-zegoexpressengine-class) | 停止或恢复发送指定推流通道的视频流。
[EnableTrafficControl](./class.mdx#enabletrafficcontrol-zegoexpressengine-class) | 开始或停止流量控制。
[SetMinVideoBitrateForTrafficControl](./class.mdx#setminvideobitratefortrafficcontrol-zegoexpressengine-class) | 设置流量控制的最低视频码率阈值。
[SetCaptureVolume](./class.mdx#setcapturevolume-zegoexpressengine-class) | 设置推流端采集音量。
[SetAudioCaptureStereoMode](./class.mdx#setaudiocapturestereomode-zegoexpressengine-class) | 设置音频采集双声道模式。
[AddPublishCdnUrl](./class.mdx#addpublishcdnurl-zegoexpressengine-class) | 增加转推至 CDN 的 URL。
[RemovePublishCdnUrl](./class.mdx#removepublishcdnurl-zegoexpressengine-class) | 删除转推至 CDN 的 URL。
[EnablePublishDirectToCDN](./class.mdx#enablepublishdirecttocdn-zegoexpressengine-class) | 是否直接推流到 CDN（不经过 ZEGO RTC 服务器）, 支持设置其他通道的推流。
[SendSEI](./class.mdx#sendsei-zegoexpressengine-class) | 指定推流通道号，发送媒体增强补充信息。
[EnableHardwareEncoder](./class.mdx#enablehardwareencoder-zegoexpressengine-class) | 开/关硬件编码。
[SetCapturePipelineScaleMode](./class.mdx#setcapturepipelinescalemode-zegoexpressengine-class) | 设置采集缩放时机，视频数据是采集的时候立即缩放还是编码时才进行缩放。
[OnPublisherStateUpdate](./class.mdx#onpublisherstateupdate-izegoeventhandler-class) | 推流状态回调。
[OnPublisherQualityUpdate](./class.mdx#onpublisherqualityupdate-izegoeventhandler-class) | 推流质量回调。
[OnPublisherCapturedAudioFirstFrame](./class.mdx#onpublishercapturedaudiofirstframe-izegoeventhandler-class) | 音频采集首帧回调接口。
[OnPublisherCapturedVideoFirstFrame](./class.mdx#onpublishercapturedvideofirstframe-izegoeventhandler-class) | 视频采集首帧回调接口。
[OnPublisherVideoSizeChanged](./class.mdx#onpublishervideosizechanged-izegoeventhandler-class) | 采集视频大小变更回调。
[OnPublisherRelayCDNStateUpdate](./class.mdx#onpublisherrelaycdnstateupdate-izegoeventhandler-class) | 添加/删除转推 CDN 地址状态回调。 | 

## 拉流功能

 | 方法名 | 描述 | 
 | --- | --- | 
 | [StartPlayingStream](./class.mdx#startplayingstream-zegoexpressengine-class) | 开始拉流（从 ZEGO RTC 服务器或第三方 CDN），支持多房间模式。
[StopPlayingStream](./class.mdx#stopplayingstream-zegoexpressengine-class) | 停止拉流。
[SetPlayVolume](./class.mdx#setplayvolume-zegoexpressengine-class) | 设置拉流音量。
[MutePlayStreamAudio](./class.mdx#muteplaystreamaudio-zegoexpressengine-class) | 拉流是否可接收指定音频数据。
[MutePlayStreamVideo](./class.mdx#muteplaystreamvideo-zegoexpressengine-class) | 拉流是否可接收指定视频数据。
[EnableHardwareDecoder](./class.mdx#enablehardwaredecoder-zegoexpressengine-class) | 开/关硬件解码。
[EnableCheckPoc](./class.mdx#enablecheckpoc-zegoexpressengine-class) | 开/关帧顺序检测。
[OnPlayerStateUpdate](./class.mdx#onplayerstateupdate-izegoeventhandler-class) | 拉流状态变更回调。
[OnPlayerQualityUpdate](./class.mdx#onplayerqualityupdate-izegoeventhandler-class) | 拉流质量回调。
[OnPlayerMediaEvent](./class.mdx#onplayermediaevent-izegoeventhandler-class) | 拉流媒体事件回调。
[OnPlayerRecvAudioFirstFrame](./class.mdx#onplayerrecvaudiofirstframe-izegoeventhandler-class) | 拉流端音频接收首帧回调。
[OnPlayerRecvVideoFirstFrame](./class.mdx#onplayerrecvvideofirstframe-izegoeventhandler-class) | 拉流端视频接收首帧回调。
[OnPlayerRenderVideoFirstFrame](./class.mdx#onplayerrendervideofirstframe-izegoeventhandler-class) | 拉流端渲染完视频首帧回调。
[OnPlayerVideoSizeChanged](./class.mdx#onplayervideosizechanged-izegoeventhandler-class) | 拉流分辨率变更通知。
[OnPlayerRecvSEI](./class.mdx#onplayerrecvsei-izegoeventhandler-class) | 收到远端流的 SEI 内容。 | 

## 信令消息功能

 | 方法名 | 描述 | 
 | --- | --- | 
 | [SendBroadcastMessage](./class.mdx#sendbroadcastmessage-zegoexpressengine-class) | 发送房间广播消息。
[SendBarrageMessage](./class.mdx#sendbarragemessage-zegoexpressengine-class) | 发送房间弹幕消息。
[SendCustomCommand](./class.mdx#sendcustomcommand-zegoexpressengine-class) | 发送自定义信令。
[OnIMRecvBroadcastMessage](./class.mdx#onimrecvbroadcastmessage-izegoeventhandler-class) | 接收房间广播消息通知。
[OnIMRecvBarrageMessage](./class.mdx#onimrecvbarragemessage-izegoeventhandler-class) | 接收房间弹幕消息通知。
[OnIMRecvCustomCommand](./class.mdx#onimrecvcustomcommand-izegoeventhandler-class) | 接收自定义信令通知。 | 

## 混流功能

 | 方法名 | 描述 | 
 | --- | --- | 
 | [StartMixerTask](./class.mdx#startmixertask-zegoexpressengine-class) | 开始混流任务。
[StopMixerTask](./class.mdx#stopmixertask-zegoexpressengine-class) | 停止混流任务。
[OnMixerRelayCDNStateUpdate](./class.mdx#onmixerrelaycdnstateupdate-izegoeventhandler-class) | 混流转推 CDN 状态更新通知。
[OnMixerSoundLevelUpdate](./class.mdx#onmixersoundlevelupdate-izegoeventhandler-class) | 混流中的每条单流的声浪更新通知。 | 

## 音视频前处理

 | 方法名 | 描述 | 
 | --- | --- | 
 | [EnableAEC](./class.mdx#enableaec-zegoexpressengine-class) | 是否开启回声消除。
[SetAECMode](./class.mdx#setaecmode-zegoexpressengine-class) | 设置回声消除模式
[EnableAGC](./class.mdx#enableagc-zegoexpressengine-class) | 开/关自动增益控制
[EnableANS](./class.mdx#enableans-zegoexpressengine-class) | 开/关噪声抑制
[EnableTransientANS](./class.mdx#enabletransientans-zegoexpressengine-class) | 开/关瞬态噪声抑制
[SetANSMode](./class.mdx#setansmode-zegoexpressengine-class) | 设置音频噪声抑制模式 | 

## 媒体播放器功能

 | 方法名 | 描述 | 
 | --- | --- | 
 | [CreateMediaPlayer](./class.mdx#createmediaplayer-zegoexpressengine-class) | 创建媒体播放器实例对象。
[DestroyMediaPlayer](./class.mdx#destroymediaplayer-zegoexpressengine-class) | 销毁媒体播放器实例对象。 | 

## 录制功能

 | 方法名 | 描述 | 
 | --- | --- | 
 | [StartRecordingCapturedData](./class.mdx#startrecordingcaptureddata-zegoexpressengine-class) | 开始本地录制，直接将音视频数据录制到本地文件。
[StopRecordingCapturedData](./class.mdx#stoprecordingcaptureddata-zegoexpressengine-class) | 结束录制本端音频或音视频。
[OnCapturedDataRecordStateUpdate](./class.mdx#oncaptureddatarecordstateupdate-izegoeventhandler-class) | 本地录制的状态更新回调，当录制过程状态变化时触发。
[OnCapturedDataRecordProgressUpdate](./class.mdx#oncaptureddatarecordprogressupdate-izegoeventhandler-class) | 录制进度更新回调。 | 

## 设备管理

 | 方法名 | 描述 | 
 | --- | --- | 
 | [MuteMicrophone](./class.mdx#mutemicrophone-zegoexpressengine-class) | 设置是否静音（关闭麦克风）。
[IsMicrophoneMuted](./class.mdx#ismicrophonemuted-zegoexpressengine-class) | 检查麦克风是否设置为静音。
[MuteSpeaker](./class.mdx#mutespeaker-zegoexpressengine-class) | 设置是否静音（关闭音频输出）。
[IsSpeakerMuted](./class.mdx#isspeakermuted-zegoexpressengine-class) | 检查音频输出是否静音。
[GetAudioDeviceList](./class.mdx#getaudiodevicelist-zegoexpressengine-class) | 获取音频设备列表
[UseAudioDevice](./class.mdx#useaudiodevice-zegoexpressengine-class) | 选择使用某个音频设备
[EnableAudioCaptureDevice](./class.mdx#enableaudiocapturedevice-zegoexpressengine-class) | 开/关音频采集设备。
[EnableCamera](./class.mdx#enablecamera-zegoexpressengine-class) | 开/关摄像头，支持设置其他通道的推流。
[UseFrontCamera](./class.mdx#usefrontcamera-zegoexpressengine-class) | 切换前后摄像头，支持指定推流通道。
[UseVideoDevice](./class.mdx#usevideodevice-zegoexpressengine-class) | 选择使用某个视频设备，支持设置指定推流通道
[GetVideoDeviceList](./class.mdx#getvideodevicelist-zegoexpressengine-class) | 获取视频设备列表
[StartSoundLevelMonitor](./class.mdx#startsoundlevelmonitor-zegoexpressengine-class) | 启动声浪监控，支持设置监听间隔。
[StartSoundLevelMonitor](./class.mdx#startsoundlevelmonitor2-zegoexpressengine-class) | 启动声浪监控，支持开启进阶功能。
[StopSoundLevelMonitor](./class.mdx#stopsoundlevelmonitor-zegoexpressengine-class) | 停止声浪监控。
[StartAudioSpectrumMonitor](./class.mdx#startaudiospectrummonitor-zegoexpressengine-class) | 启动音频频谱监控，支持设置监听间隔。
[StopAudioSpectrumMonitor](./class.mdx#stopaudiospectrummonitor-zegoexpressengine-class) | 停止音频频谱监控。
[EnableHeadphoneMonitor](./class.mdx#enableheadphonemonitor-zegoexpressengine-class) | 开启/关闭 耳返。
[SetHeadphoneMonitorVolume](./class.mdx#setheadphonemonitorvolume-zegoexpressengine-class) | 设置耳返音量。
[OnCapturedSoundLevelUpdate](./class.mdx#oncapturedsoundlevelupdate-izegoeventhandler-class) | 本地采集音频声浪回调。
[OnRemoteSoundLevelUpdate](./class.mdx#onremotesoundlevelupdate-izegoeventhandler-class) | 远端拉流音频声浪回调。
[OnCapturedAudioSpectrumUpdate](./class.mdx#oncapturedaudiospectrumupdate-izegoeventhandler-class) | 本地采集音频频谱回调。
[OnRemoteAudioSpectrumUpdate](./class.mdx#onremoteaudiospectrumupdate-izegoeventhandler-class) | 远端拉流音频频谱回调。
[OnLocalDeviceExceptionOccurred](./class.mdx#onlocaldeviceexceptionoccurred-izegoeventhandler-class) | 本地设备异常通知。
[OnRemoteCameraStateUpdate](./class.mdx#onremotecamerastateupdate-izegoeventhandler-class) | 远端摄像头设备状态通知。
[OnRemoteMicStateUpdate](./class.mdx#onremotemicstateupdate-izegoeventhandler-class) | 远端麦克风设备状态通知。 | 

## 自定义视频采集和渲染

 | 方法名 | 描述 | 
 | --- | --- | 
 | [EnableCustomVideoRender](./class.mdx#enablecustomvideorender-zegoexpressengine-class) | 开始或停止自定义视频渲染。
[EnableCustomVideoCapture](./class.mdx#enablecustomvideocapture-zegoexpressengine-class) | 开始或停止自定义视频采集，支持设置其他通道的推流。
[SendCustomVideoCaptureRawData](./class.mdx#sendcustomvideocapturerawdata-zegoexpressengine-class) | 给 SDK 发送自定义采集的视频帧原始数据，支持其他路推流。
[SendCustomVideoCaptureRawData](./class.mdx#sendcustomvideocapturerawdata2-zegoexpressengine-class) | 给 SDK 发送自定义采集的视频帧原始数据，支持其他路推流
[OnCustomVideoCaptureStart](./class.mdx#oncustomvideocapturestart-izegoeventhandler-class) | 自定义视频采集开始的通知。
[OnCustomVideoCaptureStop](./class.mdx#oncustomvideocapturestop-izegoeventhandler-class) | 自定义视频采集结束的通知。
[OnCapturedVideoFrameRawData](./class.mdx#oncapturedvideoframerawdata-izegoeventhandler-class) | 开启自定义视频渲染时，本地预览采集的原始视频帧数据回调。
[OnRemoteVideoFrameRawData](./class.mdx#onremotevideoframerawdata-izegoeventhandler-class) | 开启自定义视频渲染时，远端拉流原始视频帧数据回调，通过 streamID 区分不同的流。
[EnableCustomVideoProcessing](./class.mdx#enablecustomvideoprocessing-zegoexpressengine-class) | 自定义视频前处理配置开关，支持指定推流通道号。 | 

## 自定义音频采集和渲染

 | 方法名 | 描述 | 
 | --- | --- | 
 | [StartAudioDataObserver](./class.mdx#startaudiodataobserver-zegoexpressengine-class) | 开启音频数据回调监测。
[StopAudioDataObserver](./class.mdx#stopaudiodataobserver-zegoexpressengine-class) | 停止音频数据回调监测。
[EnableCustomAudioIO](./class.mdx#enablecustomaudioio-zegoexpressengine-class) | 开启自定义音频 IO 功能，支持其他路推流，支持 PCM 、AAC 格式数据。
[SendCustomAudioCaptureAACData](./class.mdx#sendcustomaudiocaptureaacdata-zegoexpressengine-class) | 发送自定义音频采集 AAC 数据，支持设置其他通道的推流。
[SendCustomAudioCapturePCMData](./class.mdx#sendcustomaudiocapturepcmdata-zegoexpressengine-class) | 发送自定义音频采集 PCM 数据，支持其他路推流。
[FetchCustomAudioRenderPCMData](./class.mdx#fetchcustomaudiorenderpcmdata-zegoexpressengine-class) | 从 SDK 取远端拉流自定义音频渲染 PCM 数据。
[OnCapturedAudioData](./class.mdx#oncapturedaudiodata-izegoeventhandler-class) | 获取本地麦克风采集到的音频数据的回调.
[OnPlaybackAudioData](./class.mdx#onplaybackaudiodata-izegoeventhandler-class) | 获取 SDK 播放的音频数据的回调。
[OnMixedAudioData](./class.mdx#onmixedaudiodata-izegoeventhandler-class) | 获取 SDK 播放的音频数据和本地麦克风采集到的音频数据的回调，该音频数据是经过 SDK 混合之后的数据。
[OnPlayerAudioData](./class.mdx#onplayeraudiodata-izegoeventhandler-class) | 获取 SDK 每条拉流的音频数据的回调。 | 

## 版权音乐

 | 方法名 | 描述 | 
 | --- | --- | 
 | [CreateCopyrightedMusic](./class.mdx#createcopyrightedmusic-zegoexpressengine-class) | 创建版权音乐实例对象。
[DestroyCopyrightedMusic](./class.mdx#destroycopyrightedmusic-zegoexpressengine-class) | 销毁版权音乐实例对象。
[InitCopyrightedMusic](./class.mdx#initcopyrightedmusic-zegocopyrightedmusic-class) | 初始化版权音乐模块。
[GetCacheSize](./class.mdx#getcachesize-zegocopyrightedmusic-class) | 获取缓存大小。
[ClearCache](./class.mdx#clearcache-zegocopyrightedmusic-class) | 清除缓存。
[SendExtendedRequest](./class.mdx#sendextendedrequest-zegocopyrightedmusic-class) | 发送扩展功能请求。
[GetLrcLyric](./class.mdx#getlrclyric-zegocopyrightedmusic-class) | 获取 lrc 格式歌词。
[GetKrcLyricByToken](./class.mdx#getkrclyricbytoken-zegocopyrightedmusic-class) | 获取逐字歌词。
[Download](./class.mdx#download-zegocopyrightedmusic-class) | 下载音乐资源。
[GetDuration](./class.mdx#getduration-zegocopyrightedmusic-class) | 获取歌曲或伴奏文件的播放时长。
[OnDownloadProgressUpdate](./class.mdx#ondownloadprogressupdate-izegocopyrightedmusichandler-class) | 加载歌曲或伴奏进度回调。 | 

## 废弃接口列表

 | 方法名 | 描述 | 
 | --- | --- | 
 | [EnableBeautify](./class.mdx#enablebeautify-zegoexpressengine-class) | 【已废弃】开/关美颜，为任意推流通道设置。此函数在 2.16.0 版本及以上已废弃，请使用 [enableEffectsBeauty] 函数代替。
[SetBeautifyOption](./class.mdx#setbeautifyoption-zegoexpressengine-class) | 【已废弃】设置美颜参数。此函数在 2.16.0 版本及以上已废弃，请使用 [setEffectsBeautyParam] 函数代替。
[CreateEngine](./class.mdx#createenginescrap_0-zegoexpressengine-class) | 【已废弃】创建 ZegoExpressEngine 单例对象并初始化 SDK。此函数在 2.14.0 版本及以上已废弃，请使用不带 [isTestEnv] 参数的同名函数代替。请参考 [测试环境废弃说明](https://doc-zh.zego.im/article/13100)
[RequestSong](./class.mdx#requestsong-zegocopyrightedmusic-class) | 【已废弃】点歌。此函数在 3.0.2 版本及以上已废弃，请使用 [requestResource] 函数代替。
[RequestAccompaniment](./class.mdx#requestaccompaniment-zegocopyrightedmusic-class) | 【已废弃】点伴奏。此函数在 3.0.2 版本及以上已废弃，请使用 [requestResource] 函数代替。
[GetMusicByToken](./class.mdx#getmusicbytoken-zegocopyrightedmusic-class) | 【已废弃】获取歌曲或伴奏。此函数在 3.0.2 版本及以上已废弃，请使用 [getSharedResource] 函数代替。
[GetLrcLyric](./class.mdx#getlrclyricscrap_0-zegocopyrightedmusic-class) | 【已废弃】获取 lrc 格式歌词。此函数在 3.2.1 版本及以上已废弃，请使用带 [vendorID] 参数的同名函数代替。 | 
