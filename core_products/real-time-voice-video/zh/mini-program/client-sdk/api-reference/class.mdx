---
docType: API
date: '2026-01-14'
---

# Class

| | |
| --- | --- |
| [ZegoExpressEngine](#zegoexpressengine) | [ZegoWxLivePlayer](#zegowxliveplayer) |
| [ZegoWxLivePusher](#zegowxlivepusher) |  |

## ZegoExpressEngine

实时音视频引擎

**详情**

该类用于初始化 Express SDK 引擎实例。

### 属性
<ParamField
  name="version"
  prototype="static version: string "
  parent_name="ZegoExpressEngine"
  parent_type="class">
SDK 版本号。
</ParamField>

### 方法
<ParamField
  name="destroyEngine"
  prototype=" destroyEngine(): void"
  desc="销毁引擎实例。"
  parent_name="ZegoExpressEngine"
  parent_type="class">
销毁引擎实例。

<Note title="">
- **业务场景**：不再需要使用实时音视频功能时。
- **调用时机**：同一个引擎实例最后一个调用的接口。
</Note>

<Warning title="">
- **支持版本**：3.5.0
- **注意事项**：销毁引擎后应及时将实例化对象置空，并不应再调用引擎对象的其他接口，否则可能出现报错。
</Warning>
</ParamField>
<ParamField
  name="callExperimentalAPI"
  prototype=" callExperimentalAPI(params: Object): Promise&lt;any&gt;"
  desc="ZEGO 通过此 API 提供 RTC 业务中的部分技术预览或特别定制功能，需要获取功能的使用或详情其详情可咨询 ZEGO 技术支持"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| params | Object | 传入的参数，格式为 JSON 对象，具体可咨询 ZEGO 技术支持。 |

**详情**

ZEGO 通过此 API 提供 RTC 业务中的部分技术预览或特别定制功能，需要获取功能的使用或详情其详情可咨询 ZEGO 技术支持。

<Note title="">
- **调用时机**：初始化后调用。
</Note>

<Warning title="">
- **支持版本**：3.11.0 及以上
</Warning>
</ParamField>
<ParamField
  name="checkSystemRequirements"
  prototype=" checkSystemRequirements(): Promise&lt;{ code: number; msg: string }&gt;"
  desc="支持能力检测接口"
  parent_name="ZegoExpressEngine"
  parent_type="class">
检测小程序兼容性。

<Note title="">
- **业务场景**：用于判断版本和权限的场景。
- **默认值**：none
- **调用时机**：初始化之后，推（拉）流之前调用。
- **影响范围**：无
- **相关回调**：无
- **相关接口**：无
- **平台差异**：无
</Note>

<Warning title="">
- **支持版本**：1.0.0
- **使用限制**：无
- **注意事项**：强烈推荐使用。
</Warning>

返回检测结果。code 为 0 表示支持；code 为 10001 表示当前微信版本过低，无法使用相关组件；code 为 10002 表示需要摄像头和录音功能的授权。
</ParamField>
<ParamField
  name="off"
  prototype=" off<K extends keyof ZegoEvent>(event: K, callBack?: ZegoEvent[K]): boolean"
  desc="删除注册过的回调事件"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| event | K | 监听事件名 |
| callBack | ZegoEvent[K] | 回调函数，可选 |

**详情**

ZegoEvent 包括了 [ZegoWechatMiniEvent](https://doc-zh.zego.im/article/api?doc=Express_Video_SDK_API~javascript_wxxcx~interface~ZegoWechatMiniEvent&) 与 [ZegoRTMEvent](https://doc-zh.zego.im/article/api?doc=Express_Video_SDK_API~javascript_web~interface~ZegoRTMEvent)， 用于处理 SDK 主动通知开发者回调的接口，用于删除注册的同一类回调事件。

<Note title="">
- **业务场景**：通用接口，必选。

 支
- **默认值**：无
- **调用时机**：注册之后，退出房间之前。
- **影响范围**：无
- **相关回调**：无
- **相关接口**：无
- **平台差异**：无
</Note>

<Warning title="">
- **支持版本**：1.0.0
- **使用限制**：无
- **注意事项**：如果没有传要注销的回调方法参数 [callBack]，将会注销所有该事件的回调。
</Warning>
</ParamField>
<ParamField
  name="on"
  prototype=" on<K extends keyof ZegoEvent>(event: K, callBack: ZegoEvent[K]): boolean"
  desc="注册回调事件"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| event | K | 监听事件名。 |
| callBack | ZegoEvent[K] | 回调函数。 |

**详情**

ZegoEvent 包括了 [ZegoWechatMiniEvent](https://doc-zh.zego.im/article/api?doc=Express_Video_SDK_API~javascript_wxxcx~interface~ZegoWechatMiniEvent&) 与 [ZegoRTMEvent](https://doc-zh.zego.im/article/api?doc=Express_Video_SDK_API~javascript_wxxcx~interface~ZegoRTMEvent) ，用于处理 SDK 主动通知开发者回调的接口，通过注册不同 event 的事件，可以收到不同功能的回调。

<Note title="">
- **业务场景**：通用接口，用于监听 SDK 的业务事件。
- **调用时机**：初始化实例之后，调用接口 loginRoom 登录房间之前。
- **相关接口**：调用接口 off 来注销对应回调事件处理。
</Note>

<Warning title="">
- **支持版本**：1.0.0 及以上
- **注意事项**：同样的事件可以注册多个，相同的注册事件，会根据注册的先后顺序依次触发。
</Warning>

**返回值**

注册是否成功。
</ParamField>
<ParamField
  name="startPublishingStream"
  prototype=" startPublishingStream(streamID: string, publishOption?: [ZegoWxPublishOption](./interface#zegowxpublishoption)): Promise&lt;{ streamID: string; url: string }&gt;"
  desc="开始推流"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| streamID | string | 流 ID，长度不超过 256 的字符串。<br/>注意事项：<br/>1. 流 ID 由您自己定义。<br/>2. 需要在整个 AppID 内全局唯一，若出现在同一个 AppID 内，不同的用户各推了一条流且流名相同，将会导致后推流的用户推流失败。<br/>3. 仅支持数字，英文字符 和 '-', '_'。 |
| publishOption | [ZegoWxPublishOption](./interface#zegowxpublishoption) | 推拉附加参数（鉴权、视频编码），可选。 |

**详情**

调用推流接口获取推流地址。

<Note title="">
- **业务场景**：推流时必选。
- **调用时机**：调用接口 loginRoom 登录房间成功后。
- **相关回调**：推流质量回调 publishQualityUpdate，推流状态回调 publisherStateUpdate（可通过该接口来判断推流是否成功）。
- **相关接口**：通过调用接口 stopPublishingStream 结束推流。
</Note>

<Warning title="">
- **支持版本**：1.0.0 及以上。
</Warning>

**返回值**

true 表示客户端发送请求成功，流成功推送到服务器需要通过流状态回调接口判断。
</ParamField>
<ParamField
  name="stopPublishingStream"
  prototype=" stopPublishingStream(streamID: string): boolean"
  desc="停止将本地流推送到远端（即构服务器）"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| streamID | string | 推流 ID,和推流streamID保持一致 |

**详情**

停止推流。

<Note title="">
- **业务场景**：可以用于实时连麦、直播等场景下停止推流。
- **默认值**：无 
- **调用时机**：推流成功后。
- **影响范围**：无
- **相关回调**：推流质量回调 publishQualityUpdate，推流状态回调 publisherStateUpdate。
- **相关接口**：开始推流 startPublishingStream。
- **平台差异**：无
</Note>

<Warning title="">
- **支持版本**：1.0.0
- **使用限制**：无
- **注意事项**：停止推流不会导致渲染的 &lt;video&gt; 画面暂停，开发者需自行销毁 &lt;video&gt;。
</Warning>
</ParamField>
<ParamField
  name="setStreamExtraInfo"
  prototype=" setStreamExtraInfo(streamID: string, extraInfo: string): Promise&lt;[ZegoServerResponse](./interface#zegoserverresponse)&gt;"
  desc="设置流的附加信息"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| streamID | string | 推流 ID |
| extraInfo | string | 流附加信息; extraInfo为json格式字符串 |

**详情**

更改流附加信息。

<Note title="">
- **业务场景**：需要对推流进行更丰富的描述，且希望拉流端能接受到这些信息时使用。
- **默认值**：无
- **调用时机**：推流成功后。
- **影响范围**：无
- **相关回调**：初次登录房间用户可通过 roomStreamUpdate 获取流附加信息，已经在房间拉流的用户通过流附加信息更新回调 streamExtraInfoUpdate 获取更新后的流附加消息。
- **相关接口**：无
- **平台差异**：无
</Note>

<Warning title="">
- **支持版本**：1.0.0
- **使用限制**：无
- **注意事项**：只支持字符串。
</Warning>
</ParamField>
<ParamField
  name="addPublishCdnUrl"
  prototype=" addPublishCdnUrl(streamID: string, targetURL: string): Promise&lt;[ZegoServerResponse](./interface#zegoserverresponse)&gt;"
  desc="通知即构服务器将流转推到CDN"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| streamID | string | 推流 ID |
| targetURL | string | CDN 转推地址，支持的转推地址格式有 rtmp |

**详情**

当需要将音视频流转推到其它指定的 CDN 时，需要调用此接口进行设置（调用前请先联系 ZEGO 技术支持配置转推 CDN 功能）。

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
- **业务场景**：单向直播场景，拉流端使用 CDN 拉流。
- **默认值**：无
- **调用时机**：推流成功后。
- **影响范围**：无
- **相关回调**：无
- **相关接口**：通知即构服务器停止将流转推到 CDN removePublishCdnUrl。

</Note>

<Warning title="">
- **支持版本**：1.0.0
- **使用限制**：无
- **注意事项**：
     建议使用服务端动态转推 CDN 中的增加转推 CDN 地址 API 替代该客户端 API。
     该接口调用有可能会失败，若返回成功，仅代表通知即构服务器成功，无法判断即构服务器是否转推 CDN 成功。
</Warning>
</ParamField>
<ParamField
  name="removePublishCdnUrl"
  prototype=" removePublishCdnUrl(streamID: string, targetURL: string): Promise&lt;[ZegoServerResponse](./interface#zegoserverresponse)&gt;"
  desc="通知即构服务器停止将流转推到 CDN"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| streamID | string | 推流 ID |
| targetURL | string | CDN 转推地址，支持的转推地址格式有 rtmp |

**详情**

当已经添加了某个 CDN 转推地址，需要停止将流转推至该 CDN 时调用此接口（调用前请先联系 ZEGO 技术支持配置转推 CDN 功能）。

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
- **业务场景**：单向直播场景，拉流端使用 CDN 拉流。
- **默认值**：无
- **调用时机**：转推成功后
- **影响范围**：无
- **相关回调**：无
- **相关接口**：通知即构服务器将流转推到 CDN addPublishCdnUrl。

</Note>

<Warning title="">
- **支持版本**：1.0.0
- **使用限制**：无
- **注意事项**：
     建议使用服务端动态转推 CDN 中的增加转推 CDN 地址 API 替代该客户端 API。
     该接口调用有可能会失败，若返回成功，仅代表通知即构服务器成功，无法判断即构服务器是否转推 CDN 成功。
</Warning>
</ParamField>
<ParamField
  name="startPlayingStream"
  prototype=" startPlayingStream(streamID: string, playOption?: [ZegoWxPlayOption](./interface#zegowxplayoption)): Promise&lt;{ streamID: string; url: string }&gt;"
  desc="开始拉流"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| streamID | string | 流 ID ，必填。 |
| playOption | [ZegoWxPlayOption](./interface#zegowxplayoption) | 拉流附加参数，可选。 |

**详情**

调用拉流接口获取拉流地址。

<Note title="">
- **业务场景**：拉流时必选。
- **调用时机**：收到新增拉流，即 roomStreamUpdate 回调后。
- **相关回调**：拉流质量回调 playQualityUpdate，拉流状态回调 playerStateUpdate （可通过该回调来判断拉流是否成功）。
- **相关接口**：调用接口 stopPlayingStream 结束拉流。
</Note>

<Warning title="">
- **支持版本**：1.0.0 及以上。
- **注意事项**：拉流前确保该条流已经推成功（推送到 ZEGO 服务器），即拉流是在 roomStreamUpdate 回调后。
</Warning>

**返回值**

promise 异步返回流媒体对象。
</ParamField>
<ParamField
  name="stopPlayingStream"
  prototype=" stopPlayingStream(streamID: string): void"
  desc="停止拉取远端流（即构服务器）"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| streamID | string | 流 ID，必填 |

**详情**

停止拉流，断开和即构服务器之间的连接，不再产生带宽。

<Note title="">
- **业务场景**：拉流必选。
- **默认值**：无 
- **调用时机**：拉流成功后。
- **影响范围**：无
- **相关回调**：拉流质量回调 playQualityUpdate，拉流状态回调 playerStateUpdate。
- **相关接口**：开始拉流 startPlayingStream。
- **平台差异**：无
</Note>

<Warning title="">
- **支持版本**：1.0.0
- **使用限制**：无
- **注意事项**：停止拉流后不会销毁播放器，播放器销毁需要开发者自己实现。
</Warning>
</ParamField>
<ParamField
  name="startAutoMixerTask"
  prototype=" startAutoMixerTask(task: [ZegoAutoMixerTask](./interface#zegoautomixertask)): Promise&lt;[ZegoServerResponse](./interface#zegoserverresponse)&gt;"
  desc="开始自动混流任务"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| task | [ZegoAutoMixerTask](./interface#zegoautomixertask) | 自动混流任务对象。 |

**详情**

本地用户可调用该函数开始自动混流任务，对房间内的所有流进行混流，目前仅支持音频流自动混流。启动自动混流后，会自动混流该房间内所有流的音频，此房间内再发起的推流也会自动混入最后的输出流中。

<Note title="">
- **业务场景**：常用于语聊房场景下，需要由客户端发起自动混流任务时。
- **调用时机**：在创建引擎后，如果目标房间已经创建，可调用该函数在目标房间开启自动混流。
- **相关接口**：可调用 [stopAutoMixerTask] 函数，停止自动混流任务。
</Note>

<Warning title="">
- **支持版本**：3.5.0 及以上。
- **注意事项**：在同一个房间内开启下一个自动混流任务前，请先调用 [stopAutoMixerTask] 函数结束上一次自动混流任务，以免造成当一个主播已经开启下一个自动混流任务与其他主播混流时，观众依然在一直拉上一个自动混流任务的输出流的情况。若用户未主动结束当前自动混流任务，该任务将在房间不存在之后或者输入流持续 90 秒不存在之后自动结束。
        
 安全性提醒：请勿在此接口填写用户敏感信息，包括但不限于手机号、身份证号、护照编号、真实姓名等。
</Warning>
</ParamField>
<ParamField
  name="startMixerTask"
  prototype=" startMixerTask(mixStreamConfig: [ZegoMixStreamConfig](./interface#zegomixstreamconfig)): Promise&lt;[ZegoServerResponse](./interface#zegoserverresponse)&gt;"
  desc="开始混流任务"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| mixStreamConfig | [ZegoMixStreamConfig](./interface#zegomixstreamconfig) | 混流参数配置 |

**详情**

将多条流按照调用要求合成一条流。 由那个点于实际动作是在服务端操作，没有浏览器性能上的限制，且各个流之间延迟低，可以保证被混的多条流画面和声音同步。

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
- **业务场景**：通常用于多个主播连麦PK的场景，将多个主播的音视频流混合成一条流，观众端只需要拉这一条流。
- **调用时机**：调用接口 startPublishingStream 推流成功后。
- **相关接口**：使用接口 stopMixerTask 来停止服务端混流，未及时停止混流功能会影响计费。
</Note>

<Warning title="">
- **支持版本**：1.5.2 及以上。
- **使用限制**：混流前需要保证流还存在，避免发起混流和流删除操作同时触发，以免混流失败。被混的流如果中止推流，需要重新做混流处理，否则对端画面会卡住。
- **注意事项**：1. 应用对应的 AppID 开启了混流功能；2. 被混的流必须在 ZEGO 服务器上存在。
        
 安全性提醒：请勿在此接口填写用户敏感信息，包括但不限于手机号、身份证号、护照编号、真实姓名等。
</Warning>
</ParamField>
<ParamField
  name="stopAutoMixerTask"
  prototype=" stopAutoMixerTask(task : { taskID: string; roomID: string;  }): Promise&lt;[ZegoServerResponse](./interface#zegoserverresponse)&gt;"
  desc="停止服务端自动混流任务"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| task  | \{ taskID: string; roomID: string;  \} | 停止混流任务相应的任务的 taskID 与房间的 roomID。 |

**详情**

本地用户可调用该函数结束自动混流任务。

<Note title="">
- **业务场景**：常用于语聊房场景下，需要由客户端发起自动混流任务时。
- **调用时机**：在调用 [startAutoMixerTask] 函数开启自动混流任务后可调用该函数。
        
 安全性提醒：请勿在此接口填写用户敏感信息，包括但不限于手机号、身份证号、护照编号、真实姓名等。
- **相关接口**：开始混流任务接口 [startAutoMixerTask]。
</Note>

<Warning title="">
- **支持版本**：3.5.0 及以上。
</Warning>
</ParamField>
<ParamField
  name="stopMixerTask"
  prototype=" stopMixerTask(taskID: string): Promise&lt;[ZegoServerResponse](./interface#zegoserverresponse)&gt;"
  desc="停止服务端混流"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| taskID | string | 混流任务 ID（客户自定义，务必保证唯一），必填，最大长度为 256 个字符，仅支持数字、英文字符 和 '~', '!', '@', '#', '$', '', '^', '&', '*', '(', ')', '_', '+', '=', '-', ', ';', '’', ',', ' |

**详情**

用于停止 taskID 对应的服务端混流任务。

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
- **业务场景**：通常用于多个主播连麦 PK 的场景，混流画面使用结束后停止混流。
- **调用时机**：调用接口 startMixerTask 混流成功之后。
- **相关接口**：开始混流任务接口 startMixerTask
</Note>

<Warning title="">
- **支持版本**：1.5.2 及以上。
- **注意事项**：关闭页面一定要发起停止混流，避免异常关闭导致混流没有停止，影响计费；被混的流若中止推流，需要重新做混流处理，否则对端画面会卡住。
        
 安全性提醒：请勿在此接口填写用户敏感信息，包括但不限于手机号、身份证号、护照编号、真实姓名等。
</Warning>
</ParamField>
<ParamField
  name="setMixerTaskConfig"
  prototype=" setMixerTaskConfig(config: [ZegoMixStreamAdvance](./interface#zegomixstreamadvance)): Promise&lt;[ZegoServerResponse](./interface#zegoserverresponse)&gt;"
  desc="混流高级配置"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| config | [ZegoMixStreamAdvance](./interface#zegomixstreamadvance) | 混流高级功能设置。 |

**详情**

混流功能进阶设置，可以设置视频背景和视频编码格式。

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
- **业务场景**：1. 设置混流画面背景；2. 视频编码转换来兼容部分浏览器的播放。
- **调用时机**：推流成功后，而且需在使用 startMixerTask 之前调用才能生效。
        
 安全性提醒：请勿在此接口填写用户敏感信息，包括但不限于手机号、身份证号、护照编号、真实姓名等。
- **相关接口**：开始混流接口 startMixerTask
</Note>

<Warning title="">
- **支持版本**：1.5.2 及以上。
</Warning>
</ParamField>
<ParamField
  name="createPusher"
  prototype=" createPusher(config?: [ZegoWxPusherAttributes](./interface#zegowxpusherattributes)): [ZegoWxLivePusher](#zegowxlivepusher)"
  desc="创建推流实例"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| config | [ZegoWxPusherAttributes](./interface#zegowxpusherattributes) | 推流组件配置 |

**详情**

创建推流实例对象

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
- **业务场景**：推流功能需要。
- **调用时机**：在推流前调用。

 安全性提醒：请勿在此接口填写用户敏感信息，包括但不限于手机号、身份证号、护照编号、真实姓名等。
- **相关回调**：推流状态回调 publisherStateUpdate。
</Note>

<Warning title="">
- **支持版本**：2.10.0 及以上。
</Warning>

**返回值**

推流组件实例
</ParamField>
<ParamField
  name="getNextUrl"
  prototype=" getNextUrl(streamID: string): string"
  desc="获取新的流地址"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| streamID | string | 媒体流 ID。 |

**详情**

传给小程序组件的推流地址推流失败后，可通过该接口获取下一个推流地址。

<Note title="">
- **业务场景**：获取推流地址。
- **调用时机**：调用接口 startPublishingStream 推流成功之后。

 安全性提醒：请勿在此接口填写用户敏感信息，包括但不限于手机号、身份证号、护照编号、真实姓名等。
</Note>

<Warning title="">
- **支持版本**：2.0.0 及以上。
</Warning>

**返回值**

新的推流地址。
</ParamField>
<ParamField
  name="getPlayerInstance"
  prototype=" getPlayerInstance(streamID: string, wxContext?: any): [ZegoWxLivePlayer](#zegowxliveplayer) | null"
  desc="获取拉流组件实例"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| streamID | string | 拉流ID |
| wxContext | any | 在自定义组件下，当前组件实例的this，以操作组件内 live-player 组件，默认为 [initContext] 传入的组件上下文对象。 |

**详情**

获取拉流组件实例。

<Note title="">
- **业务场景**：拉流或修改拉流组件属性。
- **调用时机**：收到流更新后后调用。
- **相关回调**：拉流状态回调 playerStateUpdate。
</Note>

<Warning title="">
- **支持版本**：2.10.0 及以上。
</Warning>

**返回值**

livePlayer 实例
</ParamField>
<ParamField
  name="getPlayerList"
  prototype=' getPlayerList(): Array&lt;LivePlayer["[ZegoWxPlayerAttributes](./interface#zegowxplayerattributes)"]&gt;'
  desc="获取拉流属性列表"
  parent_name="ZegoExpressEngine"
  parent_type="class">
获取拉流属性列表。

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
- **业务场景**：拉流或修改拉流组件属性。
- **调用时机**：收到流更新后后调用。
- **相关回调**：拉流状态回调 playerStateUpdate。
</Note>

<Warning title="">
- **支持版本**：2.10.0 及以上。
</Warning>

livePlayer 属性数组
</ParamField>
<ParamField
  name="getPusherInstance"
  prototype=" getPusherInstance(): [ZegoWxLivePusher](#zegowxlivepusher) | null"
  desc="获取推流组件实例"
  parent_name="ZegoExpressEngine"
  parent_type="class">
获取推流组件实例。

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
- **业务场景**：推流或修改推流组件属性。
- **调用时机**：创建推流实例后调用。
- **相关回调**：推流状态回调 publisherStateUpdate。
</Note>

<Warning title="">
- **支持版本**：2.10.0 及以上。
</Warning>

拉流实例
</ParamField>
<ParamField
  name="initContext"
  prototype=" initContext(config: [ZegoWxConfig](./interface#zegowxconfig)): void"
  desc="初始化小程序上下文"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| config | [ZegoWxConfig](./interface#zegowxconfig) | 小程序初始化配置 |

**详情**

将小程序组件 上下文 this 及 用于保存推拉流属性字段 完全透传给 SDK 。

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
- **业务场景**：推拉流功能需要。
- **调用时机**：在推拉流前。
- **相关回调**：推流状态回调 publisherStateUpdate，拉流状态回调 playerStateUpdate。
</Note>

<Warning title="">
- **支持版本**：2.10.0 及以上。
- **注意事项**：要使用推拉流前必须调用该接口 。

 安全性提醒：请勿在此接口填写用户敏感信息，包括但不限于手机号、身份证号、护照编号、真实姓名等。
</Warning>
</ParamField>
<ParamField
  name="setPlayerAttributes"
  prototype=" setPlayerAttributes(streamID: string, config: [ZegoWxPlayerAttributes](./interface#zegowxplayerattributes), callBack: Function): void"
  desc="修改拉流属性"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| streamID | string | 流 ID |
| config | [ZegoWxPlayerAttributes](./interface#zegowxplayerattributes) | 拉流属性 |
| callBack | Function | 设置完成时触发回调 |

**详情**

修改拉流属性。

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
- **业务场景**：修改拉流组件属性。
- **调用时机**：收到流更新后后调用。
- **相关回调**：拉流状态回调 playerStateUpdate。
</Note>

<Warning title="">
- **支持版本**：2.10.0 及以上。
</Warning>
</ParamField>
<ParamField
  name="setPusherAttributes"
  prototype=" setPusherAttributes(config: [ZegoWxPusherAttributes](./interface#zegowxpusherattributes), callBack?: Function): void"
  desc="设置推流属性"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| config | [ZegoWxPusherAttributes](./interface#zegowxpusherattributes) | 推流属性配置 |
| callBack | Function | 设置完成时触发回调 |

**详情**

设置推流属性。

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
- **业务场景**：修改推流组件属性。
- **调用时机**：创建推流实例后调用。
- **相关回调**：推流状态回调 publisherStateUpdate。
</Note>

<Warning title="">
- **支持版本**：2.10.0 及以上。
</Warning>
</ParamField>
<ParamField
  name="updateAudioVolumeNotify"
  prototype="  updateAudioVolumeNotify(streamID: string, event: any): void"
  desc="更新流音量"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| streamID | string | 媒体流 ID。 |
| event | any | 回调函数的事件对象。 |

**详情**

在小程序 &lt;live-player&gt; 和 &lt;live-pusher&gt; 组件中设置 bindaudiovolumenotify 属性，小程序回调的事件完全透传给 SDK 。

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
- **业务场景**：推拉流功能需要。
- **调用时机**：在小程序 &lt;live-player&gt; 和 &lt;live-pusher&gt; 组件触发 bindaudiovolumenotify 事件时调用。
</Note>

<Warning title="">
- **支持版本**：2.10.0 及以上。
</Warning>
</ParamField>
<ParamField
  name="updatePlayerNetStatus"
  prototype=" updatePlayerNetStatus(streamID: string, event: any): void"
  desc="小程序组件网络状态通知事件"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| streamID | string | 媒体流 ID。 |
| event | any | 回调函数的事件对象。 |

**详情**

在小程序 &lt;live-player&gt; 和 &lt;live-pusher&gt; 组件中设置 bindnetstatus 属性，小程序回调的事件完全透传给 SDK 。

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
- **业务场景**：推拉流功能需要。
- **调用时机**：在小程序 &lt;live-player&gt; 和 &lt;live-pusher&gt; 组件触发 bindnetstatus 事件时调用。

 安全性提醒：请勿在此接口填写用户敏感信息，包括但不限于手机号、身份证号、护照编号、真实姓名等。
</Note>

<Warning title="">
- **支持版本**：1.0.0 及以上。
</Warning>
</ParamField>
<ParamField
  name="updatePlayerState"
  prototype=" updatePlayerState(streamID: string, event: any): void"
  desc="推拉流状态更新回调处理"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| streamID | string | 媒体流 ID。 |
| event | any | 回调函数的事件对象。 |

**详情**

在小程序 &lt;live-player&gt; 和 &lt;live-pusher&gt; 组件中设置 bindstatechange 属性，小程序回调的事件完全透传给 SDK 。

<Note title="">
- **业务场景**：推拉流功能需要。
- **调用时机**：在小程序 &lt;live-player&gt; 和 &lt;live-pusher&gt; 组件触发 bindstatechange 事件时调用。
- **相关回调**：推流状态回调 publisherStateUpdate。
</Note>

<Warning title="">
- **支持版本**：1.0.0 及以上。
- **注意事项**：SDK 底层会根据 event 进行流状态更新，必须将回调消息传给 SDK 。

 安全性提醒：请勿在此接口填写用户敏感信息，包括但不限于手机号、身份证号、护照编号、真实姓名等。
</Warning>
</ParamField>
<ParamField
  name="mutePlayStreamVideo"
  prototype=" mutePlayStreamVideo(streamID: string, mute: boolean): Promise&lt;boolean&gt;"
  desc="停止或恢复拉取视频流"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| streamID | string | 流ID |
| mute | boolean | 是否拉取视频流，true 表示停止拉取；false 表示恢复拉取 |

**详情**

只是将数据降低为很小，视频轨还在。

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
- **业务场景**：观众在某一时段画面，不想看到主播画面时调用。
- **默认值**：无
- **调用时机**：拉流成功后。
- **影响范围**：无
- **相关回调**：无
- **相关接口**：停止或恢复拉取音频流 mutePlayStreamAudio。

 平台差异：无

</Note>

<Warning title="">
- **支持版本**：2.10.0
- **使用限制**：无
- **注意事项**：- 停止或恢复拉取视频流的前提是原始流必须有视频轨道，拉流时不能为纯音频。
- 只有使用SDK &lt;zego-pusher&gt; 和 &lt;zego-player&gt;组件推拉流时才可以使用。使用微信小程序原生推拉流组件 &lt;live-pusher&gt; 和 &lt;live-player&gt; 进行推拉流下，无法调用，需要开发者自行设置  &lt;live-pusher&gt; 和 &lt;live-player&gt; 相关组件属性。
</Warning>
</ParamField>
<ParamField
  name="mutePlayStreamAudio"
  prototype=" mutePlayStreamAudio(streamID: string, mute: boolean): Promise&lt;boolean&gt;"
  desc="停止或恢复拉取音频流"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| streamID | string | 流ID |
| mute | boolean | 是否拉取音频流，true 表示停止拉取；false 表示恢复拉取 |

**详情**

只是将数据降低为很小，音频轨还在。

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
- **业务场景**：观众在某一时段画面，不想听到主播声音时调用。
- **默认值**：无
- **调用时机**：拉流成功后。
- **影响范围**：无
- **相关回调**：无
- **相关接口**：停止或恢复拉取视频流 mutePlayStreamVideo。

 平台差异：无

</Note>

<Warning title="">
- **支持版本**：2.10.0
- **使用限制**：无
- **注意事项**：- 停止或恢复拉取音频流的前提是原始流必须有音频轨道，拉流时不能为纯视频。
- 只有使用SDK &lt;zego-pusher&gt; 和 &lt;zego-player&gt;组件推拉流时才可以使用。使用微信小程序原生推拉流组件 &lt;live-pusher&gt; 和 &lt;live-player&gt; 进行推拉流下，无法调用，需要开发者自行设置  &lt;live-pusher&gt; 和 &lt;live-player&gt; 相关组件属性。
</Warning>
</ParamField>
<ParamField
  name="mutePublishStreamVideo"
  prototype=" mutePublishStreamVideo(mute: boolean): boolean"
  desc="关闭/打开正在推流的流画面"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| mute | boolean | 是否停止发送视频流；true 表示不发送视频流；false 表示发送视频流；默认为 false |

**详情**

只是将数据降低为很小，视频轨还在。

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
- **业务场景**：主播在某一时段画面，不希望被拉流端看到时调用。
- **调用时机**：推流成功后。
- **相关接口**：打开/关闭正在推流的流声音 mutePublishStreamAudio。
</Note>

<Warning title="">
- **支持版本**：2.10.0
- **注意事项**：只有使用SDK &lt;zego-pusher&gt; 和 &lt;zego-player&gt;组件推拉流时才可以使用。使用微信小程序原生推拉流组件 &lt;live-pusher&gt; 和 &lt;live-player&gt; 进行推拉流下，无法调用，需要开发者自行设置  &lt;live-pusher&gt; 和 &lt;live-player&gt; 相关组件属性。
</Warning>

**返回值**

标识是否成功关闭推流画面
</ParamField>
<ParamField
  name="mutePublishStreamAudio"
  prototype=" mutePublishStreamAudio(mute: boolean): boolean"
  desc="打开/关闭正在推流的流声音"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| mute | boolean | 是否停止发送音频流；true 表示不发送音频流；false 表示发送音频流；默认为 false |

**详情**

打开/关闭正在推流的流所有声音，包括麦克风、混音背景音乐的声音，音频轨依旧保留。

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
- **业务场景**：主播在某一时段不想让观众端听到声音。
- **调用时机**：推流成功后。
- **相关接口**：关闭/打开正在推流的流画面 mutePublishStreamVideo；
</Note>

<Warning title="">
- **支持版本**：2.10.0
- **注意事项**：只有使用SDK &lt;zego-pusher&gt; 和 &lt;zego-player&gt;组件推拉流时才可以使用。使用微信小程序原生推拉流组件 &lt;live-pusher&gt; 和 &lt;live-player&gt; 进行推拉流下，无法调用，需要开发者自行设置  &lt;live-pusher&gt; 和 &lt;live-player&gt; 相关组件属性。
</Warning>
</ParamField>
<ParamField
  name="enableMultiRoom"
  prototype=" enableMultiRoom(enable: boolean): boolean"
  desc="是否开启多房间模式"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| enable | boolean | 是否开启，true 为开启，false 为关闭。 |

**详情**

是否需要开启多房间，同一个用户可以同时加入多个房间，并同时在多个房间内推流、拉流、发送实时消息和接收消息回调。

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
- **业务场景**：用于跨房间连麦和在线教育的超级小班场景。
- **默认值**：默认不开启多房间。
- **调用时机**：需要在初始化 SDK 后，第一次登录房间 loginRoom 前调用。
- **相关接口**：可调用 loginRoom 登录房间，调用  logoutRoom 退出房间，调用 startPublishingStream 开始推流。
</Note>

<Warning title="">
- **支持版本**：2.8.0 及以上。
- **使用限制**：一次完整的生命周期内只能调用一次。
</Warning>
</ParamField>
<ParamField
  name="setLogConfig"
  prototype=" setLogConfig(config: [ZegoLogConfig](./interface#zegologconfig)): boolean"
  desc="日志高级配置"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| config | [ZegoLogConfig](./interface#zegologconfig) | 日志相关高级配置 |

**详情**

配置客户端打印日志级别和远端日志上传级别，日志是定位问题的重要手段。

<Note title="">
- **业务场景**：在多数场景下，客户不用调用该接口，使用默认配置即可。
- **默认值**：本地日志和上传级别均为 info。
- **调用时机**：在初始化之后，其他任何接口之前调用。
- **相关回调**：无
- **相关接口**：无

</Note>

<Warning title="">
- **支持版本**：1.0.0
- **使用限制**：无，但建议整个生命周期内只调用一次。
- **注意事项**：除非有明确的特殊需求，否则请勿调用该接口更改默认配置。
</Warning>

**返回值**

调用是否成功; 失败情况: 输入参数格式有误
</ParamField>
<ParamField
  name="setDebugVerbose"
  prototype=" setDebugVerbose(enable: boolean): void"
  desc="是否开启Debug模式，打开时错误信息 alert 提示，默认测试环境开启"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| enable | boolean | 是否打开 debug 模式;默认sdk会自动判断 |

**详情**

打开或关闭错误弹窗提示。

<Note title="">
- **业务场景**：用于开发环节提示错误。
- **默认值**：测试环境默认值为 “true“， 可以手动关闭。
- **调用时机**：初始化后，立刻调用。
- **影响范围**：所有 SDK 内部错误，都会弹框提示，中断整个进程。
- **相关回调**：无
- **相关接口**：无
- **平台差异**：无
</Note>

<Warning title="">
- **支持版本**：1.0.0
- **使用限制**：无
- **注意事项**：建议保持默认行为，尽量不使用该接口。
</Warning>
</ParamField>
<ParamField
  name="getVersion"
  prototype=" getVersion(): string"
  desc="获取当前SDK版本"
  parent_name="ZegoExpressEngine"
  parent_type="class">
需要查看当前版本时调用。

<Note title="">
- **业务场景**：日志收集时建议使用。
- **默认值**：无
- **调用时机**：初始化后任意时机可调用。
- **影响范围**：无
- **相关回调**：无
- **相关接口**：无
- **平台差异**：无
</Note>

<Warning title="">
- **支持版本**：1.0.0
- **使用限制**：无
- **注意事项**：无
</Warning>

为 string 字符串，例如“1.0.0.标识”
</ParamField>
<ParamField
  name="loginRoom"
  prototype=" loginRoom(roomID: string, token: string, user: [ZegoUser](./interface#zegouser), config?: [ZegoRoomConfig](./interface#zegoroomconfig)): Promise&lt;boolean&gt;"
  desc="登录房间"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| roomID | string | 房间 ID，由开发者自己生成，最大长度为 128 字节的字符串。仅支持数字，英文字符 和 '~', '!', '@', '#', '$', '', '^', '&', '*', '(', ')', '_', '+', '=', '-', ', ';', '’', ',', '.', '&lt;', '&gt;', '/'。 |
| token | string | 登录验证 token，是通过在即构控制台注册项目获得密钥，加上指定算法获得。测试阶段可以通过 ZEGO 提供的接口获取，正式环境一定要用户自己实现。 |
| user | [ZegoUser](./interface#zegouser) | 登录用户信息。 |
| config? | [ZegoRoomConfig](./interface#zegoroomconfig) | 房间相关配置，可选。 |

**详情**

登录房间，同房间用户共享流、消息、用户等信息变化。

<Note title="">
- **业务场景**：通过登录房间来获取与其他用户进行音视频或消息互动的接口权限。
- **调用时机**：初始化且获取到 token 之后。
- **隐私保护声明**： 请勿在此接口填写用户敏感信息，包括但不限于手机号、身份证号、护照编号、真实姓名等。
- **影响范围**：大部分接口都需要在登录房间后才能调用。
- **相关回调**：房间状态回调 roomStateUpdate
- **相关接口**：可调用 logoutRoom 接口退出房间。
</Note>

<Warning title="">
- **支持版本**：1.0.0 及以上。
- **注意事项**：
1. token 是使用登录房间的钥匙，需要开发者自行实现，为保证安全，一定要在开发者自己的服务端生成 token，参考文章 [登录房间鉴权](https://doc-zh.zego.im/article/7646)。
2. 默认为单房间模式，同一个用户（即 userID 相同）不能同时登录两个及以上房间。
3. 若想监听房间内其他用户的变化，则 config 对象下的 “userUpdate” 参数必须设置为 “true”。
4. 如果房间不存在，loginRoom会创建并登录房间。
</Warning>

**返回值**

promise 异步返回登录结果，true 表示登录成功，false 表示登录失败。
</ParamField>
<ParamField
  name="logoutRoom"
  prototype=" logoutRoom(roomID?: string): void"
  desc="退出房间，不再接受各种房间内状态"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| roomID? | string | 和登录房间的roomID保持一致，可选 |

**详情**

退出房间，结束同房间用户共享流、消息、用户等信息变化。

<Note title="">
- **业务场景**：结束音视频通话或其他功能后需要调用该接口退出房间，以保证对端能及时同步本端当前状态。调用该接口后会向 ZEGO 服务器发送退出房间信令，然后重置当前房间中用户与 ZEGO 服务器进行交互所需的关键数据，并置空 websocket 对象。
- **默认值**：无
- **调用时机**：登录房间成功后。
- **影响范围**：大部分接口都在退出房间后，不能再调用。
- **相关回调**：房间状态回调 roomStateUpdate
- **相关接口**：可调用 loginRoom 接口登录房间。
- **平台差异**：无

</Note>

<Warning title="">
- **支持版本**：1.0.0
- **使用限制**：无
- **注意事项**：无
</Warning>
</ParamField>
<ParamField
  name="renewToken"
  prototype=" renewToken(token: string, roomID?: string): boolean"
  desc="更新房间权限token"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| token | string | 指定算法生成的token, 即构提供生成token的不同语言版SDK;  |
| roomID | string | 房间 ID，最大长度为 128 字节的字符串。仅支持数字，英文字符 和 '~', '!', '@', '#', '$', '', '^', '&', '*', '(', ')', '_', '+', '=', '-', ', ';', '’', ',', '.', '&lt;', '&gt;', '/',  |

**详情**

token权限变更,或者token过期时调用,更新token权限

<Note title="">
- **业务场景**：登录权限和推流权限隔离时使用, 利用token控制权限
- **默认值**：无
- **调用时机**：登录房间后,主动变更用户在房间内的权限; 登录房间后,收到token将要过期回调;
- **影响范围**：token内包含的过期时间,在过期前30s会触发tokenWillExpire回调
- **相关回调**：房间token将要过期回调tokenWillExpire
- **相关接口**：无
- **平台差异**：无
</Note>

<Warning title="">
- **支持版本**：2.6.0
- **使用限制**：无
- **注意事项**：token是使用登录房间的钥匙, 这个是需要客户自己实现,为保证安全,一定要在自己的服务端生成token
</Warning>

**返回值**

true: 调用成功, false: 调用失败 (SDK 初步格式校验)
</ParamField>
<ParamField
  name="setRoomExtraInfo"
  prototype=" setRoomExtraInfo(roomID: string, key: string, value: string): Promise&lt;[ZegoServerResponse](./interface#zegoserverresponse)&gt;"
  desc="设置房间附加消息"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| roomID | string | 房间 ID |
| key | string | 附加消息键 |
| value | string | 附加消息值 |

**详情**

该功能可以设置一个以房间为单位的附加消息，该消息跟随整个房间的生命周期，每个登录到房间的用户都能够同步消息。

<Note title="">
- **业务场景**：开发者可用于实现各种业务逻辑，如房间公告等等。
- **默认值**：无
- **调用时机**：登录房间成功之后。
- **影响范围**：大部分接口都需要在登录房间后才能调用。
- **相关回调**：房间附加信息回调 roomExtraInfoUpdate。
- **相关接口**：无
- **平台差异**：无
</Note>

<Warning title="">
- **支持版本**：1.0.0
- **使用限制**：关于此接口的使用限制，请参考 https://doc-zh.zego.im/article/7584 或 联系 ZEGO 技术支持。
- **注意事项**：目前房间附加消息只允许设置一个键值对，且 key 最大长度为 10 字节，value 最大长度为 100 字节。

 安全性提醒:  请勿在此接口填写用户敏感信息，包括但不限于手机号、身份证号、护照编号、真实姓名等。
</Warning>
</ParamField>
<ParamField
  name="sendBarrageMessage"
  prototype=" sendBarrageMessage(roomID: string, message: string): Promise&lt;[ZegoServerResponse](./interface#zegoserverresponse)&gt;"
  desc="发送房间弹幕消息（消息不保证可靠）"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| roomID | string | 房间Id |
| message | string | 消息内容，长度不超过1024字节 |

**详情**

向 roomID 对应的房间内所有用户发送弹幕消息，消息不保证可靠。

<Note title="">
- **业务场景**：房间内用户发送弹幕消息互动。
- **调用时机**：调用接口 loginRoom 登录房间成功之后。
- **相关回调**：房间内用户可以通过房间弹幕消息通知回调 IMRecvBarrageMessage 来接收消息。
</Note>

<Warning title="">
- **支持版本**：1.0.0 及以上。
- **使用限制**：关于此接口的使用限制，请参考 https://doc-zh.zego.im/article/7584 或联系 ZEGO 技术支持。

 安全性提醒：请勿在此接口填写用户敏感信息，包括但不限于手机号、身份证号、护照编号、真实姓名等。
</Warning>
</ParamField>
<ParamField
  name="sendBroadcastMessage"
  prototype=" sendBroadcastMessage(roomID: string, message: string): Promise&lt;[ZegoServerResponse](./interface#zegoserverresponse)&gt;"
  desc="发送房间广播消息（消息保证可靠）"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| roomID | string | 房间 ID。 |
| message | string | 消息内容，长度不超过1024 字节。 |

**详情**

向 roomID 对应的房间内所有用户发送文本消息。

<Note title="">
- **业务场景**：房间内用户发送消息聊天互动，例如语聊房。
- **调用时机**：调用接口 loginRoom 登录房间成功之后。
- **影响范围**：需要在登录房间后才能调用。
- **相关回调**：其他房间用户可以通过广播消息通知回调 IMRecvBroadcastMessage 来接收消息。
</Note>

<Warning title="">
- **支持版本**：1.0.0 及以上。
- **使用限制**：关于此接口的使用限制，请参考 https://doc-zh.zego.im/article/7584 或联系 ZEGO 技术支持。
        
 安全性提醒：请勿在此接口填写用户敏感信息，包括但不限于手机号、身份证号、护照编号、真实姓名等。
</Warning>
</ParamField>
<ParamField
  name="sendCustomCommand"
  prototype=" sendCustomCommand(roomID: string, message: string, toUserIDList: string[]): Promise&lt;[ZegoServerResponse](./interface#zegoserverresponse)&gt;"
  desc="发送自定义信令（消息可靠）"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| roomID | string | 房间 ID。 |
| message | string | 自定义消息内容，长度不超过 1024 字节。 |
| toUserIDList | string[] | 目标用户uerId 数组。传入空数组则表示是发送给房间内所有用户。 |

**详情**

向 roomID 对应的房间内指定用户发送自定义消息，消息保证可靠。

<Note title="">
- **业务场景**：私聊个别用户。
- **调用时机**：登录房间成功之后。
- **影响范围**：大部分接口都需要在登录房间后才能调用。
- **相关回调**：房间内用户可以通过监听自定义命令信令回调 IMRecvCustomCommand 来接收消息。
</Note>

<Warning title="">
- **支持版本**：1.0.0 及以上。
- **使用限制**：关于此接口的使用限制，请参考 https://doc-zh.zego.im/article/7584 或联系 ZEGO 技术支持。

 安全性提醒：请勿在此接口填写用户敏感信息，包括但不限于手机号、身份证号、护照编号、真实姓名等。
</Warning>
</ParamField>
<ParamField
  name="sendTransparentMessage"
  prototype=" sendTransparentMessage(roomID: string, message: [ZegoRoomSendTransparentMessage](./interface#zegoroomsendtransparentmessage)): Promise&lt;[ZegoServerResponse](./interface#zegoserverresponse)&gt;"
  desc="发送透传消息"
  parent_name="ZegoExpressEngine"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| roomID | string | 房间 ID。 |
| message | [ZegoRoomSendTransparentMessage](./interface#zegoroomsendtransparentmessage) | 发送透传消息的结构信息。 |

**详情**

向房间内发送透传消息。

<Note title="">
- **业务场景**：一般用于远程控制信令或用户与用户之间的消息发送。
- **调用时机**：登录房间成功之后。
- **影响范围**：大部分接口都需要在登录房间后才能调用。
- **相关回调**：当发送的消息， mode 指定为 ZegoRoomTransparentMessageModeOnlyClient 或者 ZegoRoomTransparentMessageModeClientAndServer 可通过 [recvRoomTransparentMessage] 接收到发送消息的内容。
</Note>

<Warning title="">
- **支持版本**：3.11.0 及以上。
- **使用限制**：同一房间内向单个用户发送的自定义消息频率不能高于 200条/s 。

 安全性提醒：请勿在此接口填写用户敏感信息，包括但不限于手机号、身份证号、护照编号、真实姓名等。
</Warning>
</ParamField>

## ZegoWxLivePlayer

小程序拉流对象

### 方法
<ParamField
  name="play"
  prototype=" play(playOption?: [ZegoWxPlayOption](./interface#zegowxplayoption)): Promise&lt;void&gt;"
  desc="开始拉流"
  parent_name="ZegoWxLivePlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| playOption | [ZegoWxPlayOption](./interface#zegowxplayoption) | 拉流参数 |

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
</Note>
</ParamField>
<ParamField
  name="pause"
  prototype=" pause(object: [wxObject](./interface#wxobject)): void"
  desc="暂停拉流"
  parent_name="ZegoWxLivePlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| object | [wxObject](./interface#wxobject) | 暂停拉流接口参数 |

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
</Note>
</ParamField>
<ParamField
  name="stop"
  prototype=" stop(): void"
  desc="停止拉流"
  parent_name="ZegoWxLivePlayer"
  parent_type="class">
<Note title="">
- **平台差异**：不支持支付宝小程序平台。
</Note>
</ParamField>
<ParamField
  name="mute"
  prototype=" mute(object: [wxObject](./interface#wxobject)): void"
  desc="静音"
  parent_name="ZegoWxLivePlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| object | [wxObject](./interface#wxobject) | 静音接口参数 |

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
</Note>
</ParamField>
<ParamField
  name="requestFullScreen"
  prototype=" requestFullScreen(object: {     direction: number;     success: Function;     fail: Function;     complete: Function;   }): void"
  desc="进入全屏"
  parent_name="ZegoWxLivePlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| object | \{     direction: number;     success: Function;     fail: Function;     complete: Function;   \} | direction： 设置全屏时的方向 0 表示正常竖向 90 表示屏幕逆时针90度 -90 表示屏幕顺时针90度，success：接口调用成功回调函数，fail：接口调用失败回调函数，complete：接口调用结束的回调函数（调用成功、失败都会执行） |

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
</Note>
</ParamField>
<ParamField
  name="exitFullScreen"
  prototype=" exitFullScreen(object: [wxObject](./interface#wxobject)): void"
  desc="退出全屏"
  parent_name="ZegoWxLivePlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| object | [wxObject](./interface#wxobject) | 接口参数 |

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
</Note>
</ParamField>
<ParamField
  name="exitPictureInPicture"
  prototype=" exitPictureInPicture(object: [wxObject](./interface#wxobject)): void"
  desc="退出小窗"
  parent_name="ZegoWxLivePlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| object | [wxObject](./interface#wxobject) | 接口参数 |

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
</Note>
</ParamField>
<ParamField
  name="requestPictureInPicture"
  prototype=" requestPictureInPicture(object: [wxObject](./interface#wxobject)): void"
  desc="进入小窗口"
  parent_name="ZegoWxLivePlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| object | [wxObject](./interface#wxobject) | 接口参数 |

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
</Note>
</ParamField>
<ParamField
  name="resume"
  prototype=" resume(object: [wxObject](./interface#wxobject)): void"
  desc="恢复拉流"
  parent_name="ZegoWxLivePlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| object | [wxObject](./interface#wxobject) | 恢复拉流接口参数 |

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
</Note>
</ParamField>
<ParamField
  name="snapshot"
  prototype=' snapshot(object: {     quality: "raw" | "compressed";     success: Function;     fail: Function;     complete: Function;   }): void'
  desc="截图"
  parent_name="ZegoWxLivePlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| object | \{     quality: "raw" \| "compressed";     success: Function;     fail: Function;     complete: Function;   \} | quality：图片的质量，默认原图。有效值为 raw、compressed，范围是 0-1，success：接口调用成功回调函数，fail：接口调用失败回调函数，complete：接口调用结束的回调函数（调用成功、失败都会执行） |

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
</Note>
</ParamField>

## ZegoWxLivePusher

### 方法
<ParamField
  name="start"
  prototype=" start(streamID: string, publishOption?: [ZegoWxPublishOption](./interface#zegowxpublishoption)): Promise&lt;void&gt;"
  desc="开始推流"
  parent_name="ZegoWxLivePusher"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| streamID | string | 推流流 ID |
| publishOption | [ZegoWxPublishOption](./interface#zegowxpublishoption) | 推流参数 |

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
</Note>
</ParamField>
<ParamField
  name="stop"
  prototype=" stop(): void"
  desc="停止推流"
  parent_name="ZegoWxLivePusher"
  parent_type="class">
<Note title="">
- **平台差异**：不支持支付宝小程序平台。
</Note>
</ParamField>
<ParamField
  name="pause"
  prototype=" pause(object: [wxObject](./interface#wxobject)): void"
  desc="暂停推流"
  parent_name="ZegoWxLivePusher"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| object | [wxObject](./interface#wxobject) | 暂停接口参数 |

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
</Note>
</ParamField>
<ParamField
  name="resume"
  prototype=" resume(object: [wxObject](./interface#wxobject)): void"
  desc="恢复推流"
  parent_name="ZegoWxLivePusher"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| object | [wxObject](./interface#wxobject) | 恢复推流接口参数 |

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
</Note>
</ParamField>
<ParamField
  name="startPreview"
  prototype=" startPreview(object: [wxObject](./interface#wxobject)): void"
  desc="开始预览"
  parent_name="ZegoWxLivePusher"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| object | [wxObject](./interface#wxobject) | 开始预览接口参数 |

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
</Note>
</ParamField>
<ParamField
  name="stopPreview"
  prototype=" stopPreview(object: [wxObject](./interface#wxobject)): void"
  desc="停止预览"
  parent_name="ZegoWxLivePusher"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| object | [wxObject](./interface#wxobject) |  |

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
</Note>
</ParamField>
<ParamField
  name="playBGM"
  prototype=" playBGM(object: {     url: string;     success: Function;     fail: Function;     complete: Function;   }): void"
  desc="播放 BGM"
  parent_name="ZegoWxLivePusher"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| object | \{     url: string;     success: Function;     fail: Function;     complete: Function;   \} | url： 加入背景混音的资源地址，范围是 0-1，success：接口调用成功回调函数，fail：接口调用失败回调函数，complete：接口调用结束的回调函数（调用成功、失败都会执行） |

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
</Note>
</ParamField>
<ParamField
  name="snapshot"
  prototype=' snapshot(object: {     quality: "raw" | "compressed";     success: Function;     fail: Function;     complete: Function;   }): void'
  desc="截图"
  parent_name="ZegoWxLivePusher"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| object | \{     quality: "raw" \| "compressed";     success: Function;     fail: Function;     complete: Function;   \} | quality：图片的质量，默认原图。有效值为 raw、compressed，范围是 0-1，success：接口调用成功回调函数，fail：接口调用失败回调函数，complete：接口调用结束的回调函数（调用成功、失败都会执行） |

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
</Note>
</ParamField>
<ParamField
  name="pauseBGM"
  prototype=" pauseBGM(object: [wxObject](./interface#wxobject)): void"
  desc="暂停 BGM"
  parent_name="ZegoWxLivePusher"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| object | [wxObject](./interface#wxobject) | 暂停 BGM 接口参数 |

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
</Note>
</ParamField>
<ParamField
  name="resumeBGM"
  prototype=" resumeBGM(object: [wxObject](./interface#wxobject)): void"
  desc="恢复 BGM"
  parent_name="ZegoWxLivePusher"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| object | [wxObject](./interface#wxobject) | 恢复BGM 接口参数 |

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
</Note>
</ParamField>
<ParamField
  name="stopBGM"
  prototype=" stopBGM(object: [wxObject](./interface#wxobject)): void"
  desc="停止背景音乐"
  parent_name="ZegoWxLivePusher"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| object | [wxObject](./interface#wxobject) | stop BGM 接口参数 |

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
</Note>
</ParamField>
<ParamField
  name="setBGMVolume"
  prototype=" setBGMVolume(object: {     volume: string;     success: Function;     fail: Function;     complete: Function;   }): void"
  desc="设置 BGM 音量大小"
  parent_name="ZegoWxLivePusher"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| object | \{     volume: string;     success: Function;     fail: Function;     complete: Function;   \} | volume： 音量大小，范围是 0-1，success：接口调用成功回调函数，fail：接口调用失败回调函数，complete：接口调用结束的回调函数（调用成功、失败都会执行） |

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
</Note>
</ParamField>
<ParamField
  name="setMICVolume"
  prototype=" setMICVolume(object: {     volume: string;     success: Function;     fail: Function;     complete: Function;   }): void"
  desc="设置麦克风音量大小"
  parent_name="ZegoWxLivePusher"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| object | \{     volume: string;     success: Function;     fail: Function;     complete: Function;   \} | volume： 音量大小，范围是 0.0-1.0，success：接口调用成功回调函数，fail：接口调用失败回调函数，complete：接口调用结束的回调函数（调用成功、失败都会执行） |

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
</Note>
</ParamField>
<ParamField
  name="switchCamera"
  prototype=" switchCamera(object: [wxObject](./interface#wxobject)): void"
  desc="切换前后摄像头"
  parent_name="ZegoWxLivePusher"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| object | [wxObject](./interface#wxobject) | 切换摄像头接口参数 |

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
</Note>
</ParamField>
<ParamField
  name="toggleTorch"
  prototype=" toggleTorch(object: [wxObject](./interface#wxobject)): void"
  desc="切换手电筒"
  parent_name="ZegoWxLivePusher"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| object | [wxObject](./interface#wxobject) | 切换手电筒接口参数 |

<Note title="">
- **平台差异**：不支持支付宝小程序平台。
</Note>
</ParamField>
