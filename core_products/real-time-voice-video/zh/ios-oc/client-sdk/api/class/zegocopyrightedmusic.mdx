---
docType: API
---

# ZegoCopyrightedMusic

## ZegoCopyrightedMusic

*Declared in `ZegoExpressDefines.h`*

### 方法
<ParamField
  name="setEventHandler:"
  prototype="- (void)setEventHandler:(nullable id<[ZegoCopyrightedMusicEventHandler](../../api-reference/class#zegocopyrightedmusiceventhandler)>) handler;"
  desc="设置版权音乐回调。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| handler | nullable id\<[ZegoCopyrightedMusicEventHandler](../../api-reference/class#zegocopyrightedmusiceventhandler)\> | 用于接收版权音乐回调的对象。 |

**详情**

设置版权音乐模块回调的接口，可接收歌曲播放状态相关回调通知。

<Note title="">
- **调用时机**：在创建版权音乐 [createCopyrightedMusic] 之后。
</Note>

<Warning title="">
- **支持版本**：2.13.0 及以上。
</Warning>
</ParamField>
<ParamField
  name="initCopyrightedMusic:callback:"
  prototype="- (void)initCopyrightedMusic:([ZegoCopyrightedMusicConfig](../../api-reference/class#zegocopyrightedmusicconfig) *) config callback:(nullable [ZegoCopyrightedMusicInitCallback](../../api-reference/class#zegocopyrightedmusicinitcallback)) callback;"
  desc="初始化版权音乐模块。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicConfig](../../api-reference/class#zegocopyrightedmusicconfig) * | 版权音乐配置。 |
| callback | nullable [ZegoCopyrightedMusicInitCallback](../../api-reference/class#zegocopyrightedmusicinitcallback) | 初始化结果 |

**详情**

初始化版权音乐，以便后续使用版权音乐的功能。

<Note title="">
- **调用时机**：在创建版权音乐 [createCopyrightedMusic] 和登录房间 [loginRoom] 之后。
</Note>

<Warning title="">
- **支持版本**：2.13.0 及以上。
- **注意事项**：1. 必须传入真实用户信息，否则无法获取歌曲资源进行播放。2. 初始化版权音乐时设置的用户 ID 和用户名需要和登录房间时设置的用户 ID 和用户名一致。
</Warning>
</ParamField>
<ParamField
  name="getCacheSize"
  prototype="- (unsigned long long)getCacheSize;"
  desc="获取缓存大小。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
在使用本模块时，可能产生一些缓存文件，可以通过本接口获取缓存文件的大小。

<Note title="">
- **业务场景**：用于展示 App 的缓存大小。
- **调用时机**：在创建版权音乐 [createCopyrightedMusic] 之后。
</Note>

<Warning title="">
- **支持版本**：2.13.0 及以上。
</Warning>

缓存文件大小，单位 byte。
</ParamField>
<ParamField
  name="clearCache"
  prototype="- (void)clearCache;"
  desc="清除缓存。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
在使用本模块时，可能产生一些缓存文件，可以通过本接口进行清除。

<Note title="">
- **业务场景**：用于清除 App 的缓存。
- **调用时机**：在创建版权音乐 [createCopyrightedMusic] 之后。
</Note>

<Warning title="">
- **支持版本**：2.13.0 及以上。
</Warning>
</ParamField>
<ParamField
  name="sendExtendedRequest:params:callback:"
  prototype="- (void)sendExtendedRequest:(NSString *) command params:(NSString *) params callback:(nullable [ZegoCopyrightedMusicSendExtendedRequestCallback](../../api-reference/class#zegocopyrightedmusicsendextendedrequestcallback)) callback;"
  desc="发送扩展功能请求。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| command | NSString * | 请求命令，具体支持的命令请参考 [https://doc-zh.zego.im/article/15077](https://doc-zh.zego.im/article/15077) |
| params | NSString * | 请求参数，每个请求命令具备对应的请求参数，请参考 [https://doc-zh.zego.im/article/15077](https://doc-zh.zego.im/article/15077) |
| callback | nullable [ZegoCopyrightedMusicSendExtendedRequestCallback](../../api-reference/class#zegocopyrightedmusicsendextendedrequestcallback) | 发送扩展功能请求结果 |

**详情**

发送扩展功能请求，访问版权歌曲库获取相关歌单、榜单歌曲信息。

<Note title="">
- **业务场景**：用于获取歌曲列表。
- **调用时机**：在初始化版权音乐 [initCopyrightedMusic] 成功之后。
</Note>

<Warning title="">
- **支持版本**：2.13.0 及以上。
</Warning>
</ParamField>
<ParamField
  name="getLrcLyric:vendorID:callback:"
  prototype="- (void)getLrcLyric:(NSString *) songID vendorID:([ZegoCopyrightedMusicVendorID](../../api-reference/enum#zegocopyrightedmusicvendorid)) vendorID callback:(nullable [ZegoCopyrightedMusicGetLrcLyricCallback](../../api-reference/class#zegocopyrightedmusicgetlrclyriccallback)) callback;"
  desc="获取 lrc 格式歌词。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| songID | NSString * | 歌曲或伴奏的 ID，一首歌的歌曲和伴奏共用同一个 ID。 |
| vendorID | [ZegoCopyrightedMusicVendorID](../../api-reference/enum#zegocopyrightedmusicvendorid) | 版权方。 |
| callback | nullable [ZegoCopyrightedMusicGetLrcLyricCallback](../../api-reference/class#zegocopyrightedmusicgetlrclyriccallback) | 获取 lrc 格式歌词结果 |

**详情**

获取 lrc 格式歌词，支持逐行解析歌词。

<Note title="">
- **业务场景**：用于逐行显示歌词。
- **调用时机**：在初始化版权音乐 [initCopyrightedMusic] 成功之后。
</Note>

<Warning title="">
- **支持版本**：3.2.1 及以上。
</Warning>
</ParamField>
<ParamField
  name="getLrcLyricWithConfig:callback:"
  prototype="- (void)getLrcLyricWithConfig:([ZegoCopyrightedMusicGetLyricConfig](../../api-reference/class#zegocopyrightedmusicgetlyricconfig) *) config callback:(nullable [ZegoCopyrightedMusicGetLrcLyricCallback](../../api-reference/class#zegocopyrightedmusicgetlrclyriccallback)) callback;"
  desc="获取 lrc 格式歌词。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicGetLyricConfig](../../api-reference/class#zegocopyrightedmusicgetlyricconfig) * | 获取歌词的配置。 |
| callback | nullable [ZegoCopyrightedMusicGetLrcLyricCallback](../../api-reference/class#zegocopyrightedmusicgetlrclyriccallback) | 获取 lrc 格式歌词结果 |

**详情**

获取 lrc 格式歌词，支持逐行解析歌词。

<Note title="">
- **业务场景**：用于逐行显示歌词。
- **调用时机**：在初始化版权音乐 [initCopyrightedMusic] 成功之后。
</Note>

<Warning title="">
- **支持版本**：3.12.0 及以上。
</Warning>
</ParamField>
<ParamField
  name="getKrcLyricByToken:callback:"
  prototype="- (void)getKrcLyricByToken:(NSString *) krcToken callback:(nullable [ZegoCopyrightedMusicGetKrcLyricByTokenCallback](../../api-reference/class#zegocopyrightedmusicgetkrclyricbytokencallback)) callback;"
  desc="获取逐字歌词。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| krcToken | NSString * | 通过调用 [requestResource] 点伴奏或点高潮片段、或调用 [getSharedResource] 接口获取分享资源时获取的 krcToken。详情请参考 [https://doc-zh.zego.im/article/15079#2_2](https://doc-zh.zego.im/article/15079#2_2) |
| callback | nullable [ZegoCopyrightedMusicGetKrcLyricByTokenCallback](../../api-reference/class#zegocopyrightedmusicgetkrclyricbytokencallback) | 获取逐字格式歌词结果。 |

**详情**

获取逐字歌词，支持逐字解析歌词。

<Note title="">
- **业务场景**：用于逐字显示歌词。
- **调用时机**：在初始化版权音乐 [initCopyrightedMusic] 成功之后。
</Note>

<Warning title="">
- **支持版本**：2.13.0 及以上。
</Warning>
</ParamField>
<ParamField
  name="requestResource:type:callback:"
  prototype="- (void)requestResource:([ZegoCopyrightedMusicRequestConfig](../../api-reference/class#zegocopyrightedmusicrequestconfig) *) config type:([ZegoCopyrightedMusicResourceType](../../api-reference/enum#zegocopyrightedmusicresourcetype)) type callback:(nullable [ZegoCopyrightedMusicRequestResourceCallback](../../api-reference/class#zegocopyrightedmusicrequestresourcecallback)) callback;"
  desc="获取音乐资源。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicRequestConfig](../../api-reference/class#zegocopyrightedmusicrequestconfig) * | 获取音乐资源的配置。 |
| type | [ZegoCopyrightedMusicResourceType](../../api-reference/enum#zegocopyrightedmusicresourcetype) | 版权音乐资源类型。 |
| callback | nullable [ZegoCopyrightedMusicRequestResourceCallback](../../api-reference/class#zegocopyrightedmusicrequestresourcecallback) | 获取音乐资源结果回调。 |

**详情**

可以获取到歌曲的基本信息（时长、歌名、歌手等），以及最重要的可以用于本地播放的资源 id，还有相关的一些鉴权信息。

<Note title="">
- **业务场景**：获取版权歌曲，用于本地播放与分享。
- **相关接口**：房间内某个用户调用此接口获取某音乐资源成功后，房间内其他用户可以调用 [getSharedResource] 接口免费获取一次该音乐资源。
- **调用时机**：在初始化版权音乐 [initCopyrightedMusic] 之后。
</Note>

<Warning title="">
- **支持版本**：3.0.2 及以上。
- **注意事项**：  1. 每个资源有唯一的资源 ID。
  2. 每调用一次此接口，都会触发一次计费，详情请咨询 ZEGO 商务人员。
  3. 调用本接口获取到的资源，具有时效性，有效时长为 “SDK 初始化生命周期结束” 与 “24 小时资源有效期” 两者之间的最小值。
</Warning>
</ParamField>
<ParamField
  name="requestResource:callback:"
  prototype="- (void)requestResource:([ZegoCopyrightedMusicRequestConfigV2](../../api-reference/class#zegocopyrightedmusicrequestconfigv2) *) config callback:(nullable [ZegoCopyrightedMusicRequestResourceCallback](../../api-reference/class#zegocopyrightedmusicrequestresourcecallback)) callback;"
  desc="获取音乐资源。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicRequestConfigV2](../../api-reference/class#zegocopyrightedmusicrequestconfigv2) * | 获取音乐资源的配置。 |
| callback | nullable [ZegoCopyrightedMusicRequestResourceCallback](../../api-reference/class#zegocopyrightedmusicrequestresourcecallback) | 获取音乐资源结果回调。 |

**详情**

可以获取到歌曲的基本信息（时长、歌名、歌手等），以及最重要的可以用于本地播放的资源 id，还有相关的一些鉴权信息。

<Note title="">
- **业务场景**：获取版权歌曲，用于本地播放与分享。
- **相关接口**：房间内某个用户调用此接口获取某音乐资源成功后，房间内其他用户可以调用 [getSharedResource] 接口免费获取一次该音乐资源。
- **调用时机**：在初始化版权音乐 [initCopyrightedMusic] 之后。
</Note>

<Warning title="">
- **支持版本**：3.12.0 及以上。
- **注意事项**：  1. 每个资源有唯一的资源 ID。
  2. 每调用一次此接口，都会触发一次计费，详情请咨询 ZEGO 商务人员。
  3. 调用本接口获取到的资源，具有时效性，有效时长为 “SDK 初始化生命周期结束” 与 “24 小时资源有效期” 两者之间的最小值。
</Warning>
</ParamField>
<ParamField
  name="getSharedResource:type:callback:"
  prototype="- (void)getSharedResource:([ZegoCopyrightedMusicGetSharedConfig](../../api-reference/class#zegocopyrightedmusicgetsharedconfig) *) config type:([ZegoCopyrightedMusicResourceType](../../api-reference/enum#zegocopyrightedmusicresourcetype)) type callback:(nullable [ZegoCopyrightedMusicGetSharedResourceCallback](../../api-reference/class#zegocopyrightedmusicgetsharedresourcecallback)) callback;"
  desc="获取分享歌曲资源。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicGetSharedConfig](../../api-reference/class#zegocopyrightedmusicgetsharedconfig) * | 获取分享歌曲资源的配置。 |
| type | [ZegoCopyrightedMusicResourceType](../../api-reference/enum#zegocopyrightedmusicresourcetype) | 版权音乐资源类型。 |
| callback | nullable [ZegoCopyrightedMusicGetSharedResourceCallback](../../api-reference/class#zegocopyrightedmusicgetsharedresourcecallback) | 获取分享音乐资源结果回调。 |

**详情**

可以获取到歌曲的基本信息（时长、歌名、歌手等），以及最重要的可以用于本地播放的资源 id，还有相关的一些鉴权信息。

<Note title="">
- **业务场景**：获取版权歌曲，用于本地播放。
- **相关接口**：房间内某个用户调用 [requestResource] 接口获取某音乐资源成功后，房间内其他用户可以调用此接口免费获取一次该音乐资源。
- **调用时机**：在初始化版权音乐 [initCopyrightedMusic] 之后。
</Note>

<Warning title="">
- **支持版本**：3.0.2 及以上。
- **注意事项**：每个资源有唯一的资源 ID。调用本接口获取到的资源，具有时效性，有效时长为 “SDK 初始化生命周期结束” 与 “24 小时资源有效期” 两者之间的最小值。
</Warning>
</ParamField>
<ParamField
  name="getSharedResource:callback:"
  prototype="- (void)getSharedResource:([ZegoCopyrightedMusicGetSharedConfigV2](../../api-reference/class#zegocopyrightedmusicgetsharedconfigv2) *) config callback:(nullable [ZegoCopyrightedMusicGetSharedResourceCallback](../../api-reference/class#zegocopyrightedmusicgetsharedresourcecallback)) callback;"
  desc="获取分享歌曲资源。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicGetSharedConfigV2](../../api-reference/class#zegocopyrightedmusicgetsharedconfigv2) * | 获取分享歌曲资源的配置。 |
| callback | nullable [ZegoCopyrightedMusicGetSharedResourceCallback](../../api-reference/class#zegocopyrightedmusicgetsharedresourcecallback) | 获取分享音乐资源结果回调。 |

**详情**

可以获取到歌曲的基本信息（时长、歌名、歌手等），以及最重要的可以用于本地播放的资源 id，还有相关的一些鉴权信息。

<Note title="">
- **业务场景**：获取版权歌曲，用于本地播放。
- **相关接口**：房间内某个用户调用 [requestResource] 接口获取某音乐资源成功后，房间内其他用户可以调用此接口免费获取一次该音乐资源。
- **调用时机**：在初始化版权音乐 [initCopyrightedMusic] 之后。
</Note>

<Warning title="">
- **支持版本**：3.12.0 及以上。
- **注意事项**：每个资源有唯一的资源 ID。调用本接口获取到的资源，具有时效性，有效时长为 “SDK 初始化生命周期结束” 与 “24 小时资源有效期” 两者之间的最小值。
</Warning>
</ParamField>
<ParamField
  name="download:callback:"
  prototype="- (void)download:(NSString *) resourceID callback:(nullable [ZegoCopyrightedMusicDownloadCallback](../../api-reference/class#zegocopyrightedmusicdownloadcallback)) callback;"
  desc="下载音乐资源。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| resourceID | NSString * | 歌曲或伴奏对应的资源 ID。 |
| callback | nullable [ZegoCopyrightedMusicDownloadCallback](../../api-reference/class#zegocopyrightedmusicdownloadcallback) | 下载载歌曲或伴奏结果。 |

**详情**

下载音乐资源，下载成功后才能进行播放。

<Note title="">
- **业务场景**：获取音乐资源授权后，利用本接口下载对应的资源。
- **调用时机**：在初始化版权音乐 [initCopyrightedMusic] 成功之后。
</Note>

<Warning title="">
- **支持版本**：2.13.0 及以上。
- **注意事项**：下载版权音乐资源受网络影响。
</Warning>
</ParamField>
<ParamField
  name="cancelDownload:"
  prototype="- (void)cancelDownload:(NSString *) resourceID;"
  desc="取消下载音乐资源。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| resourceID | NSString * | 歌曲或伴奏对应的资源 ID。 |

**详情**

取消下载音乐资源。

<Note title="">
- **业务场景**：当开始下载音乐资源后，利用本接口取消对应的下载任务。
- **调用时机**：在开始下载 [download] 之后。
</Note>

<Warning title="">
- **支持版本**：3.11.0 及以上。
- **注意事项**：当传入有效的 resourceID 时, 只会取消未完成的下载任务, 当传入空字符串时, 取消所有未完成的下载任务。
</Warning>
</ParamField>
<ParamField
  name="queryCache:"
  prototype="- (BOOL)queryCache:([ZegoCopyrightedMusicQueryCacheConfig](../../api-reference/class#zegocopyrightedmusicquerycacheconfig) *) config;"
  desc="查询资源是否有缓存。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicQueryCacheConfig](../../api-reference/class#zegocopyrightedmusicquerycacheconfig) * | 查询资源缓存的配置。 |

**详情**

查询资源是否有缓存

<Note title="">
- **业务场景**：可以用于在查询歌曲资源是否有缓存。
- **调用时机**：在初始化版权音乐 [initCopyrightedMusic] 成功之后。
</Note>

<Warning title="">
- **支持版本**：3.9.0 及以上。
</Warning>
</ParamField>
<ParamField
  name="queryCacheV2:"
  prototype="- (BOOL)queryCacheV2:([ZegoCopyrightedMusicQueryCacheConfigV2](../../api-reference/class#zegocopyrightedmusicquerycacheconfigv2) *) config;"
  desc="查询资源是否有缓存。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicQueryCacheConfigV2](../../api-reference/class#zegocopyrightedmusicquerycacheconfigv2) * | 查询资源缓存的配置。 |

**详情**

查询资源是否有缓存

<Note title="">
- **业务场景**：可以用于在查询歌曲资源是否有缓存。
- **调用时机**：在初始化版权音乐 [initCopyrightedMusic] 成功之后。
</Note>

<Warning title="">
- **支持版本**：3.12.0 及以上。
</Warning>
</ParamField>
<ParamField
  name="getDuration:"
  prototype="- (unsigned long long)getDuration:(NSString *) resourceID;"
  desc="获取歌曲或伴奏文件的播放时长。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| resourceID | NSString * | 歌曲或伴奏对应的资源 ID。 |

**详情**

获取歌曲或伴奏文件的播放时长。

<Note title="">
- **业务场景**：可以用于在视图上显示歌曲或伴奏的播放时长信息。
- **调用时机**：在初始化版权音乐 [initCopyrightedMusic] 成功之后。
</Note>

<Warning title="">
- **支持版本**：2.13.0 及以上。
</Warning>
</ParamField>
<ParamField
  name="setScoringLevel:"
  prototype="- (void)setScoringLevel:(int) level;"
  desc="设置打分难度级别。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| level | int | 打分难度级别。level 取值范围 0 ~ 4。打分难度由 0 到 4 逐级递减。 |

**详情**

用户可以通过该接口设置打分难度级别。

<Note title="">
- **调用时机**：调用 [initCopyrightedMusic] 初始化版权音乐成功后，调用 [startScore] 开始打分前。
- **默认值**：未调用该函数时，打分难度级别默认是 4。
</Note>

<Warning title="">
- **支持版本**：2.22.0 及以上。
- **注意事项**：该方法不支持动态设置，调用该方法成功后，下一次调用 [startScore] 生效。
</Warning>
</ParamField>
<ParamField
  name="startScore:pitchValueInterval:"
  prototype="- (int)startScore:(NSString *) resourceID pitchValueInterval:(int) pitchValueInterval;"
  desc="开始评分。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| resourceID | NSString * | 伴奏或高潮片段对应的资源 ID。 |
| pitchValueInterval | int | 实时音高线回调的时间间隔, 单位毫秒，默认 50 毫秒。 |

**详情**

开始评分后，将会根据设置的回调时间间隔，收到评分结果 [OnCurrentPitchValueUpdate] 回调。

<Note title="">
- **业务场景**：可以用于在视图上显示唱歌评分。
- **调用时机**：在获取到逐字歌词，并播放版权音乐的伴奏资源之后可调用。
</Note>

<Warning title="">
- **支持版本**：2.15.0 及以上。
- **注意事项**：目前仅支持在推流开始 [startPublishingStream] 后，才能开始打分。
</Warning>
</ParamField>
<ParamField
  name="pauseScore:"
  prototype="- (int)pauseScore:(NSString *) resourceID;"
  desc="暂停评分。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| resourceID | NSString * | 伴奏或高潮片段对应的资源 ID。 |

**详情**

暂停正在进行的评分，将停止 [OnCurrentPitchValueUpdate] 回调。

<Note title="">
- **业务场景**：正在评分时可调用此接口暂停评分功能。
- **调用时机**：正在评分时可调用。
</Note>

<Warning title="">
- **支持版本**：2.15.0 及以上。
</Warning>
</ParamField>
<ParamField
  name="resumeScore:"
  prototype="- (int)resumeScore:(NSString *) resourceID;"
  desc="恢复评分。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| resourceID | NSString * | 伴奏或高潮片段对应的资源 ID。 |

**详情**

恢复当前暂停的评分。

<Note title="">
- **业务场景**：当前有暂停的评分时可调用此接口恢复评分功能。
- **调用时机**：当前有暂停的评分时可调用。
</Note>

<Warning title="">
- **支持版本**：2.15.0 及以上。
</Warning>
</ParamField>
<ParamField
  name="stopScore:"
  prototype="- (int)stopScore:(NSString *) resourceID;"
  desc="结束评分。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| resourceID | NSString * | 伴奏或高潮片段对应的资源 ID。 |

**详情**

结束当前评分，将停止 [OnCurrentPitchValueUpdate] 回调，但依然可以正常获取平均分或总分。

<Note title="">
- **业务场景**：正在评分时可调用此接口结束评分。
- **调用时机**：正在评分时可调用。
</Note>

<Warning title="">
- **支持版本**：2.15.0 及以上。
</Warning>
</ParamField>
<ParamField
  name="resetScore:"
  prototype="- (int)resetScore:(NSString *) resourceID;"
  desc="重置评分。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| resourceID | NSString * | 伴奏或高潮片段对应的资源 ID。 |

**详情**

重置已经进行过的评分，将停止 [OnCurrentPitchValueUpdate] 回调，获取平均分或总分将为 0。

<Note title="">
- **业务场景**：常用于重唱同一首歌的场景。
- **调用时机**：已经进行过评分后可以调用。
</Note>

<Warning title="">
- **支持版本**：2.15.0 及以上。
</Warning>
</ParamField>
<ParamField
  name="getPreviousScore:"
  prototype="- (int)getPreviousScore:(NSString *) resourceID;"
  desc="获取上一句的评分。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| resourceID | NSString * | 伴奏或高潮片段对应的资源 ID。 |

**详情**

返回值是获取上一句的评分。

<Note title="">
- **业务场景**：可以用于在视图上显示每一句的评分。
- **调用时机**：在播放版权伴奏或高潮片段，并开始打分后可调用。
</Note>

<Warning title="">
- **支持版本**：2.15.0 及以上。
</Warning>
</ParamField>
<ParamField
  name="getAverageScore:"
  prototype="- (int)getAverageScore:(NSString *) resourceID;"
  desc="获取平均评分。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| resourceID | NSString * | 伴奏或高潮片段对应的资源 ID。 |

**详情**

获取平均评分。

<Note title="">
- **业务场景**：可以用于在视图上显示平均评分。
- **调用时机**：在播放版权伴奏或高潮片段，并开始打分后可调用。
</Note>

<Warning title="">
- **支持版本**：2.15.0 及以上。
</Warning>
</ParamField>
<ParamField
  name="getTotalScore:"
  prototype="- (int)getTotalScore:(NSString *) resourceID;"
  desc="获取总评分。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| resourceID | NSString * | 伴奏或高潮片段对应的资源 ID。 |

**详情**

获取总评分。

<Note title="">
- **业务场景**：可以用于在视图上显示总评分。
- **调用时机**：在播放版权伴奏或高潮片段，并开始打分后可调用。
</Note>

<Warning title="">
- **支持版本**：2.15.0 及以上。
</Warning>
</ParamField>
<ParamField
  name="getFullScore:"
  prototype="- (int)getFullScore:(NSString *) resourceID;"
  desc="获取满分。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| resourceID | NSString * | 伴奏或高潮片段对应的资源 ID。 |

**详情**

获取满分。

<Note title="">
- **业务场景**：可以用于在视图上显示满分。
- **调用时机**：在播放版权伴奏或高潮片段，并开始打分后可调用。
</Note>

<Warning title="">
- **支持版本**：3.0.2 及以上。
</Warning>
</ParamField>
<ParamField
  name="getStandardPitch:callback:"
  prototype="- (void)getStandardPitch:(NSString *) resourceID callback:(nullable [ZegoCopyrightedMusicGetStandardPitchCallback](../../api-reference/class#zegocopyrightedmusicgetstandardpitchcallback)) callback;"
  desc="获取标准音高数据。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| resourceID | NSString * | 伴奏或高潮片段对应的资源 ID。 |
| callback | nullable [ZegoCopyrightedMusicGetStandardPitchCallback](../../api-reference/class#zegocopyrightedmusicgetstandardpitchcallback) | 获取标准音高数据结果。 |

**详情**

获取标准音高数据。

<Note title="">
- **业务场景**：可以用于在视图上显示标准音高线。
</Note>

<Warning title="">
- **支持版本**：2.15.0 及以上。
- **注意事项**：只有伴奏或高潮片段资源才有音高线。
</Warning>
</ParamField>
<ParamField
  name="getCurrentPitch:"
  prototype="- (int)getCurrentPitch:(NSString *) resourceID;"
  desc="获取实时音高数据。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| resourceID | NSString * | 歌曲或伴奏对应的资源 ID。 |

**详情**

获取实时音高数据。

<Note title="">
- **业务场景**：可以用于在视图上显示实时音高线。
- **调用时机**：在播放版权伴奏或高潮片段，并开始打分后可调用。
</Note>

<Warning title="">
- **支持版本**：2.15.0 及以上。
</Warning>
</ParamField>
<ParamField
  name="requestSong:callback:"
  prototype="- (void)requestSong:([ZegoCopyrightedMusicRequestConfig](../../api-reference/class#zegocopyrightedmusicrequestconfig) *) config callback:(nullable [ZegoCopyrightedMusicRequestSongCallback](../../api-reference/class#zegocopyrightedmusicrequestsongcallback)) callback;"
  desc="【已废弃】点歌。此函数在 3.0.2 版本及以上已废弃，请使用 [requestResource] 函数代替。"
  suffixes={["deprecated"]}
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicRequestConfig](../../api-reference/class#zegocopyrightedmusicrequestconfig) * | 请求配置。 |
| callback | nullable [ZegoCopyrightedMusicRequestSongCallback](../../api-reference/class#zegocopyrightedmusicrequestsongcallback) | 点歌结果 |

**详情**

点歌不仅可以获取到歌曲的基本信息（时长、歌名、歌手等），还可以用于本地播放的资源 ID 或用于分享给他人播放的 share_token，还有相关的一些鉴权信息。支持按次点歌方式。

<Note title="">
- **业务场景**：获取版权歌曲，用于本地播放与分享。
- **调用时机**：在初始化版权音乐 [initCopyrightedMusic] 成功之后。
</Note>

<Warning title="">
- **支持版本**：2.13.0 及以上。
- **注意事项**：该接口会触发计费。一首歌曲可能存在普通、高清、无损三种音质，每种音质都有不同的资源文件，每个资源文件有唯一的资源 ID。
</Warning>

<Warning title="已废弃">此函数在 3.0.2 版本及以上已废弃，请使用 [requestResource] 函数代替。</Warning>
</ParamField>
<ParamField
  name="requestAccompaniment:callback:"
  prototype="- (void)requestAccompaniment:([ZegoCopyrightedMusicRequestConfig](../../api-reference/class#zegocopyrightedmusicrequestconfig) *) config callback:(nullable [ZegoCopyrightedMusicRequestAccompanimentCallback](../../api-reference/class#zegocopyrightedmusicrequestaccompanimentcallback)) callback;"
  desc="【已废弃】点伴奏。此函数在 3.0.2 版本及以上已废弃，请使用 [requestResource] 函数代替。"
  suffixes={["deprecated"]}
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicRequestConfig](../../api-reference/class#zegocopyrightedmusicrequestconfig) * | 请求配置。 |
| callback | nullable [ZegoCopyrightedMusicRequestAccompanimentCallback](../../api-reference/class#zegocopyrightedmusicrequestaccompanimentcallback) | 点伴奏结果。 |

**详情**

可以获取 songID 对应歌曲的伴奏资源，包括 resource_id、krc_token、share_token 等。支持按次点伴奏方式。

<Note title="">
- **业务场景**：获取版权歌曲伴奏，用于本地播放与分享。
- **调用时机**：在初始化版权音乐 [initCopyrightedMusic] 成功之后。
</Note>

<Warning title="">
- **支持版本**：2.13.0 及以上。
- **注意事项**：该接口会触发计费。
</Warning>

<Warning title="已废弃">此函数在 3.0.2 版本及以上已废弃，请使用 [requestResource] 函数代替。</Warning>
</ParamField>
<ParamField
  name="requestAccompanimentClip:callback:"
  prototype="- (void)requestAccompanimentClip:([ZegoCopyrightedMusicRequestConfig](../../api-reference/class#zegocopyrightedmusicrequestconfig) *) config callback:(nullable [ZegoCopyrightedMusicRequestAccompanimentClipCallback](../../api-reference/class#zegocopyrightedmusicrequestaccompanimentclipcallback)) callback;"
  desc="【已废弃】点伴奏高潮片段。此函数在 3.0.2 版本及以上已废弃，请使用 [requestResource] 函数代替。"
  suffixes={["deprecated"]}
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicRequestConfig](../../api-reference/class#zegocopyrightedmusicrequestconfig) * | 请求配置。 |
| callback | nullable [ZegoCopyrightedMusicRequestAccompanimentClipCallback](../../api-reference/class#zegocopyrightedmusicrequestaccompanimentclipcallback) | 点伴奏高潮片段结果。 |

**详情**

可以获取 songID 对应歌曲的高潮片段资源，包括 resource_id、krc_token、share_token 等。支持按次点伴奏高潮片段方式。

<Note title="">
- **业务场景**：获取版权歌曲伴奏高潮片段，用于本地播放与分享。
- **调用时机**：在初始化版权音乐 [initCopyrightedMusic] 成功之后。
</Note>

<Warning title="">
- **支持版本**：2.13.0 及以上。
- **注意事项**：该接口会触发计费。
</Warning>

<Warning title="已废弃">此函数在 3.0.2 版本及以上已废弃，请使用 [requestResource] 函数代替。</Warning>
</ParamField>
<ParamField
  name="getMusicByToken:callback:"
  prototype="- (void)getMusicByToken:(NSString *) shareToken callback:(nullable [ZegoCopyrightedMusicGetMusicByTokenCallback](../../api-reference/class#zegocopyrightedmusicgetmusicbytokencallback)) callback;"
  desc="【已废弃】获取歌曲或伴奏。此函数在 3.0.2 版本及以上已废弃，请使用 [getSharedResource] 函数代替。"
  suffixes={["deprecated"]}
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| shareToken | NSString * | 访问一首歌曲或伴奏的对应授权 token。 |
| callback | nullable [ZegoCopyrightedMusicGetMusicByTokenCallback](../../api-reference/class#zegocopyrightedmusicgetmusicbytokencallback) | 获取歌曲或伴奏结果。 |

**详情**

通过他人分享的歌曲或伴奏 token，获取对应的一首歌曲或伴奏。

<Note title="">
- **业务场景**：在线 KTV 场景中，合唱者收到主唱分享的歌曲或伴奏 token 后，通过本接口获取对应的一首歌曲或伴奏，然后在本端进行播放。
- **调用时机**：在初始化版权音乐 [initCopyrightedMusic] 成功之后。
</Note>

<Warning title="">
- **支持版本**：2.13.0 及以上。
</Warning>

<Warning title="已废弃">此函数在 3.0.2 版本及以上已废弃，请使用 [getSharedResource] 函数代替。</Warning>
</ParamField>
<ParamField
  name="getLrcLyric:callback:"
  prototype="- (void)getLrcLyric:(NSString *) songID callback:(nullable [ZegoCopyrightedMusicGetLrcLyricCallback](../../api-reference/class#zegocopyrightedmusicgetlrclyriccallback)) callback;"
  desc="【已废弃】获取 lrc 格式歌词。此函数在 3.2.1 版本及以上已废弃，请使用带 [vendorID] 参数的同名函数代替。"
  suffixes={["deprecated"]}
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| songID | NSString * | 歌曲或伴奏的 ID，一首歌的歌曲和伴奏共用同一个 ID。 |
| callback | nullable [ZegoCopyrightedMusicGetLrcLyricCallback](../../api-reference/class#zegocopyrightedmusicgetlrclyriccallback) | 获取 lrc 格式歌词结果 |

**详情**

获取 lrc 格式歌词，支持逐行解析歌词。

<Note title="">
- **业务场景**：用于逐行显示歌词。
- **调用时机**：在初始化版权音乐 [initCopyrightedMusic] 成功之后。
</Note>

<Warning title="">
- **支持版本**：2.13.0 及以上。
</Warning>

<Warning title="已废弃">此函数在 3.2.1 版本及以上已废弃，请使用带 [vendorID] 参数的同名函数代替。</Warning>
</ParamField>
<ParamField
  name="queryCache:type:"
  prototype="- (BOOL)queryCache:(NSString *) songID type:([ZegoCopyrightedMusicType](../../api-reference/enum#zegocopyrightedmusictype)) type;"
  desc="【已废弃】查询资源是否有缓存。此函数在 3.2.1 版本及以上已废弃，请使用带 [vendorID] 参数的同名函数代替。"
  suffixes={["deprecated"]}
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| songID | NSString * | 歌曲或伴奏的 ID，一首歌的歌曲和伴奏共用同一个 ID。 |
| type | [ZegoCopyrightedMusicType](../../api-reference/enum#zegocopyrightedmusictype) | 歌曲资源类型。 |

**详情**

查询资源是否有缓存。

<Note title="">
- **业务场景**：可以用于在查询歌曲资源是否有缓存。
- **调用时机**：在初始化版权音乐 [initCopyrightedMusic] 成功之后。
</Note>

<Warning title="">
- **支持版本**：2.13.0 及以上。
</Warning>

<Warning title="已废弃">此函数在 3.2.1 版本及以上已废弃，请使用带 [vendorID] 参数的同名函数代替。</Warning>
</ParamField>
<ParamField
  name="queryCache:type:vendorID:"
  prototype="- (BOOL)queryCache:(NSString *) songID type:([ZegoCopyrightedMusicType](../../api-reference/enum#zegocopyrightedmusictype)) type vendorID:([ZegoCopyrightedMusicVendorID](../../api-reference/enum#zegocopyrightedmusicvendorid)) vendorID;"
  desc="【已废弃】查询资源是否有缓存。此函数在 3.9.0 版本及以上已废弃，请使用带 [config] 参数的同名函数代替。"
  suffixes={["deprecated"]}
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| songID | NSString * | 歌曲或伴奏的 ID，一首歌的歌曲和伴奏共用同一个 ID。 |
| type | [ZegoCopyrightedMusicType](../../api-reference/enum#zegocopyrightedmusictype) | 歌曲资源类型。 |
| vendorID | [ZegoCopyrightedMusicVendorID](../../api-reference/enum#zegocopyrightedmusicvendorid) | 版权方。 |

**详情**

查询资源是否有缓存

<Note title="">
- **业务场景**：可以用于在查询歌曲资源是否有缓存。
- **调用时机**：在初始化版权音乐 [initCopyrightedMusic] 成功之后。
</Note>

<Warning title="">
- **支持版本**：3.2.1 及以上。
</Warning>

<Warning title="已废弃">此函数在 3.9.0 版本及以上已废弃，请使用带 [config] 参数的同名函数代替。</Warning>
</ParamField>
