---
docType: API
---

# ZegoMediaPlayerBlockDataHandler

## ZegoMediaPlayerBlockDataHandler

*Declared in `ZegoExpressEventHandler.h`*

### 方法
<ParamField
  name="mediaPlayer:blockBegin"
  prototype="- (void)mediaPlayer:([ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) *)mediaPlayer blockBegin:(NSString *)path;"
  desc="播放器开始抛出媒体资源块数据的回调。"
  parent_file="Declared in \`ZegoExpressEventHandler.h\`"
  parent_name="ZegoMediaPlayerBlockDataHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| mediaPlayer | [ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) * | 回调的播放器实例。 |
| path | NSString * | 媒体资源的路径。 |

**详情**

播放器开始抛出媒体资源块数据的回调。

<Note title="">
- **通知时机**：媒体播放器开始播放时会产生此回调。
</Note>

<Warning title="">
- **支持版本**：3.4.0 及以上。
- **使用限制**：播放版权音乐时，该回调会被默认禁用，若有需要，请联系 ZEGO 技术支持。
- **注意事项**：调用 [setBlockDataHandler] 接口设置后该回调才生效。
</Warning>
</ParamField>
<ParamField
  name="mediaPlayer:blockData:bufferSize"
  prototype="- (int)mediaPlayer:([ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) *)mediaPlayer blockData:(unsigned char *const)buffer bufferSize:(unsigned int)bufferSize;"
  desc="播放器抛出媒体资源块数据的回调。"
  parent_file="Declared in \`ZegoExpressEventHandler.h\`"
  parent_name="ZegoMediaPlayerBlockDataHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| mediaPlayer | [ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) * | 回调的播放器实例。 |
| buffer | unsigned char *const | 媒体资源块数据。 |
| bufferSize | unsigned int | 媒体资源块数据的长度。 |

**详情**

播放器抛出媒体资源块数据的回调。

<Note title="">
- **通知时机**：收到 [onBlockBegin] 回调后会产生此回调。
</Note>

<Warning title="">
- **支持版本**：3.4.0 及以上。
- **使用限制**：播放版权音乐时，该回调会被默认禁用，若有需要，请联系 ZEGO 技术支持。
- **注意事项**：调用 [setBlockDataHandler] 接口设置后该回调才生效。解密前后的数据大小应保持一致。
</Warning>

**返回值**

buffer 的大小, 失败返回 -1。
</ParamField>
