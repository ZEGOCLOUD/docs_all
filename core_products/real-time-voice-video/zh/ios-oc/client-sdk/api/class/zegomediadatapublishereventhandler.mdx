---
docType: API
---

# ZegoMediaDataPublisherEventHandler

## ZegoMediaDataPublisherEventHandler

*Declared in `ZegoExpressEventHandler.h`*

### 方法
<ParamField
  name="mediaDataPublisher:fileOpen"
  prototype="- (void)mediaDataPublisher:([ZegoMediaDataPublisher](../../api-reference/class#zegomediadatapublisher) *)publisher fileOpen:(NSString *)path;"
  desc="媒体推流器打开媒体文件的事件回调。"
  parent_file="Declared in \`ZegoExpressEventHandler.h\`"
  parent_name="ZegoMediaDataPublisherEventHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| publisher | [ZegoMediaDataPublisher](../../api-reference/class#zegomediadatapublisher) * | 回调的媒体推流器实例 |
| path | NSString * | 当前打开的文件路径 |

**详情**

媒体推流器打开媒体文件的事件回调。

<Note title="">
- **通知时机**：当媒体推流器开始加载某个媒体文件时会触发此回调。
</Note>

<Warning title="">
- **支持版本**：2.17.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="mediaDataPublisher:fileClose:errorCode"
  prototype="- (void)mediaDataPublisher:([ZegoMediaDataPublisher](../../api-reference/class#zegomediadatapublisher) *)publisher fileClose:(NSString *)path errorCode:(int)errorCode;"
  desc="媒体推流器关闭媒体文件的事件回调"
  parent_file="Declared in \`ZegoExpressEventHandler.h\`"
  parent_name="ZegoMediaDataPublisherEventHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| publisher | [ZegoMediaDataPublisher](../../api-reference/class#zegomediadatapublisher) * | 回调的媒体推流器实例 |
| errorCode | int | 错误码。0 为正常关闭文件。-1 为文件出错。-2 为路径异常。-3 为解码异常。-4 为时间戳不对。-5 为无法修正音画同步。-6 为不支持的音频采样率。详情联系技术支持。 |
| path | NSString * | 当前打开的文件路径 |

**详情**

媒体推流器关闭媒体文件的事件回调。

<Note title="">
- **通知时机**：当媒体推流器结束处理某个媒体文件时会触发此回调。
</Note>

<Warning title="">
- **支持版本**：2.17.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="mediaDataPublisher:fileDataBegin"
  prototype="- (void)mediaDataPublisher:([ZegoMediaDataPublisher](../../api-reference/class#zegomediadatapublisher) *)publisher fileDataBegin:(NSString *)path;"
  desc="媒体推流器开始读取到了媒体文件数据的事件回调。"
  parent_file="Declared in \`ZegoExpressEventHandler.h\`"
  parent_name="ZegoMediaDataPublisherEventHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| publisher | [ZegoMediaDataPublisher](../../api-reference/class#zegomediadatapublisher) * | 回调的媒体推流器实例 |
| path | NSString * | 当前打开的文件路径 |

**详情**

媒体推流器开始读取到数据的事件回调。

<Note title="">
- **通知时机**：当媒体推流器刚开始从媒体文件中读取到了媒体数据时会触发此回调。
</Note>

<Warning title="">
- **支持版本**：2.17.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="mediaDataPublisher:fileDataEnd"
  prototype="- (void)mediaDataPublisher:([ZegoMediaDataPublisher](../../api-reference/class#zegomediadatapublisher) *)publisher fileDataEnd:(NSString *)path;"
  desc="媒体推流器已完成一个文件推流的回调。"
  parent_file="Declared in \`ZegoExpressEventHandler.h\`"
  parent_name="ZegoMediaDataPublisherEventHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| publisher | [ZegoMediaDataPublisher](../../api-reference/class#zegomediadatapublisher) * | 回调的媒体推流器实例。 |
| path | NSString * | 完成推流的文件的路径。 |

**详情**

媒体推流器已经完成一个文件推流。

<Note title="">
- **通知时机**：当媒体推流器完成一个文件推流时会触发此回调。
</Note>

<Warning title="">
- **支持版本**：3.14.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
