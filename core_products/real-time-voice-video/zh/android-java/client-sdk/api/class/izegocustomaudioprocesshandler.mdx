---
docType: API
---

# IZegoCustomAudioProcessHandler

## IZegoCustomAudioProcessHandler

*Declared in `callback/IZegoCustomAudioProcessHandler.java`*

### 方法
<ParamField
  name="onProcessCapturedAudioData"
  prototype="public  void onProcessCapturedAudioData(ByteBuffer data, int dataLength, [ZegoAudioFrameParam](../../api-reference/class#zegoaudioframeparam) param, double timestamp)"
  desc="自定义音频处理本地采集 PCM 音频帧回调。"
  parent_file="Declared in \`callback/IZegoCustomAudioProcessHandler.java\`"
  parent_name="IZegoCustomAudioProcessHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| data | ByteBuffer | PCM 格式的音频数据。 |
| dataLength | int | 数据的长度。 |
| param | [ZegoAudioFrameParam](../../api-reference/class#zegoaudioframeparam) | 音频帧参数。 |
| timestamp | double | 音频帧时间戳，当启动采集时从 0 开始计时，单位为毫秒。 |

**详情**

在此回调中可以收到自定义音频处理本地采集的 PCM 音频帧，开发者可对音频帧数据进行修改，同时可以修改声道数、采样率。返回的时间戳可用于数据同步，如歌词等。如果需要经过耳返后的数据，请使用 [onProcessCapturedAudioDataAfterUsedHeadphoneMonitor] 回调。

<Note title="">
- **通知时机**：需要先调用 [enableCustomAudioCaptureProcessing] 开启功能后，并且在调用 [startPreview] 或 [startPublishingStream] 后，才会触发本回调函数。
</Note>

<Warning title="">
- **支持版本**：2.13.0 及以上。
- **使用限制**：无。
- **注意事项**：本回调为高频回调，请勿在本回调中做耗时操作。
</Warning>
</ParamField>
<ParamField
  name="onProcessCapturedAudioDataAfterUsedHeadphoneMonitor"
  prototype="public  void onProcessCapturedAudioDataAfterUsedHeadphoneMonitor(ByteBuffer data, int dataLength, [ZegoAudioFrameParam](../../api-reference/class#zegoaudioframeparam) param, double timestamp)"
  desc="自定义音频处理本地采集使用耳返后的 PCM 音频帧回调。"
  parent_file="Declared in \`callback/IZegoCustomAudioProcessHandler.java\`"
  parent_name="IZegoCustomAudioProcessHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| data | ByteBuffer | PCM 格式的音频数据 |
| dataLength | int | 数据的长度 |
| param | [ZegoAudioFrameParam](../../api-reference/class#zegoaudioframeparam) | 音频帧参数 |
| timestamp | double | 音频帧时间戳，当启动采集时从 0 开始计时，单位为毫秒。 |

**详情**

在此回调中可以收到自定义音频处理本地采集经耳返后的 PCM 音频帧，开发者可对音频帧数据进行修改，同时可以修改声道数、采样率。返回的时间戳可用于数据同步，如歌词等。

<Note title="">
- **通知时机**：需要先调用 [enableCustomAudioCaptureProcessingAfterHeadphoneMonitor] 开启功能后，并且在调用 [startPreview] 或 [startPublishingStream] 后，才会触发本回调函数。
</Note>

<Warning title="">
- **支持版本**：2.13.0 及以上。
- **注意事项**：本回调为高频回调，请勿在本回调中做耗时操作。
</Warning>
</ParamField>
<ParamField
  name="onAlignedAudioAuxData"
  prototype="public  void onAlignedAudioAuxData(ByteBuffer data, int dataLength, [ZegoAudioFrameParam](../../api-reference/class#zegoaudioframeparam) param)"
  desc="与伴奏对齐的音频混音数据回调"
  parent_file="Declared in \`callback/IZegoCustomAudioProcessHandler.java\`"
  parent_name="IZegoCustomAudioProcessHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| data | ByteBuffer | PCM 格式的音频数据。 |
| dataLength | int | 数据的长度。 |
| param | [ZegoAudioFrameParam](../../api-reference/class#zegoaudioframeparam) | 音频帧参数。 |

**详情**

在此回调中可以收到与伴奏对齐后的音频混音数据，开发者可以进行本地录制。

<Note title="">
- **通知时机**：需要先调用 [enableAlignedAudioAuxData] 开启抛出对齐的音频混音数据功能，并且在调用 [startPublishingStream] 或 [startRecordingCapturedData] 后，才会触发本回调函数。
</Note>

<Warning title="">
- **支持版本**：2.22.0 及以上。
- **使用限制**：若要从此回调中获取媒体播放器的音频混音数据，媒体播放器需要调用 [enableAux]、[start]。
- **注意事项**：本回调为高频回调，请勿在本回调中做耗时操作，且该回调中数据不允许修改。
</Warning>
</ParamField>
<ParamField
  name="onBeforeAudioPrepAudioData"
  prototype="public  void onBeforeAudioPrepAudioData(ByteBuffer data, int dataLength, [ZegoAudioFrameParam](../../api-reference/class#zegoaudioframeparam) param)"
  desc="SDK 内部音频前处理前的音频数据回调。"
  parent_file="Declared in \`callback/IZegoCustomAudioProcessHandler.java\`"
  parent_name="IZegoCustomAudioProcessHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| data | ByteBuffer | PCM 格式的音频数据。 |
| dataLength | int | 数据的长度。 |
| param | [ZegoAudioFrameParam](../../api-reference/class#zegoaudioframeparam) | 音频帧参数。 |

**详情**

在此回调中可以收到 SDK 内部音频前处理前的音频数据。

<Note title="">
- **通知时机**：需要先调用 [enableBeforeAudioPrepAudioData] 开启抛出 SDK 内部音频前处理前的音频数据功能，并且在调用 [startPublishingStream] 后，才会触发本回调函数。
</Note>

<Warning title="">
- **支持版本**：3.11.0 及以上。
- **使用限制**：无。
- **注意事项**：本回调为高频回调，请勿在本回调中做耗时操作，且该回调中数据不允许修改。
</Warning>
</ParamField>
<ParamField
  name="onProcessRemoteAudioData"
  prototype="public  void onProcessRemoteAudioData(ByteBuffer data, int dataLength, [ZegoAudioFrameParam](../../api-reference/class#zegoaudioframeparam) param, String streamID, double timestamp)"
  desc="自定义音频处理远端拉流 PCM 音频帧回调。"
  parent_file="Declared in \`callback/IZegoCustomAudioProcessHandler.java\`"
  parent_name="IZegoCustomAudioProcessHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| data | ByteBuffer | PCM 格式的音频数据。 |
| dataLength | int | 数据的长度 |
| param | [ZegoAudioFrameParam](../../api-reference/class#zegoaudioframeparam) | 音频帧参数。 |
| streamID | String | 对应的流 ID。 |
| timestamp | double | 音频帧时间戳，当启动采集时从 0 开始计时，单位为毫秒。 |

**详情**

在此回调中可以收到自定义音频处理远端拉流 PCM 音频帧，开发者可对音频帧数据进行修改，同时可以修改声道数、采样率。返回的时间戳可用于数据同步，如歌词等。

<Note title="">
- **通知时机**：需要先调用 [enableCustomAudioRemoteProcessing] 开启功能后，并且在调用 [startPlayingStream] 后，才会触发本回调函数。
</Note>

<Warning title="">
- **支持版本**：2.13.0 及以上。
- **使用限制**：无。
- **注意事项**：本回调为高频回调，请勿在本回调中做耗时操作。
</Warning>
</ParamField>
<ParamField
  name="onProcessPlaybackAudioData"
  prototype="public  void onProcessPlaybackAudioData(ByteBuffer data, int dataLength, [ZegoAudioFrameParam](../../api-reference/class#zegoaudioframeparam) param, double timestamp)"
  desc="自定义音频处理 SDK 播放音频的 PCM 音频帧回调。"
  parent_file="Declared in \`callback/IZegoCustomAudioProcessHandler.java\`"
  parent_name="IZegoCustomAudioProcessHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| data | ByteBuffer | PCM 格式的音频数据。 |
| dataLength | int | 数据的长度。 |
| param | [ZegoAudioFrameParam](../../api-reference/class#zegoaudioframeparam) | 音频帧参数。 |
| timestamp | double | 音频帧时间戳，以开启采集从 0 开始计时，单位为毫秒（当有且仅有一路流的时候才有效）。 |

**详情**

在此回调中可以收到自定义音频处理 SDK 播放音频的 PCM 音频帧，开发者可对音频帧数据进行修改，同时可以修改声道数、采样率。返回的时间戳可用于数据同步，如歌词等。

<Note title="">
- **通知时机**：需要先调用 [enableCustomAudioPlaybackProcessing] 开启功能后，并且在调用 [startPublishingStream], [startPlayingStream], [startPreview], [createMediaPlayer] 或 [createAudioEffectPlayer] 后，才会触发本回调函数。
</Note>

<Warning title="">
- **支持版本**：2.13.0 及以上。
- **使用限制**：无。
- **注意事项**：本回调为高频回调，请勿在本回调中做耗时操作。
</Warning>
</ParamField>
