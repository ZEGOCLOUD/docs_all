# AI å˜å£°

- - -

@@@AI_VoiceChanger_intro@@@

## å‰ææ¡ä»¶

åœ¨å®ç° AI å˜å£°åŠŸèƒ½ä¹‹å‰ï¼Œè¯·ç¡®ä¿ï¼š

@@@Express-Video_Prerequisites@@@

## ä½¿ç”¨æ­¥éª¤

å¼€å‘è€…å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤å®Œæˆ AI å˜å£°çš„ç›¸å…³è®¾ç½®ï¼š

### 1 å¼€å¯æƒé™

è¯·ç¡®è®¤æ‚¨å·²è”ç³» ZEGO æŠ€æœ¯æ”¯æŒè¿›è¡Œç‰¹æ®Šç¼–åŒ…ï¼Œå¹¶å¼€å¯äº† AI å˜å£°æƒé™ã€‚

### 2 åˆå§‹åŒ–å’Œç™»å½•æˆ¿é—´

åˆå§‹åŒ–å’Œç™»å½•æˆ¿é—´çš„å…·ä½“æµç¨‹ï¼Œè¯·å‚è€ƒå®ç°è§†é¢‘é€šè¯æ–‡æ¡£ä¸­çš„ â€œ[3.1 åˆ›å»ºå¼•æ“\|_blank](!Integration/Solution_Implementation#initialization)â€ åŠ â€œ[3.2 ç™»å½•æˆ¿é—´\|_blank](!Integration/Solution_Implementation#createroom)â€ã€‚

### 3 åˆå§‹åŒ– AI å˜å£°å¼•æ“å®ä¾‹

1. è°ƒç”¨ [createAIVoiceChanger\|_blank](/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEngineAIVoiceChanger/createAIVoiceChanger.html) æ¥å£ï¼Œåˆ›å»º AI å˜å£°å¼•æ“å®ä¾‹ã€‚

    å½“å‰åªæ”¯æŒåŒæ—¶åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œè°ƒç”¨ [destroyAIVoiceChanger\|_blank](/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEngineAIVoiceChanger/destroyAIVoiceChanger.html) æ¥å£é”€æ¯å®ä¾‹ä¹‹å‰ï¼Œå†æ¬¡åˆ›å»ºå°†è¿”å› nullã€‚

    ```dart
    // åˆ›å»º AI å˜å£°å¼•æ“å®ä¾‹
    var changer = await ZegoExpressEngine.instance.createAIVoiceChanger();
    ```

2. ç›‘å¬ AI å˜å£°å¼•æ“äº‹ä»¶å›è°ƒã€‚

    ```dart
    // è®¾ç½® AI å˜å£°å¼•æ“äº‹ä»¶å›è°ƒ
    ZegoExpressEngine.onAIVoiceChangerInit = (aiVoiceChanger, errorCode) {
      print('ğŸ“½ï¸ [onAIVoiceChangerInit] '
          'idx: ${aiVoiceChanger.getIndex()}, errorCode: $errorCode');
    };

    ZegoExpressEngine.onAIVoiceChangerUpdate = (aiVoiceChanger, errorCode) {
      print('ğŸ“½ï¸ [onAIVoiceChangerUpdate] '
          'idx: ${aiVoiceChanger.getIndex()}, errorCode: $errorCode');
    };

    ZegoExpressEngine.onAIVoiceChangerGetSpeakerList =
        (aiVoiceChanger, errorCode, speakerList) {
      String content = '';
      int index = 0;
      for (ZegoAIVoiceChangerSpeakerInfo info in speakerList) {
        index += 1;
        content += '$index:[ID:${info.id}][name:${info.name}];';
      }
      print('ğŸ“½ï¸ [onAIVoiceChangerGetSpeakerList] '
          'idx: ${aiVoiceChanger.getIndex()}, errorCode: $errorCode, speakerList: $content');
    };
    ```

3. è°ƒç”¨ [ZegoAIVoiceChanger.initEngine\|_blank](/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoAIVoiceChanger/initEngine.html) æ¥å£ï¼Œåˆå§‹åŒ– AI å˜å£°å¼•æ“å®ä¾‹ã€‚

    <div class = "mk-warning">

    [ZegoAIVoiceChanger.initEngine\|_blank](/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoAIVoiceChanger/initEngine.html) æ¥å£éœ€è¦åœ¨ [startPublishingStream\|_blank](/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEnginePublisher/startPublishingStream.html) æ¥å£ä¹‹å‰è°ƒç”¨æ‰æœ‰æ•ˆã€‚
    </div>

    ```dart
    // åˆå§‹åŒ– AI å˜å£°å¼•æ“
    await _changer?.initEngine();
    ```

### 4 æ›´æ–° AI å˜å£°å¼•æ“æ¨¡å‹

è°ƒç”¨ [ZegoAIVoiceChanger.update\|_blank](/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoAIVoiceChanger/update.html) æ¥å£ï¼Œæ›´æ–° AI å˜å£°å¼•æ“æ¨¡å‹ã€‚**AI å˜å£°å¼•æ“æ¨¡å‹æ–‡ä»¶è¾ƒå¤§ï¼Œé¦–æ¬¡æ›´æ–°æ—¶è€—æ—¶ä¼šæ¯”è¾ƒé•¿ï¼Œè¯·æ‚¨è€å¿ƒç­‰å¾…ã€‚**

```dart
// æ›´æ–° AI å˜å£°å¼•æ“æ¨¡å‹
await _changer?.update();
```

### 5 è·å–éŸ³è‰²åˆ—è¡¨

è°ƒç”¨ [ZegoAIVoiceChanger.getSpeakerList\|_blank](/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoAIVoiceChanger/getSpeakerList.html) æ¥å£ï¼Œè·å–å¯ç”¨éŸ³è‰²åˆ—è¡¨ã€‚

å¯ç”¨éŸ³è‰²åˆ—è¡¨å°†é€šè¿‡ [ZegoExpressEngine.onAIVoiceChangerGetSpeakerList\|_blank](/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEngine/onAIVoiceChangerGetSpeakerList.html) å›è°ƒæ¥å£è¿”å›ã€‚

```dart
// è·å–å¯ç”¨éŸ³è‰²åˆ—è¡¨
await _changer?.getSpeakerList();
```

### 6 è®¾ç½®ç›®æ ‡éŸ³è‰²

è°ƒç”¨ [ZegoAIVoiceChanger.setSpeaker\|_blank](/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoAIVoiceChanger/setSpeaker.html) æ¥å£ï¼Œè®¾ç½®éŸ³è‰²ï¼ŒéŸ³è‰²çš„é€‰æ‹©å¯ä»¥é€šè¿‡ [5 è·å–éŸ³è‰²åˆ—è¡¨](!AI_VoiceChanger#3_5) è·å–ã€‚

è®¾ç½®éŸ³è‰² ID ä¸º 0 æ—¶ï¼Œè¡¨ç¤ºä½¿ç”¨åŸå£°ã€‚

```dart
// è®¾ç½®éŸ³è‰²
int speakerID = 0; // éŸ³è‰² ID
await _changer?.setSpeaker(speakerID);
```

### 7 é”€æ¯ AI å˜å£°å¼•æ“å®ä¾‹

åŠŸèƒ½ä½¿ç”¨ç»“æŸåï¼Œè°ƒç”¨ [destroyAIVoiceChanger\|_blank](/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEngineAIVoiceChanger/destroyAIVoiceChanger.html) æ¥å£ï¼Œé”€æ¯ AI å˜å£°å¼•æ“å®ä¾‹ï¼Œé‡Šæ”¾éº¦å…‹é£ç­‰èµ„æºã€‚

```dart
// é”€æ¯ AI å˜å£°å¼•æ“å®ä¾‹
await ZegoExpressEngine.instance.destroyAIVoiceChanger(_changer);
```
