---
articleID: 10903
date: "2025-06-23"
---
# Audio Effect Player

- - -

## Feature Overview

<Warning title="Warning">

This document does not apply to the Web platform.

</Warning>


Audio effects refer to short sound effects played to enhance realism or set the atmosphere. For example: During live streaming, there are often scenarios for playing sound effects, such as applause, gift sound effects, notification sounds, etc. In games, sometimes bullet sounds, collision sounds, etc. also need to be played.

ZEGO Express SDK provides an audio effect player (ZegoAudioEffectPlayer) to uniformly manage audio effects, supporting audio effect playback (multiple audio effects can be played simultaneously), playback control (such as pause, volume adjustment, setting playback progress), and preloading audio effects.


import Content from '/core_products/real-time-voice-video/en/snippets/audio-effect-player-pre.mdx'

<Content />

## Download Sample Source Code

Please refer to [Download Sample Source Code](/real-time-video-flutter/quick-start/run-example-code) to get the source code.

For related source code, please check files in the "lib/topics/AudioAdvanced/audio_effect_player" directory.

## Prerequisites

Before implementing the audio effect player feature, ensure:

- You have integrated ZEGO Express SDK in your project and implemented basic real-time audio and video features. For details, please refer to [Quick Start - Integrating SDK](/real-time-video-flutter/quick-start/integrating-sdk) and [Quick Start - Implementing Video Call](/real-time-video-flutter/quick-start/implementing-video-call).
- You have created a project in the [ZEGOCLOUD Console](https://console.zego.im) and applied for a valid AppID and AppSign. For details, please refer to [Console - Project Information](/console/project-info).


## Usage Steps

### 1 Create Audio Effect Player

Call the [createAudioEffectPlayer](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEngineAudioEffectPlayer/createAudioEffectPlayer.html) method of [ZegoExpressEngine](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEngine-class.html) to create an audio effect player instance.

<Warning title="Warning">
The engine currently only supports creating one instance at a time. Exceeding this limit will return `null`.
</Warning>



```dart
var audioEffectPlayer = await ZegoExpressEngine.instance.createAudioEffectPlayer();
```
### 2 (Optional) Preload Resources

<Accordion title="Preload Resources" defaultOpen="false">
In scenarios where the same audio effect is played frequently, to optimize the performance of repeated file reading and decoding, the SDK provides the feature to preload audio effect files into memory.

Call the [loadResource](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoAudioEffectPlayer/loadResource.html) method to load audio effect resources. You can listen to the loading result through the "callback" parameter, and play only after loading is successful. It supports preloading up to 12 local audio effect files at the same time (network resources are not supported), and the duration of a single audio effect file cannot exceed 30 seconds, otherwise loading will fail.

When the loaded audio effect is no longer needed, you can call the [unloadResource](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoAudioEffectPlayer/unloadResource.html) method to unload it and release related resources. Otherwise, the SDK will automatically unload loaded audio effects when the [ZegoAudioEffectPlayer](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoAudioEffectPlayer-class.html) instance is released.

<Note title="Note">

Preloading is optional. It is recommended to improve performance or when a specific audio effect needs to be played repeatedly.

</Note>



```dart
// Load audio effect resource
audioEffectPlayer?.loadResource(audioEffectID, "/storage/emulated/0/Android/data/im.zego.express.example.video/files/3-s.mp3").then((ZegoAudioEffectPlayerLoadResourceResult result) {
});

// Unload audio effect resource
audioEffectPlayer?.unloadResource(audioEffectID);
```
</Accordion>

### 3 Playback Control

**(Optional) Set Event Callback for Audio Effect Player**

<Accordion title="Audio Effect Player Event Callback Setup" defaultOpen="false">
You can implement the [ZegoExpressEngine.onAudioEffectPlayStateUpdate](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEngine/onAudioEffectPlayStateUpdate.html) callback to listen for notifications of "audio effect playback state changes".

```dart
ZegoExpressEngine.onAudioEffectPlayStateUpdate = (ZegoAudioEffectPlayer audioEffectPlayer, int audioEffectID, ZegoAudioEffectPlayState state, int errorCode) {
};
```
</Accordion>


**Start Playback**

Call the [start](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoAudioEffectPlayer/start.html) method to play audio effects. Currently, it supports playing up to 12 audio effects simultaneously, and only local files are supported. Network resources are not supported. The "audioEffectID" must be globally unique.

* If the audio effect has been preloaded through the [loadResource](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoAudioEffectPlayer/loadResource.html) method, you only need to pass the "audioEffectID" from preloading, and the "path" (path to the audio effect resource) field can be left empty.
* If you need to repeat playback, you can configure the number of repetitions through "playCount" in [ZegoAudioEffectPlayConfig](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoAudioEffectPlayConfig-class.html). If set to "0", it means infinite repeat playback until the user manually calls [stop](https://doc-zh.zego.im/article/api?doc=Express_Video_SDK_API~Java_android~class~im-zego-zegoexpress-zego-audio-effect-player#stop) to stop.

```dart
int audioEffectID = 1;
int playCount = 10;
bool isPublishOut = true;
var config = ZegoAudioEffectPlayConfig(playCount, isPublishOut);
audioEffectPlayer?.start(audioEffectID, path: "/storage/emulated/0/Android/data/im.zego.express.example.video/files/3-s.mp3", config: config);

```

**Pause/Resume/Stop Playback**

1. Call the [pause](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoAudioEffectPlayer/pause.html) method to pause the audio effect specified by "audioEffectID". Call the [pauseAll](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoAudioEffectPlayer/pauseAll.html) method to pause all currently playing audio effects.
2. After pausing audio effect playback, call the [resume](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoAudioEffectPlayer/resume.html) method to resume playback of the audio effect specified by "audioEffectID". Call the [resumeAll](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoAudioEffectPlayer/resumeAll.html) method to resume all paused audio effects.
3. Call the [stop](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoAudioEffectPlayer/stop.html) method to stop the audio effect specified by "audioEffectID". Call the [stopAll](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoAudioEffectPlayer/stopAll.html) method to stop all audio effects.

```dart
audioEffectPlayer?.pause(audioEffectID);
audioEffectPlayer?.resume(audioEffectID);
audioEffectPlayer?.stop(audioEffectID);
audioEffectPlayer?.pauseAll();
audioEffectPlayer?.resumeAll();
audioEffectPlayer?.stopAll();
```

**Adjust Volume**

1. Call the [setVolume](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoAudioEffectPlayer/setVolume.html) method to set the volume of the audio effect specified by "audioEffectID". The value range is [0, 200], and the default value is "100".
2. Call the [setVolumeAll](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoAudioEffectPlayer/setVolumeAll.html) method to set the volume of all audio effects simultaneously. The value range is [0, 200], and the default value is "100".

```dart
int volume =70;
audioEffectPlayer?.setVolume(audioEffectID, volume);

// Set volume for all audio effects
audioEffectPlayer?.setVolumeAll(volume);
```

**Playback Progress Control**

1. Call the [getTotalDuration](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoAudioEffectPlayer/getTotalDuration.html) method to get the total duration of a single audio effect.
2. Call the [getCurrentProgress](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoAudioEffectPlayer/getCurrentProgress.html) method to get the current playback progress of the audio effect.
3. Call the [seekTo](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoAudioEffectPlayer/seekTo.html) method to set the playback progress as needed.

```dart
// Get total duration of audio effect
var totalDuration = await audioEffectPlayer?.getTotalDuration(audioEffectID);
// Get current playback progress of audio effect
var progress = await audioEffectPlayer?.getCurrentProgress(audioEffectID);
// Set playback progress
audioEffectPlayer?.seekTo(audioEffectID, 1).then((ZegoAudioEffectPlayerSeekToResult result) {
});
```

### 4 Destroy Audio Effect Player

After using the audio effect player, you need to call the [destroyAudioEffectPlayer](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEngineAudioEffectPlayer/destroyAudioEffectPlayer.html) method in time to destroy it and release the resources occupied by the player.

```dart
engine.destroyAudioEffectPlayer(audioEffectPlayer!);
```

## FAQ

1. **What is the difference between Audio Effect Player and Media Player?**

<table>

    <tbody><tr>
    <th>Player Type</th>
    <th>Difference</th>
    </tr>
    <tr>
    <td>
    Media Player
    </td>
    <td>Mainly used for playing videos and longer music, supports playing network resources. At most 4 player instances can be created at the same time, and one instance can only play one audio or video.</td>
    </tr>
    <tr>
    <td>Audio Effect Player</td>
    <td>Mainly used for playing shorter audio effects, does not support playing network resources. Only one audio effect player instance can be created at the same time. The audio effect player supports concurrent playback of multiple audio effects, and one instance can play up to 12 audio effects simultaneously.</td>
    </tr>
    </tbody></table>
