---
articleID: 17125
date: "2024-01-30"
---
# Cloud Proxy

- - -

## Overview

By setting the SDK's cloud proxy interface, all traffic corresponding to the SDK is forwarded through the cloud proxy server to achieve communication with RTC and L3 ([Live Streaming](/real-time-video-flutter/live-streaming/low-latency-live-streaming)).

<Warning title="Caution">

- The "Cloud Proxy" feature is a `paid` feature. If you need to use this feature, please contact ZEGO business personnel for consultation.
- After activating the cloud proxy service, if the enterprise has configured a firewall, you also need to add the IP, domain name, and port used by the cloud proxy to the enterprise firewall whitelist.
</Warning>

<Frame width="512" height="auto" caption="">
  <img src="https://doc-media.zego.im/sdk-doc/Pics/Express/Cloud_Proxy.png" />
</Frame>

Currently ZEGO provides two modes: `Standard Cloud Proxy` and `Smart Cloud Proxy`. Developers can choose the appropriate cloud proxy mode according to your business needs.

<table>

<tbody><tr>
<th></th>
<th>Standard Cloud Proxy</th>
<th>Smart Cloud Proxy</th>
</tr>
<tr>
<td>Solution Description</td>
<td>When initializing the SDK, use the cloud proxy mode directly.</td>
<td><p>When initializing the SDK, prioritize using the direct connection network mode for attempts.</p><ol><li>If there is network connectivity within 1 second, continue using the direct connection mode.</li><li><p>If there is no network connectivity within 1 second:</p><ul><li>If the current is a cellular network, continue to stay in direct connection mode and retry.</li><li><b>If the current is a non-cellular network, switch to cloud proxy mode.</b></li></ul></li></ol><p>When the network switches, if network connectivity is detected and the current mode is direct connection mode, it will directly attempt according to the SDK initialization logic.</p></td>
</tr>
<tr>
<td>Applicable Scenarios</td>
<td>When you are in restrictive network environments such as hospitals, government, or company intranets, and want to use public cloud RTC or L3 services.</td>
<td>When your users are in scenarios with both public networks and restrictive networks, and you cannot determine the user's network usage, and want to prioritize using public cloud RTC or L3 services, and use cloud proxy services when public cloud RTC or L3 services are unavailable.</td>
</tr>
</tbody></table>

## Prerequisites

Before using cloud proxy, please ensure:
- You have created a project in the [ZEGOCLOUD Console](https://console.zegocloud.com) and obtained a valid AppID and AppSign. For details, please refer to [Console - Project Information](/console/project-info).
- You have integrated the ZEGO Express SDK into your project and implemented basic audio and video publishing and playing functions. For details, please refer to [Quick Start - Integration](/real-time-video-flutter/quick-start/integrating-sdk) and [Quick Start - Implementation](/real-time-video-flutter/quick-start/implementing-video-call).


## Usage Process

### 1 Activate cloud proxy service

Apply to ZEGOCLOUD Technical Support to activate the cloud proxy service. After activating the service, developers will obtain a cloud proxy domain name and port information.

### 2 Configure cloud proxy

Call [setCloudProxyConfig](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEngine/setCloudProxyConfig.html) to configure cloud proxy.

<Warning title="Caution">

This interface must be called before calling the [createEngine](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEngine/createEngine.html) interface to create the engine.

</Warning>



- Interface prototype

```dart
/**
 * Set cloud proxy.
 *
 * This interface needs to be called before createEngine.
 * After calling this interface, all network requests and sending of Express SDK will be forwarded through the cloud proxy.
 *
 * @param proxyList List of cloud proxy information, supports setting multiple cloud proxy information.
 * @param token Authentication token. If the customer uses appsign authentication, this can be empty. Otherwise, token must be filled in.
 * @param enable Whether to enable cloud proxy.
 */
static Future<void> setCloudProxyConfig(
      List<ZegoProxyInfo> proxyList, String token, bool enable)
```

- Call example

```dartr
var proxy = ZegoProxyInfo();
//Domain name and port, filled in by the developer according to the information obtained when activating the cloud proxy service
proxy.hostName = "xxxxxxxxxxx.zego.im";
proxy.port = 1080;
List<ZegoProxyInfo> list = [];
list.add(proxy);
ZegoExpressEngine.setCloudProxyConfig(list, "", true);
```

## FAQ

**1. How to solve if cloud proxy setting does not take effect**
- Ensure that the cloud proxy service has been activated and a valid proxy port and domain name have been obtained.
- Ensure that cloud proxy is set correctly before [createEngine](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEngine/createEngine.html), and mid-way modification is not supported.

**2. Is there a local proxy solution?**

Yes, for details please refer to [Local Proxy](/real-time-video-android-java/communication/local-proxy).
