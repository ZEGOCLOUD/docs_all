---
articleID: 18180
---
# Upgrade Guide for Version 3.8.1 and Above

- - -

<Warning title="Caution">

- If your current SDK is lower than version 3.8.1 and you need to upgrade to any SDK version 3.8.1 or above, please be sure to read this document.
- In addition, it is recommended that you refer to the change notes between the two versions in the [Release Notes](/real-time-video-flutter/client-sdk/release-notes) based on the **current version number** and **upgrade target version number**, and check your business-related interfaces.

</Warning>



In version 3.8.1, the following API interfaces were deprecated.

## onPublisherSendAudioFirstFrame

Deprecated the original `onPublisherSendAudioFirstFrame` callback interface and replaced it with the同名 [onPublisherSendAudioFirstFrame](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEngine/onPublisherSendAudioFirstFrame.html) callback, adding a channel parameter to support callback of related event activities by publishing stream channel.

- From original

    ```dart
    static void Function()? onPublisherSendAudioFirstFrame;
    ```

- Changed to

    ```dart
    static void Function(ZegoPublishChannel channel)? onPublisherSendAudioFirstFrame;
    ```

**Adaptation Method**

<Tabs>
<Tab title="Before 3.8.1">
```dart
    ZegoExpressEngine.onPublisherSendAudioFirstFrame = () {
        // ...
    };
    ```
</Tab>
<Tab title="Version 3.8.1 and above">
```dart
    ZegoExpressEngine.onPublisherSendAudioFirstFrame = (channel) {
        // ...
    };
    ```
</Tab>
</Tabs>
## setAudioReceiveRange

Deprecated the original member function `setAudioReceiveRange` interface of the [ZegoRangeAudio](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoRangeAudio-class.html) class and replaced it with the同名 [setAudioReceiveRange](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoRangeAudio/setAudioReceiveRange.html) interface, extending the parameter [ZegoReceiveRangeParam](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoReceiveRangeParam-class.html) type to support setting the audio reception range for range audio.


- From original

    ```dart
    Future<void> setAudioReceiveRange(double range);
    ```

- Changed to

    ```dart
    Future<int> setAudioReceiveRange(ZegoReceiveRangeParam param);
    ```

**Adaptation Method**

<Tabs>
<Tab title="Before 3.8.1">
```dart
rangeAudio.setAudioReceiveRange(1.0);
```
</Tab>
<Tab title="Version 3.8.1 and above">
```dart
var param = ZegoReceiveRangeParam(0.5, 1.0);
rangeAudio.setAudioReceiveRange(param);
```
</Tab>
</Tabs>


## setStreamVocalRange

Deprecated the original member function `setStreamVocalRange` interface of the [ZegoRangeAudio](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoRangeAudio-class.html) class and replaced it with the同名 [setStreamVocalRange](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoRangeAudio/setStreamVocalRange.html) interface, extending the parameter [ZegoVocalRangeParam](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoVocalRangeParam-class.html) type to support setting the vocal range of a single stream for range audio.

- From original

    ```dart
    Future<void> setStreamVocalRange(String streamID, double vocalRange);
    ```

- Changed to

    ```dart
    Future<int> setStreamVocalRange(String streamID, ZegoVocalRangeParam param);
    ```

**Adaptation Method**

<Tabs>
<Tab title="Before 3.8.1">
```dart
rangeAudio.setStreamVocalRange(streamid, 1.0);
```
</Tab>
<Tab title="Version 3.8.1 and above">
```dart
var param = ZegoVocalRangeParam(0.5, 1.0);
rangeAudio.setStreamVocalRange(streamid, param);
```
</Tab>
</Tabs>
