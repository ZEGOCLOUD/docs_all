---
articleID: 10901
date: "2024-02-29"
---
# Watermark and Screenshot

- - -

## Overview

<Warning title="Caution">

This document does not apply to the Web platform.

</Warning>



When you need to set copyright owner logos for educational courseware and other scenarios, you can use the SDK's watermark feature to achieve this.

This document mainly describes how to use the SDK to implement watermark and screenshot features.

## Demo Source Code Download

Please refer to [Download Demo Source Code](/real-time-video-flutter/quick-start/run-example-code) to obtain the source code.

For related source code, please check the files in the "lib\topics\OtherFunctions\beauty_watermark_snapshot" directory.

## Prerequisites

Before implementing watermark and screenshot features, please ensure:

- You have created a project in the [ZEGOCLOUD Console](https://console.zegocloud.com) and obtained a valid AppID and AppSign. For details, please refer to [Console - Project Information](/console/project-info).
- You have integrated the ZEGO Express SDK into your project and implemented basic audio and video publishing and playing functions. For details, please refer to [Quick Start - Integration](/real-time-video-flutter/quick-start/integrating-sdk) and [Quick Start - Implementation](/real-time-video-flutter/quick-start/implementing-video-call).


## Usage Steps

### Watermark

Call [ZegoWatermark](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoWatermark-class.html) to configure a watermark image URL and the size and position of the watermark in the picture.

Call the [setPublishWatermark](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEnginePublisher/setPublishWatermark.html) interface to set the publishing stream watermark.

<Warning title="Caution">

Watermark images only support two image formats: "PNG" and "JPEG", that is, image files with three suffixes: ".png", ".jpg", and ".jpeg".

</Warning>



The [imageURL](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoWatermark/imageURL.html) parameter in the [ZegoWatermark](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoWatermark-class.html) object supports passing two path formats.

<Accordion title="Absolute Path" defaultOpen="false">
- Android: `file://[Absolute path of the image on the Android device]`, you need to store the image in a directory on the Android device, for example, the Android App's private directory: "/sdcard/Android/data/im.zego.zegoexpressapp/ZegoLogo.png".
- iOS: `file://[Absolute path of the image in Bundle]`, you need to store the image anywhere in the project Bundle, obtain the absolute path of the image through the `pathForResource:ofType:` method of "NSBundle", and add the `file://` prefix.

```dart
// Supports images in JPG and PNG formats
String imageURL = "file:///sdcard/Android/data/im.zego.zegoexpressapp/ZegoLogo.png";
// The watermark layout takes the upper left corner as the origin of the coordinate system, and the area cannot exceed the size of the encoding resolution setting. If empty, it means canceling the watermark
var layout = Rect.fromLTWH(0,0,300,600);
var watermark = ZegoWatermark(imageURL, layout);
// Set watermark, supports dynamic modification during publishing stream
ZegoExpressEngine.instance.setPublishWatermark.setPublishWatermark(watermark: watermark, isPreviewVisible: true);
```
</Accordion>

<Accordion title="Assets" defaultOpen="false">
`flutter-asset://[Image resource name]`: You need to declare the relative path of the resource file in `pubspec.yaml`.

<Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/Flutter/ZegoExpressEngine/flutter_assets.png" /></Frame>

```dart
// Supports images in JPG and PNG formats
String imageURL = "flutter-asset://resources/images/ZegoLogo.png";

// The watermark layout takes the upper left corner as the origin of the coordinate system, and the area cannot exceed the size of the encoding resolution setting. If empty, it means canceling the watermark
var layout = Rect.fromLTWH(0,0,300,600);
var watermark = ZegoWatermark(imageURL,layout);
// Set watermark, supports dynamic modification during publishing stream
ZegoExpressEngine.instance.setPublishWatermark.setPublishWatermark(watermark: watermark, isPreviewVisible: true);
```
</Accordion>

### Screenshot

1. After publishing stream, call the [takePublishStreamSnapshot](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEnginePublisher/takePublishStreamSnapshot.html) interface to take a screenshot of the publishing stream picture.

    ```dart
    ZegoExpressEngine.instance.takePublishStreamSnapshot().then((ZegoPublisherTakeSnapshotResult result) {
        // Save image
    });
    ```

2. After playing stream, call the [takePlayStreamSnapshot](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEnginePlayer/takePlayStreamSnapshot.html) interface to take a screenshot of the playing stream picture.

    ```dart
    ZegoExpressEngine.instance.takePlayStreamSnapshot(streamID).then((ZegoPlayerTakeSnapshotResult result) {
        // Save image
    });
    ```

## FAQ

1. **How to specify [imageURL](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoWatermark/imageURL.html) in [ZegoWatermark](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoWatermark-class.html)?**

    Supports images in JPG and PNG formats. If the image path is an absolute path on the device, [imageURL](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoWatermark/imageURL.html) must use `file://` as prefix + absolute path on the device;

   If the path is in Assets format and the image is placed in the Flutter project, you need to first declare the relative path of the resource file in `pubspec.yaml`, and [imageURL](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoWatermark/imageURL.html) must use "flutter-asset://" as prefix.

2. **How to specify `layout` in [ZegoWatermark](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoWatermark-class.html)?**

    The layout of the watermark cannot exceed the currently set video encoding resolution of the publishing stream. For setting the publishing encoding resolution, please refer to the [setVideoConfig](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEnginePublisher/setVideoConfig.html) interface.
