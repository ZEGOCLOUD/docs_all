---
articleID: 16869
date: "2024-01-02"
---
# Super Resolution

- - -

## Feature Overview

Super Resolution (SR) can double the pixels in width and height of the video stream at the playing stream end. For example: If the original resolution of the stream received by the playing end is 640p x 360p, after super resolution processing, the resolution will be upgraded to 1280p x 720p.


### Effect Demonstration

- Portrait

|Before SR|After SR|
|-|-|
|<Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/VideoSuperResolution/portrait_360.jpg" /></Frame>| <Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/VideoSuperResolution/portrait_720.jpg" /></Frame>|




- **Text**

|Before SR|After SR|
|-|-|
|<Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/VideoSuperResolution/text_360.jpg" /></Frame>| <Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/VideoSuperResolution/text_720.jpg" /></Frame>|



### Use Cases

<Warning title="Warning">
Since the same device can only enable super resolution for 1 stream at the same time, the super resolution feature is only suitable for scenarios with only a single stream or 1 focused stream.
</Warning>

- 1v1 Video Call scenarios
- Live Streaming scenarios: In most live streaming scenarios, only 1 stream is played, and super resolution can be enabled for the single stream. When playing multiple streams, super resolution can be enabled for the focused streamer.
- Online Education: Online education scenarios may involve multiple streams, but there will be 1 focused stream (such as the teacher), and super resolution can be enabled for the teacher's whiteboard or the speaking student's screen to achieve enhancement effects.

### Feature Advantages

- **Low Power Consumption**: After enabling 360p super resolution, taking OPPO R11 as an example, the current increase is less than 60mA, with minimal extra power consumption.
- **Low Heat Generation**: After enabling 360p super resolution for half an hour, taking OPPO R11 (Snapdragon 660) as an example, the temperature rise is less than 1.5°C.
- **High Performance**: For devices that can enable super resolution, more than 95% have a CPU increase of less than 2% and a memory increase of less than 100MB.



## Prerequisites

<Warning title="Warning">


Enabling super resolution will consume additional system resources. To ensure user experience, currently only one stream can have super resolution enabled at a time, and the original resolution of the stream is not recommended to exceed 640p × 360p.


</Warning>



Before using the super resolution feature, ensure:

- You have contacted ZEGOCLOUD Technical Support to request a special build.
- You have integrated ZEGO Express SDK in your project and implemented basic real-time audio and video features. For details, please refer to [Quick Start - Integrating SDK](/real-time-video-android-java/quick-start/integrating-sdk).
- You have created a project in the [ZEGOCLOUD Console](https://console.zego.im) and applied for a valid AppID and AppSign. For details, please refer to [Console - Project Management](/console-old/project-management).


## Implementation

### Initialization and Room Login

For the specific process of initialization and room login, please refer to "[Create Engine](/real-time-video-flutter/quick-start/implementing-video-call)" and "[Login Room](/real-time-video-flutter/quick-start/implementing-video-call)" in the Implementing Video Call documentation.

### Listen for Super Resolution State Callback

After enabling super resolution, you can confirm whether super resolution is successfully enabled through [onPlayerVideoSuperResolutionUpdate](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEngine/onPlayerVideoSuperResolutionUpdate.html).

The super resolution state definitions are as follows:

|Enum Value|Description|
|-|-|
|ZegoSuperResolutionState.Off| Super resolution is disabled.|
|ZegoSuperResolutionState.On|Super resolution is enabled.|

You can get the video resolution after enabling super resolution through [onPlayerVideoSizeChanged](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEngine/onPlayerVideoSizeChanged.html).

```dart
// Notification when the played video resolution changes
ZegoExpressEngine.onPlayerVideoSizeChanged(String streamID, int width, int height) {

}
// Notification when super resolution state changes
ZegoExpressEngine.onPlayerVideoSuperResolutionUpdate(String streamID, ZegoSuperResolutionState state, int errorCode) {
    if(state == ZegoSuperResolutionState.On)
    {
        // Super resolution enabled
    }
    else
    {
        // Super resolution disabled
        if(errorCode == 0){
            // Normal shutdown
        }
        else if(errorCode == 1004004){
            // Device does not support super resolution
        }
        else if(errorCode == 1004005){
            // Number of super resolution streams exceeds limit, only one stream supported
        }
        else if(errorCode == 1004006){
            // Original resolution exceeds limit
        }
        else if(errorCode == 1004007){
            // Insufficient device performance
        }
        else if(errorCode == 1004008){
            // Super resolution is initializing, do not operate frequently
        }
    }
}
```

### Initialize Video Super Resolution

Before using super resolution, you need to call the [initVideoSuperResolution](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEnginePlayer/initVideoSuperResolution.html) method to initialize super resolution.

<Warning title="Warning">

Initializing video super resolution is a time-consuming operation. It only needs to be executed once during the SDK lifecycle. Frequent initialization and de-initialization of super resolution is not recommended.

</Warning>



```dart
ZegoExpressEngine.instance.initVideoSuperResolution();
```

### Enable Video Super Resolution

Developers can choose to enable video super resolution before or during stream playing. Taking enabling super resolution for stream "STREAM_ID" before playing as an example:

```dart
ZegoExpressEngine.instance.enableVideoSuperResolution("STREAM_ID", true);
```

After enabling super resolution, you need to listen to the callback [onPlayerVideoSuperResolutionUpdate](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEngine/onPlayerVideoSuperResolutionUpdate.html) to confirm whether this super resolution enabling was successful.

<Warning title="Warning">

To facilitate super resolution state management, it is recommended to enable the next super resolution after receiving the super resolution state callback.

</Warning>



### Start Playing Stream

Call [startPlayingStream](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEnginePlayer/startPlayingStream.html) and pass "STREAM_ID" to play the remote user's audio and video stream.

```dart
var playCanvas = ZegoCanvas.view(playView);
ZegoExpressEngine.instance.startPlayingStream("STREAM_ID", canvas:playCanvas);
```

### Disable Video Super Resolution

When super resolution is not needed or an error occurs during the enabling process (insufficient performance or original video resolution exceeds the limit), you can disable super resolution to release system resources.

```dart
ZegoExpressEngine.instance.enableVideoSuperResolution("STREAM_ID", false);
```

### Stop Playing Stream

After stopping stream playing, the SDK will automatically disable super resolution and release the occupied system resources.

```dart
ZegoExpressEngine.instance.stopPlayingStream("STREAM_ID");
```

### Deinitialize Video Super Resolution

When video super resolution is no longer needed, you can call the [uninitVideoSuperResolution](https://doc-zh.zego.im/unique-api/express-video-sdk/zh/dart_flutter/zego_express_engine/ZegoExpressEnginePlayer/uninitVideoSuperResolution.html) method to deinitialize video super resolution to save memory.

```dart
ZegoExpressEngine.instance.uninitVideoSuperResolution();
```
