---
articleID: 21303
date: "2024-11-13"
---
# Traffic Control

---

## Feature Overview

Traffic control refers to the SDK dynamically adjusting the video publishing bitrate based on the local and remote current network status, automatically adapting to the current network environment and network fluctuations, thereby ensuring smooth audio/video pushing.



## Usage Steps

### 1 Enable Traffic Control

When publishing a stream, call the [startPublishingStream](@startPublishingStream) interface and enable traffic control through the [enableTrafficControl](https://doc-zh.zego.im/article/api?doc=Express_Video_SDK_API~javascript_web~interface~ZegoWebPublishOption#enable-traffic-control) parameter to dynamically adjust the video publishing bitrate and automatically adapt to the current network environment and network fluctuations. If traffic control is disabled, stuttering may occur when network bandwidth is insufficient.

<Warning title="Note">

Usage Limitation: Only supports RTC streaming.

</Warning>




```javascript
// Enable traffic control
zg.startPublishingStream(streamID, stream, {
    enableTrafficControl: true
};
```

### 2 (Optional) Set Trigger Factors for Traffic Control

When enabling traffic control, you can set the factors of concern through the [trafficControlFocusOnMode](https://doc-zh.zego.im/article/api?doc=Express_Video_SDK_API~javascript_web~interface~ZegoWebPublishOption#traffic-control-focus-on-mode) parameter.
- [TrafficControlFocusOnLocalOnly](https://doc-zh.zego.im/article/api?doc=Express_Video_SDK_API~javascript_web~enum~TrafficControlFocusOnMode#traffic-control-focus-on-local-only): Only focus on local network, i.e., do not consider remote network status, only perform traffic control based on local network.
- [TrafficControlFocusOnRemote](https://doc-zh.zego.im/article/api?doc=Express_Video_SDK_API~javascript_web~enum~TrafficControlFocusOnMode#traffic-control-focus-on-remote): Focus on local network and also take into account remote network, currently only effective in 1v1 scenarios. That is, when there is only one [RTC publishing stream](/glossary/term-explanation#rtc-推流), and only one [RTC playing stream](/glossary/term-explanation#rtc-推流) or only one [L3 playing stream](/glossary/term-explanation#拉流), SDK will automatically enable downstream traffic control. The playing end notifies the publishing end of its network situation, the publishing end estimates its own upstream bandwidth and the playing end's downstream bandwidth, and takes the minimum value from the upstream and downstream bandwidth estimates to adjust its own upstream bitrate, ensuring smooth connection.


```javascript
// Enable traffic control, set trigger factors for traffic control
zg.startPublishingStream(streamID, stream, {
    enableTrafficControl: true,
    trafficControlFocusOnMode: 0
};
```


### 3 Set Traffic Control Video Bitrate Minimum Value (Can be Skipped in Audio-only Scenarios)

When enabling traffic control, you can set the video bitrate minimum value (default value is "0") and sending mode through the [trafficControlMinVideoBitrate](https://doc-zh.zego.im/article/api?doc=Express_Video_SDK_API~javascript_web~interface~ZegoWebPublishOption#traffic-control-min-video-bitrate) parameter, allowing the SDK to send at a very low frame rate when the network does not reach the minimum bitrate for sending video.


```javascript
// Enable traffic control, traffic control video bitrate
zg.startPublishingStream(streamID, stream, {
    enableTrafficControl: true,
    trafficControlMinVideoBitrate: 200
};
```
