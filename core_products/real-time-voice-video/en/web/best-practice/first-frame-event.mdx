---
articleID: 21560
---

# Listening to First Frame Events of Video Streams

- - -

## Function Overview

This article demonstrates how to listen to the first frame event of video streams during video playback.


## Prerequisites

Before obtaining the first frame of video streams, ensure that:

- You have created a project in the [ZEGOCLOUD Console](https://console.zego.im) and applied for a valid AppID and Server address. For details, please refer to [Console - Project Information](https://doc-zh.zego.im/article/12107).
- You have integrated the ZEGO Express SDK into your project and implemented basic stream publishing and playing functionality. For details, please refer to [Quick Start - Integration](../quick-start/integrating-sdk.mdx#integration) and [Quick Start - Implementation](../quick-start/implementing-video-call.mdx#implementation-process).

## Download Sample Source Code

Please refer to [Download Sample Source Code](../quick-start/run-example-code.mdx#get-sample-source-code) to get the source code.

For related source code, please check the files in the "src/Examples/Scenes/VideoForMultipleUsers" directory of the ZEGO Express SDK.

## Listening to RTC Video Stream First Frame Events

### Using ZegoStreamView to Play Video Streams

1. Create a ZegoExpressEngine instance

Create a [ZegoExpressEngine](@-ZegoExpressEngine) instance, passing the obtained AppID to the "appID" parameter and the access server address to the "server" parameter.


<Note title="Note">

- The "server" is the access server address. For how to obtain it, please refer to [Console - Project Information](https://doc-zh.zego.im/article/12107#2_2).
- For SDK version 3.6.0 and above, server can be set to an empty string, null, undefined, or any character, but it cannot be left empty.
</Note>


```javascript
const zg = new ZegoExpressEngine(appID, server);
```

2. Listen to local stream first frame events

Create a local video stream through the [createZegoStream](@createZegoStream) interface, and register the [canPlayVideo](https://doc-zh.zego.im/article/api?doc=Express_Video_SDK_API~javascript_web~interface~ZegoLocalStreamEvent#can-play-video) event of the local video stream to listen for the completion of the first frame loading of the video stream.

```javascript
// Local stream listen to first frame
const localZegoStream = await zg.createZegoStream();
localZegoStream.on('canPlayVideo', ()=> {
    // First frame TODO ...
});
```

3. Listen to remote stream first frame events

Get the remote video stream through the [startPlayingStream](@startPlayingStream) interface and get the media stream playback component instance through the [createRemoteStreamView](@createRemoteStreamView) interface, then register the [canPlayVideo](https://doc-zh.zego.im/article/api?doc=Express_Video_SDK_API~javascript_web~interface~StreamViewEvent) event of the media stream playback component to listen for the completion of the first frame loading of the video stream.

```javascript
// Remote stream listen to first frame, streamID refers to the remote stream ID
const remoteStream = await zg.startPlayingStream(streamID);
const remoteView = zg.createRemoteStreamView(remoteStream);
remoteView.on('canPlayVideo', ()=> {
    // First frame TODO ...
});
```
### Using Browser Native Video Tag to Play Video Streams

Through the [canplay](https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/canplay_event) event of the `video` element, you can listen for the completion of the first frame loading of the video stream.

```javascript
const video = document.querySelector("video");

video.addEventListener("canplay", ()=> {
    // First frame TODO ...
});
```

## Listening to CDN Video Stream First Frame Events

### Using ZegoExpressPlayer to Play Video Streams

Through the [onCanPlay](https://doc-zh.zego.im/article/api?doc=Express_Video_SDK_API~javascript_web~class~ZegoExpressPlayer#on-can-play) event of [ZegoExpressPlayer](https://doc-zh.zego.im/article/18429), you can listen for the completion of the first frame loading of the video stream.

```javascript
// zg is a ZegoExpressEngine instance
const player = new ZegoExpressPlayer(zg, {
    container: document.getElementById("player-container"), // Player container ID
    mode: "live"
});
player.onCanPlay = ()=> {
    // First frame TODO...
}
```

### Using Third-party CDN Players to Play Video Streams

When using third-party CDN players to play video streams, you need to find the relevant video stream first frame events from the corresponding official website.
