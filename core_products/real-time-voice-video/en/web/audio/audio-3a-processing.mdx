---
articleID: 9673
date: "2025-03-05"
---
# Audio 3A Processing

- - -

## Function Overview

During real-time video calls, you can perform 3A processing on audio, mainly including AEC (Acoustic Echo Cancellation), AGC (Automatic Gain Control), and ANS (Active Noise Suppression), to improve call quality and user experience.

- AEC (Acoustic Echo Cancellation): Filters captured audio data to reduce echoes in the audio.
- AGC (Automatic Gain Control): After enabling this feature, the SDK can automatically adjust the microphone volume to adapt to near and far sound pickup, keeping the volume stable.
- ANS (Active Noise Suppression): Identifies and eliminates background noise in the sound. After enabling this feature, the voice can be clearer.

## Download Sample Source Code

Please refer to [Download Sample Source Code](/real-time-video-web/quick-start/run-example-code) to get the source code.

For related source code, please check the files in the "src/Examples/AdvancedAudioProcessing/AEC_ANS_AGC" directory.

## Default Configuration and Recommended Configuration

The default configuration and recommended configuration for audio 3A processing in the SDK are as follows:

<table>

  <tbody><tr>
    <th>Parameter Name</th>
    <th>Parameter Description</th>
    <th>Default Configuration</th>
    <th>Recommended Configuration</th>
  </tr>
  <tr>
    <td>[AEC](https://doc-zh.zego.im/article/api?doc=Express_Video_SDK_API~javascript_web~interface~ZegoCamera#aec)</td>
    <td>Turn on/off acoustic echo cancellation.</td>
    <td>Before this parameter is called, the SDK internally automatically determines whether to use AEC. Once this parameter is called, the SDK no longer makes automatic judgments.</td>
    <td>In general usage scenarios, it is recommended not to modify this configuration and keep the default.</td>
  </tr>
  <tr>
    <td>[AGC](https://doc-zh.zego.im/article/api?doc=Express_Video_SDK_API~javascript_web~interface~ZegoCamera#agc)</td>
    <td>Turn on/off automatic gain control.</td>
    <td>Before this parameter is called, the SDK internally automatically determines whether to use AGC. Once this parameter is called, the SDK no longer makes automatic judgments.</td>
    <td><ul><li>In ordinary voice chat scenarios, it is recommended to use the default configuration.</li><li>In music radio scenarios, it is recommended not to enable automatic gain control to restore the original voice.</li><li>In education scenarios, such as large classes, small classes, and 1v1, etc., it is recommended to enable automatic gain control.</li></ul></td>
  </tr>
  <tr>
    <td>[ANS](https://doc-zh.zego.im/article/api?doc=Express_Video_SDK_API~javascript_web~interface~ZegoCamera#ans)</td>
    <td>Turn on/off noise suppression.</td>
    <td>Before this parameter is called, the SDK internally automatically determines whether to use ANS. Once this parameter is called, the SDK no longer makes automatic judgments.</td>
    <td>In general usage scenarios, it is recommended not to modify this configuration and keep the default.</td>
  </tr>
</tbody></table>


## Prerequisites

Before using audio 3A processing, ensure that:

- You have created a project in the [ZEGOCLOUD Console](https://console.zego.im) and applied for a valid AppID and Server address. For details, please refer to [Console - Project Information](/console/project-info).
- You have integrated the ZEGO Express SDK into your project and implemented basic stream publishing and playing functionality. For details, please refer to [Quick Start - Integration](/real-time-video-web/quick-start/integrating-sdk) and [Quick Start - Implementation](/real-time-video-web/quick-start/implementing-video-call).

## Usage Steps

Call the [createZegoStream](@createZegoStream) interface to create a [ZegoLocalStream](@-ZegoLocalStream) instance object localStream, and configure 3A switches through the [camera](https://doc-zh.zego.im/article/api?doc=Express_Video_SDK_API~javascript_web~interface~ZegoStreamOptions#camera) video data capture method.


When capturing source data through camera and microphone, use the "ANS", "AGC", and "AEC" parameters in the [ZegoCaptureMicrophone](@-ZegoCaptureMicrophone) object to set noise suppression, automatic gain, and echo cancellation switches respectively. "true" means on, "false" means off.

<Warning title="Note">


- When creating a stream, you can only select one configuration mode from "camera", "screen", and "custom".
- By default, the SDK determines whether to enable "ANS", "AGC", and "AEC" processing based on the browser's default capabilities. **Unless there are special circumstances, it is recommended that developers keep the default configuration.**

</Warning>



```javascript
const zg = new ZegoExpressEngine(appID, server);
// The following configuration turns off 3A. Unless there are special circumstances, it is recommended that developers keep the default configuration
option = {
    camera: {
        video: true,
  	audio: {
            ANS: false,
            AGC: false,
            AEC: false
        }
    }
}
const localStream = await zg.createZegoStream(option)
```

<Warning title="Note">


If you need to configure 3A processing during stream publishing after creating a stream, you can use [setAudioConfig](https://doc-zh.zego.im/article/api?doc=Express_Video_SDK_API~javascript_web~class~ZegoExpressEngine#set-audio-config) to modify it.

</Warning>



