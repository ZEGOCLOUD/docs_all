---
articleID: 18146
date: "2024-05-24"
---
# Voice Changer/Reverb/Stereo

- - -

## Feature Overview

In scenarios such as live streaming, voice chat rooms, and karaoke rooms, to increase fun and interactivity, players can use voice changing to be funny, use reverb to enhance the atmosphere, and use stereo to make sound more three-dimensional. ZEGOCLOUD Express SDK provides a variety of preset voice changer, reverb, and stereo effects. Developers can flexibly set the desired sound effects. If you need to preview, you can enable headphone monitoring for testing.

- Voice Changer: By changing the user's pitch, the output sounds perceptually different from the original sound, achieving effects such as male-to-female voice conversion.
- Reverb: Through special processing of sound, create reverb effects of different environments, making the sound as if it were in a concert hall, cathedral, and other scenes.
- Virtual Stereo: Through deep use of dual-channel technology, virtually create different positions and angles of sound sources, achieving stereo, 3D surround sound, sound positioning, and other effects.

You can experience the SDK's preset voice effects through the [Sound Effects Experience DEMO](https://www.zego.im/audio-demo) provided by ZEGOCLOUD.

<Warning title="Note">


- This feature only works for audio captured by the SDK. Developers can dynamically adjust voice changer, reverb, and virtual stereo during calls or live streaming.
- Currently, only one specific stream can be processed at a time, and multiple streams cannot be processed simultaneously.
- Reverb, virtual stereo, voice changer, and other features cannot be enabled at the same time, otherwise the effects may be abnormal.

</Warning>




## Prerequisites

Before using voice changer/reverb/stereo, make sure:

- You have created a project in the [ZEGOCLOUD Console](https://console.zego.im) and applied for a valid AppID and Server address. For details, please refer to [Console - Project Information](/console/project-info).
- You have integrated ZEGOCLOUD Express SDK in your project and implemented basic audio/video streaming. For details, please refer to [Quick Start - Integration](/real-time-video-web/quick-start/integrating-sdk) and [Quick Start - Implementation](/real-time-video-web/quick-start/implementing-video-call).


## Usage Steps

### Voice Changer

There are two ways to set voice changer: preset voice changer and custom voice changer.

#### Set Preset Voice Changer

<Warning title="Note">


- PC Web: The voice changer feature is supported on Google Chrome 66.0, Microsoft Edge 79.0, FireFox 76.0, and Safari 14.1 and above. However, to ensure the stability of the voice changer feature, it is recommended to use the latest version of Google Chrome or Microsoft Edge browser.
- Mobile: To ensure stability when using the voice changer feature, it is recommended to use Safari or Google Chrome 96.0 or above. Some Android WeChat browsers may experience a little current noise when using the voice changer feature.

</Warning>



1. Call the [createZegoStream](@createZegoStream) interface to create a [ZegoLocalStream](@-ZegoLocalStream) media stream.

```javascript
// Import voice changer module
import {VoiceChanger} from "zego-express-engine-webrtc/voice-changer";
// Needs to be called before new ZegoExpressEngine
ZegoExpressEngine.use(VoiceChanger);
// Initialize instance
const zg = new ZegoExpressEngine(appID, server);
// Create media stream
const localstream = await zg.createZegoStream();
```

2. Set the voice changer effect. Call the [setVoiceChangerPreset](@setVoiceChangerPreset) interface, pass in the media stream that needs voice changing, start voice changer processing, and complete the relevant settings for voice changer processing.

[ZegoVoiceChangerPreset](@-ZegoVoiceChangerPreset) preset voice changer effects are as follows. Developers can choose according to their needs:

| Type Name       | Preset Value| Description       | Voice Changer Type |
| -------------- |  ---------- |---------- |---  |
| NONE           | 0 |No voice changer     |-     |
| MEN_TO_CHILD   | 1 |Male to child voice | Voice changer   |
| MEN_TO_WOMEN   | 2 |Male to female voice | Voice changer   |
| WOMEN_TO_CHILD | 3 |Female to child voice | Voice changer   |
| WOMEN_TO_MEN   | 4 |Female to male voice | Voice changer   |
| FOREIGNER      | 5 |Foreigner sound effect | Voice changer   |
| OPTIMUS_PRIME  | 6 |Optimus Prime sound effect |Voice changer   |
| ANDROID        | 7 |Robot sound effect |Voice changer   |
| ETHEREAL       | 8 |Ethereal sound effect  | Timbre transformation |
| MALE_MAGNETIC | 9 |Magnetic male |Room beautification|
| FEMALE_FRESH | 10 |Fresh female |Room beautification|
| MAJOR_C | 11 |C Major electronic music |Electronic sound effect|
| MINOR_A | 12 |A Minor electronic music |Electronic sound effect|
| HARMONIC_MINOR | 13 |Harmonic Minor electronic music |Electronic sound effect|
| FEMALE_ENERGETIC | 14 |Energetic female sound effect |Room beautification|
| RICH_NESS | 15 |Rich sound effect|Room beautification|
| MUFFLED | 16 |Muffled sound effect|Room beautification|
| ROUNDNESS |17 |Round sound effect|Room beautification|
| FALSETTO | 18 |Falsetto sound effect|Room beautification|
| FULLNESS | 19 |Full sound effect |Room beautification|
| CLEAR | 20 |Clear sound effect|Room beautification|
| HIGHLY_RESONANT | 21 |High-pitched sound effect |Room beautification|
| LOUD_CLEAR | 22 |Loud and clear sound effect |Room beautification|

The following example code uses "Male to child voice" as an example:

```js
// localStream is the zego stream object created through createZegoStream
zg.setVoiceChangerPreset(1, localStream);
```

#### Set Custom Voice Changer

If the SDK's preset voice changer effects cannot meet your needs, developers can call [setVoiceChangerParam](@setVoiceChangerParam) with the "voiceParam" parameter value to set a custom voice changer. The value range of this parameter is [-12.0, 12.0]. The larger the value, the sharper the sound. The default value is "0.0" (i.e., no voice changer).

```js
// localStream is the zego stream object created through createZegoStream
zg.setVoiceChangerParam(localStream, 5);
```

### Reverb

#### Create Media Stream

Call the [createZegoStream](@createZegoStream) interface to create a [ZegoLocalStream](@-ZegoLocalStream) media stream. For example code, please refer to step 1 of [Voice Changer](#voice-changer).

#### Set Reverb Effect

Call [setReverbPreset](@setReverbPreset) to set reverb through preset enumeration.

[ZegoReverbPreset](@-ZegoReverbPreset) preset reverb effects are as follows. Developers can choose according to their needs:

<table>

<tbody><tr>
<th>Type Name</th>
<th>Preset Value</th>
<th>Description</th>
<th>Reverb Type</th>
</tr>
<tr>
<td>NONE</td>
<td>0</td>
<td>None</td>
<td>-</td>
</tr>
<tr>
<td>SOFT_ROOM</td>
<td>1</td>
<td>Small room</td>
<td>Spatial shaping</td>
</tr>
<tr>
<td>LARGE_ROOM</td>
<td>2</td>
<td>Large room</td>
<td>Spatial shaping</td>
</tr>
<tr>
<td>CONCERT_HALL</td>
<td>3</td>
<td>Concert hall</td>
<td>Spatial shaping</td>
</tr>
<tr>
<td>VALLEY</td>
<td>4</td>
<td>Valley</td>
<td>Spatial shaping</td>
</tr>
<tr>
<td>RECORDING_STUDIO</td>
<td>5</td>
<td>Recording studio</td>
<td>Spatial shaping</td>
</tr>
<tr>
<td>BASEMENT</td>
<td>6</td>
<td>Basement</td>
<td>Spatial shaping</td>
</tr>
<tr>
<td>KTV</td>
<td>7</td>
<td>KTV, suitable for users with obvious timbre flaws</td>
<td>Spatial shaping</td>
</tr>
<tr>
<td>POPULAR</td>
<td>8</td>
<td>Pop</td>
<td>Musical style</td>
</tr>
<tr>
<td>ROCK</td>
<td>9</td>
<td>Rock</td>
<td>Musical style</td>
</tr>
<tr>
<td>VOCAL_CONCERT</td>
<td>10</td>
<td>Vocal concert</td>
<td>Spatial shaping</td>
</tr>
<tr>
<td>GRAMO_PHONE</td>
<td>11</td>
<td>Gramophone</td>
<td>Spatial shaping</td>
</tr>
<tr>
<td>ENHANCED_KTV</td>
<td>12</td>
<td>Enhanced KTV, more focused and brighter KTV vocal effect, suitable for ordinary and professional users</td>
<td>Spatial shaping</td>
</tr>
</tbody></table>


The following example code uses "Large room" mode as an example:

```js
// localStream is the zego stream object created through createZegoStream
zg.setReverbPreset(localStream, 2);
```

<Note title="Note">


Web SDK does not support custom reverb effects for now.

</Note>




### Virtual Stereo

#### Set Streaming Audio Channel Count

If you need to enable the virtual stereo feature, you must set dual channels when creating the [ZegoLocalStream](@-ZegoLocalStream) media stream, that is, when calling the [createZegoStream](@createZegoStream) method, set ZegoStreamOptions.camera.audio.channelCount to 2 (the default is mono).

The example code creates a dual-channel pure audio media stream.

```js
const localStream = await zg.createZegoStream({
    camera: {
        video: false,
        audio: {
            channelCount: 2
        },
    }
});
```

#### Set Virtual Stereo Parameters

After setting the audio encoding channel to dual channel, call the [enableVirtualStereo](@enableVirtualStereo) method, enable virtual stereo through the "enable" parameter, and set the sound source angle of virtual stereo through the "angle" parameter to have a stereo effect. The angle range is 0-360. Generally, it can be set to 90 degrees (i.e., directly in front).

<Note title="Note">



The SDK supports omni-directional virtual stereo effects. The usage is to set the "angle" parameter to "-1".

</Note>




The following example enables virtual stereo and sets the angle to 90 degrees:

```js
zg.enableVirtualStereo(localStream, true, 90);
```

The following example enables omni-directional virtual stereo:

```js
zg.enableVirtualStereo(localStream, true, -1);
```

## FAQ

1. **On the Safari browser, why is there no stereo effect when the playing side enables microphone capture?**

    When the playing side enables microphone capture, the played rendered audio will become `mono` effect. If you need to maintain the `stereo` effect when playing, the playing side should turn off microphone capture.
