---
articleID: 21357
date: "2025-10-24"
---
# Single Stream Transcoding

- - -

## Overview

Single stream transcoding refers to converting a single original stream into transcoded streams with different encoding formats and resolutions in the cloud. In scenarios such as live streaming, viewers can choose streams with different resolutions to watch based on network quality, terminal devices, etc., to ensure playback smoothness.

<Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/Express/Single_stream_transcoding.jpeg" /></Frame>

### Application Scenarios

- When developers provide video streams with multiple resolutions for users to watch on demand, they need to convert the original stream into transcoded streams with different definitions. At this time, the single stream transcoding function can be used.
- When converting original video streams into different video encoding formats, the single stream transcoding function can be used. For example, when some devices cannot decode H.265 due to performance issues, they need to be transcoded to H.264.


## Prerequisites

<Warning title="Note">


The single stream transcoding function is currently in beta testing. For access, please contact ZEGO business personnel or ZEGO technical support.

</Warning>



Before using the single stream transcoding function, please ensure:
- You have created a project in the [ZEGOCLOUD Console](https://console.zego.im) and applied for a valid AppID and Server address. For details, please refer to [Console - Project Information](/console/project-info).
- You have integrated ZEGO Express SDK in your project and implemented basic audio/video Stream Publishing and Playing functions. For details, please refer to [Quick Start - Integration](/real-time-video-web/quick-start/integrating-sdk) and [Quick Start - Implementation](/real-time-video-web/quick-start/implementing-video-call).
- You need to use [L3 Stream Playing](/real-time-video-web/live-streaming/low-latency-live-streaming), [CDN forwarding Stream Playing (pull by streamID)](/real-time-video-web/live-streaming/using-cdn-for-live-streaming), or RTC Stream Playing, and not use stream mixing capabilities.

<Note title="Note">


For scenarios that already use stream mixing capabilities, you can directly implement outputting multiple streams with different resolutions based on the stream mixing interface without triggering single stream transcoding.

</Note>



## Implementation Flow

The main flow of single stream transcoding is as follows:
1. Add transcoding template.
2. Create engine and log in to Room.
3. Pull transcoded streams on demand, choose the Stream Playing method as [L3 Stream Playing](/real-time-video-web/live-streaming/low-latency-live-streaming), [CDN forwarding Stream Playing (pull by streamID)](/real-time-video-web/live-streaming/using-cdn-for-live-streaming), or RTC as needed, and pass in the transcoding template ID to trigger transcoding.

<a name="step1"></a>

### 1 Add Transcoding Template

Please contact ZEGO technical support to add a transcoding template and obtain the corresponding transcoding template ID.

Currently supported transcoding parameters are: template ID, resolution, bitrate, frame rate, and video encoding format.

<Warning title="Note">


- Currently only video-related parameters are supported.
- One AppID supports adding up to 5 transcoding templates. To set more templates, please contact ZEGO technical support.

</Warning>



<table>

<tbody><tr>
<th>Parameter</th>
<th>Description</th>
</tr>
<tr>
<td>Template ID</td>
<td>An integer greater than 100. The ID must be unique.<br />Recommended to name based on output resolution, for example, the template ID for transcoding output resolution of 360P can be named 360. If the transcoding output resolution is less than 100P, you can name it yourself.</td>
</tr>
<tr>
<td>Resolution</td>
<td><ul><li>Supported width range: [0, 3000], the value must be a multiple of 2.</li><li>Supported height range: [0, 3000], the value must be a multiple of 2.</li></ul></td>
</tr>
<tr>
<td>Bitrate</td>
<td>The value must be greater than 0, in bps.</td>
</tr>
<tr>
<td>Frame rate</td>
<td>Supported range: [1, 20], in fps.<br />If you need to output a larger frame rate, please contact ZEGO technical support for configuration.</td>
</tr>
<tr>
<td>Video encoding format</td>
<td><p>The following video encoding formats are supported:</p><ul><li>H.264</li><li>H.265</li><li>Keep the video encoding format of the original stream.</li></ul></td>
</tr>
</tbody></table>


### 2 Create Engine and Log in to Room

For specific flow, please refer to the [Create Engine](/real-time-video-web/quick-start/implementing-video-call) and [Log in to Room](/real-time-video-web/quick-start/implementing-video-call) sections of the "Implementing Video Call" document.

<Warning title="Note">


Before implementing single stream transcoding, there needs to be an existing stream in the Room.

</Warning>



### 3 Pull Transcoded Stream

Configure the [ZegoWebPlayOption > codecTemplateID](https://doc-zh.zego.im/article/api?doc=Express_Video_SDK_API~javascript_web~interface~ZegoWebPlayOption#codec-template-id) property, fill in the transcoding template ID obtained in [Step 1 Add transcoding configuration template](/real-time-video-web/live-streaming/single-stream-transcoding), and start Stream Playing.

<Warning title="Note">


CDN Stream Playing must also use the [startPlayingStream](@startPlayingStream) method and cannot directly use URL to pull streams, otherwise single stream transcoding cannot be triggered.



```js
const stream = await zg.startPlayingStream(streamID, {
    codecTemplateID: 360, // Transcoding template ID
}
```

#### Enable Downgrade Transcoding Function (Optional)

Configure the [ZegoWebPlayOption > transcodeOnDecodeFail](https://doc-zh.zego.im/article/api?doc=Express_Video_SDK_API~javascript_web~interface~ZegoWebPlayOption#transcode-on-decode-fail) property to true to enable the downgrade transcoding function.
After enabling, normally pull the original stream directly. The SDK will use single stream transcoding to other video encoding when video decoding fails, but Stream Playing detection of video encoding availability will increase retry time.

```js {3}
const stream = await zg.startPlayingStream(streamID, {
    codecTemplateID: 360, // Transcoding template ID
    transcodeOnDecodeFail: true
}
```

## FAQ

<Accordion title="What is the difference between stream mixing and single stream transcoding?" defaultOpen="false">

- Stream mixing is generally used to merge multiple input streams into one, while supporting defining encoding format, resolution, and other parameters for multiple output streams. Stream mixing transcoding requires developers to additionally call client-side or server-side interfaces to trigger.
- Single stream transcoding is used to implement transcoding functionality for a single stream, and developers do not need to additionally call client-side or server-side interfaces to trigger. They only need to pass in the template parameter when Stream Playing to trigger.
</Accordion>
