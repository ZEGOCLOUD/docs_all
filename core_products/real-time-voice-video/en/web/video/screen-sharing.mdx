---
articleID: 6301
date: "2025-01-20"
---
# Screen Sharing

- - -

## Function Overview

Screen sharing refers to sharing screen content as video with other users in the room during a video call or interactive live streaming. It supports sharing the entire screen, a specific window, or a browser tab. For example, in an education scenario, a teacher needs to display a PPT on their desktop to other students in the room to improve communication efficiency.

## Download Sample Source Code

Please refer to [Download Sample Source Code](/real-time-video-web/quick-start/run-example-code) to get the source code.

For related source code, please check the files in the "src/Examples/Others/ScreenSharing" directory.

## Prerequisites

Before using screen sharing, ensure that:

- You have created a project in the [ZEGOCLOUD Console](https://console.zegocloud.com) and applied for a valid AppID and Server address. For details, refer to [Console - Project Information](/console/project-info).
- You have integrated ZEGO Express SDK into your project and implemented basic audio/video stream publishing and playing functionality. For details, refer to [Quick Start - Integration](/real-time-video-web/quick-start/integrating-sdk) and [Quick Start - Implementation](/real-time-video-web/quick-start/implementing-video-call).
- The current browser supports screen sharing with or without plugins.

<Warning title="Attention">


1. Screen sharing currently only supports desktop browsers (such as Windows and macOS) including Google Chrome, Microsoft Edge, and Firefox, as well as Safari on macOS.
    - Plugin-based form: Supports screen sharing in Google Chrome browser version 65 and above.
    - Plugin-free form: Supports screen sharing in Google Chrome browser version 72 and above, Microsoft Edge browser version 80 and above, and Firefox and Safari browsers version 13 and above.

2. If you are using macOS, please first open "System Preferences > Security & Privacy > Screen Recording" and add the browser you are using before you can share your screen.

</Warning>



## Usage Steps

### (Optional) Install Screen Sharing Plugin

<Accordion title="Install Screen Sharing Plugin" defaultOpen="false">
Only Google Chrome browser supports plugin-based screen sharing. When the browser you are using is Google Chrome and the version is between 65 and 72, you need to perform the following operations to install the plugin:

1. Click to download [ZEGO Sharing Plugin](https://artifact-sdk.zego.im/downloads/jZego-screen-extention.zip) and extract it.

2. Open Google Chrome browser, click the "Customize and control Google Chrome" button in the upper right corner of the window, and select "More tools > Extensions".

3. Turn on the "Developer mode" switch in the upper right corner, click "Load unpacked", and select the extracted "ZEGO Sharing Plugin" folder to complete the installation.

<Warning title="Attention">


- If the plugin is installed, the SDK will prioritize the plugin-based screen sharing, otherwise it will use the plugin-free form.

</Warning>
</Accordion>



### (Optional) Listen to Event Callbacks

<Accordion title="Listen to Event Callbacks" defaultOpen="false">
Listen to the [screenSharingEnded](@screenSharingEnded) callback for stopping screen sharing by calling the [on](https://www.zegocloud.com/docs/article/api?doc=Express_Video_SDK_API~javascript_web~class~ZegoExpressEngine#on) interface.

<Warning title="Attention">


Only the publishing end can receive this callback notification, while the playing end cannot receive it.

</Warning>




```javascript
zg.on('screenSharingEnded', (stream)=> {
    //do something
    console.warn('screen sharing end');

});
```
</Accordion>


### Create Screen Sharing Stream

Call the [createZegoStream](@createZegoStream) method to create a screen sharing stream.

The "screen" object contained in the "source" parameter of the [createZegoStream](@createZegoStream) interface can be used to configure the screen capture stream.

#### Set Audio Sharing

<Warning title="Attention">


- When setting up audio sharing, Google Chrome browser only supports capturing and publishing system speaker audio (such as music playing on the PC). Audio captured from external microphones needs to be published separately (such as voice from speaking through the microphone).
- Some browsers cannot share all system speaker audio. For example, Google Chrome on macOS can only share tab audio, not audio from the entire screen or specified windows.

</Warning>



You can use the "audio" parameter under the "screen" object to set whether to share audio. The parameter values are as follows:

<table>

  <tbody><tr>
    <th>Parameter Value</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>false</td>
    <td>Default value, i.e., do not share audio.</td>
  </tr>
  <tr>
    <td>true</td>
    <td>Share audio. Different browsers have different ways to enable audio sharing, please refer to the following.</td>
  </tr>
</tbody></table>


<Accordion title="Google Chrome Browser" defaultOpen="false">
In Google Chrome browser, after setting "audio" to "true", you also need to check "Share audio" in the browser popup to send audio to remote users. When developers select different shared content, whether the "Share audio" option in the browser popup is displayed, please refer to the following:
<Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/Web/ExpressSDK/Common/web_screenSharing_audioSharing.png" /></Frame>

<table>

  <tbody><tr>
    <th>Share content in Google Chrome</th>
    <th>macOS</th>
    <th>Windows</th>
  </tr>
  <tr>
    <td>Entire screen</td>
    <td>No "Share audio" option.</td>
    <td><p>Has "Share audio" option.</p><p>When this option is checked, the entire computer screen audio (including other apps) will be sent to remote users, but does not include sound captured by the microphone.</p></td>
  </tr>
  <tr>
    <td>Window</td>
    <td colspan="2">No "Share audio" option.</td>
  </tr>
  <tr>
    <td>Google Chrome tab</td>
    <td colspan="2"><p>Has "Share audio" option.</p><p>When this option is checked, only the media sound playing in the selected tab (excluding muted media) will be sent to remote users.</p></td>
  </tr>
</tbody></table>

<Warning title="Attention">


Only when "Share audio" is checked can audio be sent to remote users, and the playing end will have sound.

</Warning>
</Accordion>



<Accordion title="Microsoft Edge Browser" defaultOpen="false">
In Microsoft Edge browser, after setting "audio" to "true", you also need to check "Share audio" in the browser popup to send audio to remote users. When developers select different shared content, whether the "Share audio" option in the browser popup is displayed, please refer to the following:
<Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/Web/ExpressSDK/Common/web_screenSharing_audioSharing_Edge.png" /></Frame>

<table>

  <tbody><tr>
    <th>Share content in Microsoft Edge</th>
    <th>macOS</th>
    <th>Windows</th>
  </tr>
  <tr>
    <td>Entire screen</td>
    <td>No "Share audio" option.</td>
    <td><p>Has "Share audio" option.</p><p>When this option is checked, the entire computer screen audio (including other apps) will be sent to remote users, but does not include sound captured by the microphone.</p></td>
  </tr>
  <tr>
    <td>Window</td>
    <td colspan="2">No "Share audio" option.</td>
  </tr>
  <tr>
    <td>Microsoft Edge tab</td>
    <td colspan="2"><p>Has "Share audio" option.</p><p>When this option is checked, only the media sound playing in the selected tab (excluding muted media) will be sent to remote users.</p></td>
  </tr>
</tbody></table>

<Warning title="Attention">


Only when "Share audio" is checked can audio be sent to remote users, and the playing end will have sound.

</Warning>
</Accordion>


<Accordion title="Firefox Browser" defaultOpen="false">
In Firefox browser, when sharing the screen, after setting "audio" to "true":

- In Windows, sharing audio from the screen (audio from browser webpages, other apps, etc.) is not supported, but sending audio captured by the microphone to remote users is supported.
- In macOS, sharing audio from the screen (audio from browser webpages, other apps, etc.) and audio captured by the microphone is supported. Developers can choose to allow opening microphone permissions when sharing the screen in the browser to share audio.
<Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/Web/ExpressSDK/Common/web_screenSharing_audioSharing_Firefox.png" /></Frame>
</Accordion>


<Accordion title="Safari Browser" defaultOpen="false">
Audio sharing is not supported.
</Accordion>





#### Set Screen Sharing Video Quality

You can use the "videoQuality" parameter under the "screen" object to set the screen sharing video quality (resolution, frame rate, and bitrate). The parameter values and meanings are as follows:

<table>

<tbody><tr>
<th>Value</th>
<th>Resolution</th>
<th>Frame Rate (fps)</th>
<th>Bitrate (kbps)</th>
<th>Application Scenario</th>
</tr>
<tr>
<td>1</td>
<td>Actual shared resolution width × Actual shared resolution height</td>
<td>20</td>
<td>800</td>
<td>"1" is a preset value with a higher frame rate, suitable for scenarios with higher requirements for video smoothness.</td>
</tr>
<tr>
<td>2</td>
<td>Actual shared resolution width × Actual shared resolution height</td>
<td>15</td>
<td>1500</td>
<td>"2" is a preset value, suitable for scenarios that balance video smoothness and clarity.</td>
</tr>
<tr>
<td>3</td>
<td>Actual shared resolution width × Actual shared resolution height</td>
<td>5</td>
<td>2000</td>
<td>"3" is a preset value with a higher bitrate, suitable for scenarios with higher requirements for video clarity.</td>
</tr>
<tr>
<td>4</td>
<td>width × height</td>
<td>frameRate</td>
<td>bitrate</td>
<td>"4" is a custom value, suitable for scenarios where developers want to set the sharing area, frame rate, and bitrate according to their needs.</td>
</tr>
</tbody></table>

```javascript
const screenStream = await zg.createZegoStream({
    videoBitrate: 1500,
    screen: {
        audio: document.getElementById('isScreenAudio').value == 'yes' ? true : false,
        video: {
            quality: 4,
            frameRate: 15,
            width: document.getElementById('screenWidth').value * 1 || screen.width,
            height:  document.getElementById('screenHeight').value* 1 || screen.height
        }
    },
});
```


### Publish Screen Sharing Stream

Call the [startPublishingStream](https://www.zegocloud.com/docs/article/api?doc=Express_Video_SDK_API~javascript_web~class~ZegoExpressEngine#start-publishing-stream) method to publish the screen sharing stream created by [createZegoStream](@createZegoStream) to the ZEGOCLOUD real-time audio/video cloud. When publishing multiple streams simultaneously, it's recommended to only publish 1 audio stream to avoid echo.

```javascript
const publisRes = zg.startPublishingStream(screenStreamId, screenStream);
```


### Watch Remote Screen Sharing

After the screen sharing stream is published to the ZEGOCLOUD real-time audio/video cloud, other users can use the [startPlayingStream](@startPlayingStream) interface to play the screen sharing stream.

### Destroy Screen Sharing Stream

#### Stop Publishing

If you want to destroy the screen sharing stream, you need to first call the [stopPublishingStream ](https://www.zegocloud.com/docs/article/api?doc=Express_Video_SDK_API~javascript_web~class~ZegoExpressEngine#stop-publishing-stream) method to stop publishing, otherwise the remote video will freeze.

```javascript
zg.stopPublishingStream(screenStreamId);
```

#### Destroy Screen Sharing Stream

After stopping publishing, you need to promptly call the [destroyStream ](https://www.zegocloud.com/docs/article/api?doc=Express_Video_SDK_API~javascript_web~class~ZegoExpressEngine#destroy-stream) method to destroy the screen sharing stream data and release occupied resources.

```javascript
zg.destroyStream(screenStream);
```

## Related Documentation

- [How to switch between screen sharing stream and camera video stream?](https://www.zegocloud.com/docs/faq/web_switch_screen_camera)
- [How to solve screen sharing quality issues on the Web platform?](https://www.zegocloud.com/docs/faq/web_screen_share)
