---
articleID: 8328
date: "2025-01-21"
---
# Implementing Video Call

---



## Overview

This article will introduce how to quickly implement a simple real-time audio and video call.

Explanation of related concepts:

- ZEGO Express SDK: A real-time audio and video SDK provided by ZEGO, providing developers with convenient access, high definition and smoothness, multi-platform interoperability, low latency, and high concurrency audio and video services.
- Stream: Refers to a group of audio and video data that is encapsulated in a specified encoding format and continuously sent. A user can publish multiple streams at the same time (for example, one for camera data, one for screen sharing data) and can also play multiple streams at the same time. Each stream is identified by a stream ID (streamID).
- Publish Stream: The process of pushing packaged audio and video data streams to the ZEGO real-time audio and video cloud.
- Play Stream: The process of playing existing audio and video data streams from the ZEGO real-time audio and video cloud.
- Room: An audio and video space service provided by ZEGO, used to organize user groups. Users in the same room can send and receive real-time audio and video and messages with each other.
    1. Users need to log in to a room first before they can publish and play streams.
    2. Users can only receive relevant messages in their own room (user entry/exit, audio and video stream changes, etc.).
    3. Each room is identified by a unique roomID within an AppID. All users who log in to the room using the same roomID belong to the same room.



For more related concepts, please refer to [Term Explanation](/glossary/term-explanation).

## Prerequisites

Before implementing basic real-time audio and video functionality, ensure:

- You have integrated ZEGO Express SDK in the project and implemented basic real-time audio and video functionality. For details, please refer to [Quick Start - Integration](/real-time-video-rn/quick-start/integrating-sdk).
- You have created a project in the [ZEGOCLOUD Console](https://console.zegocloud.com) and applied for a valid AppID and AppSign. For details, please refer to "Project Information" in [Console - Project Management](/console/project-info).

<Warning title="Warning">

The SDK also supports Token authentication. If you have higher security requirements for the project, it is recommended to upgrade the authentication method. For details, please refer to [How to Upgrade from AppSign Authentication to Token Authentication](http://doc-zh.zego.im/faq/token_upgrade?product=ExpressVideo).
</Warning>


## Usage Steps

The basic process for users to conduct video calls through ZEGO Express SDK is:

Users A and B join the room. User B previews and pushes the audio and video stream to the ZEGO cloud service (publish stream). After User A receives the notification of User B's pushed audio and video stream, User A plays User B's audio and video stream in the notification (play stream).

<Frame width="512" height="auto" caption="">
  <img src="https://doc-media.zego.im/sdk-doc/Pics/Common/ZegoExpressEngine/common_usage_new.png" />
</Frame>

The API call sequence of the entire publishing/playing process is shown in the following figure:

<Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/QuickStart/quickstart_uml_RN.png" /></Frame>

<a id="CreateEngine"> </a>

### Create Engine

**1. Create Interface (Optional)**

<Accordion title="Add Interface Elements" defaultOpen="false">
Before creating the engine, ZEGO recommends that developers add the following interface elements to facilitate the implementation of basic real-time audio and video functionality.

- Local preview window
- Remote video window
- End button

<Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/QuickStart/UI.jpg" /></Frame>
</Accordion>

**2. Create Engine**

Use the [createEngineWithProfile ](https://www.zegocloud.com/docs/unique-api/express-video-sdk/en/javascript_react_native/classes/_zegoexpressengine_.zegoexpressengine.html#createenginewithprofile) method, pass the applied AppID and AppSign to the parameters "appID" and "appSign", and create an engine singleton object.

<Warning title="Warning">
The SDK also supports Token authentication. If you have higher security requirements for the project, it is recommended to upgrade the authentication method. For details, please refer to [How to Upgrade from AppSign Authentication to Token Authentication](http://doc-zh.zego.im/faq/token_upgrade?product=ExpressVideo).
</Warning>

<Warning title="Warning">If it is an audio scenario, be sure to call `enableCamera(false)` to turn off the camera to avoid starting video capture and publishing and generating additional video traffic.</Warning>



```javascript
// Import ZEGO Express SDK
import ZegoExpressEngine from 'zego-express-engine-reactnative';

// Use general scenario
const profile = {
appID : xxx,
// AppSign only meets simple authentication requirements. If you need to upgrade to a more secure authentication method, please refer to [How to Upgrade from AppSign Authentication to Token Authentication](https://doc-zh.zego.im/faq/token_upgrade?product=ExpressVideo&platform=all)
// AppSign can be obtained through [Console](https://console.zegocloud.com/dashboard), format is @"39011cbxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
appSign: '39011cbxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx',
scenario : 0
};

ZegoExpressEngine.createEngineWithProfile(profile)
```

**3. Set Callbacks**

After creating the engine, you can register callbacks through the engine instance's [on](https://www.zegocloud.com/docs/unique-api/express-video-sdk/en/javascript_react_native/classes/_zegoexpressengine_.zegoexpressengine.html#on) method.

<Warning title="Warning">


To avoid missing event notifications, it is recommended to register callbacks immediately after creating the engine

</Warning>





<a id="loginRoom"> </a>

### Login to Room

**1. Login**

You can call the [loginRoom ](https://www.zegocloud.com/docs/unique-api/express-video-sdk/en/javascript_react_native/classes/_zegoexpressengine_.zegoexpressengine.html#loginroom) interface to log in to the room. If the room does not exist, calling this interface will create and log in to this room.

The parameters for roomID and user are generated locally by you, but need to meet the following conditions:

- Within the same AppID, ensure that "roomID" is globally unique.
- Within the same AppID, ensure that "userID" is globally unique. It is recommended that developers associate "userID" with their own business account system.

```javascript
let roomConfig = new ZegoRoomConfig();
// If you use appsign for authentication, you do not need to fill in the token parameter; if you need to use a more secure authentication method: token authentication, please refer to [How to Upgrade from AppSign Authentication to Token Authentication](https://doc-zh.zego.im/faq/token_upgrade?product=ExpressVideo&platform=all)
// roomConfig.token = "xxxx";
// Only by passing in a ZegoRoomConfig with the parameter "isUserStatusNotify" set to "true" can you receive the onRoomUserUpdate callback.
roomConfig.isUserStatusNotify = true;
// Login to room
// Start logging in to the room
ZegoExpressEngine.instance().loginRoom('room1', {'userID': 'id1', 'userName': 'user1'}, roomConfig);
```

**2. Listen to Event Callbacks After Logging in to Room**

According to actual application needs, listen to the event notifications you want to pay attention to after logging in to the room, such as room status updates, user status updates, stream status updates, etc.
- [roomStateUpdate](https://www.zegocloud.com/docs/unique-api/express-video-sdk/en/javascript_react_native/interfaces/_zegoexpresseventhandler_.zegoeventlistener.html#roomstateupdate): Room status update callback. After logging in to the room, when the room connection status changes (such as room disconnection, login authentication failure, etc.), the SDK will notify through this callback.
- [roomUserUpdate](https://www.zegocloud.com/docs/unique-api/express-video-sdk/en/javascript_react_native/interfaces/_zegoexpresseventhandler_.zegoeventlistener.html#roomuserupdate): User status update callback. After logging in to the room, when there are new or deleted users in the room, the SDK will notify through this callback.

    Only when logging in to the room by calling the [loginRoom](https://www.zegocloud.com/docs/unique-api/express-video-sdk/en/javascript_react_native/classes/_zegoexpressengine_.zegoexpressengine.html#loginroom) interface and passing in [ZegoRoomConfig](https://www.zegocloud.com/docs/unique-api/express-video-sdk/en/javascript_react_native/classes/_zegoexpressdefines_.zegoroomconfig.html) configuration, and the parameter "isUserStatusNotify" is set to "true", can users receive the [roomUserUpdate](https://www.zegocloud.com/docs/unique-api/express-video-sdk/en/javascript_react_native/interfaces/_zegoexpresseventhandler_.zegoeventlistener.html#roomuserupdate) callback.

- [roomStreamUpdate](https://www.zegocloud.com/docs/unique-api/express-video-sdk/en/javascript_react_native/interfaces/_zegoexpresseventhandler_.zegoeventlistener.html#roomstreamupdate): Stream status update callback. After logging in to the room, when users in the room publish or delete audio and video streams, the SDK will notify through this callback.

<Warning title="Warning">


- Only when logging in to the room by calling the [loginRoom](https://www.zegocloud.com/docs/unique-api/express-video-sdk/en/javascript_react_native/classes/_zegoexpressengine_.zegoexpressengine.html#loginroom) interface and passing in [ZegoRoomConfig](https://www.zegocloud.com/docs/unique-api/express-video-sdk/en/javascript_react_native/classes/_zegoexpressdefines_.zegoroomconfig.html) configuration, and the parameter "isUserStatusNotify" is set to "true", can users receive the [roomUserUpdate](https://www.zegocloud.com/docs/unique-api/express-video-sdk/en/javascript_react_native/interfaces/_zegoexpresseventhandler_.zegoeventlistener.html#roomuserupdate) callback.
- Normally, if a user wants to play videos pushed by other users, they can call the [startPlayingStream](https://www.zegocloud.com/docs/unique-api/express-video-sdk/en/javascript_react_native/classes/_zegoexpressengine_.zegoexpressengine.html#startplayingstream) interface in the callback of stream status update (addition) to play the audio and video streams pushed by remote users.

</Warning>



```javascript
// The following are common room-related callbacks

ZegoExpressEngine.instance().on('roomStateUpdate', (roomID, state, errorCode, extendedData) => {
  // Room status update callback. After logging in to the room, when the room connection status changes (such as room disconnection, login authentication failure, etc.), the SDK will notify through this callback
}); ;


ZegoExpressEngine.instance().on('roomUserUpdate', (roomID, updateType, userList) => {
  // User status update. After logging in to the room, when there are new or deleted users in the room, the SDK will notify through this callback
});

ZegoExpressEngine.instance().on('roomStreamUpdate', (roomID, updateType, streamList) => {
  // Stream status update. After logging in to the room, when users in the room publish or delete audio and video streams, the SDK will notify through this callback
});
```

<a id="publishingStream"></a>

### Publish Stream

**1. Start Publishing Stream**

Call the [startPublishingStream ](https://www.zegocloud.com/docs/unique-api/express-video-sdk/en/javascript_react_native/classes/_zegoexpressengine_.zegoexpressengine.html#startpublishingstream) interface, pass in the stream ID parameter "streamID", and send the local audio and video stream to remote users.

<Warning title="Warning">


Within the same AppID, ensure that "streamID" is globally unique. If within the same AppID, different users each publish a stream with the same "streamID", the user who publishes later will fail to publish.

</Warning>



```javascript
/** Start publishing stream */
ZegoExpressEngine.instance().startPublishingStream("streamID");
```

**2. Start Local Preview (Optional)**

<Accordion title="Set Preview View and Start Local Preview" defaultOpen="false">
If you want to see the local screen, you can call the [startPreview ](https://www.zegocloud.com/docs/unique-api/express-video-sdk/en/javascript_react_native/classes/_zegoexpressengine_.zegoexpressengine.html#startpreview) interface to set the preview view and start local preview.

```javascript
import { findNodeHandle } from 'react-native';

// Get a react ref
let localViewRef = findNodeHandle(this.refs.zego_preview_view);

// Start local preview
ZegoExpressEngine.instance().startPreview({
    'reactTag': localViewRef,
    'viewMode': 0,
    'backgroundColor': 0
});

// react render
render() {
    return (
        <View>
            <ZegoTextureView ref='zego_preview_view'/>
        </view>
    )
}
```
</Accordion>

**3. Listen to Event Callbacks After Publishing Stream**

According to actual application needs, listen to the event notifications you want to pay attention to after publishing stream, such as publishing stream status updates, etc.

[publisherStateUpdate](https://www.zegocloud.com/docs/unique-api/express-video-sdk/en/javascript_react_native/interfaces/_zegoexpresseventhandler_.zegoeventlistener.html#publisherstateupdate): Publishing stream status update callback. After successfully calling the publishing interface, when the publishing stream status changes, such as network interruption causing publishing exceptions, etc., the SDK will notify through this callback while retrying to publish.

```javascript
    ZegoExpressEngine.instance().on("publisherStateUpdate", (streamID, state, errorCode, extendedData) => {
    // After successfully calling the publishing interface, when the publisher status changes, such as network interruption causing publishing exceptions, etc., the SDK will notify through this callback while retrying to publish
    //....
});
```

<a id="PlayingStream"></a>

### Play Stream

**1. Start Playing Stream**

Call the [startPlayingStream ](https://www.zegocloud.com/docs/unique-api/express-video-sdk/en/javascript_react_native/classes/_zegoexpressengine_.zegoexpressengine.html#startplayingstream) interface, and play the audio and video stream pushed by remote users according to the passed-in stream ID parameter "streamID".

<Note title="Note">


- The "streamID" pushed by remote users can be obtained from the [roomStreamUpdate](https://www.zegocloud.com/docs/unique-api/express-video-sdk/en/javascript_react_native/interfaces/_zegoexpresseventhandler_.zegoeventlistener.html#roomstreamupdate) callback.
- Need to ensure that "streamID" is globally unique.

</Note>





```javascript
import { findNodeHandle } from 'react-native';

// Get a react ref
let remoteViewRef = findNodeHandle(this.refs.zego_play_view);

// Start playing stream
ZegoExpressEngine.instance().startPlayingStream("streamID", {
    'reactTag': remoteViewRef,
    'viewMode': 0,
    'backgroundColor': 0
});

// react render
render() {
    return (
        <View>
            <ZegoTextureView ref='zego_play_view'/>
        </view>
    )
}
```

**2. Listen to Event Callbacks After Playing Stream**

According to actual application needs, listen to the event notifications you want to pay attention to after playing stream, such as playing stream status updates, etc.

[playerStateUpdate](https://www.zegocloud.com/docs/unique-api/express-video-sdk/en/javascript_react_native/interfaces/_zegoexpresseventhandler_.zegoeventlistener.html#playerstateupdate): Playing stream status update callback. After successfully calling the playing interface, when the playing stream status changes, such as network interruption causing publishing exceptions, etc., the SDK will notify through this callback while retrying to play.

```javascript
ZegoExpressEngine.instance().on("playerStateUpdate", (streamID, state, errorCode, extendedData) => {
    /** After successfully calling the playing interface, when the player status changes, such as network interruption causing publishing exceptions, etc., the SDK will notify through this callback while retrying to play */
    //....
});
```

### Test Publishing and Playing Stream Functionality Online

Run the project on a real device. After running successfully, you can see the local video screen.

For convenience, ZEGO provides a [Web Debugging Example](https://zegodev.github.io/zego-express-webrtc-sample/assistDev/index.html). On this page, enter the same AppID and RoomID, enter different UserIDs, and the corresponding [Token](/console/development-assistance/temporary-token), to join the same room and communicate with the real device. When the audio and video call starts successfully, you can hear the remote audio and see the remote video screen.



<a id="stopPublishingStream"></a>

### Stop Publishing/Playing Stream

**1. Stop Publishing/Preview**

Call the [stopPublishingStream ](https://www.zegocloud.com/docs/unique-api/express-video-sdk/en/javascript_react_native/classes/_zegoexpressengine_.zegoexpressengine.html#stoppublishingstream) interface to stop sending local audio and video streams and end the call.

```javascript
/** Stop publishing stream */
ZegoExpressEngine.instance().stopPublishingStream();
```

If local preview is enabled, developers can call the [stopPreview ](https://www.zegocloud.com/docs/unique-api/express-video-sdk/en/javascript_react_native/classes/_zegoexpressengine_.zegoexpressengine.html#stoppreview) interface to stop preview according to business needs after stopping publishing.

```javascript
// Stop local preview
ZegoExpressEngine.instance().stopPreview();
```

**2. Stop Playing Stream**

Call the [stopPlayingStream ](https://www.zegocloud.com/docs/unique-api/express-video-sdk/en/javascript_react_native/classes/_zegoexpressengine_.zegoexpressengine.html#stopplayingstream) interface to stop playing remote audio and video streams.

<Warning title="Warning">


If developers receive a notification of "decrease" in audio and video streams through the [roomStreamUpdate](https://www.zegocloud.com/docs/unique-api/express-video-sdk/en/javascript_react_native/interfaces/_zegoexpresseventhandler_.zegoeventlistener.html#roomstreamupdate) callback, please call the [stopPlayingStream ](https://www.zegocloud.com/docs/unique-api/express-video-sdk/en/javascript_react_native/classes/_zegoexpressengine_.zegoexpressengine.html#stopplayingstream) interface to stop playing in time to avoid playing empty streams and generating additional costs; or, developers can choose an appropriate time according to their own business needs and proactively call the [stopPlayingStream ](https://www.zegocloud.com/docs/unique-api/express-video-sdk/en/javascript_react_native/classes/_zegoexpressengine_.zegoexpressengine.html#stopplayingstream) interface to stop playing.

</Warning>



```javascript
// Stop playing stream
ZegoExpressEngine.instance().stopPlayingStream("streamID");
```


**3. Logout of Room**

Call the [logoutRoom ](https://www.zegocloud.com/docs/unique-api/express-video-sdk/en/javascript_react_native/classes/_zegoexpressengine_.zegoexpressengine.html#logoutroom) interface to log out of the room. The local end will receive the [roomStateUpdate ](https://www.zegocloud.com/docs/unique-api/express-video-sdk/en/javascript_react_native/interfaces/_zegoexpresseventhandler_.zegoeventlistener.html#roomstateupdate) callback notification of the call result, and stop all its publishing/playing streams and local preview.


```javascript
// Logout of room
ZegoExpressEngine.instance().logoutRoom('room1');
```

### Destroy Engine

Call the [destroyEngine ](https://www.zegocloud.com/docs/unique-api/express-video-sdk/en/javascript_react_native/classes/_zegoexpressengine_.zegoexpressengine.html#destroyengine) interface to destroy the engine, which is used to release resources used by the SDK.


```javascript
ZegoExpressEngine.destroyEngine();
```

<Note title="Note">


According to actual needs, you can use the "await" keyword when destroying the engine to perform asynchronous waiting to ensure that device hardware resources are released.

</Note>


