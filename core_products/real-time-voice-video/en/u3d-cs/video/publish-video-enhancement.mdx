---
articleID: 18923
date: "2025-01-20"
---

# Advanced - Publish Video Enhancement

## Function Overview

ZEGO Express SDK provides various video pre-processing enhancement capabilities. Developers can adjust the screen effects at the publishing end according to business needs.

<Warning title="Warning">
This feature does not support running in WebGL environment.
</Warning>

<table>

    <tbody>
        <tr>
            <th>Function</th>
            <th>Function Description</th>
            <th>Function Advantages</th>
            <th colspan="2">Effect Display</th>
        </tr>
        <tr>
            <td>Low Light Enhancement</td>
            <td>When ambient light is dark and the brightness of the screen captured by the camera does not meet business requirements such as seeing faces clearly or performing face recognition, enhance the screen brightness.</td>
            <td><ul><li>Minimal performance overhead, covers all device models.</li><li>Supports automatic enhancement mode, automatically identifies low light environments.</li></ul></td>
            <td><Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/lowlightenhancement/lowlightenhancement_before.jpg" /></Frame></td>
            <td><Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/lowlightenhancement/lowlightenhancement_after.jpg" /></Frame></td>
        </tr>
        <tr>
            <td>Color Enhancement</td>
            <td>Due to camera characteristics, the captured video may have insufficient saturation. Use the color enhancement function to enhance under-saturated colors while protecting skin tones, making screen colors more realistic and more in line with human visual perception.</td>
            <td><ul><li>Protect skin tones to avoid enhancing people's skin colors.</li><li>Protect lip colors to make lip colors more natural when using AI Effects and wearing makeup.</li></ul></td>
            <td><Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/Express/color_enhanced_before.jpg" /></Frame></td>
            <td><Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/Express/color_enhanced_after.jpg" /></Frame></td>
        </tr>
    </tbody>
</table>



## Prerequisites

Before using the publish video enhancement function, please ensure:

- You have created a project in [ZEGOCLOUD Console](https://console.zegocloud.com) and applied for valid AppID and AppSign. For details, please refer to [Console - Project Information](/console/project-info).
- You have integrated ZEGO Express SDK in the project and implemented basic audio and video streaming functions. For details, please refer to [Quick Start - Integration](/real-time-video-u3d-cs/quick-start/integrating-sdk) and [Quick Start - Implementation](/real-time-video-u3d-cs/quick-start/implementing-video-call).

## Usage Steps

### Initialize and Login to Room

For the specific process of initialization and logging in to the room, please refer to "[Create Engine](/real-time-video-u3d-cs/quick-start/implementing-video-call)" and "[Login Room](/real-time-video-u3d-cs/quick-start/implementing-video-call)" in the Implement Video Call documentation.

### Set Publish Video Enhancement Effects

Please select the corresponding function to configure as needed.

<Accordion title="Low Light Enhancement" defaultOpen="false">
ZEGO provides two methods of low light enhancement:

<table>
<tbody>
<tr>
<th>Description</th>
</tr>
</tbody>
</table>
    ZEGO provides two methods of low light enhancement:
<table>
<tbody>
<tr>
<th>Description</th>
</tr>
</tbody>
</table>

<table>
<tbody>
<tr>
<td>Enable adaptive frame rate for enhancement</td>
<td>Dynamically reduce the capture frame rate within the set frame rate range to extend the exposure time of each frame and achieve the effect of enhancing the brightness of the captured screen.
<br /> For example: The developer enables and sets the adaptive frame rate range to [10, 25]. When ambient light is sufficient, the capture frame rate is still 25 frames. When ambient light is low, the capture frame rate will be dynamically adjusted between [10, 25] to extend the exposure time of each frame and enhance the brightness of the captured screen.</td>
</tr>
<tr>
<td>Enhance the brightness of the captured screen through algorithms</td>
<td><ul>
<li>Manual enhancement mode: Determine whether to enable algorithm enhancement based on received parameters.</li>
<li>Automatic enhancement mode: The SDK automatically decides whether to enable algorithm enhancement and the degree of enhancement based on the ambient light brightness of the user's environment.</li>
</ul>
</td>
</tr>
</tbody>
</table>

Both processing methods can be used independently or simultaneously, and both are compatible with AI Effects functions.

#### Set Low Light Enhancement Mode

RTC SDK supports different algorithm low light enhancement modes. Call the [SetLowlightEnhancement](@SetLowlightEnhancement) interface to set the low light enhancement mode [ZegoLowlightEnhancementMode](@-ZegoLowlightEnhancementMode):

|Enumeration Value|Description|
|---|---|
|ZegoLowlightEnhancementMode.Off| Turn off low light enhancement function, captured screen brightness remains unchanged.|
|ZegoLowlightEnhancementMode.On|Turn on low light enhancement function, captured screen brightness is enhanced.|
|ZegoLowlightEnhance

Taking enabling automatic low light enhancement function as an example:

```cs
engine.SetLowlightEnhancement(ZegoLowlightEnhancementMode.Auto,ZegoPublishChannel.Main);
```



#### (Optional) Enable Camera Adaptive Frame Rate

When ambient light is low and the camera capture frame rate is too high, the exposure time of each frame may be insufficient, resulting in darker captured video screens. At this time, you can enable camera adaptive frame rate through [EnableCameraAdaptiveFPS](@EnableCameraAdaptiveFPS). The SDK will match the camera-supported capture frame rate range according to the set frame rate range, and dynamically adjust the camera capture frame rate according to ambient brightness within this range to improve screen brightness when the set frame rate is too high.

```cs
int minCamFPS = 15;//Set minimum frame rate
int maxCamFPS = 25;//Set maximum frame rate
engine.EnableCameraAdaptiveFPS(true, minCamFPS, maxCamFPS, ZegoPublishChannel.Main);
```

#### (Optional) Enable Camera Adaptive Frame Rate

When ambient light is low and the camera capture frame rate is too high, the exposure time of each frame may be insufficient, resulting in darker captured video screens. At this time, you can enable camera adaptive frame rate through [EnableCameraAdaptiveFPS](@EnableCameraAdaptiveFPS). The SDK will match the camera-supported capture frame rate range according to the set frame rate range, and dynamically adjust the camera capture frame rate according to ambient brightness within this range to improve screen brightness when the set frame rate is too high.

```cs
int minCamFPS = 15;//Set minimum frame rate
int maxCamFPS = 25;//Set maximum frame rate
engine.EnableCameraAdaptiveFPS(true, minCamFPS, maxCamFPS, ZegoPublishChannel.Main);
```

 ```cs
int minCamFPS = 15;//Set minimum frame rate
int maxCamFPS = 25;//Set maximum frame rate
engine.EnableCameraAdaptiveFPS(true, minCamFPS, maxCamFPS, ZegoPublishChannel.Main);


 ```
</Accordion>

<Accordion title="Color Enhancement" defaultOpen="false">
Call the [EnableColorEnhancement](@EnableColorEnhancement) interface, set the color enhancement parameters [ZegoColorEnhancementParams](@-ZegoColorEnhancementParams) (parameter attributes are in the following table), and other parameters to enable the color enhancement function. **Color enhancement function is disabled by default.**

|Color Enhancement Parameter|Description|
|-|-|
| intensity|<p>The intensity of color enhancement, value range [0.0, 1.0], default is 0.0.</p><p>The larger the value, the greater the color enhancement effect.</p>|
| skinToneProtectionLevel |<p>The intensity of skin tone protection, value range [0.0, 1.0], default is 1.0.</p><p>The larger the value, the better the protection effect.</p>|
| lipColorProtectionLevel |<p>The intensity of lip color protection, value range [0.0, 1.0], default is 0.0.</p><p>The larger the value, the better the protection effect.</p>|

```Cs
ZegoColorEnhancementParams param = new ZegoColorEnhancementParams();
param.intensity = 1;//Value range: [0,1], the larger the value, the greater the color enhancement intensity. Default: 0.
param.lipColorProtectionLevel = 1;//Value range: [0,1], the larger the value, the greater the skin tone protection degree. Default: 1.
param.skinToneProtectionLevel = 1;//Value range: [0,1], the larger the value, the greater the lip color protection degree. Default: 0.
engine.EnableColorEnhancement(true, param);//Enable color enhancement
```
</Accordion>

### Start Preview

After calling the [StartPreview](@StartPreview) interface to enable preview, you can set different video enhancement functions and experience the effects in real time.

 ```cs
engine.StartPreview();
```

### Start Publishing Stream

When the preview effect meets expectations, you can call the [StartPublishingStream](@StartPublishingStream) interface to start publishing stream. The publishing stream screen effect will be consistent with the preview effect.

```cs
engine.StartPublishingStream("STREAM_ID");
```

The above implements the video enhancement function before publishing stream.
