---
articleID: 16991
date: "2024-01-30"
---
# Cloud Proxy

- - -

## Function Overview

By setting the SDK's cloud proxy interface, all traffic corresponding to the SDK is forwarded through the cloud proxy server to communicate with RTC and L3.

<Warning title="Warning">
- The "Cloud Proxy" feature is a `paid` feature. If you need to use this feature, please contact ZEGO business personnel for consultation.
- After enabling the cloud proxy service, if the enterprise has configured a firewall, you also need to add the cloud proxy IP to the enterprise firewall whitelist.
- This feature does not support running in WebGL environment.

</Warning>

<Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/Express/Cloud_Proxy.png" /></Frame>

Currently, ZEGO provides two modes: `Normal Cloud Proxy` and `Smart Cloud Proxy`. Developers can choose the appropriate cloud proxy mode according to your business needs.

<table>

<tbody><tr>
<th></th>
<th>Normal Cloud Proxy</th>
<th>Smart Cloud Proxy</th>
</tr>
<tr>
<td>Solution Description</td>
<td>When initializing the SDK, use cloud proxy mode directly.</td>
<td><p>When initializing the SDK, prioritize trying direct connection network mode.</p><ol><li>If there is network connectivity within 1 second, continue using direct connection mode.</li><li><p>If there is no network connectivity within 1 second:</p><ul><li>If currently on cellular network, continue staying in direct connection mode and retry.</li><li><b>If currently on non-cellular network, switch to cloud proxy mode.</b></li></ul></li></ol><p>When network switches, if network connectivity is detected and currently in direct connection mode, it will directly attempt according to the SDK initialization logic.</p></td>
</tr>
<tr>
<td>Applicable Scenarios</td>
<td>When you are in restricted network environments such as hospitals, government, company internals, etc., and want to use public cloud RTC or L3 services.</td>
<td>When your users are in scenarios with both public network and restricted networks, and you cannot determine the user's network usage situation, and want to prioritize using public cloud RTC or L3 services, and use cloud proxy service when public cloud RTC or L3 services are unavailable.</td>
</tr>
</tbody></table>



## Prerequisites

Before using cloud proxy, please ensure:
- You have created a project in [ZEGOCLOUD Console](https://console.zegocloud.com) and applied for valid AppID and AppSign. For details, please refer to [Console - Project Information](/console/project-info).
- You have integrated ZEGO Express SDK in the project and implemented basic audio and video streaming functions. For details, please refer to [Quick Start - Integration](/real-time-video-u3d-cs/quick-start/integrating-sdk) and [Quick Start - Implementation](/real-time-video-u3d-cs/quick-start/implementing-video-call).


## Usage Flow

### 1 Enable Cloud Proxy Service

Apply to ZEGOCLOUD Technical Support to enable the cloud proxy service. After enabling the service, developers will obtain a cloud proxy domain and port information.

### 2 Configure Cloud Proxy

Call [SetCloudProxyConfig](@SetCloudProxyConfig) to configure cloud proxy.

<Warning title="Warning">
This interface must be called before calling the [CreateEngine](@CreateEngine) interface to create the engine.
</Warning>



- Interface prototype

```csharp
/**
 * Set cloud proxy.
 *
 * This interface needs to be called before CreateEngine.
 * After calling this interface, all network requests and sending of Express SDK will be forwarded through cloud proxy.
 *
 * @param proxyList Cloud proxy information list, supports setting multiple cloud proxy information.
 * @param token Authentication token. If the customer uses appsign authentication method, this can be empty. Otherwise, token must be filled in.
 * @param enable Whether to enable cloud proxy.
 */
public static void SetCloudProxyConfig(List<ZegoProxyInfo> proxyList, string token, bool enable);
```

- Call example

```csharp
ZegoProxyInfo proxy = new ZegoProxyInfo();
//Domain and port, filled in by the developer according to what was obtained when enabling the cloud proxy service
proxy.hostName = "xxxxxxxxxxx.zego.im";
proxy.port = 1080;
List<ZegoProxyInfo> list = new List<ZegoProxyInfo>();
list.Add(proxy);
ZegoExpressEngine.SetCloudProxyConfig(list, "", true);
```

## FAQ

1. **How to solve if cloud proxy setting does not take effect**
- Ensure that the cloud proxy service has been enabled and valid proxy port and domain have been obtained.
- Ensure that cloud proxy is correctly set before [CreateEngine](@CreateEngine), and modification during the process is not supported.

2. **Is a local proxy solution provided?**

Yes, for details please refer to [Local Proxy](/real-time-video-android-java/communication/local-proxy).
