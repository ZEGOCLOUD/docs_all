---
articleID: 18222
date: "2024-01-02"
---
# Single Stream Transcoding

- - -

## Feature Overview


Single stream transcoding refers to the process of converting a single original stream into transcoded streams with different encoding formats and resolutions in the cloud. In scenarios such as live streaming, viewers can choose streams with different resolutions to watch based on network quality, terminal devices, etc., to ensure smooth playback.

<Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/Express/Single_stream_transcoding.jpeg" /></Frame>

### Application Scenarios

- When developers provide video streams with multiple resolutions for users to watch on demand, they need to convert the original stream into transcoded streams with different definitions. At this time, the single stream transcoding function can be used.
- When converting original video streams into different video encoding formats, the single stream transcoding function can be used. For example, when some devices cannot decode H.265 due to performance issues, they need to be transcoded to H.264.


## Prerequisites

<Warning title="Note">


The single stream transcoding function is currently in beta testing. If you need to integrate it, please contact ZEGO business personnel or ZEGO Technical Support.

</Warning>



Before using the single stream transcoding function, please ensure:
- You have created a project in the [ZEGO Console](https://console.zego.im) and applied for a valid AppID and AppSign. For details, please refer to [Console - Project Information](/console/project-info).
- You have integrated ZEGO Express SDK in the project and implemented basic audio/video publishing and playing functions. For details, please refer to [Quick Start - Integration](/real-time-video-linux-cpp/quick-start/integrating-sdk) and [Quick Start - Implementation Flow](/real-time-video-linux-cpp/quick-start/implementing-video-call).

- You need to use [L3 Play Stream](/real-time-video-linux-cpp/live-streaming/low-latency-live-streaming), [Relay to CDN Play Stream (play by streamID)](/real-time-video-linux-cpp/live-streaming/using-cdn-for-live-streaming) or RTC Play Stream, and have not used the stream mixing function.

<Note title="Description">


For scenarios that have already used the stream mixing function, you can directly implement outputting multiple streams with different resolutions based on the stream mixing interface, without triggering single stream transcoding.

</Note>




## Implementation Flow

The main flow of single stream transcoding is as follows:
1. Add transcoding template.
2. Create engine and login room.
3. Play transcoded stream on demand, select the playing method as [L3 Play Stream](/real-time-video-linux-cpp/live-streaming/low-latency-live-streaming), [Relay to CDN Play Stream (play by streamID)](/real-time-video-linux-cpp/live-streaming/using-cdn-for-live-streaming) or RTC as needed, and pass in the transcoding template ID to trigger transcoding.


<a name="step1"></a>
### 1 Add Transcoding Template

Please contact ZEGO Technical Support to add a transcoding template and obtain the corresponding transcoding template ID.

The currently supported transcoding parameters are: template ID, resolution, bitrate, frame rate, and video encoding format.

<Warning title="Note">


- Currently only supports configuring video-related parameters.
- One AppID supports adding up to 5 transcoding templates. If you need to set more templates, please contact ZEGO Technical Support.


</Warning>



<table>

<tbody><tr>
<th>Parameter</th>
<th>Description</th>
</tr>
<tr>
<td>Template ID</td>
<td>An integer greater than 100, the ID must be unique.<br />Recommended to name it according to the output resolution. For example, the template ID for transcoding output resolution of 360P can be named 360. If the transcoding output resolution is less than 100P, you can name it yourself.</td>
</tr>
<tr>
<td>Resolution</td>
<td><ul><li>Supported width range: [0, 3000], the value must be a multiple of 2.</li><li>Supported height range: [0, 3000], the value must be a multiple of 2.</li></ul></td>
</tr>
<tr>
<td>Bitrate</td>
<td>The value must be greater than 0, in bps.</td>
</tr>
<tr>
<td>Frame Rate</td>
<td>Supported range: [1, 20], unit fps.<br />If you need to output a larger frame rate, please contact ZEGO Technical Support for configuration.</td>
</tr>
<tr>
<td>Video Encoding Format</td>
<td><p>Supports the following video encoding formats:</p><ul><li>H.264</li><li>H.265</li><li>Keep the video encoding format of the original stream.</li></ul></td>
</tr>
</tbody></table>


### 2 Create Engine and Login Room

For the specific flow, please refer to the [Create Engine](/real-time-video-linux-cpp/quick-start/implementing-video-call) and [Login Room](/real-time-video-linux-cpp/quick-start/implementing-video-call) sections of the "Implementing Video Call" document.

<Warning title="Note">


Before implementing single stream transcoding, there needs to be an existing stream in the room.


</Warning>


### 3 Play Transcoded Stream

Configure the codecTemplateID property of [ZegoPlayerConfig](@-ZegoPlayerConfig), fill in the transcoding template ID obtained in [Step 1 Add Transcoding Configuration Template](/real-time-video-linux-cpp/live-streaming/single-stream-transcoding), and start playing stream.

```cpp
ZegoPlayerConfig config;
// Configure according to actual business situation
config.resourceMode = ZEGO_STREAM_RESOURCE_MODE_DEFAULT;
// 101 is the configured template ID, refer to Step 1 Add Transcoding Configuration Template
config.codecTemplateID = 101;

ZegoCanvas canvas(ZegoUtilHelper::GetView(ui->frame_Play));
canvas.viewMode = static_cast<ZegoViewMode>(ui->comboBox_ViewModePlay->currentIndex());
// engine is the IZegoExpressEngine object created when creating the engine
engine->startPlayingStream("streamid", &canvas, config);
```



## FAQ

#### What is the difference between stream mixing and single stream transcoding?

- Stream mixing is generally used to merge multiple input streams into one, while supporting defining encoding formats, resolutions, and other parameters for multiple output streams. Moreover, stream mixing transcoding requires developers to additionally call client or server interfaces to trigger.
- Single stream transcoding is used to implement the transcoding function for a single stream, and does not require developers to additionally call client or server interfaces to trigger. It only needs to pass in template parameters when playing stream to trigger.
