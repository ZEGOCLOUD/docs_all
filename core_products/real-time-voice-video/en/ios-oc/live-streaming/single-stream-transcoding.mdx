---
articleID: 17412
date: "2024-01-02"
---
# Single Stream Transcoding

- - -

## Feature Introduction

Single stream transcoding refers to converting a single original stream into transcoded streams with different encoding formats and resolutions on the cloud. In scenarios such as live streaming, viewers can choose streams of different resolutions to watch based on network quality, terminal devices, etc., to ensure playback smoothness.

<Frame width="512" height="auto" caption="">
  <img src="https://doc-media.zego.im/sdk-doc/Pics/Express/Single_stream_transcoding.jpeg" />
</Frame>

### Application Scenarios

- When developers provide video streams of multiple resolutions for users to watch on demand, they need to convert the original stream into transcoded streams of different clarity. At this time, the single stream transcoding feature can be used.
- When converting original video streams to different video encoding formats, the single stream transcoding feature can be used. For example, when some devices cannot decode H.265 due to performance issues, they need to be transcoded to H.264.

## Prerequisites

<Warning title="Note">


The single stream transcoding feature is currently in beta testing. If you need to access it, please contact ZEGO sales or ZEGO technical support.
</Warning>

Before using the single stream transcoding feature, please ensure:
- You have created a project in the [ZEGOCLOUD Console](https://console.zego.im) and applied for a valid AppID and AppSign. For details, please refer to [Console - Project Information](/console/project-info).
- You have integrated the ZEGO Express SDK in the project and implemented basic audio and video publishing and playing functions. For details, please refer to [Quick Start - Integration](/real-time-video-ios-oc/quick-start/integrating-sdk) and [Quick Start - Implementation Flow](/real-time-video-ios-oc/quick-start/implementing-video-call).

- You need to use [L3 Playing Stream](/real-time-video-ios-oc/live-streaming/low-latency-live-streaming), [Forward-to-CDN Playing Stream (playing by streamID)](/real-time-video-ios-oc/live-streaming/using-cdn-for-live-streaming), or RTC playing stream, and have not used the stream mixing feature.

<Note title="Note">


For scenarios that have already used the stream mixing feature, you can directly implement outputting multiple streams with different resolutions based on the stream mixing interface, without triggering single stream transcoding.
</Note>


## Implementation Flow

The main flow of single stream transcoding is as follows:
1. Add transcoding template.
2. Create engine and log in to room.
3. Pull transcoded stream as needed, choose the playing stream method as [L3 Playing Stream](/real-time-video-ios-oc/live-streaming/low-latency-live-streaming), [Forward-to-CDN Playing Stream (playing by streamID)](/real-time-video-ios-oc/live-streaming/using-cdn-for-live-streaming) or RTC as needed, and pass in the transcoding template ID to trigger transcoding.

<a name="step1"></a>

### 1 Add transcoding template

Please contact ZEGO technical support to add a transcoding template and obtain the corresponding transcoding template ID.

Currently supported transcoding parameters are: template ID, resolution, bitrate, frame rate, and video encoding format.

<Warning title="Note">
- Currently only video-related parameters are supported for configuration.
- One AppID supports adding up to 5 transcoding templates. If you need to set more templates, please contact ZEGO technical support.
</Warning>

<table>

<tbody><tr>
<th>Parameter</th>
<th>Description</th>
</tr>
<tr>
<td>Template ID</td>
<td>An integer greater than 100, the ID must be unique.<br />It is recommended to name it according to the output resolution. For example, the template ID for transcoding output resolution of 360P can be named 360. If the transcoding output resolution is less than 100P, you can name it yourself.</td>
</tr>
<tr>
<td>Resolution</td>
<td><ul><li>Supported width range: [0, 3000], the value must be a multiple of 2.</li><li>Supported height range: [0, 3000], the value must be a multiple of 2.</li></ul></td>
</tr>
<tr>
<td>Bitrate</td>
<td>The value must be greater than 0, in bps.</td>
</tr>
<tr>
<td>Frame Rate</td>
<td>Supported range: [1, 20], in fps.<br />If you need to output a larger frame rate, please contact ZEGO technical support for configuration.</td>
</tr>
<tr>
<td>Video Encoding Format</td>
<td><p>The following video encoding formats are supported:</p><ul><li>H.264</li><li>H.265</li><li>Keep the video encoding format of the original stream.</li></ul></td>
</tr>
</tbody></table>


### 2 Create engine and log in to room

For the specific flow, please refer to the [Create Engine](/real-time-video-ios-oc/quick-start/implementing-video-call) and [Login Room](/real-time-video-ios-oc/quick-start/implementing-video-call) sections of the "Implementing Video Call" document.

<Warning title="Note">

Before implementing single stream transcoding, there needs to be an existing stream in the room.
</Warning>

### 3 Play transcoded stream

Configure the codecTemplateID property of [ZegoPlayerConfig](@-ZegoPlayerConfig), fill in the transcoding template ID obtained in [Step 1 Add Transcoding Configuration Template](/real-time-video-ios-oc/live-streaming/single-stream-transcoding), and start playing stream.

```objc
ZegoPlayerConfig *playerConfig = [[ZegoPlayerConfig alloc] init];
// Configure according to actual business conditions
playerConfig.resourceMode = ZegoStreamResourceModeOnlyL3;
// 101 is the configured template ID, refer to Step 1 Add Transcoding Configuration Template
playerConfig.codecTemplateID = 101;

ZegoCanvas *playCanvas = [ZegoCanvas canvasWithView:self.playView];

// engine is the ZegoExpressEngine object created when creating the engine
[[ZegoExpressEngine sharedEngine] startPlayingStream:@"streamID" canvas:playCanvas config:playerConfig];
```



## FAQ

<Accordion title="What is the difference between stream mixing and single stream transcoding?" defaultOpen="false">
- Stream mixing is generally used to merge multiple input streams into one, while supporting defining encoding format, resolution, and other parameters for multiple output streams. Stream mixing transcoding requires developers to additionally call client or server interfaces to trigger.
- Single stream transcoding is used to implement the transcoding function for a single stream, without developers needing to additionally call client or server interfaces to trigger. It only needs to be triggered by carrying template parameters when playing stream.
</Accordion>
