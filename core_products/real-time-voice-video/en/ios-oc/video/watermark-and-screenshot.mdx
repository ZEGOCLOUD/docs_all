---
articleID: 1226
date: "2024-02-29"
---
# Watermark and Screenshot

- - -

## Feature Introduction

When you need to set copyright owner Logos for educational teaching courseware and other scenarios, you can use the SDK's watermark feature to achieve this.

This article mainly describes how to use the SDK to implement watermark and screenshot features.

## Sample Source Code Download

Please refer to [Download Sample Source Code](/real-time-video-ios-oc/quick-start/run-example-code) to get the source code.

For related source code, please check the "/ZegoExpressExample/Examples/Others/Beautify" file.

## Prerequisites

Before implementing watermark and screenshot features, please ensure:

- You have created a project in the [ZEGOCLOUD Console](https://console.zegocloud.com) and applied for a valid AppID and AppSign. For details, please refer to [Console - Project Information](/console/project-info).
- You have integrated the ZEGO Express SDK in the project and implemented basic audio and video publishing and playing functions. For details, please refer to [Quick Start - Integration](/real-time-video-ios-oc/quick-start/integrating-sdk) and [Quick Start - Implementation Flow](/real-time-video-ios-oc/quick-start/implementing-video-call).


## Usage Steps

### Watermark

Call [ZegoWatermark](@-ZegoWatermark) to configure a watermark image URL and the size and position of the watermark in the picture.

Call the [setPublishWatermark](@setPublishWatermark) interface to set the publishing watermark.
<Warning title="Note">
Watermark images only support two image formats: "PNG" and "JPEG", that is, image files with ".png", ".jpg", and ".jpeg" extensions.
</Warning>

The [imageURL](@imageURL) parameter in the [ZegoWatermark](@-ZegoWatermark) object supports two path formats: absolute path and Assets.

<Accordion title="Absolute Path" defaultOpen="false">
`file://[Absolute path of the image in Bundle]`: You need to store the image in any location in the project Bundle, obtain the absolute path of the image through the `pathForResource:ofType:` method of `NSBundle`, and add the "file://" prefix.

<Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/iOS/ZegoExpressEngine/Beautify/watermark-bundle.png" /></Frame>

```objc
ZegoWatermark *watermark = [[ZegoWatermark alloc] init];

NSString *imagePath = [[NSBundle mainBundle] pathForResource:@"ZegoLogo" ofType:@"png"];
watermark.imageURL = [NSString stringWithFormat:@"file://%@", imagePath];
// The watermark layout uses the upper left corner as the origin of the coordinate system, and the area cannot exceed the size set by the encoding resolution. If empty, it means canceling the watermark
watermark.layout = CGRectMake(0, 0, 200, 200);
// Set watermark, supports dynamic modification before and after publishing
[self.engine setPublishWatermark:watermark isPreviewVisible:YES];
```
</Accordion>

<Accordion title="Assets" defaultOpen="false">
`asset://[Image resource name]`: You need to store the image in "Assets.xcassets" that comes with the iOS project.

<Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/iOS/ZegoExpressEngine/Beautify/watermark-assets.png" /></Frame>

```objc
ZegoWatermark *watermark = [[ZegoWatermark alloc] init];
watermark.imageURL = @"asset://ZegoLogo";
// The watermark layout uses the upper left corner as the origin of the coordinate system, and the area cannot exceed the size set by the encoding resolution. If empty, it means canceling the watermark
watermark.layout = CGRectMake(0, 0, 200, 200);
// Set watermark, supports dynamic modification before and after publishing
[self.engine setPublishWatermark:watermark isPreviewVisible:YES];
```
</Accordion>

### Screenshot

1. After publishing stream, call the [takePublishStreamSnapshot ](@takePublishStreamSnapshot) interface to take a screenshot of the publishing stream picture.

    ```objc
    [[ZegoExpressEngine sharedEngine] takePublishStreamSnapshot:^(int errorCode, ZGImage * _Nullable image) {

        if (errorCode == ZegoErrorCodeCommonSuccess && image) {
            UIImageView *imageView = [[UIImageView alloc] initWithFrame:CGRectMake(0, 0, UIScreen.mainScreen.bounds.size.width / 2, UIScreen.mainScreen.bounds.size.height / 2)];
            imageView.image = image;
            imageView.contentMode = UIViewContentModeScaleAspectFit;
        }
    }];
    ```

2. After playing stream, call the [takePlayStreamSnapshot ](@takePlayStreamSnapshot) interface to take a screenshot of the playing stream picture.

    ```objc
    [[ZegoExpressEngine sharedEngine] takePlayStreamSnapshot:self.streamID callback:^(int errorCode, ZGImage * _Nullable image) {
        if (errorCode == ZegoErrorCodeCommonSuccess && image) {
            UIImageView *imageView = [[UIImageView alloc] initWithFrame:CGRectMake(0, 0, UIScreen.mainScreen.bounds.size.width / 2, UIScreen.mainScreen.bounds.size.height / 2)];
            imageView.image = image;
            imageView.contentMode = UIViewContentModeScaleAspectFit;
        }
    }];
    ```

## FAQ

1. **How to specify the layout in [ZegoWatermark](@-ZegoWatermark)?**

    The watermark layout cannot exceed the currently set video encoding resolution for publishing. For setting the publishing encoding resolution, please refer to the [setVideoConfig](@setVideoConfig) interface.
