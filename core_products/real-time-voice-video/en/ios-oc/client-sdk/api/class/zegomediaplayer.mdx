---
docType: API
---

# ZegoMediaPlayer

## ZegoMediaPlayer

*Declared in `ZegoExpressDefines.h`*

### Methods
<ParamField
  name="setEventHandler:"
  prototype="- (void)setEventHandler:(nullable id<[ZegoMediaPlayerEventHandler](../../api-reference/protocol#zegomediaplayereventhandler)>) handler;"
  desc="Set event notification callback handler of the media player."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| handler | nullable id\<[ZegoMediaPlayerEventHandler](../../api-reference/protocol#zegomediaplayereventhandler)\> | Event callback handler for media player |

**Details**

Listen to the event notification callback of the media player.
 Use Cases: You can change the media player UI widget according to the related event callback.

<Note title="">
- **When to call**: After the [ZegoMediaPlayer] instance created.
- **Caution**: Calling this function will overwrite the callback set by the last call to this function.
</Note>

<Warning title="">
- **Available since**: 2.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="setVideoHandler:format:type:"
  prototype="- (void)setVideoHandler:(nullable id<[ZegoMediaPlayerVideoHandler](../../api-reference/protocol#zegomediaplayervideohandler)>) handler format:([ZegoVideoFrameFormat](../../api-reference/enum#zegovideoframeformat)) format type:([ZegoVideoBufferType](../../api-reference/enum#zegovideobuffertype)) type;"
  desc="Set video data callback handler of the media player."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| handler | nullable id\<[ZegoMediaPlayerVideoHandler](../../api-reference/protocol#zegomediaplayervideohandler)\> | Video data callback handler for media player |
| format | [ZegoVideoFrameFormat](../../api-reference/enum#zegovideoframeformat) | Video frame format for video data |
| type | [ZegoVideoBufferType](../../api-reference/enum#zegovideobuffertype) | Buffer type for video data |

**Details**

By setting this callback, the video data of the media resource file played by the media player can be called back.

<Note title="">
- **When to call**: After the [ZegoMediaPlayer] instance created.
- **Caution**: When you no longer need to get the video frame data, please call this function again to clear the handler to stop the video frame data callback.
</Note>

<Warning title="">
- **Available since**: 2.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="setAudioHandler:"
  prototype="- (void)setAudioHandler:(nullable id<[ZegoMediaPlayerAudioHandler](../../api-reference/protocol#zegomediaplayeraudiohandler)>) handler;"
  desc="Set audio data callback handler of the media player."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| handler | nullable id\<[ZegoMediaPlayerAudioHandler](../../api-reference/protocol#zegomediaplayeraudiohandler)\> | Audio data callback handler for media player |

**Details**

By setting this callback, the audio data of the media resource file played by the media player can be called back.

<Note title="">
- **When to call**: After the [ZegoMediaPlayer] instance created.
- **Caution**: When you no longer need to get the audio data, please call this function again to clear the handler to stop the audio data callback.
</Note>

<Warning title="">
- **Available since**: 2.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="setBlockDataHandler:blockSize:"
  prototype="- (void)setBlockDataHandler:(nullable id<[ZegoMediaPlayerBlockDataHandler](../../api-reference/class#zegomediaplayerblockdatahandler)>) handler blockSize:(unsigned int) blockSize;"
  desc="Set the media resource block data callback handler of the media player."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| handler | nullable id\<[ZegoMediaPlayerBlockDataHandler](../../api-reference/class#zegomediaplayerblockdatahandler)\> | The media resource block data callback handler of the media player. |
| blockSize | unsigned int | The size of the encrypted data block. The bufferSize in the OnBlockData callback is an integer multiple of blockSize. |

**Details**

This callback can be set to listen to and decrypt the media resource block data for playing the user's own ciphertext media resources.

<Note title="">
- **When to call**: After the [ZegoMediaPlayer] instance created, before playing media resources.
- **Caution**: When it is no longer necessary to listen to the callback for data decryption, please call this function again to clear the handler.
</Note>

<Warning title="">
- **Available since**: 3.4.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="loadResource:callback:"
  prototype="- (void)loadResource:(NSString *) path callback:(nullable [ZegoMediaPlayerLoadResourceCallback](../../api-reference/class#zegomediaplayerloadresourcecallback)) callback;"
  desc="Load local or network media resource."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| path | NSString * | The absolute resource path or the URL of the network resource and cannot be null or "". Android can set this path string with Uri. |
| callback | nullable [ZegoMediaPlayerLoadResourceCallback](../../api-reference/class#zegomediaplayerloadresourcecallback) | Notification of resource loading results |

**Details**

Load media resources.
 Use case: Developers can load the absolute path to the local resource or the URL of the network resource incoming.

<Note title="">
- **When to call**: It can be called after the engine by [createEngine] has been initialized and the media player has been created by [createMediaPlayer].
- **Related APIs**: Resources can be loaded through the [loadResourceWithPosition] or [loadResourceFromMediaData] function.
- **Caution**: If the mediaplayer has already loaded resources or is in the process of playing, please first call the [stop] interface to halt the playback, and then proceed to call the interface to load the media resources; failure to do so will result in an unsuccessful load.
</Note>

**Return**

Callback result of loading media resource.
</ParamField>
<ParamField
  name="loadResourceWithPosition:startPosition:callback:"
  prototype="- (void)loadResourceWithPosition:(NSString *) path startPosition:(long) startPosition callback:(nullable [ZegoMediaPlayerLoadResourceCallback](../../api-reference/class#zegomediaplayerloadresourcecallback)) callback;"
  desc="Load local or network media resource and specify the start position."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| path | NSString * | The absolute resource path or the URL of the network resource and cannot be null or "". Android can set this path string with Uri. |
| startPosition | long | The progress at which the playback started. |
| callback | nullable [ZegoMediaPlayerLoadResourceCallback](../../api-reference/class#zegomediaplayerloadresourcecallback) | Notification of resource loading results |

**Details**

Load media resources, and specify the progress, in milliseconds, at which playback begins.
 Use case: Developers can load the absolute path to the local resource or the URL of the network resource incoming.

<Note title="">
- **When to call**: It can be called after the engine by [createEngine] has been initialized and the media player has been created by [createMediaPlayer].
- **Related APIs**: Resources can be loaded through the [loadResource] or [loadResourceFromMediaData] function.
- **Caution**: 1.When [startPosition] exceeds the total playing time, it will start playing from the beginning. 
 2.If the mediaplayer has already loaded resources or is in the process of playing, please first call the [stop] interface to halt the playback, and then proceed to call the interface to load the media resources; failure to do so will result in an unsuccessful load.
</Note>

**Return**

Callback result of loading media resource.
</ParamField>
<ParamField
  name="loadResourceFromMediaData:startPosition:callback:"
  prototype="- (void)loadResourceFromMediaData:(NSData *) mediaData startPosition:(long) startPosition callback:(nullable [ZegoMediaPlayerLoadResourceCallback](../../api-reference/class#zegomediaplayerloadresourcecallback)) callback;"
  desc="Load binary audio resource."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mediaData | NSData * | Binary audio data. |
| startPosition | long | Position of starting playback, in milliseconds. |
| callback | nullable [ZegoMediaPlayerLoadResourceCallback](../../api-reference/class#zegomediaplayerloadresourcecallback) | Notification of resource loading results. |

**Details**

Load binary audio data.
 Use case: Developers do not want to cache the audio data locally, and directly transfer the audio binary data to the media player, directly load and play the audio.

<Note title="">
- **When to call**: It can be called after the engine by [createEngine] has been initialized and the media player has been created by [createMediaPlayer].
- **Related APIs**: Resources can be loaded through the [loadResource] or [loadResourceWithPosition] function.
- **Caution**: 1.When [startPosition] exceeds the total playing time, it will start playing from the beginning. 
 2.If the mediaplayer has already loaded resources or is in the process of playing, please first call the [stop] interface to halt the playback, and then proceed to call the interface to load the media resources; failure to do so will result in an unsuccessful load.
</Note>

**Return**

Callback result of loading media resource.
</ParamField>
<ParamField
  name="loadCopyrightedMusicResourceWithPosition:startPosition:callback:"
  prototype="- (void)loadCopyrightedMusicResourceWithPosition:(NSString *) resourceID startPosition:(long) startPosition callback:(nullable [ZegoMediaPlayerLoadResourceCallback](../../api-reference/class#zegomediaplayerloadresourcecallback)) callback;"
  desc="Load copyrighted music resource."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| resourceID | NSString * | The resource ID obtained from the copyrighted music module. |
| startPosition | long | The progress at which the playback started. |
| callback | nullable [ZegoMediaPlayerLoadResourceCallback](../../api-reference/class#zegomediaplayerloadresourcecallback) | Notification of resource loading results |

**Details**

Load media resources, and specify the progress, in milliseconds, at which playback begins.
 Use case: Developers can load the resource ID of copyrighted music.

<Note title="">
- **When to call**: It can be called after the engine by [createEngine] has been initialized and the media player has been created by [createMediaPlayer].
- **Caution**: 1.When [startPosition] exceeds the total playing time, it will start playing from the beginning. 
 2.If the mediaplayer has already loaded resources or is in the process of playing, please first call the [stop] interface to halt the playback, and then proceed to call the interface to load the media resources; failure to do so will result in an unsuccessful load.
</Note>

**Return**

Callback result of loading media resource.
</ParamField>
<ParamField
  name="loadResourceWithConfig:callback:"
  prototype="- (void)loadResourceWithConfig:([ZegoMediaPlayerResource](../../api-reference/class#zegomediaplayerresource) *) resource callback:(nullable [ZegoMediaPlayerLoadResourceCallback](../../api-reference/class#zegomediaplayerloadresourcecallback)) callback;"
  desc="Load local or network media resource with config."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| resource | [ZegoMediaPlayerResource](../../api-reference/class#zegomediaplayerresource) * | Multimedia resources that need to be loaded. |
| callback | nullable [ZegoMediaPlayerLoadResourceCallback](../../api-reference/class#zegomediaplayerloadresourcecallback) | Notification of resource loading results |

**Details**

Load media resources.
 Use case: Developers can load the absolute path to the local resource or the URL of the network resource incoming.

<Note title="">
- **When to call**: Called after the engine [createEngine] has been initialized and the media player [createMediaPlayer] has been created.
- **Related APIs**: Support for loading resources through the [loadResourceWithPosition] or [loadResourceFromMediaData] interface.
- **Caution**: If the mediaplayer has already loaded resources or is in the process of playing, please first call the [stop] interface to halt the playback, and then proceed to call the interface to load the media resources; failure to do so will result in an unsuccessful load.
</Note>

**Return**

Callback result of loading media resource.
</ParamField>
<ParamField
  name="start"
  prototype="- (void)start;"
  desc="Start playing."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
You need to load resources before playing
</ParamField>
<ParamField
  name="stop"
  prototype="- (void)stop;"
  desc="Stop playing."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
</ParamField>
<ParamField
  name="pause"
  prototype="- (void)pause;"
  desc="Pause playing."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
</ParamField>
<ParamField
  name="resume"
  prototype="- (void)resume;"
  desc="Resume playing."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
</ParamField>
<ParamField
  name="seekTo:callback:"
  prototype="- (void)seekTo:(unsigned long long) millisecond callback:(nullable [ZegoMediaPlayerSeekToCallback](../../api-reference/class#zegomediaplayerseektocallback)) callback;"
  desc="Set the specified playback progress."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| millisecond | unsigned long long | Point in time of specified playback progress |
| callback | nullable [ZegoMediaPlayerSeekToCallback](../../api-reference/class#zegomediaplayerseektocallback) | The result notification of set the specified playback progress |

**Details**

Unit is millisecond

**Return**

The result notification of set the specified playback progress
</ParamField>
<ParamField
  name="enableRepeat:"
  prototype="- (void)enableRepeat:(BOOL) enable;"
  desc="Whether to repeat playback."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| enable | BOOL | repeat playback flag. The default is false. |
</ParamField>
<ParamField
  name="setPlaySpeed:"
  prototype="- (void)setPlaySpeed:(float) speed;"
  desc="Set the speed of play."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| speed | float | The speed of play. The default is 1.0.<br/>  Versions 2.12.0 to 3.15.1: The range is 0.5 ~ 4.0.<br/>  Versions 3.16.0 and above: The range is 0.3 ~ 4.0. |

**Details**

Set the playback speed of the player.

<Note title="">
- **When to call**: You should load resource before invoking this function.
- **Related APIs**: Resources can be loaded through the [loadResource] function.
</Note>

<Warning title="">
- **Available since**: 2.12.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="enableAux:"
  prototype="- (void)enableAux:(BOOL) enable;"
  desc="Whether to mix the player's sound into the stream being published."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | BOOL | Aux audio flag. The default is false. |

**Details**

This interface will only mix the media player sound into the main channel
</ParamField>
<ParamField
  name="muteLocal:"
  prototype="- (void)muteLocal:(BOOL) mute;"
  desc="Whether to play locally silently."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mute | BOOL | Mute local audio flag, The default is false. |

**Details**

If [enableAux] switch is turned on, there is still sound in the publishing stream. The default is false.
</ParamField>
<ParamField
  name="setPlayerCanvas:"
  prototype="- (void)setPlayerCanvas:(nullable [ZegoCanvas](../../api-reference/class#zegocanvas) *) canvas;"
  desc="Set the view of the player playing video."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| canvas | nullable [ZegoCanvas](../../api-reference/class#zegocanvas) * | Video rendered canvas object |
</ParamField>
<ParamField
  name="setVolume:"
  prototype="- (void)setVolume:(int) volume;"
  desc="Set mediaplayer volume. Both the local play volume and the publish volume are set."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| volume | int | The range is 0 ~ 200. The default is 60. |
</ParamField>
<ParamField
  name="setPlayVolume:"
  prototype="- (void)setPlayVolume:(int) volume;"
  desc="Set mediaplayer local playback volume."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| volume | int | The range is 0 ~ 200. The default is 60. |
</ParamField>
<ParamField
  name="setPublishVolume:"
  prototype="- (void)setPublishVolume:(int) volume;"
  desc="Set mediaplayer publish volume."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| volume | int | The range is 0 ~ 200. The default is 60. |
</ParamField>
<ParamField
  name="setProgressInterval:"
  prototype="- (void)setProgressInterval:(unsigned long long) millisecond;"
  desc="Set playback progress callback interval."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| millisecond | unsigned long long | Interval of playback progress callback in milliseconds |

**Details**

This function can control the callback frequency of [onMediaPlayerPlayingProgress]. When the callback interval is set to 0, the callback is stopped. The default callback interval is 1s
 This callback are not returned exactly at the set callback interval, but rather at the frequency at which the audio or video frames are processed to determine whether the callback is needed to call
</ParamField>
<ParamField
  name="playVolume"
  prototype="- (int)playVolume;"
  desc="Gets the current local playback volume of the mediaplayer, the range is 0 ~ 200, with the default value of 60."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
current volume
</ParamField>
<ParamField
  name="publishVolume"
  prototype="- (int)publishVolume;"
  desc="Gets the current publish volume of the mediaplayer, the range is 0 ~ 200, with the default value of 60."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
current volume
</ParamField>
<ParamField
  name="totalDuration"
  prototype="- (unsigned long long)totalDuration;"
  desc="Get the total progress of your media resources."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
You should load resource before invoking this function, otherwise the return value is 0

Unit is millisecond
</ParamField>
<ParamField
  name="currentProgress"
  prototype="- (unsigned long long)currentProgress;"
  desc="Get current playing progress."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
You should load resource before invoking this function, otherwise the return value is 0

current progress
</ParamField>
<ParamField
  name="currentRenderingProgress"
  prototype="- (unsigned long long)currentRenderingProgress;"
  desc="Get current rendering progress."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
You should load resource before invoking this function, otherwise the return value is 0

current rendering progress
</ParamField>
<ParamField
  name="audioTrackCount"
  prototype="- (unsigned int)audioTrackCount;"
  desc="Get the number of audio tracks of the playback file."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
Number of audio tracks
</ParamField>
<ParamField
  name="setAudioTrackIndex:"
  prototype="- (void)setAudioTrackIndex:(unsigned int) index;"
  desc="Set the audio track of the playback file."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| index | unsigned int | Audio track index, the number of audio tracks can be obtained through the [getAudioTrackCount] function. |
</ParamField>
<ParamField
  name="setAudioTrackMode:"
  prototype="- (void)setAudioTrackMode:([ZegoMediaPlayerAudioTrackMode](../../api-reference/enum#zegomediaplayeraudiotrackmode)) mode;"
  desc="Set the audio track mode of the player."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mode | [ZegoMediaPlayerAudioTrackMode](../../api-reference/enum#zegomediaplayeraudiotrackmode) | Audio track mode. |

**Details**

Set the audio track mode of the player.
 Use case: Under the real-time chorus (KTV), call the interface enable multi-track mode, call the interface [setAudioTrackIndex] to specify the original track to play, call interface [setAudioTrackPublishIndex] specified need publish of accompaniment tracks.

<Note title="">
- **When to call**: The call takes effect before [start] starts playing
- **Related APIs**: Call [setAudioTrackIndex] to specified the play track of media file and call [setAudioTrackPublishIndex] to specified the publish track of media file.
- **Caution**: When multi-track mode is enabled, the resource consumption of the hardware device is increased.
</Note>

<Warning title="">
- **Available since**: 3.1.0
</Warning>
</ParamField>
<ParamField
  name="setAudioTrackPublishIndex:"
  prototype="- (void)setAudioTrackPublishIndex:(unsigned int) index;"
  desc="Set the audio track for the media file to be publish."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| index | unsigned int | Audio track index, the number of audio tracks can be obtained through the [getAudioTrackCount] function. |

**Details**

Set the audio track for the media file to be publish.

<Note title="">
- **When to call**: It can be called after the engine by [createEngine] has been initialized and the media player has been created by [createMediaPlayer].
- **Related APIs**: The number of audio tracks can be obtained through the [getAudioTrackCount] function.
- **Caution**: This call takes effect only after multitrack mode is enabled by calling the interface [setAudioTrackMode].
</Note>

<Warning title="">
- **Available since**: 3.1.0
</Warning>
</ParamField>
<ParamField
  name="enableVoiceChanger:param:audioChannel:"
  prototype="- (void)enableVoiceChanger:(BOOL) enable param:([ZegoVoiceChangerParam](../../api-reference/class#zegovoicechangerparam) *) param audioChannel:([ZegoMediaPlayerAudioChannel](../../api-reference/enum#zegomediaplayeraudiochannel)) audioChannel;"
  desc="Enable voice changer, set up the specific voice changer parameters."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | BOOL | Whether enable voice changer or not. True - enabled, false - disabled, default value is false. |
| param | [ZegoVoiceChangerParam](../../api-reference/class#zegovoicechangerparam) * | Voice changer parameters |
| audioChannel | [ZegoMediaPlayerAudioChannel](../../api-reference/enum#zegomediaplayeraudiochannel) | The audio channel to be voice changed |

**Details**

Enable voice changer, set up the specific voice changer parameters.

<Note title="">
- **When to call**: It can be called after the engine by [createEngine] has been initialized and the media player has been created by [createMediaPlayer].
</Note>

<Warning title="">
- **Available since**: 3.15.0
</Warning>
</ParamField>
<ParamField
  name="currentState"
  prototype="- ([ZegoMediaPlayerState](../../api-reference/enum#zegomediaplayerstate)) currentState;"
  desc="Get the current playback status."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
current state
</ParamField>
<ParamField
  name="index"
  prototype="- (NSNumber *)index;"
  desc="Get media player index."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
Get media player index.

<Note title="">
- **When to call**: It can be called after [createMediaPlayer].
</Note>

<Warning title="">
- **Restrictions**: None.
</Warning>

Media player index.
</ParamField>
<ParamField
  name="takeSnapshot:"
  prototype="- (void)takeSnapshot:([ZegoMediaPlayerTakeSnapshotCallback](../../api-reference/class#zegomediaplayertakesnapshotcallback)) callback;"
  desc="Take a screenshot of the current playing screen of the media player."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| callback | [ZegoMediaPlayerTakeSnapshotCallback](../../api-reference/class#zegomediaplayertakesnapshotcallback) | The callback of the screenshot of the media player playing screen |

**Details**

Only in the case of calling [setPlayerCanvas] to set the display controls and the playback state, can the screenshot be taken normally
</ParamField>
<ParamField
  name="enableAccurateSeek:config:"
  prototype="- (void)enableAccurateSeek:(BOOL) enable config:([ZegoAccurateSeekConfig](../../api-reference/class#zegoaccurateseekconfig) *) config;"
  desc="Enable accurate seek and set relevant attributes."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | BOOL | Whether to enable accurate seek |
| config | [ZegoAccurateSeekConfig](../../api-reference/class#zegoaccurateseekconfig) * | The property setting of accurate seek, only valid when enable is true. |

**Details**

The timestamp specified by normal seek may not an I frame, and then returns the I frame near the specified timestamp, which is not so accurate. But the accurate seek, when the specified timestamp is not an I frame, it will use the I frame near the specified timestamp to decode the frame of the specified timestamp.

<Note title="">
- **Use cases**: When user needs to seek to the specified timestamp accurately.
- **When to call**: The setting must be called before [loadResource], and it will take effect during the entire life cycle of the media player.
</Note>

<Warning title="">
- **Available since**: 2.4.0
</Warning>
</ParamField>
<ParamField
  name="setNetWorkResourceMaxCache:size:"
  prototype="- (void)setNetWorkResourceMaxCache:(unsigned int) time size:(unsigned int) size;"
  desc="Set the maximum cache duration and cache data size of web materials."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| time | unsigned int | The maximum length of the cache time, in ms, the SDK internal default is 5000; the effective value is greater than or equal to 2000; if you fill in 0, it means no limit. |
| size | unsigned int | The maximum size of the cache, the unit is byte, the internal default size of the SDK is 15*1024*1024 byte; the effective value is greater than or equal to 5000000, if you fill in 0, it means no limit. |

**Details**

The setting must be called before loading the resource, and it will take effect during the entire life cycle of the media player.
 Time and size are not allowed to be 0 at the same time. The SDK internal default time is 5000, and the size is 15*1024*1024 byte.When one of time and size reaches the set value first, the cache will stop.
 When loading resources with a non-empty onlineResourceCachePath, the cache is controlled by maxCachePendingLength. This configuration is invalid.
</ParamField>
<ParamField
  name="getNetWorkResourceCache"
  prototype="- ([ZegoNetWorkResourceCache](../../api-reference/class#zegonetworkresourcecache) *)getNetWorkResourceCache;"
  desc="Get the playable duration and size of the cached data of the current network material cache queue"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
Returns the current cached information, including the length of time the data can be played and the size of the cached data.
</ParamField>
<ParamField
  name="setNetWorkBufferThreshold:"
  prototype="- (void)setNetWorkBufferThreshold:(unsigned int) threshold;"
  desc="Use this interface to set the cache threshold that the media player needs to resume playback. The SDK default value is 5000msï¼ŒThe valid value is greater than or equal to 1000ms"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| threshold | unsigned int | Threshold that needs to be reached to resume playback, unit ms. |

**Details**

The setting must be called before loading the resource, and it will take effect during the entire life cycle of the media player.
 When the network status is poor and the media player has finished playing the cached network resources, it will stop playing, and notify the user through the `ZegoMediaPlayerNetworkEvent.BUFFER_BEGIN` state of the callback interface `onMediaPlayerNetworkEvent` that the network resources are being recached.
 Only when the cached network resources are greater than the set threshold, the media player will automatically resume playback at the original paused position, and notify the user through the `ZegoMediaPlayerNetworkEvent.BUFFER_ENDED` of the callback interface `onMediaPlayerNetworkEvent` that the user has cached the network resources The threshold was reached and playback resumed.
</ParamField>
<ParamField
  name="enableSoundLevelMonitor:millisecond:"
  prototype="- (void)enableSoundLevelMonitor:(BOOL) enable millisecond:(unsigned int) millisecond;"
  desc="Whether to enable sound level monitoring."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | BOOL | Whether to enable monitoring, true is enabled, false is disabled. |
| millisecond | unsigned int | Monitoring time period of the sound level, in milliseconds, has a value range of [100, 3000]. |

**Details**

Whether to enable sound level monitoring.

<Note title="">
- **When to call**: It can be called after the engine by [createEngine] has been initialized and the media player has been created by [createMediaPlayer].
- **Related callbacks**: After it is turned on, user can use the [onMediaPlayerSoundLevelUpdate] callback to monitor sound level updates.
</Note>

<Warning title="">
- **Available since**: 2.15.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="enableFrequencySpectrumMonitor:millisecond:"
  prototype="- (void)enableFrequencySpectrumMonitor:(BOOL) enable millisecond:(unsigned int) millisecond;"
  desc="Whether to enable frequency spectrum monitoring."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | BOOL | Whether to enable monitoring, true is enabled, false is disabled. |
| millisecond | unsigned int | Monitoring time period of the frequency spectrum, in milliseconds, has a value range of [10, 3000]. Note that on v3.19.0 and older version, the value range is [100, 3000]. |

**Details**

Whether to enable frequency spectrum monitoring.

<Note title="">
- **When to call**: It can be called after the engine by [createEngine] has been initialized and the media player has been created by [createMediaPlayer].
- **Related APIs**: After it is turned on, user can use the [onMediaPlayerFrequencySpectrumUpdate] callback to monitor frequency spectrum updates.
</Note>

<Warning title="">
- **Available since**: 2.15.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="setActiveAudioChannel:"
  prototype="- (void)setActiveAudioChannel:([ZegoMediaPlayerAudioChannel](../../api-reference/enum#zegomediaplayeraudiochannel)) audioChannel;"
  desc="Set the playback channel."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| audioChannel | [ZegoMediaPlayerAudioChannel](../../api-reference/enum#zegomediaplayeraudiochannel) | Playback channel, the default is ZegoMediaPlayerAudioChannelAll. |

**Details**

Set the playback channel.

<Note title="">
- **When to call**: It can be called after the engine by [createEngine] has been initialized and the media player has been created by [createMediaPlayer].
</Note>

<Warning title="">
- **Available since**: 2.20.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="clearView"
  prototype="- (void)clearView;"
  desc="Clears the last frame of the playback control that remains on the control after playback ends."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
Clears the last frame of the playback control that remains on the control after playback ends.

<Note title="">
- **When to call**: It can be called after the engine by [createEngine] has been initialized and the media player has been created by [createMediaPlayer].
</Note>

<Warning title="">
- **Available since**: 2.20.0
- **Restrictions**: The interface call takes effect only when the media player ends playing.
</Warning>
</ParamField>
<ParamField
  name="getMediaInfo"
  prototype="- ([ZegoMediaPlayerMediaInfo](../../api-reference/class#zegomediaplayermediainfo) *)getMediaInfo;"
  desc="Get meida information such as video resolution from media file."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
Get meida information such as video resolution from media file.

<Note title="">
- **When to call**: It can be called after the engine by [createEngine] has been initialized and the media player has been created by [createMediaPlayer].
</Note>

<Warning title="">
- **Available since**: 3.6.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="updatePosition:"
  prototype="- (void)updatePosition:(const float[_Nonnull 3]) position;"
  desc="Update the position of the media player (audio source)."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| position | const float[_Nonnull 3] | The unit vector of the front axis of its own coordinate system. The parameter is a float array with a length of 3. |

**Details**

Update the position of the media player (audio source).

<Note title="">
- **Use cases**: The media player also needs to have 3D spatial sound.
- **When to call**: It can be called after the engine by [createEngine] has been initialized and the media player has been created by [createMediaPlayer].
</Note>

<Warning title="">
- **Available since**: 3.6.0
- **Restrictions**: This interface needs to be used in conjunction with the RangeAudio/RangeScene module. This interface can only be called successfully after the RangeAudio/RangeScene module enables 3D sound effects.
</Warning>
</ParamField>
<ParamField
  name="setHttpHeader:"
  prototype="- (void)setHttpHeader:(NSDictionary<NSString *, NSString *> *) headers;"
  desc="Set http headers."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| headers | NSDictionary\<NSString *, NSString *\> * | Headers info. |

**Details**

Call this function to set the http headers of the http network resource.

<Note title="">
- **Use cases**: When the network resource needs to set special header information.
- **When to call**: It can be called after the engine by [createEngine] has been initialized and the media player has been created by [createMediaPlayer].
</Note>

<Warning title="">
- **Available since**: 3.8.0
- **Restrictions**: Called before the corresponding network resource is loaded.
</Warning>
</ParamField>
<ParamField
  name="setPlayMediaStreamType:"
  prototype="- (void)setPlayMediaStreamType:([ZegoMediaStreamType](../../api-reference/enum#zegomediastreamtype)) streamType;"
  desc="Set play media stream type."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| streamType | [ZegoMediaStreamType](../../api-reference/enum#zegomediastreamtype) | Stream type. |

**Details**

Configure the media stream type to be played. You can only play video streams or audio streams. This will take effect during the life cycle of the media player.

<Note title="">
- **Use cases**: When only the video stream or audio stream needs to be played.
- **When to call**: It can be called after the engine by [createEngine] has been initialized and the media player has been created by [createMediaPlayer].
- **Caution**: Changing the media stream type during playing will take effect in the next playing.
</Note>

<Warning title="">
- **Available since**: 3.10.0
</Warning>
</ParamField>
<ParamField
  name="enableLiveAudioEffect:mode:"
  prototype="- (void)enableLiveAudioEffect:(BOOL) enable mode:([ZegoLiveAudioEffectMode](../../api-reference/enum#zegoliveaudioeffectmode)) mode;"
  desc="Enable live audio effect."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | BOOL | Whether to enable live audio effect. |
| mode | [ZegoLiveAudioEffectMode](../../api-reference/enum#zegoliveaudioeffectmode) | Live audio effect mode. |

**Details**

When the live audio effect is turned on, the spatial sense is enhanced and the instrument sounds become more prominent, without any increase in delay.

<Note title="">
- **Use cases**: It is commonly used in voice chat rooms and karaoke scenarios to enhance the live audio effects of the accompaniment.
- **When to call**: It can be called after the engine by [createEngine] has been initialized and the media player has been created by [createMediaPlayer].
- **Caution**: To enhance the live audio effect experience, it is recommended to configure dual-channel stereo encoding. Developers can achieve this configuration by using the [setAudioCaptureStereoMode] method. Failure to configure dual-channel stereo encoding may significantly diminish the effects of certain songs, as the left and right channel effects may cancel each other out when synthesizing mono audio, resulting in less noticeable effects.
</Note>

<Warning title="">
- **Available since**: 3.10.0
</Warning>
</ParamField>
<ParamField
  name="enableLocalCache:cacheDir:"
  prototype="- (void)enableLocalCache:(BOOL) enable cacheDir:(NSString *) cacheDir;"
  desc="Enable local caching of http/https network resources."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | BOOL | Whether to enable local caching. |
| cacheDir | NSString * | Cache dir. If left blank, the directory specified internally by SDK will be used. |

**Details**

When playing http/https network resources, when the local cache is enabled, the network resources will be saved locally and the cache information will be called back through [onMediaPlayerLocalCache].

<Note title="">
- **When to call**: It can be called after the engine by [createEngine] has been initialized and the media player has been created by [createMediaPlayer]. Called after [loadResource] or during playback, it will take effect next playback.
- **Caution**: Only http/https single file type network resources are supported. If there is a [seek] operation during playback, the cache will fail.
</Note>

<Warning title="">
- **Available since**: 3.12.0
</Warning>
</ParamField>
<ParamField
  name="enableViewMirror:"
  prototype="- (void)enableViewMirror:(BOOL) enable;"
  desc="Enable the view mirror."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | BOOL | Whether to enable view mirror. |

**Details**

Enable view mirror.

<Note title="">
- **When to call**: It can be called after the engine by [createEngine] has been initialized and the media player has been created by [createMediaPlayer].
</Note>

<Warning title="">
- **Available since**: 3.14.0
</Warning>
</ParamField>
<ParamField
  name="getPlaybackStatistics"
  prototype="- ([ZegoMediaPlayerStatisticsInfo](../../api-reference/class#zegomediaplayerstatisticsinfo) *)getPlaybackStatistics;"
  desc="Get playback statistics."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
Get current playback statistics to monitor whether decoding and rendering anomalies occur in the player.

<Note title="">
- **Use cases**: Typically used in cloud-based media player scenarios.
- **When to call**: Invoke after the [loadResource] callback succeeds.
</Note>

<Warning title="">
- **Available since**: 3.12.0
</Warning>
</ParamField>
<ParamField
  name="setVoiceChangerParam:audioChannel:"
  prototype="- (void)setVoiceChangerParam:([ZegoVoiceChangerParam](../../api-reference/class#zegovoicechangerparam) *) param audioChannel:([ZegoMediaPlayerAudioChannel](../../api-reference/enum#zegomediaplayeraudiochannel)) audioChannel;"
  desc="[Deprecated] Setting up the specific voice changer parameters."
  suffixes={["deprecated"]}
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
| Name | Type | Description |
| --- | --- | --- |
| param | [ZegoVoiceChangerParam](../../api-reference/class#zegovoicechangerparam) * | Voice changer parameters |
| audioChannel | [ZegoMediaPlayerAudioChannel](../../api-reference/enum#zegomediaplayeraudiochannel) | The audio channel to be voice changed |

<Warning title="Deprecated">Deprecated since 3.15.0, please use [enableVoiceChanger] instead.</Warning>
</ParamField>
