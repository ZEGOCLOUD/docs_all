---
id: delete-media
title: "DeleteMedia"
description: "When users perform CDN recording, they will store the recorded media files on CDN servers, and users can call this interface to delete the file."
api: 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
info_path: core_products/real-time-voice-video/en/server/api-reference/cdn/open-api-desc
---

<h1 className={"openapi__heading"}>DeleteMedia</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


When users perform CDN recording, they will store the recorded media files on CDN servers, and users can call this interface to delete the file.
<Warning title="Note"> Before using this interface for the first time, please confirm whether CDN recording service has been activated. If not, please go to the [ZEGOCLOUD Console](https://console.zego.im) to activate it yourself, for details, please refer to [Console - Service Configuration - CDN](/console/service-configuration/activate-cdn-service), or contact ZEGOCLOUD Technical Support to activate it. </Warning> <Note title="Call frequency limit">All rooms under the same AppID are limited to 20 times/second</Note>
## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> Interface prototype parameters\n>\n> https://rtc-api.zego.im?Action=DeleteMedia\n","required":true,"schema":{"type":"string","enum":["DeleteMedia"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"ðŸ’¡Public parameter. Application ID, assigned by ZEGOCLOUD. Get it from the [ZEGOCLOUD Admin Console](https://console.zegocloud.com/).","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"ðŸ’¡Common parameter. A 16-character hexadecimal random string (hex-encoded 8-byte random number). For the generation algorithm, refer to the <a href=\"/real-time-video-server/api-reference/accessing-server-apis#signature-example\">signature example</a>.","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"ðŸ’¡Common parameter. Current Unix timestamp in seconds. For the generation algorithm, refer to the <a href=\"/real-time-video-server/api-reference/accessing-server-apis#signature-example\">signature example</a>. A maximum deviation of 10 minutes is allowed.","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"ðŸ’¡Common parameter. Signature used to verify the legitimacy of the request. Please refer to the [signature mechanism](/real-time-video-server/api-reference/accessing-server-apis#signature-mechanism) to generate it.","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"ðŸ’¡Public parameter. Signature version number.","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Vendor","in":"query","required":true,"schema":{"type":"string","enum":["Tencent","Ws","Huawei"]},"description":"<p>Possible values and corresponding CDN vendors:</p>\nTencent: Tencent Cloud.\nWs: Wangsu.\nHuawei: Huawei Cloud.\n"}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"FileId","in":"query","required":true,"description":"<p>\n  Unique file identifier returned in the\n  <a href=\"/real-time-video-server/callback/cdn/cdn-record-completed\" target=\"blank\">\n    recording file generation callback\n  </a>, supporting up to 100 media file FileIds.\n</p>\n<p>\n  Please note that the unique identifiers for recording files are different for each CDN vendor:\n</p>\n<ul>\n  <li>Tencent Cloud: FileID.</li>\n  <li>Wangsu: PersistentId.</li>\n  <li>Huawei Cloud: ObsObject.</li>\n</ul>\n<p>\n  You can also obtain the unique identifier of the media file through the\n  <a href=\"/real-time-video-server/api-reference/cdn/search-media\" target=\"blank\">\n    search media\n  </a>\n  interface, and the parameter names corresponding to the identifiers are different, please pay attention to distinguish them.\n</p>\n<p>\n  Example: &FileId[]=5285890813221514958&FileId[]=5285890813221513290\n</p>\n","schema":{"type":"array","items":{"type":"string"},"minItems":1,"maxItems":100},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"ClearCache","in":"query","required":false,"description":"Whether to delete the cache on CDN nodes when deleting files.\n\n>**Note:**\n>\n>Only supports Wangsu, cache deletion only applies to successfully deleted files, cache will only be deleted after the file deletion is successful.\n","schema":{"type":"boolean"}}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>Success</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","description":"Return codes.\n<br/>\nOnly the return codes related to interface business logic are listed here. For the complete return codes, please refer to [Global Return Codes](/real-time-video-server/api-reference/return-codes).\n<table>\n  <thead>\n    <tr><th>Return Code</th><th>Description</th><th>Solution</th></tr>\n  </thead>\n  <tbody>\n    <tr><td>0</td><td>Request successful.</td><td>-</td></tr>\n    <tr><td>2</td><td>Input parameter error.</td><td>-</td></tr>\n    <tr><td>3</td><td>Related permissions not activated.</td><td>Please contact ZEGOCLOUD Technical Support.</td></tr>\n    <tr><td>4</td><td>CDN type mismatch.</td><td>Please check the parameters.</td></tr>\n    <tr><td>5</td><td>Configuration error.</td><td>Please contact ZEGOCLOUD Technical Support.</td></tr>\n    <tr><td>6</td><td>Request too frequent.</td><td>Please try again later.</td></tr>\n    <tr><td>7</td><td>Authentication failed.</td><td>Please check if the authentication parameters are correct.</td></tr>\n    <tr><td>1000</td><td>Request failed.</td><td>Please contact ZEGOCLOUD Technical Support.</td></tr>\n  </tbody>\n</table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Operation result description.","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Request ID returned by ZEGOCLOUD server.","example":"3574501647605445341"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>Response data, generated by JSON serialization of the following parameters.</div><SchemaItem collapsible={false} name={"Deleted"} required={false} schemaName={"string[]"} qualifierMessage={undefined} schema={{"type":"array","description":"List of successfully deleted files.","items":{"type":"string"},"example":["3270835010809755971","3270835010811335406"]}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Errors</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>List of files that failed to be deleted.</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Error code for failed file deletion."}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Error message for failed file deletion."}}></SchemaItem><SchemaItem collapsible={false} name={"Key"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Unique identifier of the file that failed to be deleted."}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Unique request ID returned by the CDN vendor corresponding to the Vendor parameter value in the request","which needs to be provided when locating problems.":null}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>WsItemIdReceiverResp</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>Result of file cache deletion.</div><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","description":"Response code.\n- 1: Delete file cache.\n- Not 1: Delete file cache failed.\n"}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Response message. Description of the result of file cache deletion."}}></SchemaItem></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"3574501647605445341\",\n  \"Data\": {\n    \"Deleted\": [\n      \"3270835010809755971\",\n      \"3270835010811335406\"\n    ],\n    \"Errors\": [],\n    \"WsItemIdReceiverResp\": {\n      \"Code\": \"1\",\n      \"Message\": \"handle success\"\n    }\n  }\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Delete file cache success"} value={"Delete file cache success"}><Markdown> Return example for successful file cache deletion.</Markdown><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"Data\": {\n    \"Deleted\": [\n      \"pickrecord-clarechen_test_ws--20251226115411.mp4\"\n    ],\n    \"Errors\": [],\n    \"WsItemIdReceiverResp\": {\n      \"Code\": 1,\n      \"Message\": \"handle success\"\n    }\n  },\n  \"RequestId\": 123456\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Delete file cache failure"} value={"Delete file cache failure"}><Markdown> Return example when ClearCache is not filled or ClearCache is not true.</Markdown><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"Data\": {\n    \"Deleted\": [\n      \"pickrecord-clarechen_test_ws--20251226115803.mp4\"\n    ],\n    \"Errors\": [],\n    \"WsItemIdReceiverResp\": {\n      \"Code\": 0,\n      \"Message\": \"\"\n    }\n  },\n  \"RequestId\": 123456\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      