---
id: start-on-demand-transcoding
title: "TranscodeMedia"
description: "When users perform CDN recording, they can store the recorded media files on CDN servers and use this interface to perform on-demand transcoding on the media files, changing properties such as the source file's encoding format, resolution, and bitrate for playback on different terminals and network environments."
api: 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
info_path: core_products/real-time-voice-video/en/server/api-reference/cdn/open-api-desc
---

<h1 className={"openapi__heading"}>TranscodeMedia</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


When users perform CDN recording, they can store the recorded media files on CDN servers and use this interface to perform on-demand transcoding on the media files, changing properties such as the source file's encoding format, resolution, and bitrate for playback on different terminals and network environments.

<Warning title="Note">
Before using this interface for the first time, please confirm whether CDN recording service has been activated. If not, please go to the [ZEGOCLOUD Console](https://console.zego.im) to activate it yourself, for details, please refer to [Console - Service Configuration - CDN](/console/service-configuration/activate-cdn-service), or contact ZEGOCLOUD Technical Support to activate it and configure the callback address. After the media file transcoding is completed, it will be notified through the [on-demand transcoding completion callback](/real-time-video-server/callback/cdn/on-demand-transcoding-completed).
</Warning>

Developers can view the transcoding task status, file playback URL and other detailed information through the [on-demand transcoding completion callback](/real-time-video-server/callback/cdn/on-demand-transcoding-completed) or the [query media file task](/real-time-video-server/api-reference/cdn/describe-media-task) interface.

<Note title="Call frequency limit">All rooms under the same AppID are limited to 20 times/second</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> Interface prototype parameters\n>\n> https://rtc-api.zego.im?Action=TranscodeMedia\n","required":true,"schema":{"type":"string","enum":["TranscodeMedia"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"ðŸ’¡Public parameter. Application ID, assigned by ZEGOCLOUD. Get it from the [ZEGOCLOUD Admin Console](https://console.zegocloud.com/).","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"ðŸ’¡Common parameter. A 16-character hexadecimal random string (hex-encoded 8-byte random number). For the generation algorithm, refer to the <a href=\"/real-time-video-server/api-reference/accessing-server-apis#signature-example\">signature example</a>.","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"ðŸ’¡Common parameter. Current Unix timestamp in seconds. For the generation algorithm, refer to the <a href=\"/real-time-video-server/api-reference/accessing-server-apis#signature-example\">signature example</a>. A maximum deviation of 10 minutes is allowed.","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"ðŸ’¡Common parameter. Signature used to verify the legitimacy of the request. Please refer to the [signature mechanism](/real-time-video-server/api-reference/accessing-server-apis#signature-mechanism) to generate it.","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"ðŸ’¡Public parameter. Signature version number.","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Vendor","in":"query","required":true,"schema":{"type":"string","enum":["Tencent"]},"description":"<p>CDN vendor name.</p><p>Currently only supports Tencent: Tencent Cloud.</p>\n"}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"FileId","in":"query","required":true,"schema":{"type":"string"},"description":"Source file ID that needs transcoding, which can be obtained through the following methods:\n<ul><li>FileID parameter of the <a href=\"/real-time-video-server/callback/cdn/cdn-record-completed\" target=\"blank\">recording file generation callback</a>, only when the CDN vendor is Tencent will this parameter be called back.</li><li>file_id parameter of the <a href=\"/real-time-video-server/callback/cdn/merge-media-completed\" target=\"blank\">media file merge completion callback</a>.</li><li>FileId parameter of the <a href=\"/real-time-video-server/api-reference/cdn/search-media\" target=\"blank\">search media</a> interface.</li></ul>\n\n> **Note**\n>\n> ZEGOCLOUD will not verify whether the \"FileId file passed in actually exists\", please pay attention to fill in the correct FileId; if an incorrect FileId is passed in, the Code in the response parameter will be 1000.\n"}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Resolution","in":"query","required":true,"schema":{"type":"string","enum":["360p","540p","720p"]},"description":"<p>Resolution of the transcoded media file, the following values are available:</p><ul><li>360p</li><li>540p</li><li>720p</li></ul>\n\n> **Note**\n>\n> If you need to customize file transcoding parameters, please contact ZEGOCLOUD Technical Support to configure custom templates. For common transcoding specifications, the parameters corresponding to the default transcoding templates for each resolution are as follows:\n> - 360p: Container format MP4, video encoding H.264, bitrate 400 kbps, frame rate 25 fps, audio encoding AAC.\n> - 540p: Container format MP4, video encoding H.264, bitrate 1000 kbps, frame rate 25 fps, audio encoding AAC.\n> - 720p: Container format MP4, video encoding H.264, bitrate 1800 kbps, frame rate 25 fps, audio encoding AAC.\n"}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>Success</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","description":"Only the return codes related to interface business logic are listed here. For the complete return codes, please refer to [Global Return Codes](/real-time-video-server/api-reference/return-codes).\n<table>\n<thead>\n  <tr><th>Return Code</th><th>Description</th><th>Solution</th></tr>\n</thead>\n<tbody>\n  <tr><td>0</td><td>Request successful.</td><td>-</td></tr>\n  <tr><td>2</td><td>Input parameter error.</td><td>-</td></tr>\n  <tr><td>3</td><td>Related permissions not activated.</td><td>Please contact ZEGOCLOUD Technical Support.</td></tr>\n  <tr><td>4</td><td>CDN type mismatch.</td><td>Please check the parameters.</td></tr>\n  <tr><td>5</td><td>Configuration error.</td><td>Please contact ZEGOCLOUD Technical Support.</td></tr>\n  <tr><td>6</td><td>Request too frequent.</td><td>Please try again later.</td></tr>\n  <tr><td>7</td><td>Authentication failed.</td><td>Please check if the authentication parameters are correct.</td></tr>\n  <tr><td>1000</td><td>Request failed.</td><td>Please contact ZEGOCLOUD Technical Support.</td></tr>\n  <tr><td>41003</td><td>File does not exist.</td><td>Please confirm if the file format, file ID, etc. are correct.</td></tr>\n</tbody>\n</table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Operation result description.","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Request ID returned by ZEGOCLOUD server.","example":"3574501647605445341"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>Response data.</div><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Tencent</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>Tencent Cloud return content (returned when Vendor is Tencent).</div><SchemaItem collapsible={false} name={"TaskId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Unique identifier ID of the media file transcoding task, the transcoding result can be viewed through the <a href=\"/real-time-video-server/callback/cdn/on-demand-transcoding-completed\" target=\"blank\">on-demand transcoding completion callback</a>.","example":"1500020831-procedurev2-58ed61fcdbb0f78a0bf15cabd8ae4713tt0"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Unique request ID returned by the CDN vendor corresponding to the Vendor parameter value in the request (i.e., Tencent), which needs to be provided when locating problems.","example":"1413c592-5ad4-404e-bfa1-589c32dbcee8"}}></SchemaItem></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"3574501647605445341\",\n  \"Data\": {\n    \"Tencent\": {\n      \"TaskId\": \"1500020831-procedurev2-58ed61fcdbb0f78a0bf15cabd8ae4713tt0\",\n      \"RequestId\": \"1413c592-5ad4-404e-bfa1-589c32dbcee8\"\n    }\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      