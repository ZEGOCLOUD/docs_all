---
articleID: 19455
date: "2023-09-04"
---
# API 概览

---

ZEGO 云通讯产品服务端 API 升级到 v2 版本，全新的 API 接口文档更加规范和全面。

服务端 API v2 版本支持全球就近接入、统一的鉴权方式、统一的参数风格和公共错误码，给开发者带来简单快捷的使用体验。

- 开发者可参考 [快速开始](./../quick-start.mdx) 文档快速完成一次接口调用。

- 如需进行开发调试，也可参考 [如何在线调试服务端 API](./call-api-online.mdx)，可在文档页面快速调试相应接口。

<Warning title="注意">


1. 本文档 API 接口均为最新服务端 API v2 接口，后续相关功能的新增都会在此更新。为了给开发者带来更好的体验，ZEGO 推荐开发者使用最新 API v2 接口。

2. 旧版 API 接口已停止维护，不添加新功能。旧版接口文档请参考 [服务端 API](https://doc-zh.zego.im/article/1287)。


</Warning>



## 房间信令接口

|接口名称|接口功能|
|-|-|
|[SendBroadcastMessage](/real-time-video-server/api-reference/room/send-broadcast-message)|推送广播消息|
|[SendBarrageMessage](/real-time-video-server/api-reference/room/send-barrage-message)|推送弹幕消息|
|[SendCustomCommand](/real-time-video-server/api-reference/room/send-custom-command)|推送自定义消息|
|[DescribeUserNum](/real-time-video-server/api-reference/room/describe-user-num)|获取房间人数|
|[DescribeUsers](/real-time-video-server/api-reference/room/describe-users)|查询用户状态|
|[DescribeUserList](/real-time-video-server/api-reference/room/describe-user-list)|获取房间用户列表|
|[AddStream](/real-time-video-server/api-reference/room/add-stream)|增加房间流|
|[DeleteStream](/real-time-video-server/api-reference/room/delete-stream)|删除房间流|
|[DescribeSimpleStreamList](/real-time-video-server/api-reference/room/describe-simple-streamlist)|获取简易流列表|
|[CloseRoom](/real-time-video-server/api-reference/room/close)|关闭房间|
|[KickoutUser](/real-time-video-server/api-reference/room/kick-out-user)|踢出房间用户|
|[SetForbidUserRule](/real-time-video-server/api-reference/room/forbid-user-rule/set-forbid-user-rule)|设置用户封禁规则|
|[DescribeForbidUserRules](/real-time-video-server/api-reference/room/forbid-user-rule/set-forbid-user-rule)|查询用户封禁规则|
|[DelForbidUserRule](/real-time-video-server/api-reference/room/forbid-user-rule/set-forbid-user-rule)|删除用户封禁规则|
|[SetForbidStreamRule](/real-time-video-server/api-reference/room/forbid-stream-rule/set-forbid-stream-rule)|设置房间音视频流封禁规则|
|[DescribeForbidStreamRules](/real-time-video-server/api-reference/room/forbid-stream-rule/set-forbid-stream-rule)|查询房间音视频流封禁规则|
|[DelForbidStreamRule](/real-time-video-server/api-reference/room/forbid-stream-rule/set-forbid-stream-rule)|删除房间音视频流封禁规则|

## 混流转码接口

|接口名称|接口功能|
|-|-|
|[StartMix](/real-time-video-server/api-reference/stream-mixing/start-mix)|开始混流|
|[StopMix](/real-time-video-server/api-reference/stream-mixing/stop-mix)|停止混流|
|[GetMixTaskInfo](/real-time-video-server/api-reference/stream-mixing/get-mix-task-info)|查询混流任务信息|
|[StartAutoMix](/real-time-video-server/api-reference/stream-mixing/start-auto-mix)|开始自动混流|
|[StopAutoMix](/real-time-video-server/api-reference/stream-mixing/stop-auto-mix)|停止自动混流|
|[StartCloudTranscode](/real-time-video-server/api-reference/stream-mixing/start-cloud-transcode)|开始单流转码|
|[StopCloudTranscode](/real-time-video-server/api-reference/stream-mixing/stop-cloud-transcode)|停止单流转码|


## 媒体服务接口

|接口名称|接口功能|
|-|-|
|[ForbidCDNLiveStream](/real-time-video-server/api-reference/media-service/forbid-cdn-live-stream)|禁止 CDN 推流|
|[QueryForbidCDNLiveStream](/real-time-video-server/api-reference/media-service/query-forbid-cdn-live-stream)|查询已被禁止推流到 CDN 的 URL 列表|
|[ResumeCDNLiveStream](/real-time-video-server/api-reference/media-service/resume-cdn-live-stream)|恢复 CDN 推流|
|[ForbidRTCStream](/real-time-video-server/api-reference/media-service/forbid-rtc-stream)|禁止 RTC 推流|
|[ResumeRTCStream](/real-time-video-server/api-reference/media-service/resume-rtc-stream)|恢复 RTC 推流|
|[ForbidRTCStreams](/real-time-video-server/api-reference/media-service/forbid-rtc-streams)|批量禁止 RTC 推流|
|[ResumeRTCStreams](/real-time-video-server/api-reference/media-service/resume-rtc-streams)|批量恢复 RTC 推流|
|[CreatCDNTransferRule](/real-time-video-server/api-reference/media-service/create-cdn-transfer-rule)|启动旁路推流|
|[DeleteCDNTransferRule](/real-time-video-server/api-reference/media-service/delete-cdn-transfer-rule)|停止旁路推流|
|[ClearCDNTransferRule](/real-time-video-server/api-reference/media-service/clear-cdn-transfer-rule)|清空旁路推流|
|[RTMPDispatchV2](/real-time-video-server/api-reference/media-service/rtpm-dispatch)|RTMP 推拉流调度|


## 媒体文件接口

|接口名称|接口功能|
|-|-|
|[StartCDNRecord](/real-time-video-server/api-reference/cdn/start-cdn-recrod)|开始 CDN 录制|
|[StopCDNRecord](/real-time-video-server/api-reference/cdn/stop-cdn-record)|停止 CDN 录制|
|[SearchMedia](/real-time-video-server/api-reference/cdn/search-media)|检索媒体信息|
|[DeleteMedia](/real-time-video-server/api-reference/cdn/delete-media)|删除媒体文件|
|[MergeMedia](/real-time-video-server/api-reference/cdn/merge-media)|合并媒体文件|
|[DescribeMediaTask](/real-time-video-server/api-reference/cdn/describe-media-task)|查询媒体文件任务|
|[TranscodeMedia](/real-time-video-server/api-reference/cdn/start-on-demand-transcoding)|开始点播转码|


## 音视频流审核接口

|接口名称|接口功能|
|-|-|
|[StartCensorAudioV2](/real-time-video-server/api-reference/moderation/start-censor-audio)|开始音频流审核|
|[StopCensorAudioV2](/real-time-video-server/api-reference/moderation/stop-censor-audio)|结束音频流审核|
|[StartCensorVideoV2](/real-time-video-server/api-reference/moderation/start-censor-video)|开始视频流审核|
|[StopCensorVideoV2](/real-time-video-server/api-reference/moderation/stop-censor-video)|结束视频流审核|
|[GenerateIdentifyToken](/real-time-video-server/api-reference/moderation/generate-identify-token)|音视频流审核鉴权 Token|

## 场景服务接口

|接口名称|接口功能|
|-|-|
|[SetSceneTemplate](/real-time-video-server/api-reference/scene/set-scene-template)|场景模板配置|

## 回调说明


|回调名称|回调说明|
|-|-|
|[room_create](/real-time-video-server/callback/room/created)|房间创建回调|
|[room_close](/real-time-video-server/callback/room/destroyed)|房间关闭回调|
|[room_login](/real-time-video-server/callback/room/logged-in)|登录房间回调|
|[room_logout](/real-time-video-server/callback/room/logged-out)|退出房间回调|
|[stream_create](/real-time-video-server/callback/stream/created)|流创建回调|
|[stream_close](/real-time-video-server/callback/stream/destroyed)|流关闭回调|
|[mix_start](/real-time-video-server/callback/stream-mixing/started)|混流开始回调|
|[mix_stop](/real-time-video-server/callback/stream-mixing/stopped)|混流结束回调|
|[transcode_start](/real-time-video-server/callback/transcoding/on-demand-transcoding-started)|单流转码开始回调|
|[transcode_stop](/real-time-video-server/callback/transcoding/on-demand-transcoding-stopped)|单流转码停止回调|
|[record](/real-time-video-server/callback/cdn/cdn-record-completed)|录制文件生成回调|
|[compose](/real-time-video-server/callback/cdn/merge-media-completed)|媒体文件合并完成回调|
|[procedure](/real-time-video-server/callback/cdn/on-demand-transcoding-completed)|点播转码完成回调|
|[censor_audio_v2_result](/real-time-video-server/callback/moderation/audio)|音频流审核结果回调|
|[censor_audio_v2_status](/real-time-video-server/callback/moderation/audio)|音频流审核任务状态回调|
|[censor_video_v2_audio_result](/real-time-video-server/callback/moderation/video)|视频流音频审核结果回调|
|[censor_video_v2_img_result](/real-time-video-server/callback/moderation/video)|视频流画面审核结果回调|
|[censor_video_v2_audio_status](/real-time-video-server/callback/moderation/video)|视频流音频审核状态回调|
|[censor_video_v2_img_status](/real-time-video-server/callback/moderation/video)|视频流画面审核状态回调|
