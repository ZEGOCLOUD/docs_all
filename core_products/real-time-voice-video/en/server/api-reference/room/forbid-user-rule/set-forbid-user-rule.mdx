---
id: set-forbid-user-rule
title: "SetForbidUserRule"
description: "Sets up user ban rules to ban specific users. After successful setup, you can [query user ban rules](./describe-forbid-user-rules.mdx) or [delete user ban rules](./del-forbid-user-rule.mdx)."
api: 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
info_path: core_products/real-time-voice-video/en/server/api-reference/room/forbid-user-rule/open-api-desc
---

<h1 className={"openapi__heading"}>SetForbidUserRule</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


Sets up user ban rules to ban specific users. After successful setup, you can [query user ban rules](./describe-forbid-user-rules.mdx) or [delete user ban rules](./del-forbid-user-rule.mdx).

Setting up user ban rules will not interrupt the user's ongoing Stream publishing, and will only take effect on the user's next Stream publishing request. To immediately ban the user's ongoing Stream publishing, you need to separately use [set audio/video Stream ban rules](../forbid-stream-rule/set-forbid-stream-rule.mdx), rather than user ban rules.

<Note title="Rate Limit">For all Rooms under the same AppID: 10 times/second.</Note>
<Accordion title="Parameter Configuration Examples" defaultOpen="true">

- Assuming the user to be banned is user1, and not logged in to Room room1:

    - When RuleType is 1 and DisabledPrivilege[] is 1, it indicates that the user corresponding to this IP address cannot log in to any Room.
    - When RuleType is 2 and DisabledPrivilege[] is 1, it indicates that no user can log in to room1.
    - When RuleType is 3 and DisabledPrivilege[] is 2, it indicates that user1 can log in to any Room normally, but cannot publish Streams in any Room.
    - When RuleType is 4 and DisabledPrivilege[] is 2, it indicates that user1 can log in to room1 normally, but cannot publish Streams in room1.

- Assuming the user to be banned is user1, and already logged in to Room room1, regardless of the RuleType value:

    - When DisabledPrivilege[] is 1 or 1&2, user1 is still in room1 but cannot publish Streams normally, and you need to call the [kick Room user out](./../kick-out-user.mdx) interface to kick the user out.
    - When DisabledPrivilege[] is 2, user1 cannot publish Streams in room1.
</Accordion>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> Interface prototype parameters\n>\n> https://rtc-api.zego.im?Action=SetForbidUserRule\n","required":true,"allowEmptyValue":false,"schema":{"type":"string","enum":["SetForbidUserRule"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"ðŸ’¡Public parameter. Application ID, assigned by ZEGOCLOUD. Get it from the [ZEGOCLOUD Admin Console](https://console.zegocloud.com/).","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"ðŸ’¡Common parameter. A 16-character hexadecimal random string (hex-encoded 8-byte random number). For the generation algorithm, refer to the <a href=\"/real-time-video-server/api-reference/accessing-server-apis#signature-example\">signature example</a>.","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"ðŸ’¡Common parameter. Current Unix timestamp in seconds. For the generation algorithm, refer to the <a href=\"/real-time-video-server/api-reference/accessing-server-apis#signature-example\">signature example</a>. A maximum deviation of 10 minutes is allowed.","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"ðŸ’¡Common parameter. Signature used to verify the legitimacy of the request. Please refer to the [signature mechanism](/real-time-video-server/api-reference/accessing-server-apis#signature-mechanism) to generate it.","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"ðŸ’¡Public parameter. Signature version number.","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"RuleType","in":"query","description":"Ban rule type:\n- 1: Ban users by IP address, up to 100 rules can be set;\n- 2: Ban users by RoomId, up to 200 rules can be set;\n- 3: Ban users by UserId, up to 200 rules can be set;\n- 4: Ban users by RoomId and UserId, up to 200 rules can be set.\n\nThe maximum number of rules that can be set refers to the number of rules that are valid at the same time, excluding expired rules.\n\nIf you do not need certain rules, please call the [delete user ban rules](./del-forbid-user-rule.mdx) interface in time to clean them up.\n","required":true,"schema":{"type":"integer","format":"int32","enum":[1,2,3,4]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"IP","in":"query","description":"IP address. Required when RuleType is 1.","required":false,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"RoomId","in":"query","description":"Room ID. Required when RuleType is 2 or 4.","required":false,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"UserId","in":"query","description":"User ID. Required when RuleType is 3 or 4.","required":false,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"DisabledPrivilege","in":"query","description":"Functions that banned users can use. 1: Login. 2: Publish Stream.\n","required":true,"schema":{"type":"array","items":{"type":"integer","format":"int32","enum":[1,2]},"minItems":1},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"EffectiveTime","in":"query","description":"Valid duration of the ban rule, unit: seconds, value range 1 ~ 86400 (1 day).\n","required":true,"schema":{"type":"integer","format":"int64","minimum":1,"maximum":86400}}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>Operation successful</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","example":0,"description":"Return code. The following only lists some return codes related to the interface business logic. For complete return codes, please refer to [global return codes](/real-time-video-server/api-reference/return-codes).\n\n<table>\n  <thead>\n    <tr>\n      <th>Return Code</th>\n      <th>Description</th>\n      <th>Suggested Action</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>0</td>\n      <td>Request successful.</td>\n      <td>-</td>\n    </tr>\n    <tr>\n      <td>1</td>\n      <td>Request failed.</td>\n      <td>Please contact ZEGOCLOUD technical support for assistance.</td>\n    </tr>\n    <tr>\n      <td>2</td>\n      <td>Input parameter error.</td>\n      <td>-</td>\n    </tr>\n    <tr>\n      <td>9</td>\n      <td>Permission to use the current interface is not enabled.</td>\n      <td>Please contact ZEGOCLOUD technical support for assistance.</td>\n    </tr>\n    <tr>\n      <td>206</td>\n      <td>App request QPS is too high and is limited.</td>\n      <td>Reduce request frequency, or contact ZEGOCLOUD technical support to increase the QPS limit threshold.</td>\n    </tr>\n    <tr>\n      <td>50123</td>\n      <td>The number of ban rules currently within the validity period exceeds the limit.</td>\n      <td>Please reduce the number of rules.</td>\n    </tr>\n  </tbody>\n</table>\n"}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"success","description":"Description of operation result."}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","example":"TestRequestId1675674022729915000","description":"Request ID."}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Data</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><SchemaItem collapsible={false} name={"ExpireTime"} required={false} schemaName={"int64"} qualifierMessage={undefined} schema={{"type":"integer","format":"int64","example":1704282648,"description":"Expiration time of the ban rule, Unix timestamp, unit: seconds.\n"}}></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"TestRequestId1675674022729915000\",\n  \"Data\": {\n    \"ExpireTime\": 1704282648\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      