---
id: create-cdn-transfer-rule
title: "CreatCDNTransferRule"
description: "Call this API to start a relaying task, which can relay RTC streams to the specified CDN live address. It is recommended to call this API before stream publishing."
api: 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
info_path: core_products/real-time-voice-video/en/server/api-reference/media-service/open-api-desc
---

<h1 className={"openapi__heading"}>CreatCDNTransferRule</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


Call this API to start a relaying task, which can relay RTC streams to the specified CDN live address. It is recommended to call this API before stream publishing.

If developers no longer need to relay streams to the CDN, please refer to [stop relaying streams to CDN](/real-time-video-server/api-reference/media-service/delete-cdn-transfer-rule).

<Warning title="Note">
If you are relaying RTC to CDN or stream mixing to CDN, ZEGOCLOUD server will automatically perform CDN authentication for you, and you do not need additional CDN authentication.
</Warning>
<Note title="Rate Limit">For all rooms under the same AppID: 10 times/second (test environment: 5 times/second)</Note>

<Note title="Note">
In the test environment (see the IsTest common parameter description for details), the Stream ID must be prefixed with "zegotest-AppId-". For example, if the Stream ID is "test" and the AppId is "123456789" in the test environment, the Stream ID should be "zegotest-123456789-test".
</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> API prototype parameters\n>\n> https://rtc-api.zego.im?Action=CreatCDNTransferRule\n","required":true,"schema":{"type":"string","enum":["CreatCDNTransferRule"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"ðŸ’¡Public parameter. Application ID, assigned by ZEGOCLOUD. Get it from the [ZEGOCLOUD Admin Console](https://console.zegocloud.com/).","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"ðŸ’¡Common parameter. A 16-character hexadecimal random string (hex-encoded 8-byte random number). For the generation algorithm, refer to the <a href=\"/real-time-video-server/api-reference/accessing-server-apis#signature-example\">signature example</a>.","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"ðŸ’¡Common parameter. Current Unix timestamp in seconds. For the generation algorithm, refer to the <a href=\"/real-time-video-server/api-reference/accessing-server-apis#signature-example\">signature example</a>. A maximum deviation of 10 minutes is allowed.","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"ðŸ’¡Common parameter. Signature used to verify the legitimacy of the request. Please refer to the [signature mechanism](/real-time-video-server/api-reference/accessing-server-apis#signature-mechanism) to generate it.","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"ðŸ’¡Public parameter. Signature version number.","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"StreamId","in":"query","required":true,"schema":{"type":"string"},"description":"Stream ID."}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"CDNUrl","in":"query","required":false,"schema":{"type":"string"},"description":"The CDN address for relaying, must be in RTMP format.\n\nWhen used, URL encoding (UrlEncode) must be performed on its content.\n"}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Sequence","in":"query","required":true,"schema":{"type":"string"},"description":"Request sequence number.\n\n> **Note**\n>\n> For the same StreamId, within 10 consecutive seconds, the request sequence number issued for this StreamId must be strictly increasing; this avoids inconsistent operation order caused by inconsistent request timing received by the server.\n\nIf there is no concurrent scenario, using a timestamp (millisecond level) is recommended.\n"}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>Success</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"integer","format":"number","description":"Return code.\nThe following only lists some return codes related to the API business logic. For the complete return codes, please refer to [Global Return Codes](/real-time-video-server/api-reference/return-codes).\n<table>\n  <thead>\n    <tr><th>Return Code</th><th>Description</th><th>Suggested Action</th></tr>\n  </thead>\n  <tbody>\n    <tr><td>5000, 5001, 5002, 5006, 30003</td><td>Internal error.</td><td>Please contact ZEGOCLOUD Technical Support.</td></tr>\n    <tr><td>5003</td><td>Authentication failed.</td><td>Please check if the Signature is correct.</td></tr>\n    <tr><td>5004</td><td>Invalid CDN address.</td><td>Please check if the CDNUrl parameter is correct.</td></tr>\n    <tr><td>5005</td><td>Invalid request.</td><td>Please contact ZEGOCLOUD Technical Support.</td></tr>\n    <tr><td>5007, 30002</td><td>API call rate too high.</td><td>Please reduce the API request frequency.</td></tr>\n    <tr><td>30001</td><td>Invalid CDN address.</td><td>Please check if the CDNUrl parameter is correct.</td></tr>\n    <tr><td>30004</td><td>Incorrect isTest parameter.</td><td>Please check if the isTest common parameter is correct.</td></tr>\n    <tr><td>30005</td><td>Invalid AppId.</td><td>Please check if the AppId is correct.</td></tr>\n    <tr><td>30009</td><td>Invalid StreamId, stream name does not conform to specifications.</td><td>Please check if the StreamId conforms to the stream name encoding specifications.</td></tr>\n  </tbody>\n</table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Operation result description","example":"ok"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Request ID","example":"918334131114317411"}}></SchemaItem><SchemaItem collapsible={false} name={"Data"} required={false} schemaName={"object"} qualifierMessage={undefined} schema={{"type":"object","description":"Response data","example":null}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"ok\",\n  \"RequestId\": \"918334131114317411\",\n  \"Data\": null\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      