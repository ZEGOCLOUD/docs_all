---
articleID: 19692
---


# Media File Merge Completed Callback

- - -

## Description

When a callback URL is configured before calling [Merge Media Files](/real-time-video-server/api-reference/cdn/merge-media) and the CDN vendor is Tencent Cloud or Huawei Cloud, this callback will be received when the merge task is completed. The callback will make a POST request to the callback URL.

<Warning title="Attention">


After receiving the media file merge completed callback, it is recommended to retrieve relevant information after 5 seconds.

</Warning>





## Callback instructions

- Request method: POST.

<Note title="Note">


  The callback data format is JSON. You need to perform UrlDecode decoding on it.

</Note>



- Request URL: Please contact ZEGOCLOUD Technical Support to configure the callback URL.
- Transfer protocol: HTTPS/HTTP. HTTPS is recommended.


## Callback parameters


<table>

<tbody><tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
<tr>
<td>appid</td>
<td>String</td>
<td>AppId.</td>
</tr>
<tr>
<td>event</td>
<td>String</td>
<td>Callback event. This callback returns <code>compose</code>.</td>
</tr>
<tr>
<td>replay_url</td>
<td>String</td>
<td>Replay URL of the merged media file, not exceeding 1024 bytes.</td>
</tr>
<tr>
<td>task_id</td>
<td>String</td>
<td>Task ID, the same as the TaskId carried in the Data parameter of the [Merge Media Files](/real-time-video-server/api-reference/cdn/merge-media) interface response.</td>
</tr>
<tr>
<td>file_id</td>
<td>String</td>
<td>File ID, the same as the FileId carried in the Data parameter of the [Search Media Information](/real-time-video-server/api-reference/cdn/search-media) interface response.<b>Only returned when the CDN vendor is Tencent Cloud.</b></td>
</tr>
<tr>
<td>code</td>
<td>String</td>
<td>Error code. 0 indicates success, other values indicate failure:<ul><li>40000: Input parameter is invalid, please check the input parameters</li><li>60000: Source file error (e.g., video data is corrupted), please confirm if the source file is normal</li><li>70000: Internal service error, retry is recommended</li></ul><b>Only needs attention when the CDN vendor is Tencent Cloud.</b></td>
</tr>
<tr>
<td>message</td>
<td>String</td>
<td>Error message.<b>Only needs attention when the CDN vendor is Tencent Cloud.</b></td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>Server current time, Unix timestamp.</td>
</tr>
<tr>
<td>nonce</td>
<td>String</td>
<td>Random number.</td>
</tr>
<tr>
<td>signature</td>
<td>String</td>
<td>Verification string. For details, see <a target="_blank" href="/real-time-video-server/callback/receiving-callback">Callback instructions - Verification instructions</a>.</td>
</tr>
</tbody></table>



## Data example

```json
{
    "appid": "1",
    "event": "compose",
    "replay_url": "replay_url",
    "task_id": "task_id",
    "file_id": "5285890813218549789",
    "code": "0",
    "message": "message",
    "timestamp": "1481597358",
    "nonce": "158273",
    "signature": "signature"
}
```

## Return response

Return HTTP status code 2XX (e.g., 200) indicates success, and other responses indicate failure.


## Callback retry strategy

If the ZEGO server does not receive a response, or the received HTTP status code is not 2XX (e.g., 200), it will attempt to retry, **up to 5 retries**. The interval between each retry request and the **previous request** is 2s, 4s, 8s, 16s, and 32s respectively. If the 5th retry still fails, no more retries will be made, and the callback will be lost.
