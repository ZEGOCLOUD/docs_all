---
articleID: 17457
date: "2024-01-02"
---
# Single Stream Transcoding

- - -

## Feature Introduction

Single stream transcoding refers to converting a single original stream into transcoded streams with different encoding formats and resolutions on the cloud. In scenarios such as live streaming, viewers can choose streams of different resolutions to watch based on network quality, terminal devices, etc., to ensure playback smoothness.

<Frame width="512" height="auto" caption="">
  <img src="https://doc-media.zego.im/sdk-doc/Pics/Express/Single_stream_transcoding.jpeg" />
</Frame>

### Application Scenarios

- When developers provide video streams of multiple resolutions for users to watch on demand, they need to convert the original stream into transcoded streams of different definitions. In this case, the single stream transcoding function can be used.
- When converting original video streams into different video encoding formats, the single stream transcoding function can be used. For example, when some devices cannot decode H.265 due to performance issues, they need to transcode to H.264.

## Prerequisites

<Warning title="Attention">

The single stream transcoding function is currently in beta testing. For integration, please contact ZEGO business personnel or ZEGO Technical Support.

</Warning>

Before using the single stream transcoding function, ensure that:
- You have created a project in the [ZEGOCLOUD Console](https://console.zego.im) and applied for a valid AppID and AppSign. For details, please refer to [Console - Project Information](/console/project-info).
- You have integrated ZEGO Express SDK into your project and implemented basic audio and video stream publishing and playing functionality. For details, please refer to [Quick Start - Integration](/real-time-video-windows-cpp/quick-start/integrating-sdk) and [Quick Start - Implementation](/real-time-video-windows-cpp/quick-start/implementing-video-call).

- You need to use [L3 Stream Playing](/real-time-video-windows-cpp/live-streaming/low-latency-live-streaming), [Relay to CDN Stream Playing (playing by streamID)](/real-time-video-windows-cpp/live-streaming/using-cdn-for-live-streaming) or RTC stream playing, and have not used stream mixing capability.

<Note title="Description">

For scenarios that already use stream mixing capability, you can directly implement outputting multiple streams with different resolutions based on the stream mixing interface, without needing to trigger single stream transcoding.

</Note>

## Implementation Flow

The main flow of single stream transcoding is as follows:
1. Add transcoding template.
2. Create engine and login to room.
3. Play transcoded streams on demand, choose stream playing method as [L3 Stream Playing](/real-time-video-windows-cpp/live-streaming/low-latency-live-streaming), [Relay to CDN Stream Playing (playing by streamID)](/real-time-video-windows-cpp/live-streaming/using-cdn-for-live-streaming) or RTC as needed, and pass in the transcoding template ID to trigger transcoding.

<a name="step1"></a>
### 1 Add Transcoding Template

Please contact ZEGO Technical Support to add transcoding templates and obtain the corresponding transcoding template ID.

Currently supported transcoding parameters are: template ID, resolution, bitrate, frame rate, and video encoding format.

<Warning title="Attention">

- Currently only supports configuring video-related parameters.
- One AppID supports adding up to 5 transcoding templates. If you need to set more templates, please contact ZEGO Technical Support.

</Warning>

<table>

<tbody><tr>
<th>Parameter</th>
<th>Description</th>
</tr>
<tr>
<td>Template ID</td>
<td>Integer value greater than 100, ID must be unique.<br />It is recommended to name based on output resolution, for example, the template ID for transcoding output resolution of 360P can be named 360. If the transcoding output resolution is less than 100P, you can name it freely.</td>
</tr>
<tr>
<td>Resolution</td>
<td><ul><li>Supported width range: [0, 3000], value must be a multiple of 2.</li><li>Supported height range: [0, 3000], value must be a multiple of 2.</li></ul></td>
</tr>
<tr>
<td>Bitrate</td>
<td>Value must be greater than 0, unit is bps.</td>
</tr>
<tr>
<td>Frame Rate</td>
<td>Supported range: [1, 20], unit fps.<br />If you need to output higher frame rates, please contact ZEGO Technical Support for configuration.</td>
</tr>
<tr>
<td>Video Encoding Format</td>
<td><p>Supports the following video encoding formats:</p><ul><li>H.264</li><li>H.265</li><li>Maintain the original stream's video encoding format.</li></ul></td>
</tr>
</tbody></table>

### 2 Create Engine and Login to Room

For specific flow, please refer to the [Create Engine](/real-time-video-windows-cpp/quick-start/implementing-video-call) and [Login Room](/real-time-video-windows-cpp/quick-start/implementing-video-call) sections of the "Implementing Video Call" documentation.

<Warning title="Attention">

Before implementing single stream transcoding, there needs to be an existing stream in the room.

</Warning>

### 3 Play Transcoded Stream

Configure the codecTemplateID property of [ZegoPlayerConfig](@-ZegoPlayerConfig), fill in the transcoding template ID obtained in [Step 1 Add Transcoding Configuration Template](/real-time-video-windows-cpp/live-streaming/single-stream-transcoding), and start playing stream.

```cpp
ZegoPlayerConfig config;
// Configure according to actual business situation
config.resourceMode = ZEGO_STREAM_RESOURCE_MODE_DEFAULT;
// 101 is the configured template ID, refer to Step 1 Add Transcoding Configuration Template
config.codecTemplateID = 101;

ZegoCanvas canvas(ZegoUtilHelper::GetView(ui->frame_Play));
canvas.viewMode = static_cast<ZegoViewMode>(ui->comboBox_ViewModePlay->currentIndex());
// engine is the IZegoExpressEngine object created when creating the engine
engine->startPlayingStream("streamid", &canvas, config);
```

## FAQ

<Accordion title="What is the difference between stream mixing and single stream transcoding?" defaultOpen="false">

- Stream mixing is generally used to merge multiple input streams into one, while supporting defining encoding formats, resolutions, and other parameters for multiple output streams, and stream mixing transcoding requires developers to additionally call client-side or server-side interfaces to trigger.
- Single stream transcoding is used to implement transcoding functionality for a single stream, and does not require developers to additionally call client-side or server-side interfaces to trigger, only needs to pass in template parameters when playing stream to trigger.

</Accordion>
