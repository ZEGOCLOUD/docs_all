---
articleID: 4311
date: "2024-02-26"
---
# Ear Monitor and Channel Settings

- - -

## Introduction

ZEGO Express SDK provides ear monitor and dual channel functions. Developers can set them as needed.

- Ear monitor refers to headphone capture monitoring. After inserting headphones (ordinary headphones or Bluetooth headphones) into the device, you can hear the sound captured by the device's microphone from the local headphone side.
- Dual channel refers to two audio channels. When hearing sound, you can judge the specific position of the sound source based on the phase difference of the sound between the left and right ears. ZEGO Express SDK defaults to single-channel audio capture. When developers have high sound quality requirements, they can enable dual-channel capture functionality. Through dedicated dual-channel capture devices, dual-channel audio data can be captured and published.

## Download Sample Source Code

Please refer to [Download Sample Source Code](/real-time-video-windows-cpp/quick-start/run-example-code) to obtain the source code.

For related source code, please check the files in the "/ZegoExpressExample/Examples/AdvancedAudioProcessing/EarReturnAndChannelSettings" directory.

## Prerequisites

Before setting ear monitor and channel, ensure that:

- A project has been created in the [ZEGOCLOUD Console](https://console.zegocloud.com), and valid AppID and AppSign have been obtained. For details, please refer to [Console - Project Information](/console/project-info).
- ZEGO Express SDK has been integrated into the project, and basic audio and video streaming functionality has been implemented. For details, please refer to [Quick Start - Integration](/real-time-video-windows-cpp/quick-start/integrating-sdk) and [Quick Start - Implementation Process](/real-time-video-windows-cpp/quick-start/implementing-video-call).



## Usage Steps

### Set Ear Monitor

**Enable Ear Monitor**

After starting preview or starting publishing stream, call the [enableHeadphoneMonitor](@enableHeadphoneMonitor) interface to enable ear monitor (that is, enable capture monitoring). After connecting headphones, when the user makes a sound, they can hear their own voice.

<Note title="Note">


After enabling the ear monitor function, it will only take effect after headphones are connected.
</Note>


```cpp
engine->enableHeadphoneMonitor(true);
```

**Set Ear Monitor Volume**

After starting preview or starting publishing stream, call the [setHeadphoneMonitorVolume](@setHeadphoneMonitorVolume) interface to adjust the ear monitor volume.

The parameter "volume" is the capture ear monitor volume, with a value range of [0, 200] and a default of 60.

```cpp
engine->setHeadphoneMonitorVolume(60);
```

### Set Channel

<Warning title="Note">


[setAudioConfig](@setAudioConfig-IZegoExpressEngine) and [setAudioCaptureStereoMode](@setAudioCaptureStereoMode) must be called before [startPublishingStream](@startPublishingStream), [startPlayingStream](@startPlayingStream), [startPreview](@startPreview), [createMediaPlayer](@createMediaPlayer), and [createAudioEffectPlayer](@createAudioEffectPlayer) to take effect.
</Warning>

**Set Audio Dual Channel Encoding**

Before publishing stream, call the [setAudioConfig](@setAudioConfig-IZegoExpressEngine) method to set audio quality related configurations. The audio encoding channel parameter "channel" needs to be set to dual channel encoding (the default is single channel encoding), and other parameters can use default values.

```cpp
ZegoAudioConfig audioConfig = ZegoAudioConfig(ZEGO_AUDIO_CONFIG_PRESET_HIGH_QUALITY_STEREO);
ZegoExpressSDK::getEngine()->setAudioConfig(audioConfig);
```

**Set Audio Capture Dual Channel Mode**

<Note title="Note">


Audio capture dual channel mode requires the publishing stream end to use a device that supports dual channel capture as the audio input source. Generally, mobile phone microphones do not support dual channel capture.
</Note>

Call the [setAudioCaptureStereoMode](@setAudioCaptureStereoMode) method and set the "Mode" parameter (default is not enabling dual channel, that is, single channel capture) to "Always enable dual channel capture" according to the actual scenario to enable audio dual channel capture.

```cpp
ZegoExpressSDK::getEngine()->setAudioCaptureStereoMode(ZEGO_AUDIO_CAPTURE_STEREO_MODE_ALWAYS);
```

**Publish Stream**

Please refer to "Publish Stream" in [Quick Start - Implementation Process](/real-time-video-windows-cpp/quick-start/implementing-video-call). At this time, the published stream audio is dual channel. The playing stream end does not need additional configuration and can directly play stream to play dual channel audio.

