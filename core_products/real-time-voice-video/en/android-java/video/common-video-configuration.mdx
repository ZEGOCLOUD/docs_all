---
articleID: 9826
date: "2024-02-28"
---
# Common Video Configuration

- - -

## Feature Overview

In video calls or live streaming, developers can specify publish stream and play stream video related configurations as needed, such as video capture resolution, video encoding output resolution, video frame rate, bitrate, view mode and mirror mode.

- Resolution:
    - Video resolution: A parameter used to measure the amount of data in an image, usually expressed as ppi.
    - Capture resolution: Refers to the image resolution provided by capture devices such as cameras.
    - Encoding resolution: Refers to the resolution of the image after encoding processing.
- Bitrate: Refers to the number of bits transmitted per second, in bps (bit per second).
- Frame rate: A measure of the number of video frames displayed per unit time, measured in "frames per second" (Frame Per Second, fps).

Setting appropriate video resolution, frame rate and bitrate can provide users with a better experience in audio and video scenarios. Choosing appropriate mirror mode and view mode allows developers to provide personalized video display modes.

## Example Source Code Download

Please refer to [Download Example Source Code](/real-time-video-android-java/quick-start/run-example-code) to get the source code.

For related source code, please check the files in the "/ZegoExpressExample/CommonFeatures/src/main/java/im/zego/commonvideoconfig" directory.

## Prerequisites

Before setting video configurations, please ensure:

- You have created a project in the [ZEGO Console](https://console.zego.im) and applied for a valid AppID and AppSign. For details, please refer to [Console - Project Information](/console/project-info).
- You have integrated ZEGO Express SDK in your project and implemented basic audio and video streaming functionality. For details, please refer to [Quick Start - Integration](/real-time-video-android-java/quick-start/integrating-sdk) and [Quick Start - Implementation](/real-time-video-android-java/quick-start/implementing-video-call).


## Usage Steps

### 1 Modify Video Configuration

Modify video configurations by calling the [setVideoConfig](@setVideoConfig-ZegoExpressEngine) interface. Users can either customize parameters or use preset values for settings.

<Warning title="Warning">


You need to set relevant video configurations before publishing stream ([startPublishingStream](@startPublishingStream)) or preview ([startPreview](@startPreview)). After publishing stream, only encoding resolution and bitrate modifications are supported.
</Warning>

#### Custom Parameter Settings

Call the [setVideoConfig](@setVideoConfig-ZegoExpressEngine) interface to modify publish stream video configuration. Through this interface, you can set video frame rate, bitrate, video capture resolution and video encoding output resolution. If no special settings are made, the SDK will automatically apply resolution, bitrate, and frame rate suitable for the selected scenario based on the selected scenario to obtain the best experience effect. For details, please refer to [Scenario-Based Audio and Video Configuration](/real-time-video-android-java/quick-start/scenario-based-audio-video-configuration).

<Note title="Note">


If the play stream end needs to play 60-frame streams, you need to contact Technical Support. For details, please refer to [Does ZEGO Express SDK support playing 60-frame streams?](https://doc-zh.zego.im/faq/Pull_the_stream_of_60_frames)
</Note>

Taking setting video capture resolution to 360p, encoding resolution to 360p, bitrate to 600 kbps, and frame rate to 15 fps as an example:

```java
// Need to set relevant video configurations before preview (startPreview) and publishing stream (startPublishingStream)
ZegoVideoConfig videoConfig = new ZegoVideoConfig();

videoConfig.captureHeight = 640;
videoConfig.captureWidth = 360;
videoConfig.encodeHeight = 640;
videoConfig.encodeWidth = 360;
videoConfig.fps = 15
videoConfig.bitrate = 600;

// Set video configuration
ZegoExpressEngine.getEngine().setVideoConfig(videoConfig);
```

<Note title="Note">


The width and height resolutions on mobile are opposite to those on PC. For example, the resolution of 360p on mobile is 360 × 640, while the resolution of 360p on PC is 640 × 360.
</Note>

#### Using Preset Values for Settings

You can also use the preset combination values provided by ZEGO Express SDK to modify video configurations. The preset combination values of [ZegoVideoConfigPreset](@-ZegoVideoConfigPreset) are as follows:

| ZegoVideoConfigPreset | Capture Resolution<br/>（Width × Height） | Encoding Resolution<br/>（Width × Height） | Frame Rate（fps） | Bitrate（kbps） |
| ------------------- | ------------------ | --------------- | --------- | ---------- |
|      PRESET_180P      |       180 × 320        |      180 × 320      |     15      |     300      |
|      PRESET_270P      |       270 × 480        |      270 × 480      |     15      |     400      |
|      PRESET_360P      |       360 × 640        |      360 × 640      |     15      |     600      |
|      PRESET_540P      |       540 × 960        |      540 × 960      |     15      |     1200     |
|      PRESET_720P      |       720 × 1280       |      720 × 1280     |     15      |     1500     |
|     PRESET_1080P      |       1080 × 1920      |     1080 × 1920     |     15      |     3000     |

Example code when calling the [setVideoConfig](@setVideoConfig-ZegoExpressEngine) interface using preset values:

```java
// Use presets for video settings
ZegoVideoConfig videoConfig = new ZegoVideoConfig(ZegoVideoConfigPreset.PRESET_1080P);
ZegoExpressEngine.getEngine().setVideoConfig(videoConfig);
```

### 2 Modify Video View Mode

<Warning title="Warning">


Before setting the video view mode, you need to stop preview or stop playing stream first, otherwise it will not take effect.
</Warning>

By modifying the "viewMode" parameter of the view object [ZegoCanvas](@-ZegoCanvas), you can modify the view mode of the video. Currently supports three video rendering fill modes:

|Enumeration Value|Description|
|-|-|
|ASPECT_FIT|Proportional scaling, there may be black borders.|
|ASPECT_FILL|Proportional scaling to fill the entire View, some parts may be cropped.|
|SCALE_TO_FILL|Fill the entire View, the image may be stretched.|

The effects of the three video rendering fill modes are shown in the figure:

<Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/Android/CommonFeatures/CommonVideoConfig/viewMode_android.jpg" /></Frame>

- The original video resolution shown in the figure above is 300 × 300 (width × height), and the view size is 300 × 500 (width × height).
- In the figure above, the height of the original video size is equal to the width, and the height of the view size is greater than the width. Therefore, in the "ASPECT_FIT" rendering mode, black borders appear above and below the video; if the view size width is greater than the height at this time, in the "ASPECT_FIT" rendering mode, black borders will appear on the left and right of the video.

Taking setting the preview view mode to "ASPECT_FIT" and starting preview as an example:

```java
// preview is the "SurfaceView/TextureView/SurfaceTexture" object on the UI interface
previewCanvas = new ZegoCanvas(preview);
// Set view mode to ASPECT_FIT
previewCanvas.viewMode = ZegoViewMode.ASPECT_FIT;
// Start preview
engine.startPreview(previewCanvas);
```

### 3 Set Mirror Mode

<Note title="Note">


This feature can be set before or after publishing stream, and takes effect immediately after setting.
</Note>

You can call [setVideoMirrorMode](@setVideoMirrorMode) to set whether the local preview video and the published video enable mirror mode. Currently supports the following four mirror modes:

|Enumeration Value|Description|
|-|-|
|NO_MIRROR|Neither the local preview nor the video seen by the play stream end is a mirror image.|
|ONLY_PREVIEW_MIRROR|Only the local preview is a mirror image. This mode is used by default.|
|ONLY_PUBLISH_MIRROR|Only the video seen by the play stream end is a mirror image.|
|BOTH_MIRROR|Both the local preview and the video seen by the play stream end are mirror images.|

The effects of the four mirror modes are as follows:

<Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/Android/CommonFeatures/CommonVideoConfig/mirror_mode_android.png" /></Frame>

Taking setting the play stream end mirror display and setting the local preview non-mirror display as an example:

```java
// Set mirror mode to only the video seen by the play stream end is a mirror image
engine.setVideoMirrorMode(ZegoVideoMirrorMode.ONLY_PUBLISH_MIRROR);
```


## Related Documentation

- [How to choose video resolution, frame rate, and bitrate?](https://doc-zh.zego.im/faq/video_info)
- [How to handle video enlargement or black border issues?](https://doc-zh.zego.im/faq/video_big)
- [How to handle video blurring issues?](https://doc-zh.zego.im/faq/video_blur)
