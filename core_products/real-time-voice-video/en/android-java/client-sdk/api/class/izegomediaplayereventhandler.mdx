---
docType: API
---

# IZegoMediaPlayerEventHandler

## IZegoMediaPlayerEventHandler

*Declared in `callback/IZegoMediaPlayerEventHandler.java`*

### 方法
<ParamField
  name="onMediaPlayerStateUpdate"
  prototype="public  void onMediaPlayerStateUpdate([ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) mediaPlayer, [ZegoMediaPlayerState](../../api-reference/enum#zegomediaplayerstate) state, int errorCode)"
  desc="媒体播放器播放状态回调。"
  parent_file="Declared in \`callback/IZegoMediaPlayerEventHandler.java\`"
  parent_name="IZegoMediaPlayerEventHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| mediaPlayer | [ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) | 回调的播放器实例。 |
| state | [ZegoMediaPlayerState](../../api-reference/enum#zegomediaplayerstate) | 播放器状态。 |
| errorCode | int | 错误码，详情请参考 常见错误码文档 [https://doc-zh.zego.im/zh/4378.html](https://doc-zh.zego.im/zh/4378.html) |

**详情**

媒体播放器播放状态回调。

<Note title="">
- **通知时机**：当媒体播放器的播放状态改变时会触发此回调。
</Note>

<Warning title="">
- **支持版本**：1.3.4 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="onMediaPlayerNetworkEvent"
  prototype="public  void onMediaPlayerNetworkEvent([ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) mediaPlayer, [ZegoMediaPlayerNetworkEvent](../../api-reference/enum#zegomediaplayernetworkevent) networkEvent)"
  desc="媒体播放器网络状态事件回调。"
  parent_file="Declared in \`callback/IZegoMediaPlayerEventHandler.java\`"
  parent_name="IZegoMediaPlayerEventHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| mediaPlayer | [ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) | 回调的播放器实例。 |
| networkEvent | [ZegoMediaPlayerNetworkEvent](../../api-reference/enum#zegomediaplayernetworkevent) | 网络状态事件。 |

**详情**

媒体播放器网络状态事件回调。

<Note title="">
- **通知时机**：当媒体播放器在播放网络资源时，当缓存数据的状态改变时会触发此回调。
- **相关接口**：[setNetWorkBufferThreshold]。
</Note>

<Warning title="">
- **支持版本**：1.3.4 及以上。
- **使用限制**：只有在播放网络资源时才会触发该回调。
</Warning>
</ParamField>
<ParamField
  name="onMediaPlayerPlayingProgress"
  prototype="public  void onMediaPlayerPlayingProgress([ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) mediaPlayer, long millisecond)"
  desc="播放器播放进度回调。"
  parent_file="Declared in \`callback/IZegoMediaPlayerEventHandler.java\`"
  parent_name="IZegoMediaPlayerEventHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| mediaPlayer | [ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) | 回调的播放器实例。 |
| millisecond | long | 进度，单位为毫秒。 |

**详情**

媒体播放器播放进度回调。通过调用 [setProgressInterval] 可以设置回调间隔时间。当设置回调间隔为 0 时，停止回调。默认回调间隔为 1 秒。

<Note title="">
- **通知时机**：当媒体播放器开始播放资源后会触发此回调。
- **相关接口**：[setProgressInterval]。
</Note>

<Warning title="">
- **支持版本**：1.3.4 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="onMediaPlayerRenderingProgress"
  prototype="public  void onMediaPlayerRenderingProgress([ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) mediaPlayer, long millisecond)"
  desc="播放器渲染进度回调。"
  parent_file="Declared in \`callback/IZegoMediaPlayerEventHandler.java\`"
  parent_name="IZegoMediaPlayerEventHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| mediaPlayer | [ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) | 回调的播放器实例。 |
| millisecond | long | 进度，单位为毫秒。 |

**详情**

媒体播放器渲染进度回调。通过调用 [setProgressInterval] 可以设置回调间隔时间。当设置回调间隔为 0 时，停止回调。默认回调间隔为 1 秒。

<Note title="">
- **通知时机**：当媒体播放器开始播放资源后会触发此回调。
- **相关接口**：[setProgressInterval]。
</Note>

<Warning title="">
- **支持版本**：3.8.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="onMediaPlayerVideoSizeChanged"
  prototype="public  void onMediaPlayerVideoSizeChanged([ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) mediaPlayer, int width, int height)"
  desc="媒体播放器播放视频分辨率改变事件回调。"
  parent_file="Declared in \`callback/IZegoMediaPlayerEventHandler.java\`"
  parent_name="IZegoMediaPlayerEventHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| mediaPlayer | [ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) | 回调的播放器实例。 |
| width | int | 宽。 |
| height | int | 高。 |

**详情**

媒体播放器播放视频分辨率改变事件回调。

<Note title="">
- **通知时机**：当媒体播放器在播放视频资源时，开始播放以及视频的分辨率变化时会触发此回调。
</Note>

<Warning title="">
- **支持版本**：3.11.0 及以上。
</Warning>
</ParamField>
<ParamField
  name="onMediaPlayerRecvSEI"
  prototype="public  void onMediaPlayerRecvSEI([ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) mediaPlayer, byte[] data)"
  desc="媒体次要信息回调。"
  parent_file="Declared in \`callback/IZegoMediaPlayerEventHandler.java\`"
  parent_name="IZegoMediaPlayerEventHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| mediaPlayer | [ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) | 回调的播放器实例。 |
| data | byte[] | SEI 内容。 |

**详情**

媒体次要信息回调。

<Note title="">
- **通知时机**：媒体播放器开始播放媒体文件时，如果解析到媒体文件中含有 SEI 时，将触发该回调。
</Note>

<Warning title="">
- **支持版本**：2.2.0 及以上。
- **注意事项**：调用接口 [setEventHandler] 设置后该回调才生效。
</Warning>
</ParamField>
<ParamField
  name="onMediaPlayerSoundLevelUpdate"
  prototype="public  void onMediaPlayerSoundLevelUpdate([ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) mediaPlayer, float soundLevel)"
  desc="声浪更新回调。"
  parent_file="Declared in \`callback/IZegoMediaPlayerEventHandler.java\`"
  parent_name="IZegoMediaPlayerEventHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| mediaPlayer | [ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) | 回调的播放器实例。 |
| soundLevel | float | 声浪值，取值范围：[0.0, 100.0]（该取值仅表示回调的声浪取值范围，不表示精度）。 |

**详情**

声浪更新回调。

<Note title="">
- **通知时机**：回调频率由 [EnableSoundLevelMonitor] 指定。
- **相关接口**：监听此回调需要通过 [EnableSoundLevelMonitor] 开启。
</Note>

<Warning title="">
- **支持版本**：2.15.0 及以上。
- **注意事项**：调用接口 [setEventHandler] 设置后该回调才生效。
</Warning>
</ParamField>
<ParamField
  name="onMediaPlayerFrequencySpectrumUpdate"
  prototype="public  void onMediaPlayerFrequencySpectrumUpdate([ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) mediaPlayer, float[] spectrumList)"
  desc="频谱更新回调。"
  parent_file="Declared in \`callback/IZegoMediaPlayerEventHandler.java\`"
  parent_name="IZegoMediaPlayerEventHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| mediaPlayer | [ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) | 回调的播放器实例。 |
| spectrumList | float[] | 媒体播放器频谱值数组，频谱值范围为 [0-2^30]。 |

**详情**

频谱更新回调。

<Note title="">
- **通知时机**：回调频率由 [EnableFrequencySpectrumMonitor] 指定。
- **相关接口**：监听此回调需要通过 [EnableFrequencySpectrumMonitor] 开启。
</Note>

<Warning title="">
- **支持版本**：2.15.0 及以上。
- **注意事项**：调用接口 [setEventHandler] 设置后该回调才生效。
</Warning>
</ParamField>
<ParamField
  name="onMediaPlayerFirstFrameEvent"
  prototype="public  void onMediaPlayerFirstFrameEvent([ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) mediaPlayer, [ZegoMediaPlayerFirstFrameEvent](../../api-reference/enum#zegomediaplayerfirstframeevent) event)"
  desc="媒体播放器播放首帧回调。"
  parent_file="Declared in \`callback/IZegoMediaPlayerEventHandler.java\`"
  parent_name="IZegoMediaPlayerEventHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| mediaPlayer | [ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) | 回调的播放器实例。 |
| event | [ZegoMediaPlayerFirstFrameEvent](../../api-reference/enum#zegomediaplayerfirstframeevent) | 首帧回调事件类型。 |

**详情**

开始播放首帧回调。

<Note title="">
- **通知时机**：媒体播放器开始播放时会产生此回调。
- **相关接口**：需要调用 [setPlayerCanvas] 接口，给媒体播放器设置视图，才能收到视频首帧事件回调。
</Note>

<Warning title="">
- **支持版本**：3.5.0 及以上。
- **注意事项**：调用 [setEventHandler] 接口设置后该回调才生效。
</Warning>
</ParamField>
<ParamField
  name="onMediaPlayerLocalCache"
  prototype="public  void onMediaPlayerLocalCache([ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) mediaPlayer, int errorCode, String resource, String cachedFile)"
  desc="媒体播放器本地缓存 http/https 网络资源后回调。"
  parent_file="Declared in \`callback/IZegoMediaPlayerEventHandler.java\`"
  parent_name="IZegoMediaPlayerEventHandler"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| mediaPlayer | [ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) | 回调的播放器实例。 |
| errorCode | int | 错误码。 |
| resource | String | 播放的资源 |
| cachedFile | String | 缓存的文件 |

**详情**

本地缓存 http/https 网络资源后回调。

<Note title="">
- **通知时机**：媒体播放器缓存 http/https 网络资源后会产生此回调。
- **相关接口**：需要调用 [enableLocalCache] 接口。
</Note>

<Warning title="">
- **支持版本**：3.12.0 及以上。
- **注意事项**：调用 [enableLocalCache] 接口设置后，且播放的是 http/https 网络资源时该回调才生效。
</Warning>
</ParamField>
