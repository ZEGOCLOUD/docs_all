---
docType: API
---

# ZegoRangeScene

## ZegoRangeScene

*Declared in `ZegoRangeScene.java`*

### 方法
<ParamField
  name="getRangeSceneStream"
  prototype="public  [ZegoRangeSceneStream](../../api-reference/class#zegorangescenestream) getRangeSceneStream()"
  desc="获取范围场景流管理实例对象。"
  parent_file="Declared in \`ZegoRangeScene.java\`"
  parent_name="ZegoRangeScene"
  parent_type="class">
获取范围场景流管理实例对象。

<Note title="">
- **业务场景**：常用于虚拟世界场景中，用户可通过获取范围场景流管理实例对象使用相关功能。
- **调用时机**：通过 [createRangeScene] 创建范围场景之后，通过 [destroyRangeScene] 销毁范围场景之前。
</Note>

<Warning title="">
- **支持版本**：3.0.0 及以上。
- **使用限制**：无。
</Warning>

范围场景流管理实例。
</ParamField>
<ParamField
  name="getRangeSceneTeam"
  prototype="public  [ZegoRangeSceneTeam](../../api-reference/class#zegorangesceneteam) getRangeSceneTeam()"
  desc="获取范围场景小队管理实例对象。"
  parent_file="Declared in \`ZegoRangeScene.java\`"
  parent_name="ZegoRangeScene"
  parent_type="class">
获取范围场景小队管理实例对象。

<Note title="">
- **业务场景**：常用于虚拟世界场景中，用户可通过获取范围场景小队管理实例对象使用相关功能。
- **调用时机**：通过 [createRangeScene] 创建范围场景之后，通过 [destroyRangeScene] 销毁范围场景之前。
</Note>

<Warning title="">
- **支持版本**：3.1.0 及以上。
- **使用限制**：无。
</Warning>

范围场景小队管理实例。
</ParamField>
<ParamField
  name="getRangeSceneItem"
  prototype="public  [ZegoRangeSceneItem](../../api-reference/class#zegorangesceneitem) getRangeSceneItem()"
  desc="获取范围场景物品管理实例对象。"
  parent_file="Declared in \`ZegoRangeScene.java\`"
  parent_name="ZegoRangeScene"
  parent_type="class">
获取范围场景物品管理实例对象。

<Note title="">
- **业务场景**：常用于虚拟世界场景中，用户可通过获取范围场景物品管理实例对象使用相关功能。
- **调用时机**：通过 [createRangeScene] 创建范围场景之后，通过 [destroyRangeScene] 销毁范围场景之前。
</Note>

<Warning title="">
- **支持版本**：3.1.0 及以上。
- **使用限制**：无。
</Warning>

范围场景物品管理实例。
</ParamField>
<ParamField
  name="getRangeSceneHandle"
  prototype="public  int getRangeSceneHandle()"
  desc="获取范围场景实例句柄。"
  parent_file="Declared in \`ZegoRangeScene.java\`"
  parent_name="ZegoRangeScene"
  parent_type="class">
获取范围场景实例句柄。

<Note title="">
- **业务场景**：用于推流到场景。
- **调用时机**：通过 [createRangeScene] 创建范围场景之后，通过 [destroyRangeScene] 销毁范围场景之前。
</Note>

<Warning title="">
- **支持版本**：3.0.0 及以上。
- **使用限制**：无。
</Warning>

范围场景实例句柄。
</ParamField>
<ParamField
  name="setEventHandler"
  prototype="public  boolean setEventHandler([IZegoRangeSceneEventHandler](../../api-reference/class#izegorangesceneeventhandler) handler)"
  desc="设置范围场景回调。"
  parent_file="Declared in \`ZegoRangeScene.java\`"
  parent_name="ZegoRangeScene"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| handler | [IZegoRangeSceneEventHandler](../../api-reference/class#izegorangesceneeventhandler) | 用于接收范围场景回调的对象。 |

**详情**

设置范围场景模块回调。

<Note title="">
- **调用时机**：通过 [createRangeScene] 创建范围场景之后，通过 [destroyRangeScene] 销毁范围场景之前。
</Note>

<Warning title="">
- **支持版本**：3.0.0 及以上。
</Warning>

**返回值**

设置范围场景回调结果。true: 成功, false: 失败。
</ParamField>
<ParamField
  name="loginScene"
  prototype="public  int loginScene([ZegoSceneParam](../../api-reference/class#zegosceneparam) param, [IZegoRangeSceneLoginSceneCallback](../../api-reference/interface#izegorangesceneloginscenecallback) callback)"
  desc="登录场景。"
  parent_file="Declared in \`ZegoRangeScene.java\`"
  parent_name="ZegoRangeScene"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| param | [ZegoSceneParam](../../api-reference/class#zegosceneparam) | 场景参数。 |
| callback | [IZegoRangeSceneLoginSceneCallback](../../api-reference/interface#izegorangesceneloginscenecallback) | 登录场景结果回调。 |

**详情**

SDK 范围场景功能用"场景"概念来组织用户。

<Note title="">
- **业务场景**：在同一个场景内用户在虚拟世界内互动。
- **调用时机**：通过 [createRangeScene] 创建范围场景之后，通过 [destroyRangeScene] 销毁范围场景之前。
- **相关回调**：  1. 当用户开始登录场景、登录场景成功或登录场景失败后，将会触发 [onSceneStateUpdate] 回调通知开发者当前用户连接场景的状态。
  2. 如果由于网络质量原因导致网络临时中断，SDK 内部会自动进行重连。可通过监听 [onSceneStateUpdate] 回调获取本端当前场景连接状态的变化情况。
- **相关接口**：1. 可调用 [logoutScene] 退出登录。
</Note>

<Warning title="">
- **支持版本**：3.0.0 及以上。
- **注意事项**：  1. 使用不同 appID 的 App 不能互通。
  2. 强烈建议 userID 与业务 APP 的用户 ID 一一对应，即一个 userID 与一个真实用户是固定且唯一的，而不应该是以随机的 userID 的方式传给 SDK 的方式。因为唯一且固定的 userID 可以让 ZEGO 技术人员快速定位线上问题。
 隐私保护申明：请勿在此接口填写用户敏感信息，包括但不限于手机号、身份证号、护照编号、真实姓名等。
</Warning>

**返回值**

错误码，详情请参考常用 错误码文档 [https://doc-zh.zego.im/zh/4378.html](https://doc-zh.zego.im/zh/4378.html)
</ParamField>
<ParamField
  name="logoutScene"
  prototype="public  int logoutScene([IZegoRangeSceneLogoutSceneCallback](../../api-reference/interface#izegorangescenelogoutscenecallback) callback)"
  desc="退出场景。"
  parent_file="Declared in \`ZegoRangeScene.java\`"
  parent_name="ZegoRangeScene"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| callback | [IZegoRangeSceneLogoutSceneCallback](../../api-reference/interface#izegorangescenelogoutscenecallback) | 退出场景结果回调。 |

**详情**

该接口会退出当前用户已登录的场景。

<Note title="">
- **调用时机**：登录场景成功后，若不再使用场景功能，用户可以调用函数 [logoutScene]。
- **相关回调**：调用此函数后会收到 [onSceneStateUpdate] 回调通知成功退出场景。
- **相关接口**：用户可以调用 [loginScene] 函数登录场景。
</Note>

<Warning title="">
- **支持版本**：3.0.0 及以上。
- **使用限制**：无。
- **注意事项**：退出场景会停止该用户与场景相关的所有推拉流。
</Warning>

**返回值**

错误码，详情请参考常用 错误码文档 [https://doc-zh.zego.im/zh/4378.html](https://doc-zh.zego.im/zh/4378.html)
</ParamField>
<ParamField
  name="updateUserStatus"
  prototype="public  int updateUserStatus([ZegoPosition](../../api-reference/class#zegoposition) position, int channel, byte[] status)"
  desc="更新用户的状态。"
  parent_file="Declared in \`ZegoRangeScene.java\`"
  parent_name="ZegoRangeScene"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| position | [ZegoPosition](../../api-reference/class#zegoposition) | 用户当前位置。 |
| channel | int | 状态所属通道，从0开始，不能超过最大通道号。 |
| status | byte[] | 用户当前状态数据。 |

**详情**

开发者可以调用该接口更新用户的状态。

<Note title="">
- **调用时机**：[LoginScene] 之后，[LogoutScene] 之前。
</Note>

<Warning title="">
- **支持版本**：3.0.0 及以上。
- **使用限制**：无。
- **注意事项**：无。
</Warning>

**返回值**

错误码，详情请参考常用 错误码文档 [https://doc-zh.zego.im/zh/4378.html](https://doc-zh.zego.im/zh/4378.html)
</ParamField>
<ParamField
  name="updateUserCommand"
  prototype="public  int updateUserCommand([ZegoPosition](../../api-reference/class#zegoposition) position, int channel, byte[] command)"
  desc="更新用户的指令。"
  parent_file="Declared in \`ZegoRangeScene.java\`"
  parent_name="ZegoRangeScene"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| position | [ZegoPosition](../../api-reference/class#zegoposition) | 用户当前位置。 |
| channel | int | 指令所属通道，从0开始，不能超过最大通道号。 |
| command | byte[] | 用户下一步命令数据。 |

**详情**

开发者可以调用该接口更新用户的指令。

<Note title="">
- **调用时机**：[LoginScene] 之后，[LogoutScene] 之前。
</Note>

<Warning title="">
- **支持版本**：3.0.0 及以上。
- **使用限制**：无。
- **注意事项**：无。
</Warning>

**返回值**

错误码，详情请参考常用 错误码文档 [https://doc-zh.zego.im/zh/4378.html](https://doc-zh.zego.im/zh/4378.html)
</ParamField>
<ParamField
  name="updateUserPosition"
  prototype="public  int updateUserPosition([ZegoPosition](../../api-reference/class#zegoposition) position)"
  desc="更新用户的位置。"
  parent_file="Declared in \`ZegoRangeScene.java\`"
  parent_name="ZegoRangeScene"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| position | [ZegoPosition](../../api-reference/class#zegoposition) | 用户当前位置。 |

**详情**

开发者可以调用该接口更新用户的位置。

<Note title="">
- **调用时机**：[LoginScene] 之后，[LogoutScene] 之前。
</Note>

<Warning title="">
- **支持版本**：3.0.0 及以上。
- **使用限制**：无。
- **注意事项**：无。
</Warning>

**返回值**

错误码，详情请参考常用 错误码文档 [https://doc-zh.zego.im/zh/4378.html](https://doc-zh.zego.im/zh/4378.html)
</ParamField>
<ParamField
  name="getUserCount"
  prototype="public  int getUserCount([IZegoRangeSceneGetUserCountCallback](../../api-reference/interface#izegorangescenegetusercountcallback) callback)"
  desc="获取场景内总人数。"
  parent_file="Declared in \`ZegoRangeScene.java\`"
  parent_name="ZegoRangeScene"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| callback | [IZegoRangeSceneGetUserCountCallback](../../api-reference/interface#izegorangescenegetusercountcallback) | 获取场景内总人数结果回调。 |

**详情**

开发者可以调用该接口获取场景内总人数。

<Note title="">
- **调用时机**：[LoginScene] 之后，[LogoutScene] 之前。
- **默认值**：NULL。
</Note>

<Warning title="">
- **支持版本**：3.0.0 及以上。
- **使用限制**：无。
- **注意事项**：无。
</Warning>

**返回值**

错误码，详情请参考常用 错误码文档 [https://doc-zh.zego.im/zh/4378.html](https://doc-zh.zego.im/zh/4378.html)
</ParamField>
<ParamField
  name="getUserListInView"
  prototype="public  int getUserListInView([IZegoRangeSceneGetUserListInViewCallback](../../api-reference/interface#izegorangescenegetuserlistinviewcallback) callback)"
  desc="获取范围内用户列表。"
  parent_file="Declared in \`ZegoRangeScene.java\`"
  parent_name="ZegoRangeScene"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| callback | [IZegoRangeSceneGetUserListInViewCallback](../../api-reference/interface#izegorangescenegetuserlistinviewcallback) | 获取范围内用户列表结果回调。 |

**详情**

开发者可以调用该接口获取范围内用户列表。

<Note title="">
- **调用时机**：[LoginScene] 之后，[LogoutScene] 之前。
- **默认值**：NULL。
</Note>

<Warning title="">
- **支持版本**：3.0.0 及以上。
- **使用限制**：无。
- **注意事项**：无。
</Warning>

**返回值**

错误码，详情请参考常用 错误码文档 [https://doc-zh.zego.im/zh/4378.html](https://doc-zh.zego.im/zh/4378.html)
</ParamField>
<ParamField
  name="sendCustomCommand"
  prototype="public  int sendCustomCommand(byte[] command, [IZegoRangeSceneSendCustomCommandCallback](../../api-reference/interface#izegorangescenesendcustomcommandcallback) callback)"
  desc="发送用户自定义信令。"
  parent_file="Declared in \`ZegoRangeScene.java\`"
  parent_name="ZegoRangeScene"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| command | byte[] | 自定义信令。 |
| callback | [IZegoRangeSceneSendCustomCommandCallback](../../api-reference/interface#izegorangescenesendcustomcommandcallback) | 发送用户自定义信令结果回调。 |

**详情**

开发者可以调用该接口发送用户自定义信令。

<Note title="">
- **调用时机**：[loginScene] 之后，[logoutScene] 之前。
- **默认值**：NULL。
</Note>

<Warning title="">
- **支持版本**：3.0.0 及以上。
- **使用限制**：无。
- **注意事项**：无。
</Warning>

**返回值**

错误码，详情请参考常用 错误码文档 [https://doc-zh.zego.im/zh/4378.html](https://doc-zh.zego.im/zh/4378.html)
</ParamField>
<ParamField
  name="renewToken"
  prototype="public  int renewToken(String token)"
  desc="更新 Token 鉴权信息。"
  parent_file="Declared in \`ZegoRangeScene.java\`"
  parent_name="ZegoRangeScene"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| token | String | 需要更新的 Token。 |

**详情**

当开发者收到 [onSceneTokenWillExpire] 之后，可使用此 API 更新 Token 鉴权信息，保障后续 RTC 功能正常。

<Note title="">
- **业务场景**：Token 将要过期时使用。
- **调用时机**：收到 [onSceneTokenWillExpire] 之后。
</Note>

<Warning title="">
- **支持版本**：3.1.0 及以上。
- **使用限制**：无。
</Warning>

**返回值**

错误码，详情请参考常用错误码文档 [https://doc-zh.zego.im/zh/4378.html](https://doc-zh.zego.im/zh/4378.html)
</ParamField>
<ParamField
  name="setStreamConfig"
  prototype="public  int setStreamConfig([ZegoSceneStreamConfig](../../api-reference/class#zegoscenestreamconfig) config)"
  desc="设置场景推拉流模式。"
  parent_file="Declared in \`ZegoRangeScene.java\`"
  parent_name="ZegoRangeScene"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| config | [ZegoSceneStreamConfig](../../api-reference/class#zegoscenestreamconfig) | 场景推拉流模式。 |

**详情**

开发者可以调用该接口设置场景推拉流模式。

<Note title="">
- **调用时机**：[createRangeScene] 之后。
- **默认值**：NULL。
</Note>

<Warning title="">
- **支持版本**：3.2.0 及以上。
- **使用限制**：无。
- **注意事项**：无。
</Warning>

**返回值**

错误码，详情请参考常用 错误码文档 [https://doc-zh.zego.im/zh/4378.html](https://doc-zh.zego.im/zh/4378.html)
</ParamField>
