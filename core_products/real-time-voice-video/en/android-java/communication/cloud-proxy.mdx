---
articleID: 16343
date: "2024-01-30"
---
# Cloud Proxy

- - -

## Feature Overview

By setting the SDK's cloud proxy interface, all traffic corresponding to the SDK is forwarded through the cloud proxy server to communicate with RTC, L3 ([Low-Latency Live Streaming](/real-time-video-android-java/live-streaming/low-latency-live-streaming)).

<Warning title="Warning">

- The "Cloud Proxy" feature is a `paid` feature. If you need to use this feature, please contact ZEGO business personnel for consultation.
- After opening the cloud proxy service, if the enterprise has configured a firewall, you also need to add the IP, domain, and port used by the cloud proxy to the enterprise firewall whitelist.
</Warning>

<Frame width="512" height="auto" caption="">
  <img src="https://doc-media.zego.im/sdk-doc/Pics/Express/Cloud_Proxy.png" />
</Frame>

Currently, ZEGO provides two modes: `General Cloud Proxy` and `Smart Cloud Proxy`. Developers can choose the appropriate cloud proxy mode according to your business needs.

<table>

<tbody><tr>
<th></th>
<th>General Cloud Proxy</th>
<th>Smart Cloud Proxy</th>
</tr>
<tr>
<td>Solution Description</td>
<td>When initializing the SDK, directly use cloud proxy mode.</td>
<td><p>When initializing the SDK, prioritize using direct connection network mode for attempts.</p><ol><li>If there is network connectivity within 1 second, continue using direct connection mode.</li><li><p>If there is no network connectivity within 1 second:</p><ul><li>If the current network is cellular, continue to stay in direct connection mode and retry.</li><li><b>If the current network is non-cellular, switch to cloud proxy mode.</b></li></ul></li></ol><p>When the network switches, if network connectivity is detected and the current mode is direct connection, attempts will be made directly according to the SDK initialization logic.</p></td>
</tr>
<tr>
<td>Applicable Scenarios</td>
<td>When you are in restrictive network environments such as hospitals, government, or companies with internal networks, etc., and want to use public cloud RTC or L3 services.</td>
<td>When your users are in scenarios with both public networks and restrictive networks, and you cannot determine the network usage of users, you want to prioritize using public cloud RTC or L3 services, and when public cloud RTC or L3 services are unavailable, then use cloud proxy services.</td>
</tr>
</tbody></table>

## Prerequisites

Before using cloud proxy, please ensure:
- You have created a project in the [ZEGOCLOUD Console](https://console.zegocloud.com) and applied for a valid AppID and AppSign. For details, please refer to [Console - Project Information](/console/project-info).
- You have integrated the ZEGO Express SDK in your project and implemented basic audio and video streaming functionality. For details, please refer to [Quick Start - Integration](/real-time-video-android-java/quick-start/integrating-sdk) and [Quick Start - Implementation](/real-time-video-android-java/quick-start/implementing-video-call).


## Usage Process

### 1 Open cloud proxy service

Apply to ZEGOCLOUD Technical Support to open the cloud proxy service. After opening the service, developers will obtain a cloud proxy domain and port information.

### 2 Configure cloud proxy

Call [setCloudProxyConfig](@setCloudProxyConfig) to configure cloud proxy.

<Warning title="Warning">


This interface must be called before calling the [createEngine](@createEngine) interface to create the engine.
</Warning>

- Interface prototype

```java
/**
 * Set cloud proxy.
 *
 * This interface needs to be called before createEngine.
 * After calling this interface, all network requests and sending of Express SDK will be forwarded through the cloud proxy.
 *
 * @param proxyList Cloud proxy information list, supports setting multiple cloud proxy information.
 * @param token Authentication token. If the authentication method used by the customer is appsign, this can be empty. Otherwise, the token must be filled in.
 * @param enable Whether to enable cloud proxy.
 */
public static void setCloudProxyConfig(ArrayList<ZegoProxyInfo> proxyList, String token,
    boolean enable)
```

- Call example

```java
ZegoProxyInfo proxy = new ZegoProxyInfo();
//Domain and port, filled in by developers based on what was obtained when opening the cloud proxy service
proxy.hostName = "xxxxxxxxxxx.zego.im";
proxy.port = 1080;
ArrayList<ZegoProxyInfo> list = new ArrayList<~>();
list.add(proxy);
ZegoExpressEngine.setCloudProxyConfig(list, "", true);
```

## FAQ

<Accordion title="How to solve if setting cloud proxy does not take effect?" defaultOpen="false">
- Ensure that the cloud proxy service has been opened and valid proxy ports and domain have been obtained.
- Ensure that the cloud proxy is correctly set before [createEngine](@createEngine), and mid-way modification is not supported.
</Accordion>

<Accordion title="Is a local proxy solution provided?" defaultOpen="false">
Yes, for details please refer to [Local Proxy](/real-time-video-android-java/communication/local-proxy).
</Accordion>
