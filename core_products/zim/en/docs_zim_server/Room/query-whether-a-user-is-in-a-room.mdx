---
id: query-whether-a-user-is-in-a-room
title: "Query whether a user is in a room"
description: "Query whether users are in the specified room. By default, batch queries of up to 10 users are supported. If you need to adjust this, please contact ZEGOCLOUD Technical Support."
api: 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
info_path: core_products/zim/en/docs_zim_server/Room/open-api-desc
---

<h1 className={"openapi__heading"}>Query whether a user is in a room</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


Query whether users are in the specified room. By default, batch queries of up to 10 users are supported. If you need to adjust this, please contact ZEGOCLOUD Technical Support.

<Note title="QPS Limit"> 5 times/s, room-level limit</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> API prototype parameter\n>\n> https://zim-api.zego.im/?Action=QueryRoomMembers\n","required":true,"schema":{"type":"string","enum":["QueryRoomMembers"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"ðŸ’¡Public parameter. Application ID, assigned by ZEGOCLOUD. Get it from the [ZEGOCLOUD Admin Console](https://console.zegocloud.com/).","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"ðŸ’¡Public parameter. A 16-character hexadecimal random string (hex encoding of 8-byte random number). Refer to [Signature example](/zim-server/accessing-server-apis#signature-example) for how to generate.","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"ðŸ’¡Public parameter. Current Unix timestamp, in seconds. Refer to [Signature example](/zim-server/accessing-server-apis#signature-example) for how to generate, with a maximum error of 10 minutes.","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"ðŸ’¡Public parameter. Signature version number.","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"ðŸ’¡Public parameter. Signature, used to verify the legitimacy of the request. Refer to [Signing the requests](/zim-server/accessing-server-apis#signing-the-requests) for how to generate an API request signature.","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"UserId","in":"query","required":true,"description":"List of user IDs to query. By default, a maximum of 10 user IDs can be queried.\n\n>**Note**\n>\n>UserId has a maximum length of 32 bytes, RoomID has a maximum length of 128 bytes. Both only support numbers, English characters, and '!', '#', '$', '%', '&', '(', ')', '+', '-', ':', ';', '<', '=', '.', '>', '?', '@', '[', ']', '^', '_', ' ', '{', '}', '|', '~'.\n\nExample: UserId[]=a&UserId[]=b&UserId[]=c&UserId[]=d\n","schema":{"type":"array","maxItems":10,"items":{"type":"string","maxLength":32,"example":"user1"}},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"RoomId","in":"query","required":true,"description":"Room ID.","schema":{"type":"string","maxLength":32,"example":"room123"}}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>OK</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"Return code.\n\nThe following only lists the Code and SubCode related to the API business logic. For the complete return codes, please refer to [Return codes](/zim-server/return-codes).\n<table>\n<thead><tr><th>Code / SubCode</th><th>Description</th><th>Suggested Solution</th></tr></thead>\n<tbody>\n<tr><td>660000002</td><td>Parameter error</td><td>Please check the input parameters</td></tr>\n<tr><td>660000011</td><td>Number of users exceeds the limit.</td><td>Please check the input user list.</td></tr>\n<tr><td>660200001</td><td>User not registered</td><td>Please confirm if the user ID exists or if the user has logged out of the ZIM service.</td></tr>\n<tr><td>660300006</td><td>Call frequency exceeds the limit.</td><td>Please try again later.</td></tr>\n<tr><td>660300012</td><td>User is not in the room</td><td>No action required.</td></tr>\n</tbody>\n</table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Description of the request result.","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Request ID.","example":"343649807833778782"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>UserList</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>Query result, i.e., the list of users in the specified room.</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"user_id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"ID of the user in the specified room.","example":"a"}}></SchemaItem><SchemaItem collapsible={false} name={"user_name"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Name of the user in the specified room.","example":"UserNamea"}}></SchemaItem><SchemaItem collapsible={false} name={"avatar"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"User avatar information, can be null.","nullable":true,"example":"https://www.xxx.com/avatarA.png"}}></SchemaItem><SchemaItem collapsible={false} name={"extra"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Extended information, can be null.","nullable":true,"example":"Extraa"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>ErrorList</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>List of users not in the specified room.    <ul>    <li>When Code is 0:</li>    <li> If ErrorList is empty, all users are in the specified room.</li>    <li> If ErrorList is not empty, it means some users are not in the specified room. Please refer to SubCode for handling.</li>    </ul>    <ul>    <li>When Code is not 0:</li>    <li>If ErrorList is empty, it indicates parameter error, API frequency limit, or system error.</li>    <li>If ErrorList is not empty, it means all users are not in the specified room.</li>    </ul></div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"UserId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"ID of the user not in the specified room.","example":"c"}}></SchemaItem><SchemaItem collapsible={false} name={"SubCode"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Return code for the reason the user is not in the specified room. For the complete return codes, please refer to the Code description or [Return codes](/zim-server/return-codes).\n","example":660300012}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\",\n  \"UserList\": [\n    {\n      \"user_id\": \"a\",\n      \"user_name\": \"UserNamea\",\n      \"avatar\": \"https://www.xxx.com/avatarA.png\",\n      \"extra\": \"Extraa\"\n    }\n  ],\n  \"ErrorList\": [\n    {\n      \"UserId\": \"c\",\n      \"SubCode\": 660300012\n    }\n  ]\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Example"} value={"Example"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\",\n  \"UserList\": [\n    {\n      \"user_id\": \"a\",\n      \"user_name\": \"UserNamea\",\n      \"avatar\": \"https://www.xxx.com/avatarA.png\",\n      \"extra\": \"Extraa\"\n    },\n    {\n      \"user_id\": \"b\",\n      \"user_name\": \"UserNameb\",\n      \"avatar\": \"https://www.xxx.com/avatarB.png\",\n      \"extra\": \"Extrab\"\n    }\n  ],\n  \"ErrorList\": [\n    {\n      \"UserId\": \"c\",\n      \"SubCode\": 660300012\n    },\n    {\n      \"UserId\": \"d\",\n      \"SubCode\": 660200001\n    }\n  ]\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      