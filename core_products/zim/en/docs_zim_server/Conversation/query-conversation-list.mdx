---
id: query-conversation-list
title: "Query conversation list"
description: "By calling this API, you can retrieve the complete conversation list of a specified user in pages, returning up to 1000 latest conversations (one-on-one and group chats)."
api: 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
info_path: core_products/zim/en/docs_zim_server/Conversation/open-api-desc
---

<h1 className={"openapi__heading"}>Query conversation list</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


By calling this API, you can retrieve the complete conversation list of a specified user in pages, returning up to 1000 latest conversations (one-on-one and group chats).

<Note title="Note">Even if a user is kicked out of a conversation, the API will still return that conversation; however, if the conversation is disbanded, the conversation information cannot be obtained through this API.</Note>

<Note title="QPS Limit"> 20 times/s</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> API prototype parameter\n>\n> https://zim-api.zego.im/?Action=QueryConversationList\n","required":true,"schema":{"type":"string","enum":["QueryConversationList"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"ðŸ’¡Public parameter. Application ID, assigned by ZEGOCLOUD. Get it from the [ZEGOCLOUD Admin Console](https://console.zegocloud.com/).","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"ðŸ’¡Public parameter. A 16-character hexadecimal random string (hex encoding of 8-byte random number). Refer to [Signature example](/zim-server/accessing-server-apis#signature-example) for how to generate.","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"ðŸ’¡Public parameter. Current Unix timestamp, in seconds. Refer to [Signature example](/zim-server/accessing-server-apis#signature-example) for how to generate, with a maximum error of 10 minutes.","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"ðŸ’¡Public parameter. Signature version number.","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"ðŸ’¡Public parameter. Signature, used to verify the legitimacy of the request. Refer to [Signing the requests](/zim-server/accessing-server-apis#signing-the-requests) for how to generate an API request signature.","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"FromUserId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"Query the conversation list of this UserID (who has logged in to the ZIM service by calling the login method on the client, or has completed registration by calling the [server-side API](/zim-server/user/batch-register-users)).\n\n> **Note**\n>\n> FromUserId only supports numbers, English characters, and {\"'!', '#', '$', '%', '&', '(', ')', '+', '', ':', ';', '<', '=', '.', '>', '?', '@', '[', ']', '^', '_', ' ', '{', '}', '|', '~'}.\n","maxLength":32,"example":"u1"}}></SchemaItem><SchemaItem collapsible={false} name={"Limit"} required={false} schemaName={"number"} qualifierMessage={"**Possible values:** `>= 1` and `<= 500`"} schema={{"type":"number","description":"Number of conversations to retrieve at once, default is 100, value range is (0, 500].\n- When the value is â‰¤ 0, it will be corrected to 100.\n- When the value is > 500, it will be corrected to 500.\n","minimum":1,"maximum":500,"default":100,"example":10}}></SchemaItem><SchemaItem collapsible={false} name={"Next"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Pagination flag. Fill in 0 for the first time, and then fill in the Next value returned from the previous call. When the returned Next is 0, it means the friend list has been fully retrieved.\n\nFor example, if FromUserId has 250 conversations, when calling this API:\n- First call: Set Limit to 100, Next to 0, to query conversations 1-100; the Next value in the returned result is num1.\n- Second call: Set Limit to 100, Next to num1, to query conversations 101-200; the Next value in the returned result is num2.\n- Third call: Set Limit to 100, Next to num2, to query conversations 201-250; query is complete, the Next value in the returned result is 0.\n","example":0}}></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>OK</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Return code.\n<table>\n<thead><tr><th>Return code</th><th>Description</th><th>Suggested Solution</th></tr></thead>\n<tbody>\n<tr><td>660000002</td><td>Input parameter error.</td><td>Please check the input parameters.</td></tr>\n<tr><td>660300005</td><td>The API call frequency exceeds the AppID-level limit.</td><td>Please try again later.</td></tr>\n<tr><td>660500002</td><td>FromUserId is not registered.</td><td>Please check if FromUserId is correct.</td></tr>\n<tr><td>660800053</td><td>Failed to query conversation list.</td><td>Please contact ZEGOCLOUD Technical Support.</td></tr>\n</tbody>\n</table>\n"}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Description of the request result.","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Request ID.","example":"343649807833778782"}}></SchemaItem><SchemaItem collapsible={false} name={"TotalCount"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Total number of current conversations.","example":500}}></SchemaItem><SchemaItem collapsible={false} name={"Next"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Pagination flag.\n- Non-zero: Indicates that there is still conversation information not returned. You need to set this field to the request parameter Next to retrieve more conversation information.\n- Zero: Indicates that the complete conversation list has been returned.\n\n> **Note**\n>\n> Apart from the above description, this field has no association with the list information. Please do not base any other logic on it.\n","example":1000}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>List</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>Conversation list. Results are returned in ascending order by UpdateTime.</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"ConvId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Conversation ID.\n- One-on-one conversation: Conversation ID is the peer user's ID.\n- Group conversation: Conversation ID is the group ID.\n","example":"conv1"}}></SchemaItem><SchemaItem collapsible={false} name={"ConvType"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Conversation type.\n- 0 or this field is not returned: One-on-one conversation.\n- 2: Group conversation.\n","example":2}}></SchemaItem><SchemaItem collapsible={false} name={"UpdateTime"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Last modification time of the conversation, in milliseconds timestamp.","example":1708254395000}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\",\n  \"TotalCount\": 500,\n  \"Next\": 1000,\n  \"List\": [\n    {\n      \"ConvId\": \"conv1\",\n      \"ConvType\": 2,\n      \"UpdateTime\": 1708254395000\n    },\n    {\n      \"ConvId\": \"conv2\",\n      \"ConvType\": 0,\n      \"UpdateTime\": 1708254395000\n    },\n    {\n      \"ConvId\": \"conv3\",\n      \"UpdateTime\": 1708254395000\n    }\n  ]\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      