---
id: delete-all-messages-from-a-one-to-one-conversaiton-user
title: "ClearPeerMessage"
description: "By calling this API, you can delete all messages from a specific user in a one-to-one conversation on the server side. Only the specified user will not be able to see these messages; the other user will not be affected."
api: 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
info_path: core_products/zim/en/docs_zim_server/Messaging/open-api-desc
---

<h1 className={"openapi__heading"}>ClearPeerMessage</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


By calling this API, you can delete all messages from a specific user in a one-to-one conversation on the server side. Only the specified user will not be able to see these messages; the other user will not be affected.

<Note title="Note">Example: User A and B are in a conversation. If you need to delete all one-to-one messages from user A, then FromUserId is A and ToUserId is B; if you need to delete all one-to-one messages from user B, then FromUserId is B and ToUserId is A.</Note>

<Note title="QPS Limit"> 20 times/s</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> API prototype parameter\n>\n> https://zim-api.zego.im/?Action=ClearPeerMessage\n","required":true,"schema":{"type":"string","enum":["ClearPeerMessage"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"ðŸ’¡Public parameter. Application ID, assigned by ZEGOCLOUD. Get it from the [ZEGOCLOUD Admin Console](https://console.zegocloud.com/).","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"ðŸ’¡Public parameter. A 16-character hexadecimal random string (hex encoding of 8-byte random number). Refer to [Signature example](/zim-server/accessing-server-apis#signature-example) for how to generate.","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"ðŸ’¡Public parameter. Current Unix timestamp, in seconds. Refer to [Signature example](/zim-server/accessing-server-apis#signature-example) for how to generate, with a maximum error of 10 minutes.","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"ðŸ’¡Public parameter. Signature version number.","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"ðŸ’¡Public parameter. Signature, used to verify the legitimacy of the request. Refer to [Signing the requests](/zim-server/accessing-server-apis#signing-the-requests) for how to generate an API request signature.","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"FromUserId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"The user ID that needs to delete all one-to-one messages.\n","maxLength":32,"example":"user_a"}}></SchemaItem><SchemaItem collapsible={false} name={"ToUserId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"Message receiving user.","maxLength":32,"example":"user_b"}}></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>OK</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Return code.<br/>For return codes, please refer to [Return codes](/zim-server/return-codes).","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Description of the operation result.","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Request ID.","example":"343649807833778782"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      