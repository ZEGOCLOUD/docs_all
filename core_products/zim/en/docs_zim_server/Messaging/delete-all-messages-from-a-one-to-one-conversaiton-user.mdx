---
id: delete-all-messages-from-a-one-to-one-conversaiton-user
title: "Delete all messages from a one-to-one conversation user"
description: "By calling this API, you can delete all messages from a specific user in a one-to-one conversation on the server side."
api: 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
info_path: core_products/zim/en/docs_zim_server/Messaging/open-api-desc
---

<h1 className={"openapi__heading"}>Delete all messages from a one-to-one conversation user</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


By calling this API, you can delete all messages from a specific user in a one-to-one conversation on the server side.

<Note title="Note">Example: User A and B are in a conversation. If you need to delete all one-to-one messages from user A, then FromUserId is A and ToUserId is B; if you need to delete all one-to-one messages from user B, then FromUserId is B and ToUserId is A.</Note>

<Note title="QPS Limit"> 20 times/s</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> API prototype parameter\n>\n> https://zim-api.zego.im/?Action=ClearPeerMessage\n","required":true,"schema":{"type":"string","enum":["ClearPeerMessage"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"ðŸ’¡Public parameter. Application ID, assigned by ZEGOCLOUD. Get it from the [ZEGOCLOUD Admin Console](https://console.zegocloud.com/).","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"ðŸ’¡Public parameter. A 16-character hexadecimal random string (hex encoding of 8-byte random number). Refer to [Signature example](/zim-server/accessing-server-apis#signature-example) for how to generate.","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"ðŸ’¡Public parameter. Current Unix timestamp, in seconds. Refer to [Signature example](/zim-server/accessing-server-apis#signature-example) for how to generate, with a maximum error of 10 minutes.","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"ðŸ’¡Public parameter. Signature version number.","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"ðŸ’¡Public parameter. Signature, used to verify the legitimacy of the request. Refer to [Signing the requests](/zim-server/accessing-server-apis#signing-the-requests) for how to generate an API request signature.","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"FromUserId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"Delete all one-to-one messages sent by this user to ToUserId.\n","maxLength":32,"example":"user_a"}}></SchemaItem><SchemaItem collapsible={false} name={"ToUserId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"Message receiving user.","maxLength":32,"example":"user_b"}}></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>OK</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Return code.<br/>For return codes, please refer to [Return codes](/zim-server/return-codes).","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Description of the operation result.","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Request ID.","example":"343649807833778782"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      