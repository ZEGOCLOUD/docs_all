---
id: delete-all-messages-from-a-one-to-one-conversaiton-user
title: "ClearPeerMessage"
description: "By calling this API, you can delete all messages from a specific user in a one-to-one conversation on the server side."
api: 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
info_path: core_products/zim/en/docs_zim_server/Messaging/open-api-desc
---

<h1 className={"openapi__heading"}>ClearPeerMessage</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


By calling this API, you can delete all messages from a specific user in a one-to-one conversation on the server side.

<Note title="Note">Example: User A and B are in a conversation. If you need to delete all one-to-one messages from user A, then FromUserId is A and ToUserId is B; if you need to delete all one-to-one messages from user B, then FromUserId is B and ToUserId is A.</Note>

<Note title="QPS Limit"> 20 times/s</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> API prototype parameter\n>\n> https://zim-api.zego.im/?Action=ClearPeerMessage\n","required":true,"schema":{"type":"string","enum":["ClearPeerMessage"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"ðŸ’¡Public parameter. Application ID, assigned by ZEGOCLOUD. Get it from the [ZEGOCLOUD Admin Console](https://console.zegocloud.com/).","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"ðŸ’¡Public parameter. A 16-character hexadecimal random string (hex encoding of 8-byte random number). Refer to [Signature example](/zim-server/accessing-server-apis#signature-example) for how to generate.","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"ðŸ’¡Public parameter. Current Unix timestamp, in seconds. Refer to [Signature example](/zim-server/accessing-server-apis#signature-example) for how to generate, with a maximum error of 10 minutes.","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"ðŸ’¡Public parameter. Signature version number.","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"ðŸ’¡Public parameter. Signature, used to verify the legitimacy of the request. Refer to [Signing the requests](/zim-server/accessing-server-apis#signing-the-requests) for how to generate an API request signature.","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"FromUserId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"Delete all one-to-one messages sent by this user to ToUserId.\n","maxLength":32,"example":"user_a"}}></SchemaItem><SchemaItem collapsible={false} name={"ToUserId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"Message receiving user.","maxLength":32,"example":"user_b"}}></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>OK</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Return code.<br/>For return codes, please refer to [Return codes](/zim-server/return-codes).","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Description of the operation result.","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Request ID.","example":"343649807833778782"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      