---
id: push-message-to-all-users
title: "Push message to all users"
description: "Push message to all users refers to sending messages with specific content, such as text, images, etc., to all online users (including the message sender themselves) and offline users. This feature is suitable for scenarios such as announcements for all users, cross-room gift floating screens, etc."
api: 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
info_path: core_products/zim/en/docs_zim_server/Messaging/open-api-desc
---

<h1 className={"openapi__heading"}>Push message to all users</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


Push message to all users refers to sending messages with specific content, such as text, images, etc., to all online users (including the message sender themselves) and offline users. This feature is suitable for scenarios such as announcements for all users, cross-room gift floating screens, etc.

- Online users: Users who have logged in to ZIM and whose heartbeat has not timed out.
- Offline users: Users whose heartbeat has timed out after logging in to ZIM and reporting ZPNsPushId.
<Note title="Note">
- To use this feature, please activate ZIM Professional or Flagship service.
- Messages sent through this API will not create conversations and will not be saved.
</Note>
Message receiving users can only receive broadcast messages through the following ZIM SDK callback interfaces and know which user sent the message.

| iOS-25% | Android-25% | macOS-25% | Windows-25% |
|-----|---------|-------|---------|
| [broadcastMessageReceived](https://www.zegocloud.com/docs/article/api?doc=zim_API~objective-c_ios~protocol~ZIMEventHandler#zim-broadcast-message-received) | [onBroadcastMessageReceived](https://www.zegocloud.com/docs/article/api?doc=zim_API~java_android~class~ZIMEventHandler#on-broadcast-message-received) | [broadcastMessageReceived](https://www.zegocloud.com/docs/article/api?doc=zim_API~objective-c_macos~protocol~ZIMEventHandler#zim-broadcast-message-received) | [onBroadcastMessageReceived](https://www.zegocloud.com/docs/article/api?doc=zim_API~cpp_windows~class~ZIMEventHandler#on-broadcast-message-received) |

| Web-25% | Mini Program-25% | Flutter-25% | React Native-25% |
|---------|-----|--------|--------------|
| [broadcastMessageReceived](https://www.zegocloud.com/docs/article/api?doc=zim_API~javascript_web~interface~ZIMEventHandler#broadcast-message-received) | [broadcastMessageReceived](https://www.zegocloud.com/docs/article/api?doc=zim_API~javascript_wxxcx~interface~ZIMEventHandler#broadcast-message-received) | [onBroadcastMessageReceived](https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIMEventHandler/onBroadcastMessageReceived.html) | [broadcastMessageReceived](https://www.zegocloud.com/docs/article/api?doc=zim_API~javascript_react-native~interface~ZIMEventHandler#broadcast-message-received) |

| uni-app \| uni-app x-25% | HarmonyOS-25% |
|---------|-----------|
| [broadcastMessageReceived](https://www.zegocloud.com/docs/article/api?doc=zim_API~javascript_uni-app~interface~ZIMEventHandler#broadcast-message-received) | [broadcastMessageReceived](https://www.zegocloud.com/docs/article/api?doc=zim_API~javascript_harmony~interface~ZIMEventHandler#broadcast-message-received) | |

<Note title="Note">
  The parameter FromUserId only supports numbers, English characters, and `'!'Ôºå'#'Ôºå'$'Ôºå'%'Ôºå'&'Ôºå'('Ôºå')'Ôºå'+'Ôºå'-'Ôºå':'Ôºå';'Ôºå'<'Ôºå'='Ôºå'.'Ôºå'>'Ôºå'?'Ôºå'@'Ôºå'['Ôºå']'Ôºå'^'Ôºå'_'Ôºå' 'Ôºå'{'Ôºå'}'Ôºå'|'Ôºå'~'`.

  If the sender's SDK version (for version information, please refer to [Release notes](/zim-android/client-sdks/zim-release-notes)) is lower than `2.0.0`, the ZIM server only supports Command type messages with `MessageType` of `2`, and does not support other types.<br/>To provide developers with a better experience, ZEGOCLOUD recommends that developers use the latest version of the SDK.

  The message receiver's SDK version must be 2.10.0 or above to receive broadcast messages.
</Note>
<Note title="QPS Limit"> 1 time/s, limited to 100 times within 24 hours. If you need to adjust, please contact ZEGOCLOUD Technical Support.</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> API prototype parameter\n>\n> https://zim-api.zego.im/?Action=SendMessageToAllUsers\n","required":true,"schema":{"type":"string","enum":["SendMessageToAllUsers"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"üí°Public parameter. Application ID, assigned by ZEGOCLOUD. Get it from the [ZEGOCLOUD Admin Console](https://console.zegocloud.com/).","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"üí°Public parameter. A 16-character hexadecimal random string (hex encoding of 8-byte random number). Refer to [Signature example](/zim-server/accessing-server-apis#signature-example) for how to generate.","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"üí°Public parameter. Current Unix timestamp, in seconds. Refer to [Signature example](/zim-server/accessing-server-apis#signature-example) for how to generate, with a maximum error of 10 minutes.","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"üí°Public parameter. Signature version number.","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"üí°Public parameter. Signature, used to verify the legitimacy of the request. Refer to [Signing the requests](/zim-server/accessing-server-apis#signing-the-requests) for how to generate an API request signature.","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"FromUserId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"Sender's user ID (who has logged in to the ZIM service by calling the login method on the client, or has completed registration by calling the [server-side API](/zim-server/user/batch-register-users)).","maxLength":32,"example":"u1"}}></SchemaItem><SchemaItem collapsible={false} name={"MessageType"} required={true} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Message type. For applicable types for broadcast messages, please refer to [MessageBody description](/zim-server/messaging/messagebody-introduction).","example":1}}></SchemaItem><SchemaItem collapsible={false} name={"MessageBody"} required={true} schemaName={"object"} qualifierMessage={undefined} schema={{"type":"object","description":"Message content. For specific parameter format, please refer to [MessageBody description](/zim-server/messaging/messagebody-introduction).","example":{"Message":"hello world","ExtendedData":"s"}}}></SchemaItem><SchemaItem collapsible={false} name={"SubMsgType"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Specific custom type. The value is defined by the developer, with a value range of [0,200]. This parameter only needs to be assigned when MessageType is a custom message.","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"PushType"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Push type:\n- 0: Online push to online users.\n- 1: Online push to online users, offline push to offline users.\n- 2: Offline push to all users who have reported ZPNsPushId.\n","example":0}}></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>OK</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Return code.\n\n> **Note**\n>\n> When you initiate a request to send messages to multiple users simultaneously:\n> - If you only need to successfully send messages to 1 or more users, Code will return 0, indicating success. In this case, please refer to the specific information in ErrorList to confirm the operation result and understand whether sending messages to some users failed.\n> - If sending messages to all users fails, Code will return the relevant return code. For details, please refer to [Return codes](/zim-server/return-codes).\n\n‰ª•‰∏ã‰ªÖÂàóÂá∫‰∫ÜÊé•Âè£‰∏öÂä°ÈÄªËæëÁõ∏ÂÖ≥ÁöÑReturn codeÔºåÂÆåÊï¥Return codeËØ∑ÂèÇËÄÉ¬†[ÂÖ®Â±ÄReturn code](/zim-server/return-codes)„ÄÇ\n\n<table>\n<tbody><tr>\n<th>Return code</th>\n<th>Description</th>\n<th>Suggested Solution</th>\n</tr>\n<tr>\n<td>660000002</td>\n<td>Input parameter error„ÄÇ</td>\n<td>Please check the input parameters„ÄÇ</td>\n</tr>\n<tr>\n<td>660400001</td>\n<td>The input message size exceeds the limit„ÄÇ</td>\n<td>Please check the input message size„ÄÇ</td>\n</tr>\n<tr>\n<td>660500002</td>\n<td>Message sender has not logged in to the SDK„ÄÇ</td>\n<td>Please log in to ZIM SDK before sending messages„ÄÇ</td>\n</tr>\n<tr>\n<td>660500003</td>\n<td>The frequency of calling the SendMessageToAllUsers API exceeds the limit„ÄÇ</td>\n<td>Please try again later„ÄÇ</td>\n</tr>\n</tbody></table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Description of the request result.","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Request ID.","example":"343649807833778782"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      