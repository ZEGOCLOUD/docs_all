---
id: import-group-messages
title: "Import group messages"
description: "If you are using another instant messaging service and want to integrate with ZIM, you can call this API to import the group's historical messages (in chronological order) to ZIM."
api: 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
info_path: core_products/zim/en/docs_zim_server/Messaging/open-api-desc
---

<h1 className={"openapi__heading"}>Import group messages</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


If you are using another instant messaging service and want to integrate with ZIM, you can call this API to import the group's historical messages (in chronological order) to ZIM.

<Note title="Note">
The parameters FromUserId and GroupId only support numbers, English characters, and \'!'ï¼Œ'#'ï¼Œ'$'ï¼Œ'%'ï¼Œ'&'ï¼Œ'('ï¼Œ')'ï¼Œ'+'ï¼Œ'-'ï¼Œ':'ï¼Œ';'ï¼Œ'\<'ï¼Œ'='ï¼Œ'.'ï¼Œ'\>'ï¼Œ'?'ï¼Œ'@'ï¼Œ'['ï¼Œ']'ï¼Œ'^'ï¼Œ'_'ï¼Œ' 'ï¼Œ'\{'ï¼Œ'\}'ï¼Œ'|'ï¼Œ'~'.

To provide developers with a better experience, ZEGOCLOUD recommends that developers use the latest version of the SDK.

If the sender requests to send a text message with MessageType 1, the sender's corresponding client (SDK version needs to be 2.7.0 or above) will also receive the message.

For sending and receiving custom messages with MessageType 200, the SDK version of the sender's and receiver's corresponding clients needs to be 2.8.0 or above.

If the receiver's SDK version is in the [2.0.0, 2.8.0) range, they can receive custom messages, but the message type will be displayed as unknown and the message content cannot be obtained. To obtain this message, please upgrade the SDK to version 2.8.0 or above.

If the receiver's SDK version is 1.x.x, they will not be able to receive custom messages, nor will they receive unknown messages.
</Note>
<Note title="QPS Limit"> 20 times/s</Note>

## Verify the effect
After successfully importing messages, you can call the ZIM server-side API [Query the message list of group chats](/zim-server/conversation/query-the-message-list-of-group-chats) to confirm whether the group chat conversation messages have been imported completely.

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> API prototype parameter\n>\n> https://zim-api.zego.im/?Action=ImportGroupMsg\n","required":true,"schema":{"type":"string","enum":["ImportGroupMsg"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"ðŸ’¡Public parameter. Application ID, assigned by ZEGOCLOUD. Get it from the [ZEGOCLOUD Admin Console](https://console.zegocloud.com/).","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"ðŸ’¡Public parameter. A 16-character hexadecimal random string (hex encoding of 8-byte random number). Refer to [Signature example](/zim-server/accessing-server-apis#signature-example) for how to generate.","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"ðŸ’¡Public parameter. Current Unix timestamp, in seconds. Refer to [Signature example](/zim-server/accessing-server-apis#signature-example) for how to generate, with a maximum error of 10 minutes.","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"ðŸ’¡Public parameter. Signature version number.","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"ðŸ’¡Public parameter. Signature, used to verify the legitimacy of the request. Refer to [Signing the requests](/zim-server/accessing-server-apis#signing-the-requests) for how to generate an API request signature.","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"FromUserId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"User ID of the message sender (who has logged in to the ZIM service by calling the login method on the client, or has completed registration by calling the [server-side API](/zim-server/user/batch-register-users)).","maxLength":32,"example":"u1"}}></SchemaItem><SchemaItem collapsible={false} name={"GroupId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"Group ID.","maxLength":32,"example":"r1"}}></SchemaItem><SchemaItem collapsible={false} name={"MessageType"} required={true} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Message type. For applicable types for group chat conversations, please refer to [MessageBody description](/zim-server/messaging/messagebody-introduction).\n> Note\n>\n> Signaling messages are not supported.\n","example":1}}></SchemaItem><SchemaItem collapsible={false} name={"Priority"} required={true} schemaName={"number"} qualifierMessage={"**Possible values:** [`1`, `2`, `3`]"} schema={{"type":"number","description":"Message priority (for details, please refer to [Basic concepts - Message priority](https://www.zegocloud.com/docs/zim-android/introduction/basic-concepts#message-priority)). Values are as follows:\n- 1: Low.\n- 2: Medium.\n- 3: High.\n","enum":[1,2,3],"example":1}}></SchemaItem><SchemaItem collapsible={false} name={"MessageBody"} required={true} schemaName={"object"} qualifierMessage={undefined} schema={{"type":"object","description":"Message content. For specific parameter format, please refer to [MessageBody description](/zim-server/messaging/messagebody-introduction).\n> Note\n>\n> The `OfflinePush` and `HasReceipt` fields are not supported.\n","example":{"Message":"hello world","ExtendedData":"d"}}}></SchemaItem><SchemaItem collapsible={false} name={"SubMsgType"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Specific custom type. The value is defined by you, with a value range of [0,200]. Required when MessageType is a custom message.","example":200}}></SchemaItem><SchemaItem collapsible={false} name={"SearchedContent"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Search field for custom messages. This field can only be filled in when MessageType is a custom message, with a default maximum length of 64 bytes. This field applies to the client. Unless this field is filled in, the associated custom message cannot be searched through the client.","example":"ex"}}></SchemaItem><SchemaItem collapsible={false} name={"SendMessageTime"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Message sending timestamp (Unix, millisecond level). Please import in chronological order from earliest to latest.\n- Pass 0 or do not pass: Use \"current time\".\n- Other values: The earliest can be \"current time - number of days for historical message retention specified by the package (for details, please refer to [Pricing - Version differences](/zim-android/introduction/pricing#version-differences)) * 86400000\", and the latest must not be later than \"current time\".\n\nCannot be earlier than the number of days for historical message retention specified by the package (for details, please refer to [Pricing - Version differences](/zim-android/introduction/pricing#version-differences)), nor later than the current time.\n","example":123}}></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>OK</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Return code.\n\nThe following only lists the return codes related to the API business logic. For the complete return codes, please refer to [Return codes](/zim-server/return-codes).\n<table>\n<tbody><tr>\n<th>Return code</th>\n<th>Description</th>\n<th>Suggested Solution</th>\n</tr>\n<tr>\n<td>660400001</td>\n<td>The input message size exceeds the limit.</td>\n<td>Please check the input message size.</td>\n</tr>\n<tr>\n<td>660500002</td>\n<td>Message sender has not logged in to the SDK.</td>\n<td>Please have the user log in first before sending messages.</td>\n</tr>\n<tr>\n<td>660600001</td>\n<td>The input GroupId does not exist.</td>\n<td>Please confirm if the input GroupId is correct.</td>\n</tr>\n</tbody>\n</table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Description of the request result.","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Request ID.","example":"343649807833778782"}}></SchemaItem><SchemaItem collapsible={false} name={"MsgSeq"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Message seq.","example":123}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\",\n  \"MsgSeq\": 123\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      