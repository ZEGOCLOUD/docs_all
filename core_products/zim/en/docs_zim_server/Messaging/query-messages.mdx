---
id: query-messages
title: "Query messages"
description: "本接口支持查询单个指定会话（群聊、单聊）中的多条消息。"
api: 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
info_path: core_products/zim/en/docs_zim_server/Messaging/open-api-desc
---

<h1 className={"openapi__heading"}>Query messages</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


本接口支持查询单个指定会话（群聊、单聊）中的多条消息。

<Warning title="注意">本接口的频率限制是 20 条消息/秒，而非 20 次/秒。</Warning>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> API prototype parameter\n>\n> https://zim-api.zego.im/?Action=QueryMessagesByMsgSeq\n","required":true,"schema":{"type":"string","enum":["QueryMessagesByMsgSeq"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡Public parameter. Application ID, assigned by ZEGOCLOUD. Get it from the [ZEGOCLOUD Admin Console](https://console.zegocloud.com/).","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡Public parameter. A 16-character hexadecimal random string (hex encoding of 8-byte random number). Refer to [Signature example](/zim-server/accessing-server-apis#signature-example) for how to generate.","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡Public parameter. Current Unix timestamp, in seconds. Refer to [Signature example](/zim-server/accessing-server-apis#signature-example) for how to generate, with a maximum error of 10 minutes.","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡Public parameter. Signature version number.","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡Public parameter. Signature, used to verify the legitimacy of the request. Refer to [Signing the requests](/zim-server/accessing-server-apis#signing-the-requests) for how to generate an API request signature.","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"FromUserId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"用户的 UserID（已在客户端调用 login 方法登录 ZIM 服务，或已调用 [服务端 API](/zim-server/user/batch-register-users) 完成注册）。\n- 查询单聊会话消息时，此处填入任一参与用户的 userID。\n- 查询群聊会话消息时，此处可填入任意已注册用户的 userID。\n","maxLength":32,"example":"user0"}}></SchemaItem><SchemaItem collapsible={false} name={"ConvId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"Conversation ID.\n- 查询单聊会话消息时，此处填入另一参与用户的 userID（已在客户端调用 login 方法登录 ZIM 服务，或已调用 [服务端 API](/zim-server/user/batch-register-users) 完成注册）。\n- 查询群聊会话消息时，此处填入目标群组的 groupID。\n","maxLength":32,"example":"user1"}}></SchemaItem><SchemaItem collapsible={false} name={"ConvType"} required={true} schemaName={"number"} qualifierMessage={"**Possible values:** [`0`, `2`]"} schema={{"type":"number","description":"会话类型：\n- 0：单聊。\n- 2：群聊。\n","enum":[0,2],"example":0}}></SchemaItem><SchemaItem collapsible={false} name={"MsgSeqList"} required={true} schemaName={"number[]"} qualifierMessage={"**Possible values:** `<= 20`"} schema={{"type":"array","description":"待Query messages的 seq 列表。列表长度上限为 20。\n> **说明**\n>\n> 如需上调，请联系 ZEGO 技术支持。\n\nseq 获取方式：\n- 若需要查询由**客户端**发出的消息，通过 [消息发送后回调](/zim-server/callbacks/message-sent) 获取 MsgSeq。\n- 若需要查询由 服务端 API [SendPeerMessage](/zim-server/messaging/send-a-one-to-one-message) 发出的**单聊**消息，通过接口响应数据获取 MsgSeq。\n- 若需要查询由 服务端 API [SendGroupMessage](/zim-server/messaging/send-group-messages) 发出的**群聊**消息，通过接口响应数据获取 MsgSeq。\n","maxItems":20,"items":{"type":"number","example":1},"example":[1,2,3]}}></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>OK</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Return code.\n\nThe following only lists the return codes related to the API business logic. For the complete return codes, please refer to [Return codes](/zim-server/return-codes).\n<table>\n<tbody><tr>\n<th>返回码</th>\n<th>说明</th>\n<th>Suggested Solution</th>\n</tr>\n<tr>\n<td>660000001</td>\n<td>服务端出错。</td>\n<td>请重试，或联系 ZEGO 技术支持。</td>\n</tr>\n<tr>\n<td>660000002</td>\n<td>输入的参数缺失或不合法。</td>\n<td>Please check the input parameters。</td>\n</tr>\n<tr>\n<td>660300005</td>\n<td>调用接口的频率超出了 AppID 级别限制。</td>\n<td>请稍后再试，或参考相关文档了解调用频率。</td>\n</tr>\n<tr>\n<td>660700008</td>\n<td>获取用户信息出错。</td>\n<td>请检查用户 ID 是否正确。</td>\n</tr>\n<tr>\n<td>660700015</td>\n<td>用户未注册。</td>\n<td>请先注册用户。</td>\n</tr>\n</tbody>\n</table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"操作结果描述。","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Request ID.","example":"343649807833778782"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>MessageList</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>返回的消息内容列表。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"Sender"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"消息发送者。","example":"userA"}}></SchemaItem><SchemaItem collapsible={false} name={"MsgType"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"消息类型：\n- 1：文本。\n- 10：组合。\n- 11：图片。\n- 12：文件。\n- 13：音频。\n- 14：视频。\n- 31：撤回消息。\n- 32：Tips 消息。\n- 200：自定义。\n","example":1}}></SchemaItem><SchemaItem collapsible={false} name={"SubMsgType"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"具体的自定义类型。值由用户发送自定义消息时填写，取值范围为 [0,200]。只有当 MsgType 为 200（自定义类型）时，此参数才有意义。"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><strong>MsgBody</strong><span className={"schema-name"}> object</span></summary><div className={"schema-description-container"}><div className={"schema-description"}>Message content.- 当 MsgType 为 1（文本类型）或 200（自定义类型），MsgBody 为发送消息时传入的消息内容，开发者可直接阅读Message content.- 当 MsgType 为 下列类型时，MsgBody 为 JSON 字符串。请使用 URLDecode 对此 JSON 字符串解码，并按照对应结构获取消息中各字段数据：  - 当 MsgType 为 11、12、13、14（Multimedia message）：参考Multimedia message结构。  - 当 MsgType 为 10（组合消息）：参考组合消息结构。  - 当 MsgType 为 31（消息已被撤回）：参考撤回消息结构。  - 当 MsgType 为 32（Tips 消息）：参考 Tips 消息结构。</div></div><div className={"oneof-container"}><span className={"oneof-label badge badge--info"}>anyOf</span><SchemaTabs><TabItem label={"Multimedia message"} value={"0-item-properties"}><SchemaItem collapsible={false} name={"md5"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"MD5 value of the file."}}></SchemaItem><SchemaItem collapsible={false} name={"file_name"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"File name."}}></SchemaItem><SchemaItem collapsible={false} name={"file_size"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"File size in bytes (B)."}}></SchemaItem><SchemaItem collapsible={false} name={"download_url"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Download URL."}}></SchemaItem><SchemaItem collapsible={false} name={"media_duration"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Audio/video duration in seconds (s)."}}></SchemaItem><SchemaItem collapsible={false} name={"origin_image_width"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"🏞️If it is an image message, this attribute is included. Width of the original image in pixels (px)."}}></SchemaItem><SchemaItem collapsible={false} name={"origin_image_height"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"🏞️If it is an image message, this attribute is included. Height of the original image in pixels (px)."}}></SchemaItem><SchemaItem collapsible={false} name={"large_image_download_url"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"🏞️如果是图片消息则包含此属性。大图Download URL."}}></SchemaItem><SchemaItem collapsible={false} name={"large_image_width"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"🏞️If it is an image message, this attribute is included. Width of the large image in pixels (px)."}}></SchemaItem><SchemaItem collapsible={false} name={"large_image_height"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"🏞️如果是图片消息则包含此属性。大图的高度，单位为像素（px）。"}}></SchemaItem><SchemaItem collapsible={false} name={"thumbnail_download_url"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"🏞️如果是图片消息则包含此属性。缩略图Download URL."}}></SchemaItem><SchemaItem collapsible={false} name={"thumbnail_width"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"🏞️如果是图片消息则包含此属性。缩略图的宽度，单位为像素（px）。"}}></SchemaItem><SchemaItem collapsible={false} name={"thumbnail_height"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"🏞️If it is an image message, this attribute is included. Height of the thumbnail in pixels (px)."}}></SchemaItem><SchemaItem collapsible={false} name={"video_first_frame_download_url"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"🎬如果是视频消息则包含此属性。视频首帧图的Download URL."}}></SchemaItem><SchemaItem collapsible={false} name={"video_first_frame_width"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"🎬If it is a video message, this attribute is included. Width of the video first frame image in pixels (px)."}}></SchemaItem><SchemaItem collapsible={false} name={"video_first_frame_height"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"🎬If it is a video message, this attribute is included. Height of the video first frame image in pixels (px)."}}></SchemaItem></TabItem><TabItem label={"组合消息"} value={"1-item-properties"}><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>multi_msg</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>组合消息 Item 数组。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"msg_type"} required={false} schemaName={"integer"} qualifierMessage={"**Possible values:** [`1`, `11`, `12`, `13`, `14`, `200`]"} schema={{"type":"integer","description":"Item 类型：\n- 1：文本。\n- 11：图片。\n- 12：文档。\n- 13：音频。\n- 14：视频。\n- 200：自定义Message type.\n","enum":[1,11,12,13,14,200]}}></SchemaItem><SchemaItem collapsible={false} name={"sub_msg_type"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"仅当 msg_type 为 200 时，返回此参数。"}}></SchemaItem><SchemaItem collapsible={false} name={"callback_content"} required={false} schemaName={"object"} qualifierMessage={undefined} schema={{"type":"object","description":"Item 内容。\n- 仅当 msg_type 为 1 或 200 时，可直接在此参数阅读Message content.\n- 当 Item 为 11、12、13 或 14，请参考Multimedia message结构了解消息的各个字段数据。\n"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></TabItem><TabItem label={"撤回消息"} value={"2-item-properties"}><SchemaItem collapsible={false} name={"user_id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"撤回发起用户的 userID。"}}></SchemaItem><SchemaItem collapsible={false} name={"revoke_time"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"撤回操作的时间戳，单位为毫秒。"}}></SchemaItem><SchemaItem collapsible={false} name={"msg_type"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"原Message type."}}></SchemaItem><SchemaItem collapsible={false} name={"payload"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"撤回操作时携带的Extended field."}}></SchemaItem><SchemaItem collapsible={false} name={"msg_status"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"撤回的对应状态：\n- 4：由用户自行撤回。\n- 8：由系统撤回。\n- 12：通过服务端 API 撤回。\n- 16：由群管理员撤回。\n- 20：由群主撤回。\n- 24：因未通过审核而遭撤回。\n"}}></SchemaItem></TabItem><TabItem label={"Tips 消息"} value={"3-item-properties"}><SchemaItem collapsible={false} name={"type"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Tips 消息类型：\n- 群成员变更：\n  - 1：群创建。\n  - 2：群解散。\n  - 3：用户主动加群。\n  - 4：群内成员邀请群外用户加入群组。\n  - 5：群成员主动离开。\n  - 6：群内成员被踢出。\n- 群成员资料变更：\n  - 11：群主转移。\n  - 12：群成员角色变更。\n  - 13：群成员禁言状态变更。\n- 群资料变更：\n  - 30：群名、群头像、群公告变更。\n  - 34：群组禁言状态变更。\n"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>op_user_info</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>Tips 消息触发者（例如：群组创建用户、群名称修改用户）的用户信息。</div><SchemaItem collapsible={false} name={"user_id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户 ID。"}}></SchemaItem><SchemaItem collapsible={false} name={"role"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"用户的群成员角色。\n- 1：群主。\n- 2：群管理员。\n- 3：群成员。\n"}}></SchemaItem><SchemaItem collapsible={false} name={"group_member_name"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户名。"}}></SchemaItem><SchemaItem collapsible={false} name={"group_member_nickname"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户的群成员昵称。"}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>target_users</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>Tips 消息触发操作的目标用户（例如：在创建群时一起被邀请加入群的用户、被踢出群组的用户等）。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"user_id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户 ID。"}}></SchemaItem><SchemaItem collapsible={false} name={"role"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"用户的群成员角色。\n- 1：群主。\n- 2：群管理员。\n- 3：群成员。\n"}}></SchemaItem><SchemaItem collapsible={false} name={"group_member_name"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户名。"}}></SchemaItem><SchemaItem collapsible={false} name={"group_member_nickname"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户的群成员昵称。"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem><SchemaItem collapsible={false} name={"group_data_flag"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"当 type 为 30 时，此参数有意义，表示被修改的群资料项目。\n- 1：群名称。\n- 2：群公告。\n- 4：群头像。\n"}}></SchemaItem><SchemaItem collapsible={false} name={"group_notice"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"群公告。"}}></SchemaItem><SchemaItem collapsible={false} name={"group_name"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"群名称。"}}></SchemaItem><SchemaItem collapsible={false} name={"group_avatar"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"群头像。"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>forbid</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>当 type 为 34 时，此参数表示群组禁言对象。</div><SchemaItem collapsible={false} name={"is_all_forbid"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"type":"boolean","description":"是否全员禁言：\n- false：不是。\n- true：是。\n"}}></SchemaItem><SchemaItem collapsible={false} name={"forbid_role_list"} required={false} schemaName={"number[]"} qualifierMessage={undefined} schema={{"type":"array","description":"被禁言的群成员角色。","items":{"type":"number"}}}></SchemaItem><SchemaItem collapsible={false} name={"forbid_expire_time"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"禁言到期时间戳，单位为毫秒。"}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={false} name={"forbid_expire_time"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"当 type 为 13 时，此参数表示群成员禁言到期时间戳，单位为毫秒。"}}></SchemaItem><SchemaItem collapsible={false} name={"role"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"当 type 为 12 时，此参数表示变更后的群成员角色。\n- 1：群主。\n- 2：群管理员。\n- 3：群成员。\n"}}></SchemaItem></TabItem></SchemaTabs></div></details></SchemaItem><SchemaItem collapsible={false} name={"MsgId"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"消息 ID，可借此确定消息的唯一性。","example":971503777289036700}}></SchemaItem><SchemaItem collapsible={false} name={"MsgSeq"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"消息 seq。","example":1}}></SchemaItem><SchemaItem collapsible={false} name={"Payload"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"消息Extended field.","example":"this is a payload"}}></SchemaItem><SchemaItem collapsible={false} name={"MsgTime"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"服务端收到消息的时间，Unix 时间戳，单位为毫秒（ms）。","example":1705895412000}}></SchemaItem><SchemaItem collapsible={false} name={"IsEmpty"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"是否是空消息：\n- 0：不是空消息。\n- 1：消息已被删除（查询不到或者客户调用接口删除此消息），此时其他参数均为空。\n- 2：消息已被撤回。\n","example":0}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\",\n  \"MessageList\": [\n    {\n      \"Sender\": \"userA\",\n      \"MsgType\": 1,\n      \"MsgBody\": \"this is a message\",\n      \"MsgId\": 971503777289036700,\n      \"MsgSeq\": 1,\n      \"Payload\": \"this is a payload\",\n      \"MsgTime\": 1705895412000,\n      \"IsEmpty\": 0\n    }\n  ]\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      