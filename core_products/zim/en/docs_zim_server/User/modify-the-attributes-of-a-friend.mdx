---
id: modify-the-attributes-of-a-friend
title: "Update friend attributes"
description: "Through this API, you can modify the friend attributes of a user's friends."
api: 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
info_path: core_products/zim/en/docs_zim_server/User/open-api-desc
---

<h1 className={"openapi__heading"}>Update friend attributes</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


Through this API, you can modify the friend attributes of a user's friends.

After successfully updating friend attributes, users receive modification notifications through the following ZIM SDK callback interface:

| iOS-25% | Android-25% | macOS-25% | Windows-25% |
|-----|---------|--------|---------|
| [friendInfoUpdated](https://doc-zh.zego.im/article/api?doc=zim_API~objective-c_ios~protocol~ZIMEventHandler#zim-friend-info-updated-friend-info-list) | [onFriendInfoUpdated](https://doc-zh.zego.im/article/api?doc=zim_API~java_android~class~ZIMEventHandler#on-friend-info-updated) | [friendInfoUpdated](https://doc-zh.zego.im/article/api?doc=zim_API~objective-c_macos~protocol~ZIMEventHandler#zim-friend-info-updated-friend-info-list) | [onFriendInfoUpdated](https://doc-zh.zego.im/article/api?doc=zim_API~cpp_windows~class~ZIMEventHandler#on-friend-info-updated) |

| Web-25% | Mini Program-25% | Flutter-25% | React Native-25% |
|-----|---------|---------|---------|
| [friendInfoUpdated](https://doc-zh.zego.im/article/api?doc=zim_API~javascript_web~interface~ZIMEventHandler#friend-info-updated) | [friendInfoUpdated](https://doc-zh.zego.im/article/api?doc=zim_API~javascript_wxxcx~interface~ZIMEventHandler#friend-info-updated) | [onFriendInfoUpdated](https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIMEventHandler/onFriendInfoUpdated.html) | [friendInfoUpdated](https://doc-zh.zego.im/article/api?doc=zim_API~javascript_uni-app~interface~ZIMEventHandler#friend-info-updated) |

| uni-app \| uni-app x-25% | HarmonyOS-25% |
|---------|---------|
| [friendInfoUpdated](https://doc-zh.zego.im/article/api?doc=zim_API~javascript_uni-app~interface~ZIMEventHandler#friend-info-updated) |[friendInfoUpdated](https://doc-zh.zego.im/article/api?doc=zim_API~javascript_harmony~interface~ZIMEventHandler#friend-info-updated)  |

<Note title="Note">
The users corresponding to the parameters `FromUserId` and `UserId` have logged in to the ZIM service by calling the `login` method on the client, or have completed registration by calling the [server-side API](/zim-server/user/batch-register-users).
</Note>

<Note title="Note">The parameters FromUserId and UserId only support numbers, English characters, and `'!', '#', '$', '%', '&', '(', ')', '+', '-', ':', ';', '<', '=', '.', '>', '?', '@', '[', ']', '^', '_', '{', '}', '|', '~'`</Note>

<Note title="Note">QPS Limit: 20 times/s</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","required":true,"description":"> API prototype parameter\n>\n> https://zim-api.zego.im/?Action=UpdateFriendAttributes\n","schema":{"type":"string","enum":["UpdateFriendAttributes"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"ðŸ’¡Public parameter. Application ID, assigned by ZEGOCLOUD. Get it from the [ZEGOCLOUD Admin Console](https://console.zegocloud.com/).","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"ðŸ’¡Public parameter. A 16-character hexadecimal random string (hex encoding of 8-byte random number). Refer to [Signature example](/zim-server/accessing-server-apis#signature-example) for how to generate.","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"ðŸ’¡Public parameter. Current Unix timestamp, in seconds. Refer to [Signature example](/zim-server/accessing-server-apis#signature-example) for how to generate, with a maximum error of 10 minutes.","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"ðŸ’¡Public parameter. Signature version number.","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"ðŸ’¡Public parameter. Signature, used to verify the legitimacy of the request. Refer to [Signing the requests](/zim-server/accessing-server-apis#signing-the-requests) for how to generate an API request signature.","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"FromUserId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"Update the attribute settings for specified friends of this UserID.","maxLength":32,"example":"zego_user"}}></SchemaItem><SchemaItem collapsible={false} name={"UserId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"User whose friend attributes are to be updated.","maxLength":32,"example":"UserId"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Attributes</strong><span className={"openapi-schema__name"}> object[]</span><span className={"openapi-schema__divider"}></span><span className={"openapi-schema__required"}>required</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>**Possible values:** `<= 5`</div><div className={"schema-description"}>New friend attributes. By default, a maximum of 5 attributes can be batch updated at a time.<Note title="Note">The total length of Key and Value is limited to 1024 bytes. If you need to increase the limit, please contact ZEGOCLOUD Technical Support. It is recommended not to set the limit too high.</Note></div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"Key"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** [`k0`, `k1`, `k2`, `k3`, `k4`]"} schema={{"type":"string","description":"Friend attribute key. Can only be k0, k1, k2, k3, or k4.","enum":["k0","k1","k2","k3","k4"],"example":"k0"}}></SchemaItem><SchemaItem collapsible={false} name={"Value"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Friend attribute value.","example":"Value1"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem><SchemaItem collapsible={false} name={"Action"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Operation on attributes. 0: Set attribute.\n","default":0,"example":0}}></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>OK</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"Return code.\n\nThe following only lists the Code and SubCode related to the API business logic. For complete return codes, please refer to [Global Return Codes](/zim-server/return-codes).\n> **Note**\n>\n> When you initiate a request to update multiple friend attributes at the same time:\n> <ul><li>If 1 or more attributes are successfully updated, Code will return 0. In this case, please refer to the specific information in FailKey to confirm the operation result.</li>\n> <li>If all friend attributes fail to be updated, Code will return the relevant return code. For details, please refer to <a href=\"/zim-server/return-codes\" target=\"_blank\">Global Return Codes</a>.</li></ul>\n\n<table>\n<tbody><tr>\n<th>Code / SubCode</th>\n<th>Description</th>\n<th>Suggested Solution</th>\n</tr>\n<tr>\n<td>660000001</td>\n<td>General business error.</td>\n<td>Please retry or contact ZEGOCLOUD Technical Support.</td>\n</tr>\n<tr>\n<td>660000002</td>\n<td>Input parameter errorã€‚</td>\n<td>Please check the input parametersã€‚</td>\n</tr>\n<tr>\n<td>660300005</td>\n<td>The API call frequency exceeds the AppID-level limit.</td>\n<td>Please try again later.</td>\n</tr>\n<tr>\n<td>660800023</td>\n<td>The Key value of Attributes does not belong to k0 ~ k4.</td>\n<td>Please modify the value of Key.</td>\n</tr>\n<tr>\n<td>660800024</td>\n<td>If it is Code: The total length of all Keys and Values in Attributes passed by this API exceeds the limit.<br/>If it is SubCode: After adding this Key and Value, the total length of the target user's friend attributes exceeds the limit.</td>\n<td>Please reduce the content length of the related fields.</td>\n</tr>\n<tr>\n<td>660800032</td>\n<td>Attribute parameters are duplicated.</td>\n<td>Please modify duplicate parameters.</td>\n</tr>\n</tbody></table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Operation result description.","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Request ID.","example":"343649807833778782"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>FailKey</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>Friend attribute modification failure information list.<ul><li>Code is 0:</li><li>FailKey is empty, all friend attributes are successfully updated.</li><li>FailKey is not empty, indicating that some friend attributes failed to be updated. Please refer to SubCode for processing.</li></ul><ul><li>Code is not 0:</li><li>FailKey is empty, indicating parameter error, API frequency limit, or system error.</li><li>FailKey is not empty, indicating that all friend attributes failed to be updated.</li></ul></div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"Key"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Friend attribute key that failed to be modified.","example":"k0"}}></SchemaItem><SchemaItem collapsible={false} name={"SubCode"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Specific failure return code. For complete return codes, please refer to the Code description or [Global Return Codes](/zim-server/return-codes).\n","example":660800032}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\",\n  \"FailKey\": [\n    {\n      \"Key\": \"k0\",\n      \"SubCode\": 660800032\n    }\n  ]\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      