---
id: batch-delete-friends
title: "Batch delete friends"
description: "By calling this API, you can batch delete up to 20 friends for a user in one-way or two-way mode. If you need to increase the limit (up to 50), please contact ZEGOCLOUD Technical Support."
api: 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
info_path: core_products/zim/en/docs_zim_server/User/open-api-desc
---

<h1 className={"openapi__heading"}>Batch delete friends</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


By calling this API, you can batch delete up to 20 friends for a user in one-way or two-way mode. If you need to increase the limit (up to 50), please contact ZEGOCLOUD Technical Support.

Taking users A and B as examples to illustrate one-way deletion and two-way deletion:
- One-way deletion: When user A deletes user B in one-way mode, user B is no longer a friend of user A, but user A is still a friend of user B.
- Two-way deletion: When user A deletes user B in two-way mode, they are no longer friends with each other.

After successfully deleting friends for users, the clients of the relevant users will receive friend list update notifications through the following ZIM SDK callback interface:

| iOS-25% | Android-25% | macOS-25% | Windows-25% |
|-----|---------|--------|---------|
| [friendListChanged](https://doc-zh.zego.im/article/api?doc=zim_API~objective-c_ios~protocol~ZIMEventHandler#zim-friend-list-changed-friend-info-list) | [onFriendListChanged](https://doc-zh.zego.im/article/api?doc=zim_API~java_android~class~ZIMEventHandler#on-friend-list-changed) | [friendListChanged](https://doc-zh.zego.im/article/api?doc=zim_API~objective-c_macos~protocol~ZIMEventHandler#zim-friend-list-changed-friend-info-list) | [onFriendListChanged](https://doc-zh.zego.im/article/api?doc=zim_API~cpp_windows~class~ZIMEventHandler#on-friend-list-changed) |

| Web-25% | Mini Program-25% | Flutter-25% | React Native-25% |
|-----|---------|---------|---------|
| [friendListChanged](https://doc-zh.zego.im/article/api?doc=zim_API~javascript_web~interface~ZIMEventHandler#friend-list-changed) | [friendListChanged](https://doc-zh.zego.im/article/api?doc=zim_API~javascript_wxxcx~interface~ZIMEventHandler#friend-list-changed) | [onFriendListChanged](https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIMEventHandler/onFriendListChanged.html) | [friendListChanged](https://doc-zh.zego.im/article/api?doc=zim_API~javascript_uni-app~interface~ZIMEventHandler#friend-list-changed) |

| uni-app \| uni-app x-25% | HarmonyOS-25% |
|---------|---------|
| [friendListChanged](https://doc-zh.zego.im/article/api?doc=zim_API~javascript_uni-app~interface~ZIMEventHandler#friend-list-changed) | [friendListChanged](https://doc-zh.zego.im/article/api?doc=zim_API~javascript_harmony~interface~ZIMEventHandler#friend-list-changed) |
<Note title="Note">

The users corresponding to the parameters `FromUserId` and `UserId` have logged in to the ZIM service by calling the `login` method on the client, or have completed registration by calling the [server-side API](/zim-server/user/batch-register-users).
</Note>
<Note title="Note">The parameters FromUserId and UserId only support numbers, English characters, and `'!', '#', '$', '%', '&', '(', ')', '+', '-', ':', ';', '<', '=', '.', '>', '?', '@', '[', ']', '^', '_', '{', '}', '|', '~'`</Note>
<Note title="QPS Limit">20 times/s</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> API prototype parameter\n>\n> https://zim-api.zego.im/?Action=DeleteFriends\n","required":true,"schema":{"type":"string","enum":["DeleteFriends"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"ðŸ’¡Public parameter. Application ID, assigned by ZEGOCLOUD. Get it from the [ZEGOCLOUD Admin Console](https://console.zegocloud.com/).","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"ðŸ’¡Public parameter. A 16-character hexadecimal random string (hex encoding of 8-byte random number). Refer to [Signature example](/zim-server/accessing-server-apis#signature-example) for how to generate.","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"ðŸ’¡Public parameter. Current Unix timestamp, in seconds. Refer to [Signature example](/zim-server/accessing-server-apis#signature-example) for how to generate, with a maximum error of 10 minutes.","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"ðŸ’¡Public parameter. Signature version number.","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"ðŸ’¡Public parameter. Signature, used to verify the legitimacy of the request. Refer to [Signing the requests](/zim-server/accessing-server-apis#signing-the-requests) for how to generate an API request signature.","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"FromUserId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"Delete friends for this UserId.","maxLength":32,"example":"aaa"}}></SchemaItem><SchemaItem collapsible={false} name={"UserIds"} required={true} schemaName={"string[]"} qualifierMessage={"**Possible values:** `<= 20`"} schema={{"type":"array","description":"List of target friends to delete. Default maximum is 20.","maxItems":20,"items":{"type":"string","maxLength":32,"example":"user_id1"},"example":["user_id1","user_id2"]}}></SchemaItem><SchemaItem collapsible={false} name={"DeleteType"} required={true} schemaName={"number"} qualifierMessage={"**Possible values:** [`0`, `1`]"} schema={{"type":"number","description":"Deletion type:\n- 0ï¼šTwo-way deletion.\n- 1ï¼šOne-way deletion.\n","enum":[0,1],"example":1}}></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>OK</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"Return code.\n\nThe following only lists the Code and SubCode related to the API business logic. For complete return codes, please refer to [Global Return Codes](/zim-server/return-codes).\n> **Note**\n>\n> When you initiate a request to delete multiple friends at the same time:\n> <ul><li>If 1 or more friends are successfully deleted, Code will return 0. In this case, please refer to the specific information in ErrorList to confirm the operation result.</li>\n> <li>If all target friends fail to be deleted, Code will return the relevant return code. For details, please refer to <a href=\"/zim-server/return-codes\" target=\"_blank\">Global Return Codes</a>.</li></ul>\n\n<table>\n<tbody><tr>\n<th>Code / SubCode</th>\n<th>Description</th>\n<th>Suggested Solution</th>\n</tr>\n<tr>\n<td>660000002</td>\n<td>Input parameter errorã€‚</td>\n<td>Please check the input parametersã€‚</td>\n</tr>\n<tr>\n<td>660300005</td>\n<td>The API call frequency exceeds the AppID-level limit.</td>\n<td>Please try again later.</td>\n</tr>\n<tr>\n<td>660500002</td>\n<td>FromUserId is not registered.</td>\n<td>Please register FromUserId first.</td>\n</tr>\n<tr>\n<td>660800019</td>\n<td>Single batch operation exceeds the limit.</td>\n<td>Reduce the number of single batch operations.</td>\n</tr>\n<tr>\n<td>660800022</td>\n<td>User ID related parameters in the parameters are duplicated.</td>\n<td>Please delete or modify duplicate parameters.</td>\n</tr>\n<tr>\n<td>660800033</td>\n<td>The string in UserIds cannot be the same as FromUserId.</td>\n<td>Please modify the string in UserIds that is the same as FromUserId.</td>\n</tr>\n<tr>\n<td>660800034</td>\n<td>The target user is not a friend of FromUserId.</td>\n<td>No action required.</td>\n</tr>\n</tbody></table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Description of the request result.","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Request ID.","example":"343649807833778782"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>ErrorList</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>Failure information list.<ul><li>Code is 0:</li><li>ErrorList is empty, all target friends are successfully deleted.</li><li>ErrorList is not empty, indicating that some friends failed to be deleted. Please refer to SubCode for processing.</li><li>Code is not 0:</li><li>ErrorList is empty, indicating parameter error, API frequency limit, or system error.</li><li>ErrorList is not empty, indicating that all specified friends failed to be deleted.</li></ul></div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"UserId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Failed to delete the friend with this UserID.","example":"usera2"}}></SchemaItem><SchemaItem collapsible={false} name={"SubCode"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"Specific failure return code. For complete return codes, please refer to the Code description or [Global Return Codes](/zim-server/return-codes).\n","example":660800022}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\",\n  \"ErrorList\": [\n    {\n      \"UserId\": \"usera2\",\n      \"SubCode\": 660800022\n    }\n  ]\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      