---
id: query-the-friend-list
title: "Query the friend list"
description: "Paginate and retrieve the friend list based on user ID, obtaining information such as remarks and friend relationship establishment time."
api: eJzVWmty2zgSvkoX9sfIKUqi5LxGyXjXseOMK8+JnUlVbP+AyBaJMQhwANC24tIcYi+wtTfcI2w1SImkJMtOUtna+IctkY2vn+gH4GvmeGLZ6IQVFg07C1iMNjIid0IrNmLveCIUdwhcxWDQGYEXCC5FmBiBKgYprIMxtxiDVkAgcLgfgB47LpRQCQg10SbjhAe2iFLgFgxm3JxbD1rhGJSexqYiB7SOj6WwaYbKgRMZ9k7VqXr6RjsEJ5zEX07Zb++O4JXIhDtlO8PQU9m+fdonop1TxQKmczQe9DBmI/ZngWbadSl2S5ZdEp0FLOeGZ+jQkBmumeIZshHbjbwFAibUfC1bNs4O7L47hNxop900R1ggnaqdU7UDqXO5HfX7n0XW5bnofcZE90TW/3sJ/stvhHrghXklrPMyG/yzEAZjNnKmwIDZKMWMs9E1IxZsxKwzQiUsYKiKjBy3hMLOZgGzbiqJmExPpFe51DGWmLOgVjLPD+PNOv7nX//897tiLEVUq9eD3TyXIiqdSu7m1opEYQzjKXx6/uLt3qu3H/Z78AIdCAcTozMfMyeLd7AbZ0LBnlZWSzzrzE0VlQ+8qSKpi7gX6ay/1buLZYRymKBhASsjjo1YIZTbHrJZQ+cjkSjuCoNvtIrwq5SHwcNulHLDI4cGUrziMUYi4xIMV7HOoPQRdFK8AlSRjumbnsDj7njqcE6limyMZqsH73GCBpyGk4VwgFc8y8kyPnosmgs0fR5FaK1QSfWAosr+zc4XdatFWzDRBlJ9SZgJKtoFeCcTVsHVtNcx7SvHs/xrTLVXGENb+IMSV+UOJaQAhAKLkVax/R9pH8ClcClwyPiVyIoM0BhtyCeDEDKhCof2a4NMKPfw/voY+x2NvTWNrDddbYyLEqSKly/xI3Ga8EKSlMNe2Ega9O1srcjfJGtAFSAmw1+gEZOp3/USE+FExqMp2ZuekPxo3bLvaZc0Xtu7up+eUV6fr1sbAcCVT9cVESzi5ss2xllJjNY90/GUKJbXRlo5VI5e8TpN9v+wZMDrVWg9/gMj1xLihB0YnX2waHx69lWOBewNXjkq0bmhyuYEWoJpkK4NgKb7fK1YKd/eK8KCR9mHzmWqIeUWpE4SjGmzOu0XfTp8DWR8ESFl+ohLOfeZ1IlQkKFLte8E6FkkBSoXADmDW4g0bU+HVOwTYV1Zm5eBTirvWhEjOawdBNRg9MfcRWm3BEHTpWd2y9eIjF+9QpW4lI22h1T3fEZgI0b1hM3mpqztVO6pFTv9qi8h42pamcn+1GpjnK5bIe6Alx0K/M5l4ZN7giAsnIQBDMLwrAeHE1DawURIWZpTG6/qhV8gLIT0JDHIqZ64lCtaGLRpBmHoNRSK8hcbhV7b8jNR18oOwnBWBcutilb9HWk1kTzpwYGQkkQM/R7ykSKMLZuwwDdsLkXldfGBkSIQp0pOg64w1AdIXq3pwUeiL7d19dIvILUD6g4y5MquxGRlYC6JcB45vgs80GZeHwIQE6jj30fZ8EE491oAl8S7ji5hfQpwGnx2GxFcFw68gkQ1KhvKytzBQlDMcjcNykVzcBjAX0T1ZNkGYklbg7aQHkYV2aBHHI987dvIkmhXOIbEc/ilPIee53EqzK0sh8sshyXLB+GT6kXDG0Etxc38w55vaxfBOZzNAuZb+Hk6qlvX92ViZbMZERm0uVa2THLDMKQ/7eB9+5J9Q7ptZ9E93x+vKfNtlu+9hhDpuBpJaFChceOpG+t4uvPUGf8l3akoCfdp36XV0/0arfH0qEgStJQZj7Qsmi/7FV75O955+DD0P4OnfRdXz174CidhXFih0Nqyt+k1KN5J5Na7x0wp1ZDNeOTqVh2OMUqViLiEoyLPtXGL5TdJMGziz1uBG1lHKUbnzeJetw92E6ttYvWggXec+qrgAxkmHkxFU8CrCDEu0whNNftdiRcoQVKkr5GHDMETLhRISrrLIvQrb/bn7m2GMGXX12gtT/D2ittw+FL3U22SXhOa2cJ3OVSqqt1wl7JekcLhfhtt+/72w/s/Pw4fPd7efvTo8aPHQwI+1o7LPV0od2tfuz1c4eVXV70oaRRVLX6VMVoCPPiWSvRGq+5nNLouEMYXQuuEd72vFc2yTDV2noGeQFit4+uJqVSMEdViRY8m9nv36PTg3r1qgD9UwONYzIs+OY+P9QVCQ/SgrCsTgbIsQErTOKwjUTLyc4fvkKisNUTowb72Mmf8nLrTKWjS0XdSUX2kQuhLOXQwC1iZNQ/VRNuGbbkxfLVpL2kh5o57KchHwmFmb0+Ld20sKxbV+U87CgljlwKPPrzx48ZtcEQJNJmsIhGAR9u94I6bO2JxTwwf3r9qI5YgA8L7qA3N6bcDVoRlc7E4qqIna86y2uyqpZ5fabJdKbi9i33nTc5P8+OzqkGj2PNIbU4NdM9tz3eXNMzfvhUP7nQkR0U/E1KKapKHTma3WkIMHv78eHsQPti+H/pEsOucEWMate8asnyx4gti9iVO7xywCwZwjtO2Bc+93XxT/xVwvi9rA5ZQzf6nctJ8EZutvqQdfugwa79baZzKVokEXvCb9zRho1ot6kurvKyrE+0y8YAGjDKPD5Zyz0mdJKqd3tzojS1b79jFrmtsunprLO2MdiS3A7kVYO34OqnigNy48OLcBcHiZbj8csBmZ/S+pdOz9To9W9Vp+MU6Db9Gp+1NOt1fq9PZrGyryxGdjViC5ek3DcuszwJWjtgln8JINmI3HGCvplglJgJjKI9oqGYa+tsxmHATS/qsJ37q12rLi7oWv2tTfiOPvZSaW4TXXChJc2jnKOUqSbnYhJieJzci/qpVAi+1SgJ4zSNe+On2mItLrqCzeLkJfWJulvd5QUkJOgeGq/NJYdwmIMmvbgT6SJOBUXSG6icExx1a6OxxKSbaKME3AY91diPwrhW8+45HYiIi6LwusvFmW9okvxHrSBcuRRr6CRU6R0IlPNcG1wHywqUb42mXwJSb3zB0qNJ9Ony9W8RCbzE6g6Px7n19Dve8TnrN47Dy2Gdx6jOos9hwRsecE+0ze5VUdY7KK0rCsIBV565sxAa90J+eVnMTLaqOTWmCmo9MlOwzLqRPs/7JP1rXGD7159q6jKsGxNozuWWTXNdz7o99J1eVUYdXrp9LLhTVLB8e11UuOmF0xplq6+jz9TUp8sHI2Ywel6fSlKFiYWk2i9lowqXFDfbqvK8OVrfge9zYrdXo3KfixSXiRZWO/Wb4Ksn/f+7hNulb3Sd+N3V/2Ju3DUZbuZD8Xtb74S7jNhiteSv5vey16QbuLv6sL/++u4Q/6r3bXczYst8ZfTGCDMhGJ/SvDinyGI0vCeXCvdJ+3WPCrteuHA6TL+ZpOsLcbaQ9azTOL54fs4CNq+u/zA9ZzPBLusLjl2zETtkp8/9+4ounvyOk59dMcpUU5SBWwtLPfwGycUcF
info_path: core_products/zim/en/docs_zim_server/User/open-api-desc
---

<h1 className={"openapi__heading"}>Query the friend list</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


Paginate and retrieve the friend list based on user ID, obtaining information such as remarks and friend relationship establishment time.

<Note title="QPS Limit">20 times/s</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> API prototype parameter\n>\n> https://zim-api.zego.im/?Action=QueryFriendList\n","required":true,"schema":{"type":"string","enum":["QueryFriendList"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"ðŸ’¡Public parameter. Application ID, assigned by ZEGOCLOUD. Get it from the [ZEGOCLOUD Admin Console](https://console.zegocloud.com/).","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"ðŸ’¡Public parameter. A 16-character hexadecimal random string (hex encoding of 8-byte random number). Refer to [Signature example](/zim-server/accessing-server-apis#signature-example) for how to generate.","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"ðŸ’¡Public parameter. Current Unix timestamp, in seconds. Refer to [Signature example](/zim-server/accessing-server-apis#signature-example) for how to generate, with a maximum error of 10 minutes.","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"ðŸ’¡Public parameter. Signature version number.","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"ðŸ’¡Public parameter. Signature, used to verify the legitimacy of the request. Refer to [Signing the requests](/zim-server/accessing-server-apis#signing-the-requests) for how to generate an API request signature.","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"FromUserId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"Query the friend list of this UserID (who has logged in to the ZIM service by calling the login method on the client, or has completed registration by calling the [server-side API](/zim-server/user/batch-register-users)).","maxLength":32,"example":"zego"}}></SchemaItem><SchemaItem collapsible={false} name={"Limit"} required={true} schemaName={"number"} qualifierMessage={"**Possible values:** `>= 0` and `<= 100`"} schema={{"type":"number","description":"How many friends' information to retrieve at a time. Value range is [0, 100]. If not filled in or the value is 0 or greater than 100, the value is 100.","minimum":0,"maximum":100,"example":100}}></SchemaItem><SchemaItem collapsible={false} name={"Next"} required={true} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Pagination flag. Fill in 0 for the first time, and then fill in the Next value returned last time. When the returned Next is 0, it means the friend list retrieval is complete.\n\nFor example, if FromUserId has 250 friends, when calling this API to query:\n\n- First call: Limit is 100, Next is empty, query friends 1 ~ 100; the Next value in the returned result is num1.\n- Second call: Limit is 100, Next is num1, query friends 101 ~ 200; the Next value in the returned result is num2.\n- Third call: Limit is 100, Next is num2, query friends 201 ~ 250; query is complete, the Next in the returned result is 0.\n","example":2}}></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>OK</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"Return code.\n\n<table>\n<tbody><tr>\n<th>Return Code</th>\n<th>Description</th>\n<th>Suggested Solution</th>\n</tr>\n<tr>\n<td>660000001</td>\n<td>General business error.</td>\n<td>Please retry or contact ZEGOCLOUD Technical Support.</td>\n</tr>\n<tr>\n<td>660000002</td>\n<td>Parameter error.</td>\n<td>Please check the request parameters.</td>\n</tr>\n<tr>\n<td>660300005</td>\n<td>The API call frequency exceeds the AppID-level limit.</td>\n<td>Please try again later.</td>\n</tr>\n</tbody></table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Description of the request result.","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Request ID.","example":"343649807833778782"}}></SchemaItem><SchemaItem collapsible={false} name={"TotalCount"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","description":"Total number of current friends.","example":500}}></SchemaItem><SchemaItem collapsible={false} name={"Next"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Pagination flag. Non-zero means there is still friend information not returned; 0 means all friend information has been returned.\n> **Note**\n>\n> In addition to the above description, this field has no association with the list information. Do not make any other logic based on this.\n","example":1}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>FriendInfos</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>Friend data list.</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"UserId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Friend user ID.","example":"UserA"}}></SchemaItem><SchemaItem collapsible={false} name={"UserName"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"User name.","example":"UserNameA"}}></SchemaItem><SchemaItem collapsible={false} name={"Avatar"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"User avatar URL.","example":"Avatar1"}}></SchemaItem><SchemaItem collapsible={false} name={"Wording"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Wording when establishing friend relationship.","example":"Wording1"}}></SchemaItem><SchemaItem collapsible={false} name={"FriendAlias"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"FromUserId's remark for this friend.","example":"FriendAlias1"}}></SchemaItem><SchemaItem collapsible={false} name={"CreateTime"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Friend relationship establishment time in milliseconds (ms).","example":1698310534000}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Attributes</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>Friend attributes.</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"Key"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Friend attribute key.","example":"k1"}}></SchemaItem><SchemaItem collapsible={false} name={"Value"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Friend attribute value.","example":"Value"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\",\n  \"TotalCount\": 500,\n  \"Next\": 1,\n  \"FriendInfos\": [\n    {\n      \"UserId\": \"UserA\",\n      \"UserName\": \"UserNameA\",\n      \"Avatar\": \"Avatar1\",\n      \"Wording\": \"Wording1\",\n      \"FriendAlias\": \"FriendAlias1\",\n      \"CreateTime\": 1698310534000,\n      \"Attributes\": [\n        {\n          \"Key\": \"k1\",\n          \"Value\": \"Value\"\n        }\n      ]\n    }\n  ]\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Example"} value={"Example"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\",\n  \"TotalCount\": 500,\n  \"Next\": 1,\n  \"FriendInfos\": [\n    {\n      \"UserId\": \"UserA\",\n      \"UserName\": \"UserNameA\",\n      \"Avatar\": \"Avatar1\",\n      \"Wording\": \"Wording1\",\n      \"FriendAlias\": \"FriendAlias1\",\n      \"CreateTime\": 1698310534000,\n      \"Attributes\": [\n        {\n          \"Key\": \"k1\",\n          \"Value\": \"Value\"\n        },\n        {\n          \"Key\": \"k0\",\n          \"Value\": \"Value1\"\n        }\n      ]\n    },\n    {\n      \"UserId\": \"UserB\",\n      \"UserName\": \"UserNameB\",\n      \"Avatar\": \"Avatar2\",\n      \"Wording\": \"Wording1\",\n      \"FriendAlias\": \"FriendAlias2\",\n      \"CreateTime\": 1698310534000,\n      \"Attributes\": [\n        {\n          \"Key\": \"k3\",\n          \"Value\": \"Value\"\n        },\n        {\n          \"Key\": \"k4\",\n          \"Value\": \"Value1\"\n        }\n      ]\n    }\n  ]\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      