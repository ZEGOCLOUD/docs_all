---
id: query-users-online-status
title: "Query users online status"
description: "Query the online status of users. Supports querying a single user or batch querying multiple users' online status."
api: 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
info_path: core_products/zim/en/docs_zim_server/User/open-api-desc
---

<h1 className={"openapi__heading"}>Query users online status</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


Query the online status of users. Supports querying a single user or batch querying multiple users' online status.

<Note title="QPS Limit">20 times/s</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> API prototype parameter\n>\n> https://zim-api.zego.im/?Action=QueryUserOnlineState\n","required":true,"schema":{"type":"string","enum":["QueryUserOnlineState"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"ðŸ’¡Public parameter. Application ID, assigned by ZEGOCLOUD. Get it from the [ZEGOCLOUD Admin Console](https://console.zegocloud.com/).","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"ðŸ’¡Public parameter. A 16-character hexadecimal random string (hex encoding of 8-byte random number). Refer to [Signature example](/zim-server/accessing-server-apis#signature-example) for how to generate.","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"ðŸ’¡Public parameter. Current Unix timestamp, in seconds. Refer to [Signature example](/zim-server/accessing-server-apis#signature-example) for how to generate, with a maximum error of 10 minutes.","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"ðŸ’¡Public parameter. Signature version number.","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"ðŸ’¡Public parameter. Signature, used to verify the legitimacy of the request. Refer to [Signing the requests](/zim-server/accessing-server-apis#signing-the-requests) for how to generate an API request signature.","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"UserId","in":"query","required":true,"description":"User ID list to query (who have logged in to the ZIM service by calling the login method on the client, or have completed registration by calling the [server-side API](https://www.zegocloud.com/docs/zim-server/user/batch-register-users)). A maximum of 100 user IDs can be queried.\n\nExample: UserId[]=a&UserId[]=b\n\n>**Note**\n>\n> UserId Only supports numbers, English characters, and '!'ï¼Œ'#'ï¼Œ'$'ï¼Œ'%'ï¼Œ'&'ï¼Œ'('ï¼Œ')'ï¼Œ'+'ï¼Œ'-'ï¼Œ':'ï¼Œ';'ï¼Œ'<'ï¼Œ'='ï¼Œ'.'ï¼Œ'>'ï¼Œ'?'ï¼Œ'@'ï¼Œ'['ï¼Œ']'ï¼Œ'^'ï¼Œ'_'ï¼Œ' 'ï¼Œ'{'ï¼Œ'}'ï¼Œ'|'ï¼Œ'~'ã€‚\n","schema":{"type":"array","maxItems":100,"items":{"type":"string","maxLength":64,"example":"a"}},"style":"form","explode":true}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>OK</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Return code.\n\nThe following only lists the Code and SubCode related to the API business logic. For complete return codes, please refer to [Global Return Codes](/zim-server/return-codes).\n<table>\n<tbody><tr>\n<th>Code / SubCode</th>\n<th>Description</th>\n</tr>\n<tr>\n<td>660000011</td>\n<td>The number of users exceeds the limit.</td>\n</tr>\n<tr>\n<td>660200001</td>\n<td>Non-existent user ID.<br/>User has logged out.<br/>User was only registered through the server and has never logged in.</td>\n</tr>\n</tbody></table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Description of the request result.","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Request ID.","example":"343649807833778782"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Result</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>Query result of user status. Returned through this field when the user is online or offline.</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"UserId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"ID of online or offline user.","example":"id1"}}></SchemaItem><SchemaItem collapsible={false} name={"Status"} required={false} schemaName={"string"} qualifierMessage={"**Possible values:** [`Online`, `Offline`]"} schema={{"type":"string","description":"User status, including:\n- Onlineï¼šOnline.\n- Offlineï¼šOffline.\n","enum":["Online","Offline"],"example":"Offline"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>ErrorList</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>Query failure list. Returned through this field when the user ID does not exist or the user has logged out.<ul><li>Code is 0:</li><li>ErrorList is empty, all user online statuses are successfully queried.</li><li>ErrorList is not empty, indicating that some user online status queries failed. Please refer to SubCode for processing.</li></ul><ul><li>Code is not 0:</li><li>ErrorList is empty, indicating parameter error, API frequency limit, or system error.</li><li>ErrorList is not empty, indicating that all user online status queries failed.</li></ul></div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"UserId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Non-existent user ID or ID of logged out user.","example":"id4"}}></SchemaItem><SchemaItem collapsible={false} name={"SubCode"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Return code when query fails. For complete return codes, please refer to the Code description or [Global Return Codes](/zim-server/return-codes).\n","example":660200001}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\",\n  \"Result\": [\n    {\n      \"UserId\": \"id1\",\n      \"Status\": \"Offline\"\n    },\n    {\n      \"UserId\": \"id2\",\n      \"Status\": \"Online\"\n    }\n  ],\n  \"ErrorList\": [\n    {\n      \"UserId\": \"id4\",\n      \"SubCode\": 660200001\n    }\n  ]\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      