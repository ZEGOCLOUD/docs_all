---
id: query-users-online-status
title: "QueryUserOnlineState"
description: "Query the online status of users. Supports querying a single user or batch querying multiple users' online status."
api: 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
info_path: core_products/zim/en/docs_zim_server/User/open-api-desc
---

<h1 className={"openapi__heading"}>QueryUserOnlineState</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


Query the online status of users. Supports querying a single user or batch querying multiple users' online status.

<Note title="QPS Limit">20 times/s</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> API prototype parameter\n>\n> https://zim-api.zego.im/?Action=QueryUserOnlineState\n","required":true,"schema":{"type":"string","enum":["QueryUserOnlineState"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"ðŸ’¡Public parameter. Application ID, assigned by ZEGOCLOUD. Get it from the [ZEGOCLOUD Admin Console](https://console.zegocloud.com/).","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"ðŸ’¡Public parameter. A 16-character hexadecimal random string (hex encoding of 8-byte random number). Refer to [Signature example](/zim-server/accessing-server-apis#signature-example) for how to generate.","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"ðŸ’¡Public parameter. Current Unix timestamp, in seconds. Refer to [Signature example](/zim-server/accessing-server-apis#signature-example) for how to generate, with a maximum error of 10 minutes.","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"ðŸ’¡Public parameter. Signature version number.","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"ðŸ’¡Public parameter. Signature, used to verify the legitimacy of the request. Refer to [Signing the requests](/zim-server/accessing-server-apis#signing-the-requests) for how to generate an API request signature.","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"UserId","in":"query","required":true,"description":"User ID list to query (who have logged in to the ZIM service by calling the login method on the client, or have completed registration by calling the [server-side API](https://www.zegocloud.com/docs/zim-server/user/batch-register-users)). A maximum of 100 user IDs can be queried.\n\nExample: UserId[]=a&UserId[]=b\n\n>**Note**\n>\n> UserId Only supports numbers, English characters, and '!'ï¼Œ'#'ï¼Œ'$'ï¼Œ'%'ï¼Œ'&'ï¼Œ'('ï¼Œ')'ï¼Œ'+'ï¼Œ'-'ï¼Œ':'ï¼Œ';'ï¼Œ'<'ï¼Œ'='ï¼Œ'.'ï¼Œ'>'ï¼Œ'?'ï¼Œ'@'ï¼Œ'['ï¼Œ']'ï¼Œ'^'ï¼Œ'_'ï¼Œ' 'ï¼Œ'{'ï¼Œ'}'ï¼Œ'|'ï¼Œ'~'ã€‚\n","schema":{"type":"array","maxItems":100,"items":{"type":"string","maxLength":64,"example":"a"}},"style":"form","explode":true}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>OK</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Return code.\n\nThe following only lists the Code and SubCode related to the API business logic. For complete return codes, please refer to [Global Return Codes](/zim-server/return-codes).\n<table>\n<tbody><tr>\n<th>Code / SubCode</th>\n<th>Description</th>\n</tr>\n<tr>\n<td>660000011</td>\n<td>The number of users exceeds the limit.</td>\n</tr>\n<tr>\n<td>660200001</td>\n<td>Non-existent user ID.<br/>User has logged out.<br/>User was only registered through the server and has never logged in.</td>\n</tr>\n</tbody></table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Description of the request result.","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Request ID.","example":"343649807833778782"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Result</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>Query result of user status. Returned through this field when the user is online or offline.</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"UserId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"ID of online or offline user.","example":"id1"}}></SchemaItem><SchemaItem collapsible={false} name={"Status"} required={false} schemaName={"string"} qualifierMessage={"**Possible values:** [`Online`, `Offline`]"} schema={{"type":"string","description":"User status, including:\n- Onlineï¼šOnline.\n- Offlineï¼šOffline.\n","enum":["Online","Offline"],"example":"Offline"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>ErrorList</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>Query failure list. Returned through this field when the user ID does not exist or the user has logged out.<ul><li>Code is 0:</li><li>ErrorList is empty, all user online statuses are successfully queried.</li><li>ErrorList is not empty, indicating that some user online status queries failed. Please refer to SubCode for processing.</li></ul><ul><li>Code is not 0:</li><li>ErrorList is empty, indicating parameter error, API frequency limit, or system error.</li><li>ErrorList is not empty, indicating that all user online status queries failed.</li></ul></div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"UserId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Non-existent user ID or ID of logged out user.","example":"id4"}}></SchemaItem><SchemaItem collapsible={false} name={"SubCode"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Return code when query fails. For complete return codes, please refer to the Code description or [Global Return Codes](/zim-server/return-codes).\n","example":660200001}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\",\n  \"Result\": [\n    {\n      \"UserId\": \"id1\",\n      \"Status\": \"Offline\"\n    },\n    {\n      \"UserId\": \"id2\",\n      \"Status\": \"Online\"\n    }\n  ],\n  \"ErrorList\": [\n    {\n      \"UserId\": \"id4\",\n      \"SubCode\": 660200001\n    }\n  ]\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      