---
id: batch-block-users
title: "Batch block users"
description: "By calling this API, you can batch block up to 20 users for a user, and no longer receive messages from related users. If you need to increase the limit, please contact ZEGOCLOUD Technical Support."
api: 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
info_path: core_products/zim/en/docs_zim_server/User/open-api-desc
---

<h1 className={"openapi__heading"}>Batch block users</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


By calling this API, you can batch block up to 20 users for a user, and no longer receive messages from related users. If you need to increase the limit, please contact ZEGOCLOUD Technical Support.

Each user can block a maximum of 1000 users by default. If you need to increase the limit, please contact ZEGOCLOUD Technical Support.

After successfully blocking users for a user, this user's client will receive blocklist update notifications through the following ZIM SDK callback interface:

| iOS-25% | Android-25% | macOS-25% | Windows-25% |
|-----|---------|--------|---------|
| [blacklistChanged](https://doc-zh.zego.im/article/api?doc=zim_API~objective-c_ios~protocol~ZIMEventHandler#zim-blacklist-changed-user-list) | [onBlacklistChanged](https://doc-zh.zego.im/article/api?doc=zim_API~java_android~class~ZIMEventHandler#on-blacklist-changed) | [blacklistChanged](https://doc-zh.zego.im/article/api?doc=zim_API~objective-c_macos~protocol~ZIMEventHandler#zim-blacklist-changed-user-list) | [onBlacklistChanged](https://doc-zh.zego.im/article/api?doc=zim_API~cpp_windows~class~ZIMEventHandler#on-blacklist-changed) |

| Web-25% | Mini Program-25% | Flutter-25% | React Native-25% |
|-----|---------|---------|---------|
| [blacklistChanged](https://doc-zh.zego.im/article/api?doc=zim_API~javascript_web~interface~ZIMEventHandler#blacklist-changed) | [blacklistChanged](https://doc-zh.zego.im/article/api?doc=zim_API~javascript_wxxcx~interface~ZIMEventHandler#blacklist-changed) | [onBlacklistChanged](https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIMEventHandler/onBlacklistChanged.html) | [blacklistChanged](https://doc-zh.zego.im/article/api?doc=zim_API~javascript_react-native~interface~ZIMEventHandler#blacklist-changed) |

| uni-app \| uni-app x-25% | HarmonyOS-25% |
|---------|---------|
| [blacklistChanged](https://doc-zh.zego.im/article/api?doc=zim_API~javascript_uni-app~interface~ZIMEventHandler#blacklist-changed) | [blacklistChanged](https://doc-zh.zego.im/article/api?doc=zim_API~javascript_harmony~interface~ZIMEventHandler#blacklist-changed) |

<Note title="Note">

The users corresponding to the parameters `FromUserId` and `UserIds` have logged in to the ZIM service by calling the `login` method on the client, or have completed registration by calling the [server-side API](/zim-server/user/batch-register-users).
</Note>
<Note title="Note">The parameters FromUserId and UserId only support numbers, English characters, and `'!', '#', '$', '%', '&', '(', ')', '+', '-', ':', ';', '<', '=', '.', '>', '?', '@', '[', ']', '^', '_', '{', '}', '|', '~'`</Note>
<Note title="QPS Limit">20 times/s</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> API prototype parameter\n>\n> https://zim-api.zego.im/?Action=AddUsersToBlacklist\n","required":true,"schema":{"type":"string","enum":["AddUsersToBlacklist"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"ðŸ’¡Public parameter. Application ID, assigned by ZEGOCLOUD. Get it from the [ZEGOCLOUD Admin Console](https://console.zegocloud.com/).","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"ðŸ’¡Public parameter. A 16-character hexadecimal random string (hex encoding of 8-byte random number). Refer to [Signature example](/zim-server/accessing-server-apis#signature-example) for how to generate.","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"ðŸ’¡Public parameter. Current Unix timestamp, in seconds. Refer to [Signature example](/zim-server/accessing-server-apis#signature-example) for how to generate, with a maximum error of 10 minutes.","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"ðŸ’¡Public parameter. Signature version number.","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"ðŸ’¡Public parameter. Signature, used to verify the legitimacy of the request. Refer to [Signing the requests](/zim-server/accessing-server-apis#signing-the-requests) for how to generate an API request signature.","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"FromUserId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"Block users for this UserId.","maxLength":32,"example":"zego_user"}}></SchemaItem><SchemaItem collapsible={false} name={"UserIds"} required={true} schemaName={"string[]"} qualifierMessage={"**Possible values:** `<= 20`"} schema={{"type":"array","description":"List of users to be blocked. The default maximum is 20 strings. Each string has a maximum length of 32 bytes.","maxItems":20,"items":{"type":"string","maxLength":32,"example":"user1"},"example":["user1","user2","user3","user4"]}}></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>OK</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"Return code.\n\nThe following only lists the Code and SubCode related to the API business logic. For complete return codes, please refer to [Global Return Codes](/zim-server/return-codes).\n> **Note**\n>\n> When you initiate a request to update multiple friend attributes at the same time:\n> <ul><li>If 1 or more attributes are successfully updated, Code will return 0. In this case, please refer to the specific information in FailKey to confirm the operation result.</li>\n> <li>If all friend attributes fail to be updated, Code will return the relevant return code. For details, please refer to <a href=\"/zim-server/return-codes\" target=\"_blank\">Global Return Codes</a>.</li></ul>\n\n<table>\n<tbody><tr>\n<th>Code / SubCode</th>\n<th>Description</th>\n<th>Suggested Solution</th>\n</tr>\n<tr>\n<td>660000002</td>\n<td>Input parameter errorã€‚</td>\n<td>Please check the input parametersã€‚</td>\n</tr>\n<tr>\n<td>660300005</td>\n<td>The API call frequency exceeds the AppID-level limit.</td>\n<td>Please try again later.</td>\n</tr>\n<tr>\n<td>660500002</td>\n<td>FromUserId is not registered.</td>\n<td>Please confirm whether the user is registered:<br/>If confirmed registered, please contact ZEGOCLOUD Technical Support for troubleshooting.<br/>If confirmed not registered, please register this user.</td>\n</tr>\n<tr>\n<td>6607000015</td>\n<td>The target user of the API is not registered.</td>\n<td>Please confirm whether the user is registered:<br/>If confirmed registered, please contact ZEGOCLOUD Technical Support for troubleshooting.<br/>If confirmed not registered, please register this user.</td>\n</tr>\n<tr>\n<td>660800001</td>\n<td>FromUserId is not registered.</td>\n<td>Please confirm whether the user is registered:<br/>If confirmed registered, please contact ZEGOCLOUD Technical Support for troubleshooting.<br/>If confirmed not registered, please register this user.</td>\n</tr>\n<tr>\n<td>660800037</td>\n<td>User has been blocked, no need to repeat the operation.</td>\n<td>No action required.</td>\n</tr>\n<tr>\n<td>660800038</td>\n<td>Cannot block FromUserId or remove FromUserId from the blocklist.</td>\n<td>Please modify UserIds.</td>\n</tr>\n<tr>\n<td>660800039</td>\n<td>The incoming user list exceeds the limit.</td>\n<td>Please shorten the incoming user list.</td>\n</tr>\n<tr>\n<td>660800040</td>\n<td>FromUserId's blocklist has reached the limit and cannot block more users.</td>\n<td>No action required.</td>\n</tr>\n<tr>\n<td>660800041</td>\n<td>Failed to block all specified users.</td>\n<td>Please refer to the SubCode of the response parameter ErrList for processing.</td>\n</tr>\n</tbody></table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Description of the request result.","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Request ID.","example":"343649807833778782"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>ErrList</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}><ul><li>When you initiate a request to block multiple users at the same time:</li><li>If 1 or more users are successfully blocked, Code will return 0. In this case, please refer to the specific information in ErrList to confirm the operation result.</li><li>If all specified users fail to be blocked, Code will return the relevant return code. For details, please refer to <a href="/zim-server/return-codes" target="_blank">Global Return Codes</a>.</li></ul></div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"UserId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Failed to block this UserID.","example":"user1"}}></SchemaItem><SchemaItem collapsible={false} name={"SubCode"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Specific failure return code. For complete return codes, please refer to the Code description or [Global Return Codes](/zim-server/return-codes).\n","example":660000002}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\",\n  \"ErrList\": [\n    {\n      \"UserId\": \"user1\",\n      \"SubCode\": 660000002\n    }\n  ]\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      