---
articleID: 14167
---

import { getPlatformData } from "/snippets/utils-content-parser.js"
import { conversationChangedMap } from "/snippets/zim/const-linkEN.mdx"

export const setConversationNotificationStatusMap = {
  'Android': <a href='@setConversationNotificationStatus' target='_blank'>setConversationNotificationStatus</a>,
  'Flutter': <a href='https://pub.dev/documentation/zego_zim/latest/zego_zim/ZIM/setConversationNotificationStatus.html' target='_blank'>setConversationNotificationStatus</a>,
}

# Mute a conversation

- - -

## Introduction

Mute a conversation: A user can mute any conversation, and when the ZIM SDK receives a message for the conversation, it does not send a push notification, and **the total count of unread messages does not increase**.

<Frame width="auto" height="auto">
  <img src="https://media-resource.spreading.io/docuo/workspace740/af061ebc6eaf0f12ae9e7f72235bd04e/ed033eafe0.png" />
</Frame>

## Enable for mute a conversation

To mute a conversation, call the {getPlatformData(props,setConversationNotificationStatusMap)} method with the `conversationID` parameter.


:::if{props.platform=undefined}
<CodeGroup>
```java title="Sample code"
// Mute a conversation
// Take a group conversation as example
zim.setConversationNotificationStatus(ZIMConversationNotificationStatus.DO_NOT_DISTURB, "CONV_ID", ZIMConversationType.PEER, new ZIMConversationNotificationStatusSetCallback() {
    @Override
    public void onConversationNotificationStatusSet(ZIMError errorInfo) {
        // Set the callback for the results of mute notifications.
        if(errorInfo.code == ZIMErrorCodeSuccess) {
          // ......
        } else {
          // ......
        }  
    }
});
```
</CodeGroup>
:::

:::if{props.platform="iOS"}
<CodeGroup>
```objc title="Sample code"
// Mute a conversation
// Take a group conversation as example
[self.zim setConversationNotificationStatus:ZIMConversationNotificationStatusDoNotDisturb conversationID:@"CONV_ID" conversationType:ZIMConversationTypePeer callback:^(ZIMError * _Nonnull errorInfo) {
    // Set the callback for the mute result.
    if(errorInfo.code == ZIMErrorCodeSuccess) {
      // ......
    } else {
      // ......
    }
}];
```
</CodeGroup>
:::

:::if{props.platform="window"}
<CodeGroup>
```cpp title="Sample code"
// Mute notifications for specified conversations.
// Mute a conversation
// Take a group conversation as example
zim. setConversationNotificationStatus(ZIMConversationNotificationStatusDoNotDisturb, "CONV_ID", ZIMConversationTypePeer, [=](ZIMError errorInfo) {
    // Set the callback for the results of mute notifications.
    if(errorInfo.code == ZIMErrorCodeSuccess) {
      // ......
    } else {
      // ......
    }
});
```
</CodeGroup>
:::

:::if{props.platform="Web"}
<CodeGroup>
```typescript title="Sample code"
// Mute the notifications for a group chat.
// Take a group chat as an example
const status = 2;  // Set the conversation status to "Do Not Disturb"
const conversationID = '';
const conversationType = 2;  // The conversation type is a group chat
zim.setConversationNotificationStatus(status, conversationID, conversationType)
    .then(function(res){
        // Operation succeeded.
    })
    .catch(function(err){
        // Operation failed.
    })
```

</CodeGroup>
:::

:::if{props.platform="U3d"}
<CodeGroup>
```cs title="Sample code"
// Set a conversation to the "Do Not Disturb" notification status
ZIM.GetInstance().SetConversationNotificationStatus(ZIMConversationNotificationStatus.DoNotDisturb, "CONV_ID",
    ZIMConversationType.Group, (string conversationID, ZIMConversationType conversationType,
        ZIMError errorInfo) =>
    {
        // Result of setting the "Do Not Disturb" notification status
    });
```
</CodeGroup>
:::

:::if{props.platform="Flutter"}
<CodeGroup>
```dart title="Sample code"
// Mute notifications for specified conversations.
ZIM
    .getInstance()
    .setConversationNotificationStatus(
        ZIMConversationNotificationStatus.doNotDisturb,
        'conversationID',
        ZIMConversationType.group)
    .then((value) {})
    .catchError((onError) {});
```
</CodeGroup>
:::


## Get a silent conversation state

After setting the mute, the client will receive the {getPlatformData(props,conversationChangedMap)} notification event on the operation end and multi-end online devices.Through this event callback, the mute conversation state can be obtained.
After the offline device re-logs in, the mute conversation state can be obtained through the `ZIMConversation.notificationStatus` property of the conversation list.

:::if{props.platform=undefined}
```java 
// 1. Listen for conversation change events
public void onConversationChanged(ZIM zim, ArrayList<ZIMConversationChangeInfo> conversationChangeInfoList) {
    super.onConversationChanged(zim, conversationChangeInfoList);
    // conversationChangeInfoList.get(0).conversation.notificationStatus
}

// 2. Query the conversation list
ZIMConversationQueryConfig config = new ZIMConversationQueryConfig();
config.count = 10;
config.nextConversation = null;

zim.queryConversationList(config, new ZIMConversationListQueriedCallback() {
    @Override
    public void onConversationListQueried(ArrayList<ZIMConversation> conversationList, ZIMError errorInfo) {
        // Get the conversation list query result
        if(errorInfo.code == ZIMErrorCode.SUCCESS) {
          // conversationList.get(0).notificationStatus
        } else {
          // ......
        }      
    }
});
```
:::

:::if{props.platform="iOS"}
```objc 
// 1. Listen for conversation change events
- (void)zim:(ZIM *)zim conversationChanged:(NSArray<ZIMConversationChangeInfo *> *)conversationChangeInfoList {
    // Get the conversation change list
    for (ZIMConversationChangeInfo *info in conversationChangeInfoList) {
        // info.conversation.notificationStatus
    }
}

// 2. Query the conversation list
ZIMConversationQueryConfig *config = [[ZIMConversationQueryConfig alloc] init];
config.count = 10;
config.nextConversation = nil;

[self.zim queryConversationListWithConfig:config callback:^(NSArray<ZIMConversation *> * _Nonnull conversationList, ZIMError * _Nonnull errorInfo) {
    // Get the conversation list query result
    if(errorInfo.code == ZIMErrorCodeSuccess) {
        for (ZIMConversation *info in conversationList) {
          // info.notificationStatus
        }
    } else {
      // ......
    }
}];
```
:::

:::if{props.platform="window"}
```cpp 
// 1. Listen for conversation change events
void onConversationChanged(ZIM * zim, const std::vector<ZIMConversationChangeInfo> & conversationChangeInfoList) {
    // Get the conversation change list
    for (auto &info : conversationChangeInfoList) {
        // info.conversation.notificationStatus
    }
}

// 2. Query the conversation list
ZIMConversationQueryConfig config;
config.count = 10;
config.nextConversation = nullptr;

zim->queryConversationList(config, [=](std::vector<std::shared_ptr<ZIMConversation>> conversationList, ZIMError errorInfo) {
    // Get the conversation list query result
    if(errorInfo.code == ZIMErrorCodeSuccess) {
        for (auto &info : conversationList) {
          // info.notificationStatus
        }
    } else {
      // ......
    }
});
```
:::

:::if{props.platform="Web|UTS"}
```typescript 
// 1. Listen for conversation change events
zim.on('conversationChanged', (zim: ZIM, data: ZIMEventOfConversationChangedResult) => {
    console.log(data.infoList[0].conversation.notificationStatus);
});

// 2. Query the conversation list
const config: ZIMConversationQueryConfig = { count: 10, nextConversation: null };
zim.queryConversationList(config, null)
    .then((res: ZIMConversationListQueriedResult) => {
        // Query succeeded
        console.log(res.conversationList[0].notificationStatus);
    })
    .catch((err: ZIMError) => {
        // Query failed
    });
```
:::

:::if{props.platform="U3d"}
```cs 
// 1. Listen for conversation change events
ZIM.GetInstance().onConversationChanged = (
    ZIM zim, List<ZIMConversationChangeInfo> conversationChangeInfoList) =>
{
    // Conversation change notification
};

// 2. Query the conversation list
ZIMConversationQueryConfig config = new ZIMConversationQueryConfig();
config.count = 10;
config.nextConversation = null;

// Pull the conversation list
ZIM.GetInstance().QueryConversationList(config, (List<ZIMConversation> conversationList,
                   ZIMError errorInfo) => 
{
        // Pull the result callback           
});
```
:::

:::if{props.platform="Flutter"}
```dart 
// 1. Listen for conversation change events
ZIMEventHandler.onConversationChanged = (ZIM zim, List<ZIMConversationChangeInfo> conversationChangeInfoList){
    // conversationChangeInfoList[0].conversation.notificationStatus 
};

// 2. Query the conversation list
ZIMConversationQueryConfig config = ZIMConversationQueryConfig();
config.count = 10;
config.nextConversation = null;
ZIM
    .getInstance()
    !.queryConversationList(config)
    .then((res) => {
      // res.conversationList[0].notificationStatus
    })
    .catchError((onError) {});
```
:::
