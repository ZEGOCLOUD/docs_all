import Content from '/snippets/Reuse/ZIM_AppSign-zh.mdx'
import Content1 from '/snippets/Reuse/ZIM_BasicPrerequisites_AppSign-zh.md'

# 跑通示例源码
---


## 概览

本文分别介绍：[uni-app x](https://doc.dcloud.net.cn/uni-app-x/) 集成 UTS 插件、uni-app 集成 UTS 插件、uni-app 集成原生插件，3 种方式来跑通示例源码，体验即时通讯服务。

## 准备环境

在运行示例源码前，请确保开发环境满足以下要求：

- [HBuilder X 4.27](https://www.dcloud.io/hbuilderx.html) 或以上版本。
- iOS 12.0 或以上版本的 iOS 设备。
- Android 版本不低于 5.0 的 Android 设备。如果为真机，请开启“允许调试”选项。
- 鸿蒙：HarmonyOS 5.0.0 Release 或以上版本，DevEco Studio 5.0.0 Release 或以上版本。
- iOS/Android/鸿蒙 设备已经连接到 Internet。

## 前提条件

<Content1 />
<Content />

## 运行示例源码

<Tabs>
<Tab title="uni-app x">
1. [下载示例源码](https://artifact-demo.zego.im/zim/example/uni-app/ZIMUniAppXExample.zip)。

下列结构为 demo 源码文件的子目录结构，下文所涉及的文件路径均为相对于此目录的路径。

```bash
.
├── App.uvue
├── README.md
├── index.html
├── main.uts
├── manifest.json
├── node_modules
│   └── crypto-js         # js 加密库，用于本地生成 token（zim 登录时需要）
├── package.json
├── pages
│   └── index
│       ├── index.uvue    # 业务页面
│       ├── js
├── pages.json
├── static
├── uni_modules
│   └── zego-zim-uts       # 插件
│   │    ├── node_modules  # 开发 Web、小程序应用时，安装 npm sdk 成功后创建的依赖库目录
│   │    ├── package.json
│   │    ├── utssdk
│   └── zego-zpns-uts  
└── yarn.lock
```

2. 打开 HBuilderX，选择 “文件 > 导入 > 从本地目录导入”，导入示例源码文件。

    <Frame width="512" height="auto" caption="">
      <img src="https://doc-media.zego.im/sdk-doc/Pics/ZIM/Web/import_uni_project.png" />
    </Frame>


3. 打开 “pages/index/index.uvue” 文件，并使用本文 [前提条件](#前提条件) 已获取的 AppID 、AppSign 和 ServerSecret 正确填写，并保存。

    - 如果您的应用运行平台为：iOS/Android/鸿蒙

    ```typescript
    export const zimAppConfig = {
        appID: , // 填写申请的 AppID
        appSign: , // 填写申请的 AppSign，搭配 iOS/Android 平台时需要填写
    }; 
    ```
    
    **若您的项目已切换为 “Token 鉴权”，请在 [ZEGO 控制台](https://console.zego.im) 上，申请临时 Token 用于调试。**

    - 如果您的应用运行平台为：Web/小程序

    ```typescript
    export const zimAppConfig = {
        appID: , // 填写申请的 AppID
        serverSecret: , // 填写申请的 ServerSecret，搭配 Web、小程序平台时，需要生成 Token 使用
    }; 
    ```
    在 `uni_modules/zego-zim-uts` 目录下运行 `npm run install` 安装 npm 加密库，用于生成 Token。
    

4. （iOS/Android）自定义调试基座，具体操作请参考 [制作自定义调试基座](./send-and-receive-messages#231-制作自定义调试基座)。

5. （iOS/Android）使用自定义基座运行项目，具体操作请参考 [运行基座](./send-and-receive-messages#232-切换运行基座为自定义调试基座)。

6.（鸿蒙）运行到手机或模拟器 -> 运行到鸿蒙。

7. （Web）运行 -> 运行到浏览器。

8.（小程序）运行 -> 运行到小程序模拟器。

</Tab>
<Tab title="uni-app 集成 UTS 插件">
1. [下载示例源码](https://artifact-demo.zego.im/zim/example/uni-app/ZIMUniAppUtsExample.zip)。

下列结构为 demo 源码文件的子目录结构，下文所涉及的文件路径均为相对于此目录的路径。

```bash
.
├── App.vue
├── index.html
├── main.js
├── manifest.json
├── pages
│   └── index
│       └── index.vue       # 业务页面
├── pages.json
├── static
├── uni_modules  
│   ├── zego-zim-uts        # 插件
│   └── zego-zpns-uts
└── unpackage
```

2. 打开 HBuilderX，选择 “文件 > 导入 > 从本地目录导入”，导入示例源码文件。

    <Frame width="512" height="auto" caption="">
      <img src="https://doc-media.zego.im/sdk-doc/Pics/ZIM/Web/import_uni_project.png" />
    </Frame>


3. 打开 “pages/index/index.vue” 文件，并使用本文 [前提条件](#前提条件) 已获取的 AppID 、AppSign 正确填写，并保存。

    ```typescript
    const zimAppConfig = {
        appID: , // 填写申请的 AppID
        appSign: , // 填写申请的 AppSign，搭配 iOS/Android 平台时需要填写
    }; 
    ```
    
    **若您的项目已切换为 “Token 鉴权”，请在 [ZEGO 控制台](https://console.zego.im) 上，申请临时 Token 用于调试。**
    

4. 自定义调试基座，具体操作请参考 [制作自定义调试基座](./send-and-receive-messages#231-制作自定义调试基座)。

5. 使用自定义基座运行项目，具体操作请参考 [运行基座](./send-and-receive-messages#232-切换运行基座为自定义调试基座)。

</Tab>
<Tab title="uni-app 集成原生插件">
1. [下载示例源码](https://artifact-demo.zego.im/zim/example/uni-app/ZIMUniAppExample.zip)。

下列结构为 demo 源码文件的子目录结构，下文所涉及的文件路径均为相对于此目录的路径。

```bash
.
├── App.vue
├── assets
│   ├── js
│   │   ├── config.js
├── components
├── index.html
├── main.js
├── manifest.json
├── pages
│   ├── action
│   ├── chat
│   ├── group
│   ├── home
│   └── login
│       └── login.vue  # 业务页面
├── pages.json
├── static
├── store
│   └── index.js       # zim api 调用逻辑
├── uni.scss
```

2. 打开 HBuilderX，选择 “文件 > 导入 > 从本地目录导入”，导入示例源码文件。

    <Frame width="512" height="auto" caption="">
      <img src="https://doc-media.zego.im/sdk-doc/Pics/ZIM/Web/import_uni_project.png" />
    </Frame>

3. 打开 “assets/js” 文件夹下的 “config.js” 文件，并使用本文 [前提条件](#前提条件) 已获取的 AppID 、AppSign 和 ServerSecret 正确填写，并保存。

    - 如果您的应用搭配 iOS、Android 使用：

    ```typescript
    export const appConfig = {
        appID: , // 填写申请的 AppID
        appSign: , // 填写申请的 AppSign，搭配 iOS/Android 平台时需要填写
    }; 
    ```

    **若您的项目已切换为 “Token 鉴权”，请在 [ZEGO 控制台](https://console.zego.im) 上，申请临时 Token 用于调试。**

    - 如果您的应用搭配 Web、小程序使用：

    ```typescript
    export const appConfig = {
        appID: , // 填写申请的 AppID
        serverSecret: , // 填写申请的 ServerSecret，搭配 Web 平台时，需要生成 Token 使用
    }; 
    ```

 

4. 导入 SDK，具体操作请参考 [uni-app 原生插件](./send-and-receive-messages#22-导入-sdk)。
    
5. 自定义调试基座，具体操作请参考 [制作自定义调试基座](./send-and-receive-messages#231-制作自定义调试基座)。

6. 使用自定义基座运行项目，具体操作请参考 [运行基座](./send-and-receive-messages#232-切换运行基座为自定义调试基座)。
</Tab>
</Tabs>
