---
id: query-conversation-list
title: "查询会话列表"
description: "调用此接口，分页拉取指定用户的全量会话列表，最多返回 1000 个最新会话（单聊与群聊）。"
api: eJztWutXG8cV/1e2k7Z+VFhCGNtRsZLUSXt8mlcTux8CNGeR1rCxtFJ2Vw4OVY/APAToQRwEtpCNZQvDMQjJhhhZEvC/1Duzq0/qn9DcmZWQeMg4OW5OzikfLuzuzJ37mnt/c4chpPL9CnJ0I5dPuiHICq+KPgn1WpBbUFyy6KePDmTkb+mzKySbIbElHH9ULUdweLyS/oFMT+L4HIlM4PUkDAhv6clRPLZSmYhr5aSRu4fD80Z6pVqOkFQIZ5LG7ixeuM+122w2Tis8IakQmcuzkdVyGEcTxvCUVojpOxljeKpannwZGumReqSuj32qwKmi6hEu9iAjt0nuxHqQE0c3tJ1dtq7xcNUoPMQTxRq3CEmtMWnZonrpe3I/pZWiODKGZ1aN3FJt5IK2PU7u5PDjERhAXxrLj0iCqXmXzD8gG4lKKGnsTuzxjG3h+Fydib5QwGMb2m6aDOdehka6rCCws4XozKCVh9/psYnK3Rkcfl4tJ+02jqylrfry7UYeyIJ8fkGmnrnsRg70dUCQb7Y1OqzNIyoqsiA/L/NeQRVkcOkQknivgBzoPRf1ogWJUm022u9gJ8f0wrFFfH8ax0dIIt8jOXskJzegqn7FYbV+K3rbeL945luh33dG9FrfYXwv/g0YXmqQ5kNRUanYsvB1QJQFN3KockCwIMU1IHh55BhC6k0/SKaosij1IwsSpIAXovBQXqg3aEGKetMDU675ZC9MGPR7fG6BcQ5a9nT1+y+7W6v6n8XbaTy2hseeMjVfhkZwcVafXeEuu6vliD77lPvig798wkGEj0X15CgLMDyb0wohPJE1csMwJZ7TSjGui+dUXu4X1Is96Ms+Dy9d70HcgCxc+9HZNcO5fJLi8wh1w/UgJ12AxJZx+DmO57usvJNjEfUyNHIcw4mSKvQLMrJQe/AqcqCAKKkddhRsMMbnYr/EqwFZ+NgnuYTXtkr7OU7bjnLt5zhjdwGHn1eScZIq4uy8vvZYKzyrlsMXOJydN6ZG2BeSyOvJUW5AGOT08pz+YJhtYH12kYRn9PV5spHA8RyOjxihW2A400w0sBRBviHIVt7lEhRFlPrNFxBwyltKTY82YZD3+j1CD3Lq2R08E9UzRW1nGux3TMOZEddopSuiV1BU3ut//bDZ/h5PRrmrkjjIkfnnlflNEt6ApBFNaNtRrVBkO/l/Y4B6jsVjw8Z6gWu30Qi+vagnR41cDm+t//TYEiX13NnDQ+vvgqy8MrscYjtT/MkwSa3h+NbruQ/4X+MDHpDNfsbWkEDgqfdQQX+ihDQjrGjFWOVJxMgNG7kt8nQEitxMmGwkSGj5ZWjEyG0xp3azObBLws97T76OY72Ca4CXRMV7ioXL68ZzLxssKOqffO6bMGL/XJdPUgVJhU+83+8RXTTBWr9SwABDB1n7+r4SXGqTEN3oz7LPe1UR5MtuAAl+GSqTKgoKzGv4dqjHGu1NFpeM3EOSzXB0xvtQ/bee4dQKXn8IKGI1xyok5/H1ixJH5l6QjYR+t4S3E9wXlz/iSCqKp9IQ8+E5vPXMHNzNXuurOe69Ty83OyCgCLK1j1ddA22y0C8qqiC3wTvlFIfXIyQ8QzZW8HikWp7Uk6ON4MXEIE7u9GlWvk+fNivjnsKcVhojszkSGSaJPM7OV8sRY/opmZtg2RLfjnBDPejEb05Uy5ETb1H6W0p/R+nvKT1J6SlK/0ApJQ5K/0hpF6UXKT1DqZPSdyh9l9JuSnsp/QelX1LKUTpEaZDSf1L6rxM9KEiVRBbk5Qc/FKR+dQA5OuxQZmm6gfLSjoIW9KHoFdUG70oBbx9NFc3exdEEWUuzimYCpOQoSeQrE/FqOVIp3THWM1qhCDgQ0mV8DofKRuQWXtiEtydtFq7TZuulMrVxkGVDZe7fkxnOBmm2Wo5ou+sk+8jk0DzMCVObhnSaQ0A7URK9kCjaqabs706brSGftMNTXe12W9CCPhYGj6NzIyB+MIF3IQj0tTWtECJraZxe5WwcyPViGs/EcHpVK0yxTyY8TY5ysBCHQ2VWWva9B1Xq+pceGekVvLSN49MsSJmtIZBzCTNgtZ1p/HikWo40hClJTXL2Toq96zjZxPY1ZGvuTFgnCXatq7BvXLUcodHAgWrMkUzO8gMOHhgffW2Na+eq2/fbbU2rLjSB8kK2UX3QVAp4203HggDFyPEFgEeY3iyDjUrB2VuLsV8Ge4MMhcnXlsHeJIO9JkOzAxbYCOY78McRlqEBUIvkeoTagkELoscL5DgcPn/GygIKBmGoLCh+n6SwjG232eBXcyB/8lf0M4pFc0m4RDH6q7aOqfGDYapdl8r3eeDg06UOCLzb2aXKzi51wFkf1WVVB9gbmo7rjzgzqs+M41LRWF9nL60w1crYAL8+n/sm/QM4up3nztnoj73LqrrpG2Pnezy2xCBAZfaukWOnudrX3BZ5FAJ30WGAAmpggY2B9ZrYdwD7zj0GLHpo6OjJUXb8M56PwbG1OM7B4eV9Ti8u4/AqOxTuW11fiULyGI8adJcfsWhns05N2/8Jq3KHatVYz+A8PPOYZB/p6fWjV7oA2nXUObFAbqydOPPU2Fzat5oxPKtvlNghi0yFSCrHSuf+dax1f1lrIQE16CNBUfh+4dUYw8RqdCNREAzRUj+jN24ipAQoPAP25nY5DohhC3CX39/PruNsx7mzb1+wnb/Q0XH+/IXzF+zA+YpP5T2XfAHpONWEHi3qSISESizOGpfptP2c6mRmtsq9+5Cuk0Z6Rc8Ujd07JDXJ1mSWIqknbONB4U6FjMfDOD9u5JZwdp6s/2Cs7+jb6zicZ6Zg26GWrrLmcgubOJNs5GkuTRNafWm89UwvxdlakAsTm8cDYZW7Ga0wZezmTf++mMaZOci72QyTUSvEGA9TofkHWqmkbSfw2IYxPAsJN7eFp3fxYlErxmDWcLI24LlWmquESsbOdwfyLrSwKCBSGq3PyzJ/8HCxTxESmeSu+t28KsDRk8PRCVyMN2Z95mdRFbzKcVKsdOM4wcqEYMFK8RJrtplFKFn/DG7BuRf6aq7e0NubxBpzh0/SdzJ6qT62aT9Ar4riRxD2ChXzVQFrwsanJXx/2lzcxpHwHHmWJqlJZq26i6vlZKM65nh7tZxsFPiAXPagBe054rgywSl7Jgb4cvYFO/VDtOVW9eXb9SbAvp3aft52wd55tuNtSM20DNc/de950DRTo5XszQI287Hsm2pvmmp7nakdqNXo3mNgDIYqKMgIWpBXUAd8wNzvMxuTcKJAVmRB7DjGGpQB2fNjGj2iwXjA/HppEZBobAlKdCqP74Wq5bBWiOJIEYfHgS4uVsuTCLQ7lHObMsAfyV0rZPHCNs4sV+6OU75T5Iet1uwGrvcfyY4UcmRnA8fz1XK48vguKeRa87omHy0aWVsmm9BvgwbSWB6PTeuP463ZefjBo+24EzOWduHEPfUAb91vzajP5z3aZMUkzjwBRtlF7UX+Fbbv97ewfQpH57ViEnScy4Nc99KHs+MD6kDLKKlMbpJ7t8xGwIGIQdAoART72V6z5IPaXmxuYcCRt37ibbfVKi1kfVG65qPpwtwTPr8gUSVBFGRBN8ymmAO1n7HR/hTgad5FS4XZmKLw5/OA3++TYYcIXl70UCRC37wL6rk8voD7jMvnhdYb3UpeXmpgcRBv7bfG0B6Q//8dzi97h2OWFlUYVK1+Dy9SLEtje8hMj90IemoDkDEd3WhoqI9XhKuyJxiE16xtCUnTLSqAht3IcY33KEILj5/8zOzcneLeyP3OoSpdF2423jnd4D0BGES38k8S/VdwX9PKEOaF1Buxw6/whqaFqQ5cV72Z2Pk1Xtq0sFrj9dUbMdihNzXHcePe1dAblOuXvZ85jhma9O+FB1kEAyBHN1xsQ3NKkGlmZxMvMf3bKIzfm3ugDQe2rCVbl+BXW47tbcDkn37y+RVkQX3mPZGX9uiQzH8Ddz38N8iBelAPov92ABzoKZO+H0IeXuoP0OYLYnzh57+bj00z
info_path: core_products/zim/zh/docs_zim_server_zh/conversation/open-api-desc
---

<h1 className={"openapi__heading"}>查询会话列表</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


调用此接口，分页拉取指定用户的全量会话列表，最多返回 1000 个最新会话（单聊与群聊）。

<Note title="说明">即便用户被踢出会话，本接口返回结果仍包含该会话；但是如果会话解散，则无法通过本接口获取该会话相关信息。</Note>

<Note title="说明">调用频率限制：20 次/秒。</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://zim-api.zego.im/?Action=QueryConversationList\n","required":true,"schema":{"type":"string","enum":["QueryConversationList"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。应用 Id，由 ZEGO 分配的用户唯一凭证。可从 <a target=\"_blank\" href=\"https://console.zego.im/\">ZEGO 控制台</a> 获取。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。16 位 16 进制随机字符串（8 字节随机数的 hex 编码）。生成算法可参考 <a href=\"/zim-server/accessing-server-apis#signature-example\">签名示例</a>。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。当前 Unix 时间戳，单位为秒。生成算法可参考 <a href=\"/zim-server/accessing-server-apis#signature-example\">签名示例</a>，最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/zim-server/accessing-server-apis#signature-mechanism)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"FromUserId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"查询此 UserID（已在客户端调用 login 方法登录 ZIM 服务，或已调用 [服务端 API](/zim-server/user/batch-register-users) 完成注册）的会话列表。\n\n> **说明**\n>\n> FromUserId 仅支持数字，英文字符和 {\"'!'，'#'，'$'，'%'，'&'，'('，')'，'+'，''，':'，';'，'<'，'='，'.'，'>'，'?'，'@'，'['，']'，'^'，'_'，' '，'{'，'}'，'|'，'~'\"}。\n","maxLength":32,"example":"u1"}}></SchemaItem><SchemaItem collapsible={false} name={"Limit"} required={false} schemaName={"number"} qualifierMessage={"**Possible values:** `>= 1` and `<= 500`"} schema={{"type":"number","description":"单次获取会话的数量，默认为 100，取值范围为 (0, 500]。\n- 当值 ≤ 0 时，修正为 100。\n- 当值 > 500，修正为 500。\n","minimum":1,"maximum":500,"default":100,"example":10}}></SchemaItem><SchemaItem collapsible={false} name={"Next"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"分页拉取标志，第一次填 0 ，之后填上一次返回的 Next 值。当返回的 Next 为 0 时，代表好友列表获取完毕。\n\n例如，FromUserId 有 250 个会话，调用本接口查询时：\n- 第一次调用本接口，Limit 填 100，Next 传 0，查询第 1 ～100 个会话；返回结果中的 Next 值为 num1。\n- 第二次调用本接口，Limit 填 100，Next 填 num1，查询第 101 ～ 200 个会话；返回结果中 Next 值为 num2。\n- 第三次调用本接口，Limit 填 100，Next 填 num2，查询第 201 ～ 250 个会话；查询完毕，返回结果中的 Next 为 0。\n","example":0}}></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>OK</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"返回码。\n<table>\n<thead><tr><th>返回码</th><th>说明</th><th>处理建议</th></tr></thead>\n<tbody>\n<tr><td>660000002</td><td>输入参数错误。</td><td>请检查输入的参数。</td></tr>\n<tr><td>660300005</td><td>调用接口的频率超出了 AppID 级别限制。</td><td>请稍后再试。</td></tr>\n<tr><td>660500002</td><td>FromUserId 未注册。</td><td>请检查 FromUserId 是否正确。</td></tr>\n<tr><td>660800053</td><td>查询会话列表失败。</td><td>请联系 ZEGO 技术支持。</td></tr>\n</tbody>\n</table>\n"}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求结果的说明信息。","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID。","example":"343649807833778782"}}></SchemaItem><SchemaItem collapsible={false} name={"TotalCount"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"当前的会话总数。","example":500}}></SchemaItem><SchemaItem collapsible={false} name={"Next"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"分页拉取标志。\n- 非 0：表示还有会话信息未返回，需要将该字段设置到请求参数 Next 中拉取更多会话信息。\n- 为 0：表示已经返回完整会话列表。\n\n> **说明**\n>\n> 除上述说明之外，此字段与列表信息无任何关联，请勿基于此做任何其他逻辑。\n","example":1000}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>List</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>会话列表。按 UpdateTime 升序返回结果。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"ConvId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"会话 ID。\n- 单聊会话：会话 ID 为对端用户的 ID。\n- 群聊会话：会话 ID 为群组 ID。\n","example":"conv1"}}></SchemaItem><SchemaItem collapsible={false} name={"ConvType"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"会话类型。\n- 0 或没有返回此字段：单聊会话。\n- 2：群聊会话。\n","example":2}}></SchemaItem><SchemaItem collapsible={false} name={"UpdateTime"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"会话最后修改时间，毫秒时间戳。","example":1708254395000}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\",\n  \"TotalCount\": 500,\n  \"Next\": 1000,\n  \"List\": [\n    {\n      \"ConvId\": \"conv1\",\n      \"ConvType\": 2,\n      \"UpdateTime\": 1708254395000\n    },\n    {\n      \"ConvId\": \"conv2\",\n      \"ConvType\": 0,\n      \"UpdateTime\": 1708254395000\n    },\n    {\n      \"ConvId\": \"conv3\",\n      \"UpdateTime\": 1708254395000\n    }\n  ]\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      