---
id: query-conversation-list
title: "QueryConversationList"
description: "调用此接口，分页拉取指定用户的全量会话列表，最多返回 1000 个最新会话（单聊与群聊）。"
api: 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
info_path: core_products/zim/zh/docs_zim_server_zh/conversation/open-api-desc
---

<h1 className={"openapi__heading"}>QueryConversationList</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


调用此接口，分页拉取指定用户的全量会话列表，最多返回 1000 个最新会话（单聊与群聊）。

<Note title="说明">即便用户被踢出会话，本接口返回结果仍包含该会话；但是如果会话解散，则无法通过本接口获取该会话相关信息。</Note>

<Note title="说明">调用频率限制：20 次/秒。</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://zim-api.zego.im/?Action=QueryConversationList\n","required":true,"schema":{"type":"string","enum":["QueryConversationList"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。应用 Id，由 ZEGO 分配的用户唯一凭证。可从 <a target=\"_blank\" href=\"https://console.zego.im/\">ZEGO 控制台</a> 获取。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。16 位 16 进制随机字符串（8 字节随机数的 hex 编码）。生成算法可参考 <a href=\"/zim-server/accessing-server-apis#signature-example\">签名示例</a>。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。当前 Unix 时间戳，单位为秒。生成算法可参考 <a href=\"/zim-server/accessing-server-apis#signature-example\">签名示例</a>，最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/zim-server/accessing-server-apis#signature-mechanism)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"FromUserId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"查询此 UserID（已在客户端调用 login 方法登录 ZIM 服务，或已调用 [服务端 API](/zim-server/user/batch-register-users) 完成注册）的会话列表。\n\n> **说明**\n>\n> FromUserId 仅支持数字，英文字符和 {\"'!'，'#'，'$'，'%'，'&'，'('，')'，'+'，''，':'，';'，'<'，'='，'.'，'>'，'?'，'@'，'['，']'，'^'，'_'，' '，'{'，'}'，'|'，'~'\"}。\n","maxLength":32,"example":"u1"}}></SchemaItem><SchemaItem collapsible={false} name={"Limit"} required={false} schemaName={"number"} qualifierMessage={"**Possible values:** `>= 1` and `<= 500`"} schema={{"type":"number","description":"单次获取会话的数量，默认为 100，取值范围为 (0, 500]。\n- 当值 ≤ 0 时，修正为 100。\n- 当值 > 500，修正为 500。\n","minimum":1,"maximum":500,"default":100,"example":10}}></SchemaItem><SchemaItem collapsible={false} name={"Next"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"分页拉取标志，第一次填 0 ，之后填上一次返回的 Next 值。当返回的 Next 为 0 时，代表好友列表获取完毕。\n\n例如，FromUserId 有 250 个会话，调用本接口查询时：\n- 第一次调用本接口，Limit 填 100，Next 传 0，查询第 1 ～100 个会话；返回结果中的 Next 值为 num1。\n- 第二次调用本接口，Limit 填 100，Next 填 num1，查询第 101 ～ 200 个会话；返回结果中 Next 值为 num2。\n- 第三次调用本接口，Limit 填 100，Next 填 num2，查询第 201 ～ 250 个会话；查询完毕，返回结果中的 Next 为 0。\n","example":0}}></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>OK</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"返回码。\n<table>\n<thead><tr><th>返回码</th><th>说明</th><th>处理建议</th></tr></thead>\n<tbody>\n<tr><td>660000002</td><td>输入参数错误。</td><td>请检查输入的参数。</td></tr>\n<tr><td>660300005</td><td>调用接口的频率超出了 AppID 级别限制。</td><td>请稍后再试。</td></tr>\n<tr><td>660500002</td><td>FromUserId 未注册。</td><td>请检查 FromUserId 是否正确。</td></tr>\n<tr><td>660800053</td><td>查询会话列表失败。</td><td>请联系 ZEGO 技术支持。</td></tr>\n</tbody>\n</table>\n"}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求结果的说明信息。","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID。","example":"343649807833778782"}}></SchemaItem><SchemaItem collapsible={false} name={"TotalCount"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"当前的会话总数。","example":500}}></SchemaItem><SchemaItem collapsible={false} name={"Next"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"分页拉取标志。\n- 非 0：表示还有会话信息未返回，需要将该字段设置到请求参数 Next 中拉取更多会话信息。\n- 为 0：表示已经返回完整会话列表。\n\n> **说明**\n>\n> 除上述说明之外，此字段与列表信息无任何关联，请勿基于此做任何其他逻辑。\n","example":1000}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>List</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>会话列表。按 UpdateTime 升序返回结果。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"ConvId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"会话 ID。\n- 单聊会话：会话 ID 为对端用户的 ID。\n- 群聊会话：会话 ID 为群组 ID。\n","example":"conv1"}}></SchemaItem><SchemaItem collapsible={false} name={"ConvType"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"会话类型。\n- 0 或没有返回此字段：单聊会话。\n- 2：群聊会话。\n","example":2}}></SchemaItem><SchemaItem collapsible={false} name={"UpdateTime"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"会话最后修改时间，毫秒时间戳。","example":1708254395000}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\",\n  \"TotalCount\": 500,\n  \"Next\": 1000,\n  \"List\": [\n    {\n      \"ConvId\": \"conv1\",\n      \"ConvType\": 2,\n      \"UpdateTime\": 1708254395000\n    },\n    {\n      \"ConvId\": \"conv2\",\n      \"ConvType\": 0,\n      \"UpdateTime\": 1708254395000\n    },\n    {\n      \"ConvId\": \"conv3\",\n      \"UpdateTime\": 1708254395000\n    }\n  ]\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      