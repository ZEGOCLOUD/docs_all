---
id: query-the-blocklist
title: "QueryBlacklist"
description: "根据用户 ID 分页拉取其全量黑名单数据。"
api: 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
info_path: core_products/zim/zh/docs_zim_server_zh/user/open-api-desc
---

<h1 className={"openapi__heading"}>QueryBlacklist</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


根据用户 ID 分页拉取其全量黑名单数据。

<Note title="说明">调用频率限制：20 次/秒。</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://zim-api.zego.im/?Action=QueryBlacklist\n","required":true,"schema":{"type":"string","enum":["QueryBlacklist"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。应用 Id，由 ZEGO 分配的用户唯一凭证。可从 <a target=\"_blank\" href=\"https://console.zego.im/\">ZEGO 控制台</a> 获取。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。16 位 16 进制随机字符串（8 字节随机数的 hex 编码）。生成算法可参考 <a href=\"/zim-server/accessing-server-apis#signature-example\">签名示例</a>。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。当前 Unix 时间戳，单位为秒。生成算法可参考 <a href=\"/zim-server/accessing-server-apis#signature-example\">签名示例</a>，最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/zim-server/accessing-server-apis#signature-mechanism)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"FromUserId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"查询此 UserID（已在客户端调用 login 方法登录 ZIM 服务，或已调用 [服务端 API](/zim-server/user/batch-register-users) 完成注册）的黑名单列表。","maxLength":32,"example":"zego"}}></SchemaItem><SchemaItem collapsible={false} name={"Limit"} required={true} schemaName={"number"} qualifierMessage={"**Possible values:** `>= 0` and `<= 100`"} schema={{"type":"number","description":"单次拉取多少名用户的信息。取值范围为 [0, 100]。如果不填或数值为 0、大于 100，取值为 100。","minimum":0,"maximum":100,"example":100}}></SchemaItem><SchemaItem collapsible={false} name={"Next"} required={true} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"分页拉取标志，第一次填 0，之后填上一次返回的 Next 值。当返回的 Next 为 0 时，代表黑名单获取完毕。\n\n例如，FromUserId 拉黑了 250 名用户，调用本接口查询时：\n\n- 第一次调用本接口，Limit 填 100，Next 传空，查询第 1 ～ 100 名用户；返回结果中的 Next 值为 num1。\n- 第二次调用本接口，Limit 填 100，Next 填 num1，查询第 101 ～ 200 名用户；返回结果中 Next 值为 num2。\n- 第三次调用本接口，Limit 填 100，Next 填 num2，查询第 201 ～ 250 名用户；查询完毕，返回结果中的 Next 为 0。\n","example":2}}></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>OK</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"返回码。\n\n<table>\n<tbody><tr>\n<th>返回码</th>\n<th>说明</th>\n<th>处理建议</th>\n</tr>\n<tr>\n<td>660000002</td>\n<td>参数错误。</td>\n<td>请检查请求参数。</td>\n</tr>\n<tr>\n<td>660300005</td>\n<td>调用接口的频率超出了 AppID 级别限制。</td>\n<td>请稍后再试。</td>\n</tr>\n<tr>\n<td>660500002</td>\n<td>FromUserId 未注册。</td>\n<td>请确认该用户是否已注册：<br/>确认已注册，请联系 ZEGO 技术支持排查。<br/>确认未注册，请注册此用户。</td>\n</tr>\n<tr>\n<td>660800001</td>\n<td>FromUserId 未注册。</td>\n<td>请确认该用户是否已注册：<br/>确认已注册，请联系 ZEGO 技术支持排查。<br/>确认未注册，请注册此用户。</td>\n</tr>\n</tbody></table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求结果的说明信息。","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID。","example":"343649807833778782"}}></SchemaItem><SchemaItem collapsible={false} name={"TotalCount"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","description":"当前黑名单用户总数。","example":500}}></SchemaItem><SchemaItem collapsible={false} name={"Next"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"分页拉取标志，非 0 表示还有黑名单信息未返回，需要将该字段设置到请求参数 Next 中拉取更多黑名单信息；为 0 表示已经返回所有黑名单信息。\n>**说明**\n>\n> 除上述说明之外，此字段与列表信息无任何关联，请勿基于此做任何其他逻辑。\n","example":1}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Blacklist</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>黑名单数据列表。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"UserId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户 ID。","example":"usera1"}}></SchemaItem><SchemaItem collapsible={false} name={"UserName"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户名称。","example":"Nicknamea1"}}></SchemaItem><SchemaItem collapsible={false} name={"Avatar"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户头像地址。","example":"Avatar1"}}></SchemaItem><SchemaItem collapsible={false} name={"UpdateTime"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"拉黑时间，单位为 ms。","example":1698310534000}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\",\n  \"TotalCount\": 500,\n  \"Next\": 1,\n  \"Blacklist\": [\n    {\n      \"UserId\": \"usera1\",\n      \"UserName\": \"Nicknamea1\",\n      \"Avatar\": \"Avatar1\",\n      \"UpdateTime\": 1698310534000\n    }\n  ]\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Example"} value={"Example"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\",\n  \"TotalCount\": 500,\n  \"Next\": 1,\n  \"Blacklist\": [\n    {\n      \"UserId\": \"usera1\",\n      \"UserName\": \"Nicknamea1\",\n      \"Avatar\": \"Avatar1\",\n      \"UpdateTime\": 1698310534000\n    },\n    {\n      \"UserId\": \"usera2\",\n      \"UserName\": \"Nicknamea2\",\n      \"Avatar\": \"Avatar2\",\n      \"UpdateTime\": 1698310534000\n    }\n  ]\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      