---
id: batch-register-users
title: "批量注册用户"
description: "后端注册，开发者可以通过该接口批量帮用户注册 IM 账号，实现消息的接收，以便在用户登录 ZIM 后接收历史消息，常用于教育场景。"
api: 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
info_path: core_products/zim/zh/docs_zim_server_zh/user/open-api-desc
---

<h1 className={"openapi__heading"}>批量注册用户</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


后端注册，开发者可以通过该接口批量帮用户注册 IM 账号，实现消息的接收，以便在用户登录 ZIM 后接收历史消息，常用于教育场景。

<Note title="说明">调用频率限制：20 次/秒。</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://zim-api.zego.im/?Action=UserRegister\n","required":true,"schema":{"type":"string","enum":["UserRegister"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。应用 Id，由 ZEGO 分配的用户唯一凭证。可从 <a target=\"_blank\" href=\"https://console.zego.im/\">ZEGO 控制台</a> 获取。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。16 位 16 进制随机字符串（8 字节随机数的 hex 编码）。生成算法可参考 <a href=\"/zim-server/accessing-server-apis#signature-example\">签名示例</a>。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。当前 Unix 时间戳，单位为秒。生成算法可参考 <a href=\"/zim-server/accessing-server-apis#signature-example\">签名示例</a>，最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/zim-server/accessing-server-apis#signature-mechanism)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>UserInfo</strong><span className={"openapi-schema__name"}> object[]</span><span className={"openapi-schema__divider"}></span><span className={"openapi-schema__required"}>required</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>**Possible values:** `<= 100`</div><div className={"schema-description"}>用户信息，单次最多注册 100 个用户。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"UserId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"用户 ID，长度不超过 32 字节。\n\n>**说明**\n>\n> UserIds 仅支持数字，英文字符和 '!'，'#'，'$'，'%'，'&'，'('，')'，'+'，'-'，':'，';'，'<'，'='，'.'，'>'，'?'，'@'，'['，']'，'^'，'_'，' '，'{'，'}'，'|'，'~'。\n","maxLength":32,"example":"aaa"}}></SchemaItem><SchemaItem collapsible={false} name={"UserName"} required={false} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 256 characters`"} schema={{"type":"string","description":"用户名称，长度不超过 256 字节。","maxLength":256,"example":"userNamea"}}></SchemaItem><SchemaItem collapsible={false} name={"UserAvatar"} required={false} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 500 characters`"} schema={{"type":"string","description":"用户头像地址，长度不超过 500 字节。","maxLength":500,"example":"http"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>OK</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"返回码。\n\n以下仅列出了接口业务逻辑相关的 Code 和 SubCode ，完整返回码请参考 [全局返回码](/zim-server/return-codes)。\n> **说明**\n>\n> 当您发起请求同时注册多个用户时：\n> <ul><li>如果有 1 个或以上的用户 ID 注册成功，Code 都会返回 0。此时请参考 ErrorList 中的具体信息，确认操作结果。</li>\n> <li>如果全部用户注册失败，Code 会返回相关返回码，具体请参考 <a href=\"/zim-server/return-codes\" target=\"_blank\">全局返回码</a>。</li></ul>\n\n<table>\n<tbody><tr>\n<th>Code / SubCode</th>\n<th>描述</th>\n<th>可能原因</th>\n<th>处理建议</th>\n</tr>\n<tr>\n<td>660000001</td>\n<td>业务类通用错误。</td>\n<td>服务端出错。</td>\n<td>请重试，或联系 ZEGO 技术支持。</td>\n</tr>\n<tr>\n<td>660000002</td>\n<td>输入参数错误。</td>\n<td>输入的参数缺失或不合法。</td>\n<td>请检查输入的参数。</td>\n</tr>\n<tr>\n<td>660000012</td>\n<td>UserID 长度超过限制。</td>\n<td>UserID 最大长度为 32 字节。</td>\n<td>请确认 UserID 的长度。</td>\n</tr>\n<tr>\n<td>660700001</td>\n<td>请求过于频繁。</td>\n<td>发起请求频率超过 20 次/秒。</td>\n<td>请稍后再试。</td>\n</tr>\n<tr>\n<td>660700002</td>\n<td>用户已存在。</td>\n<td>发送请求的 UserID 已存在。</td>\n<td>请避免重复注册相同的 UserID。</td>\n</tr>\n<tr>\n<td>660700006</td>\n<td>UserName 长度超过限制。</td>\n<td>UserName 长度最大为 256 字节。</td>\n<td>请确认 UserName 的长度。</td>\n</tr>\n<tr>\n<td>660700007</td>\n<td>UserAvatar 地址长度超过限制。</td>\n<td>UserAvatar 地址长度最大为 500 字节。</td>\n<td>请确认 UserAvatar 的长度。</td>\n</tr>\n</tbody></table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求结果的说明信息。","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID。","example":"343649807833778782"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>ErrorList</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>失败信息列表。<ul><li>Code 为 0：</li><li>  ErrorList 为空，全部用户注册成功。</li><li>  ErrorList 不为空，表示部分用户注册失败，请参考 SubCode、SubMessage 处理。</li><li>Code 不为 0：</li><li>  ErrorList 为空，表示参数错误、接口频率限制、系统错误。</li><li>  ErrorList 不为空，表示所有用户都注册失败，全部都是已经存在的用户。</li></ul></div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"UserId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"注册失败的 UserID。","example":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}}></SchemaItem><SchemaItem collapsible={false} name={"SubCode"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"用户注册失败的具体返回码，完整返回码请参考 Code 说明或者 [全局返回码](/zim-server/return-codes)。\n","example":660000012}}></SchemaItem><SchemaItem collapsible={false} name={"SubMessage"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户注册失败的原因说明。","example":"user length limit"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\",\n  \"ErrorList\": [\n    {\n      \"UserId\": \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\",\n      \"SubCode\": 660000012,\n      \"SubMessage\": \"user length limit\"\n    }\n  ]\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      