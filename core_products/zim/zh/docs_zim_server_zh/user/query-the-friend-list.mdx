---
id: query-the-friend-list
title: "查询好友列表"
description: "根据用户 ID 分页拉取其好友列表，获取备注、好友关系建立时间等信息。"
api: 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
info_path: core_products/zim/zh/docs_zim_server_zh/user/open-api-desc
---

<h1 className={"openapi__heading"}>查询好友列表</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


根据用户 ID 分页拉取其好友列表，获取备注、好友关系建立时间等信息。

<Note title="说明">调用频率限制：20 次/秒。</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://zim-api.zego.im/?Action=QueryFriendList\n","required":true,"schema":{"type":"string","enum":["QueryFriendList"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。应用 Id，由 ZEGO 分配的用户唯一凭证。可从 <a target=\"_blank\" href=\"https://console.zego.im/\">ZEGO 控制台</a> 获取。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。16 位 16 进制随机字符串（8 字节随机数的 hex 编码）。生成算法可参考 <a href=\"/zim-server/accessing-server-apis#signature-example\">签名示例</a>。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。当前 Unix 时间戳，单位为秒。生成算法可参考 <a href=\"/zim-server/accessing-server-apis#signature-example\">签名示例</a>，最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/zim-server/accessing-server-apis#signature-mechanism)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"FromUserId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"查询此 UserID（已在客户端调用 login 方法登录 ZIM 服务，或已调用 [服务端 API](/zim-server/user/batch-register-users) 完成注册）的好友列表。","maxLength":32,"example":"zego"}}></SchemaItem><SchemaItem collapsible={false} name={"Limit"} required={true} schemaName={"number"} qualifierMessage={"**Possible values:** `>= 0` and `<= 100`"} schema={{"type":"number","description":"单次拉取多少名好友的信息。取值范围为 [0, 100]。如果不填或数值为 0、大于 100，取值为 100。","minimum":0,"maximum":100,"example":100}}></SchemaItem><SchemaItem collapsible={false} name={"Next"} required={true} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"分页拉取标志，第一次填 0 ，之后填上一次返回的 Next 值。当返回的 Next 为 0 时，代表好友列表获取完毕。\n\n例如，FromUserId 有 250 个好友，调用本接口查询时：\n\n- 第一次调用本接口，Limit 填 100，Next 传空，查询第 1 ～ 100 名好友；返回结果中的 Next 值为 num1。\n- 第二次调用本接口，Limit 填 100，Next 填 num1，查询第 101 ～ 200 名好友；返回结果中 Next 值为 num2。\n- 第三次调用本接口，Limit 填 100，Next 填 num2，查询第 201 ～ 250 名好友；查询完毕，返回结果中的 Next 为 0。\n","example":2}}></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>OK</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"返回码。\n\n<table>\n<tbody><tr>\n<th>返回码</th>\n<th>说明</th>\n<th>处理建议</th>\n</tr>\n<tr>\n<td>660000001</td>\n<td>业务类通用错误。</td>\n<td>请重试，或联系 ZEGO 技术支持。</td>\n</tr>\n<tr>\n<td>660000002</td>\n<td>参数错误。</td>\n<td>请检查请求参数。</td>\n</tr>\n<tr>\n<td>660300005</td>\n<td>调用接口的频率超出了 AppID 级别限制。</td>\n<td>请稍后再试。</td>\n</tr>\n</tbody></table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求结果的说明信息。","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID。","example":"343649807833778782"}}></SchemaItem><SchemaItem collapsible={false} name={"TotalCount"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","description":"当前好友总数。","example":500}}></SchemaItem><SchemaItem collapsible={false} name={"Next"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"分页拉取标志，非 0 表示还有好友信息未返回；为 0 表示已经返回所有好友信息。\n> **说明**\n>\n> 除上述说明之外，此字段与列表信息无任何关联，请勿基于此做任何其他逻辑。\n","example":1}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>FriendInfos</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>好友数据列表。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"UserId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"好友用户 ID。","example":"UserA"}}></SchemaItem><SchemaItem collapsible={false} name={"UserName"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户名称。","example":"UserNameA"}}></SchemaItem><SchemaItem collapsible={false} name={"Avatar"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户头像地址。","example":"Avatar1"}}></SchemaItem><SchemaItem collapsible={false} name={"Wording"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"建立好友关系时的附言。","example":"Wording1"}}></SchemaItem><SchemaItem collapsible={false} name={"FriendAlias"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"FromUserId 对此好友的备注。","example":"FriendAlias1"}}></SchemaItem><SchemaItem collapsible={false} name={"CreateTime"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"好友关系建立时间，单位为 ms。","example":1698310534000}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Attributes</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>好友属性。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"Key"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"好友属性的键。","example":"k1"}}></SchemaItem><SchemaItem collapsible={false} name={"Value"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"好友属性的值。","example":"Value"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\",\n  \"TotalCount\": 500,\n  \"Next\": 1,\n  \"FriendInfos\": [\n    {\n      \"UserId\": \"UserA\",\n      \"UserName\": \"UserNameA\",\n      \"Avatar\": \"Avatar1\",\n      \"Wording\": \"Wording1\",\n      \"FriendAlias\": \"FriendAlias1\",\n      \"CreateTime\": 1698310534000,\n      \"Attributes\": [\n        {\n          \"Key\": \"k1\",\n          \"Value\": \"Value\"\n        }\n      ]\n    }\n  ]\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Example"} value={"Example"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\",\n  \"TotalCount\": 500,\n  \"Next\": 1,\n  \"FriendInfos\": [\n    {\n      \"UserId\": \"UserA\",\n      \"UserName\": \"UserNameA\",\n      \"Avatar\": \"Avatar1\",\n      \"Wording\": \"Wording1\",\n      \"FriendAlias\": \"FriendAlias1\",\n      \"CreateTime\": 1698310534000,\n      \"Attributes\": [\n        {\n          \"Key\": \"k1\",\n          \"Value\": \"Value\"\n        },\n        {\n          \"Key\": \"k0\",\n          \"Value\": \"Value1\"\n        }\n      ]\n    },\n    {\n      \"UserId\": \"UserB\",\n      \"UserName\": \"UserNameB\",\n      \"Avatar\": \"Avatar2\",\n      \"Wording\": \"Wording1\",\n      \"FriendAlias\": \"FriendAlias2\",\n      \"CreateTime\": 1698310534000,\n      \"Attributes\": [\n        {\n          \"Key\": \"k3\",\n          \"Value\": \"Value\"\n        },\n        {\n          \"Key\": \"k4\",\n          \"Value\": \"Value1\"\n        }\n      ]\n    }\n  ]\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      