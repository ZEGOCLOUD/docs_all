---
id: query-the-friend-list
title: "QueryFriendList"
description: "根据用户 ID 分页拉取其好友列表，获取备注、好友关系建立时间等信息。"
api: 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
info_path: core_products/zim/zh/docs_zim_server_zh/user/open-api-desc
---

<h1 className={"openapi__heading"}>QueryFriendList</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


根据用户 ID 分页拉取其好友列表，获取备注、好友关系建立时间等信息。

<Note title="说明">调用频率限制：20 次/秒。</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://zim-api.zego.im/?Action=QueryFriendList\n","required":true,"schema":{"type":"string","enum":["QueryFriendList"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。应用 Id，由 ZEGO 分配的用户唯一凭证。可从 <a target=\"_blank\" href=\"https://console.zego.im/\">ZEGO 控制台</a> 获取。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。16 位 16 进制随机字符串（8 字节随机数的 hex 编码）。生成算法可参考 <a href=\"/zim-server/accessing-server-apis#signature-example\">签名示例</a>。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。当前 Unix 时间戳，单位为秒。生成算法可参考 <a href=\"/zim-server/accessing-server-apis#signature-example\">签名示例</a>，最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/zim-server/accessing-server-apis#signature-mechanism)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"FromUserId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"查询此 UserID（已在客户端调用 login 方法登录 ZIM 服务，或已调用 [服务端 API](/zim-server/user/batch-register-users) 完成注册）的好友列表。","maxLength":32,"example":"zego"}}></SchemaItem><SchemaItem collapsible={false} name={"Limit"} required={true} schemaName={"number"} qualifierMessage={"**Possible values:** `>= 0` and `<= 100`"} schema={{"type":"number","description":"单次拉取多少名好友的信息。取值范围为 [0, 100]。如果不填或数值为 0、大于 100，取值为 100。","minimum":0,"maximum":100,"example":100}}></SchemaItem><SchemaItem collapsible={false} name={"Next"} required={true} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"分页拉取标志，第一次填 0 ，之后填上一次返回的 Next 值。当返回的 Next 为 0 时，代表好友列表获取完毕。\n\n例如，FromUserId 有 250 个好友，调用本接口查询时：\n\n- 第一次调用本接口，Limit 填 100，Next 传空，查询第 1 ～ 100 名好友；返回结果中的 Next 值为 num1。\n- 第二次调用本接口，Limit 填 100，Next 填 num1，查询第 101 ～ 200 名好友；返回结果中 Next 值为 num2。\n- 第三次调用本接口，Limit 填 100，Next 填 num2，查询第 201 ～ 250 名好友；查询完毕，返回结果中的 Next 为 0。\n","example":2}}></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>OK</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"返回码。\n\n<table>\n<tbody><tr>\n<th>返回码</th>\n<th>说明</th>\n<th>处理建议</th>\n</tr>\n<tr>\n<td>660000001</td>\n<td>业务类通用错误。</td>\n<td>请重试，或联系 ZEGO 技术支持。</td>\n</tr>\n<tr>\n<td>660000002</td>\n<td>参数错误。</td>\n<td>请检查请求参数。</td>\n</tr>\n<tr>\n<td>660300005</td>\n<td>调用接口的频率超出了 AppID 级别限制。</td>\n<td>请稍后再试。</td>\n</tr>\n</tbody></table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求结果的说明信息。","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID。","example":"343649807833778782"}}></SchemaItem><SchemaItem collapsible={false} name={"TotalCount"} required={false} schemaName={"int32"} qualifierMessage={undefined} schema={{"type":"integer","format":"int32","description":"当前好友总数。","example":500}}></SchemaItem><SchemaItem collapsible={false} name={"Next"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"分页拉取标志，非 0 表示还有好友信息未返回；为 0 表示已经返回所有好友信息。\n> **说明**\n>\n> 除上述说明之外，此字段与列表信息无任何关联，请勿基于此做任何其他逻辑。\n","example":1}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>FriendInfos</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>好友数据列表。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"UserId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"好友用户 ID。","example":"UserA"}}></SchemaItem><SchemaItem collapsible={false} name={"UserName"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户名称。","example":"UserNameA"}}></SchemaItem><SchemaItem collapsible={false} name={"Avatar"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户头像地址。","example":"Avatar1"}}></SchemaItem><SchemaItem collapsible={false} name={"Wording"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"建立好友关系时的附言。","example":"Wording1"}}></SchemaItem><SchemaItem collapsible={false} name={"FriendAlias"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"FromUserId 对此好友的备注。","example":"FriendAlias1"}}></SchemaItem><SchemaItem collapsible={false} name={"CreateTime"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"好友关系建立时间，单位为 ms。","example":1698310534000}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Attributes</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>好友属性。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"Key"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"好友属性的键。","example":"k1"}}></SchemaItem><SchemaItem collapsible={false} name={"Value"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"好友属性的值。","example":"Value"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\",\n  \"TotalCount\": 500,\n  \"Next\": 1,\n  \"FriendInfos\": [\n    {\n      \"UserId\": \"UserA\",\n      \"UserName\": \"UserNameA\",\n      \"Avatar\": \"Avatar1\",\n      \"Wording\": \"Wording1\",\n      \"FriendAlias\": \"FriendAlias1\",\n      \"CreateTime\": 1698310534000,\n      \"Attributes\": [\n        {\n          \"Key\": \"k1\",\n          \"Value\": \"Value\"\n        }\n      ]\n    }\n  ]\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Example"} value={"Example"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\",\n  \"TotalCount\": 500,\n  \"Next\": 1,\n  \"FriendInfos\": [\n    {\n      \"UserId\": \"UserA\",\n      \"UserName\": \"UserNameA\",\n      \"Avatar\": \"Avatar1\",\n      \"Wording\": \"Wording1\",\n      \"FriendAlias\": \"FriendAlias1\",\n      \"CreateTime\": 1698310534000,\n      \"Attributes\": [\n        {\n          \"Key\": \"k1\",\n          \"Value\": \"Value\"\n        },\n        {\n          \"Key\": \"k0\",\n          \"Value\": \"Value1\"\n        }\n      ]\n    },\n    {\n      \"UserId\": \"UserB\",\n      \"UserName\": \"UserNameB\",\n      \"Avatar\": \"Avatar2\",\n      \"Wording\": \"Wording1\",\n      \"FriendAlias\": \"FriendAlias2\",\n      \"CreateTime\": 1698310534000,\n      \"Attributes\": [\n        {\n          \"Key\": \"k3\",\n          \"Value\": \"Value\"\n        },\n        {\n          \"Key\": \"k4\",\n          \"Value\": \"Value1\"\n        }\n      ]\n    }\n  ]\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      