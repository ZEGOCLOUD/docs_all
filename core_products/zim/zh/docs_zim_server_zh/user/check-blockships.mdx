---
id: check-blockships
title: "检查黑名单关系"
description: "调用此接口，可为一名用户批量检查其与至多 20 名其他用户的黑名单关系（是否已拉黑这些用户）。如需上调，请联系 ZEGO 技术支持。"
api: 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
info_path: core_products/zim/zh/docs_zim_server_zh/user/open-api-desc
---

<h1 className={"openapi__heading"}>检查黑名单关系</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


调用此接口，可为一名用户批量检查其与至多 20 名其他用户的黑名单关系（是否已拉黑这些用户）。如需上调，请联系 ZEGO 技术支持。
<Note title="说明">

参数 `FromUserId` 和 `UserId` 对应的用户已在客户端调用 `login` 方法登录 ZIM 服务，或已调用 [服务端 API](/zim-server/user/batch-register-users) 完成注册。
</Note>
<Note title="说明">参数 FromUserId 和 UserId 仅支持数字，英文字符和 `'!', '#', '$', '%', '&', '(', ')', '+', '-', ':', ';', '<', '=', '.', '>', '?', '@', '[', ']', '^', '_', '{', '}', '|', '~'`。</Note>
<Note title="说明">调用频率限制：20 次/秒。</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://zim-api.zego.im/?Action=CheckUsersIsInBlacklist\n","required":true,"schema":{"type":"string","enum":["CheckUsersIsInBlacklist"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。应用 Id，由 ZEGO 分配的用户唯一凭证。可从 <a target=\"_blank\" href=\"https://console.zego.im/\">ZEGO 控制台</a> 获取。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。16 位 16 进制随机字符串（8 字节随机数的 hex 编码）。生成算法可参考 <a href=\"/zim-server/accessing-server-apis#signature-example\">签名示例</a>。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。当前 Unix 时间戳，单位为秒。生成算法可参考 <a href=\"/zim-server/accessing-server-apis#signature-example\">签名示例</a>，最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/zim-server/accessing-server-apis#signature-mechanism)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"FromUserId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"为此用户查询黑名单关系。","maxLength":32,"example":"zego_user"}}></SchemaItem><SchemaItem collapsible={false} name={"UserIds"} required={true} schemaName={"string[]"} qualifierMessage={"**Possible values:** `<= 20`"} schema={{"type":"array","description":"待检查黑名单关系的目标用户列表。默认数量上限为 20。","maxItems":20,"items":{"type":"string","maxLength":32,"example":"user1"},"example":["user1","user2","user3","user4"]}}></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>OK</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"返回码。\n\n以下仅列出了接口业务逻辑相关的 Code 和 SubCode ，完整返回码请参考 [全局返回码](/zim-server/return-codes)。\n> **说明**\n>\n> 当您发起请求同时检查 FromUserId 与多名用户的黑名单关系时：\n> <ul><li>如果成功检查 FromUserId 与 1 名或更多用户的黑名单关系，Code 都会返回 0。此时请参考 ErrList 中的具体信息，确认操作结果。</li>\n> <li>如果 FromUserId 与全部目标用户的黑名单关系都检查失败，Code 会返回相关返回码，具体请参考 <a href=\"/zim-server/return-codes\" target=\"_blank\">全局返回码</a>。</li></ul>\n<table>\n<tbody><tr>\n<th>Code / SubCode</th>\n<th>描述</th>\n<th>处理建议</th>\n</tr>\n<tr>\n<td>660000002</td>\n<td>输入参数错误。</td>\n<td>请检查输入的参数。</td>\n</tr>\n<tr>\n<td>660300005</td>\n<td>调用接口的频率超出了 AppID 级别限制。</td>\n<td>请稍后再试。</td>\n</tr>\n<tr>\n<td>660500002</td>\n<td>FromUserId 未注册。</td>\n<td>请确认该用户是否已注册：<br/>确认已注册，请联系 ZEGO 技术支持排查。<br/>确认未注册，请注册此用户。</td>\n</tr>\n<tr>\n<td>660700015</td>\n<td>接口目标用户未注册。</td>\n<td>请确认该用户是否已注册：<br/>确认已注册，请联系 ZEGO 技术支持排查。<br/>确认未注册，请注册此用户。</td>\n</tr>\n<tr>\n<td>660800001</td>\n<td>FromUserId 未注册。</td>\n<td>请确认该用户是否已注册：<br/>确认已注册，请联系 ZEGO 技术支持排查。<br/>确认未注册，请注册此用户。</td>\n</tr>\n<tr>\n<td>660800039</td>\n<td>传入的用户列表超过限制。</td>\n<td>请缩短传入的用户列表。</td>\n</tr>\n</tbody></table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求结果的说明信息。","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID。","example":"343649807833778782"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Succ</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>检查成功列表。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"UserId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"成功检查 FromUserId 与此用户 ID 的黑名单关系。","example":"user1"}}></SchemaItem><SchemaItem collapsible={false} name={"Result"} required={false} schemaName={"number"} qualifierMessage={"**Possible values:** [`0`, `1`]"} schema={{"type":"number","description":"检查结果：\n- 0：没被 FromUserId 拉黑。\n- 1：已被 FromUserId 拉黑。\n","enum":[0,1],"example":1}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>ErrList</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>检查失败列表。<ul><li>Code 为 0：</li><li>ErrList 为空，表示成功检查 FromUserId 与全部目标用户的黑名单关系。</li><li>ErrList 不为空，表示 FromUserId 与部分目标用户的黑名单关系检查失败，请参考 SubCode 处理。</li><li>Code 不为 0：</li><li>ErrList 为空，表示参数错误、接口频率限制、系统错误。</li><li>ErrList 不为空，表示FromUserId 与全部目标用户的黑名单关系检查失败。</li></ul></div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"UserId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"FromUserId 与此用户 ID 的黑名单关系检查失败。","example":"user3"}}></SchemaItem><SchemaItem collapsible={false} name={"SubCode"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"具体失败返回码，完整返回码请参考 Code 说明或者 [全局返回码](/zim-server/return-codes)。\n","example":660000002}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\",\n  \"Succ\": [\n    {\n      \"UserId\": \"user1\",\n      \"Result\": 1\n    }\n  ],\n  \"ErrList\": [\n    {\n      \"UserId\": \"user3\",\n      \"SubCode\": 660000002\n    }\n  ]\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Example"} value={"Example"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\",\n  \"Succ\": [\n    {\n      \"UserId\": \"user1\",\n      \"Result\": 1\n    },\n    {\n      \"UserId\": \"user2\",\n      \"Result\": 1\n    }\n  ],\n  \"ErrList\": [\n    {\n      \"UserId\": \"user3\",\n      \"SubCode\": 660000002\n    },\n    {\n      \"UserId\": \"user4\",\n      \"SubCode\": 660000002\n    }\n  ]\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      