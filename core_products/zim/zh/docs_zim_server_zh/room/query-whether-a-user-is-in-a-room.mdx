---
id: query-whether-a-user-is-in-a-room
title: "查询用户是否在房间内"
description: "查询用户是否在指定房间内。默认支持批量查询至多 10 名用户，如需调整，请联系 ZEGO 技术支持。"
api: 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
info_path: core_products/zim/zh/docs_zim_server_zh/room/open-api-desc
---

<h1 className={"openapi__heading"}>查询用户是否在房间内</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


查询用户是否在指定房间内。默认支持批量查询至多 10 名用户，如需调整，请联系 ZEGO 技术支持。

<Note title="说明">调用频率限制：5 次/秒，房间级别限制。</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://zim-api.zego.im/?Action=QueryRoomMembers\n","required":true,"schema":{"type":"string","enum":["QueryRoomMembers"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。应用 Id，由 ZEGO 分配的用户唯一凭证。可从 <a target=\"_blank\" href=\"https://console.zego.im/\">ZEGO 控制台</a> 获取。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。16 位 16 进制随机字符串（8 字节随机数的 hex 编码）。生成算法可参考 <a href=\"/zim-server/accessing-server-apis#signature-example\">签名示例</a>。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。当前 Unix 时间戳，单位为秒。生成算法可参考 <a href=\"/zim-server/accessing-server-apis#signature-example\">签名示例</a>，最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/zim-server/accessing-server-apis#signature-mechanism)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"UserId","in":"query","required":true,"description":"需要查询的用户 ID 列表，默认最多可查询 10 个用户 ID。\n\n>**说明**\n>\n>UserId 长度上限为 32 字节，RoomID 长度上限为 128 字节，均仅支持数字，英文字符和 '!'，'#'，'$'，'%'，'&'，'('，')'，'+'，'-'，':'，';'，'<'，'='，'.'，'>'，'?'，'@'，'['，']'，'^'，'_'，' '，'{'，'}'，'|'，'~'。\n\n示例：UserId[]=a&UserId[]=b&UserId[]=c&UserId[]=d\n","schema":{"type":"array","maxItems":10,"items":{"type":"string","maxLength":32,"example":"user1"}},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"RoomId","in":"query","required":true,"description":"房间 ID。","schema":{"type":"string","maxLength":32,"example":"room123"}}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>OK</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"返回码。\n\n以下仅列出了接口业务逻辑相关的 Code 和 SubCode ，完整返回码请参考 [全局返回码](/zim-server/return-codes)。\n<table>\n<thead><tr><th>Code / SubCode</th><th>说明</th><th>处理建议</th></tr></thead>\n<tbody>\n<tr><td>660000002</td><td>参数错误</td><td>请检查输入的参数</td></tr>\n<tr><td>660000011</td><td>用户个数超过限制。</td><td>请检查输入的用户列表。</td></tr>\n<tr><td>660200001</td><td>用户未注册</td><td>请确认用户 ID 是否存在或用户是否已登出 ZIM 服务。</td></tr>\n<tr><td>660300006</td><td>调用接口频率超出限制。</td><td>请稍后再试。</td></tr>\n<tr><td>660300012</td><td>用户不在房间内</td><td>无需处理。</td></tr>\n</tbody>\n</table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求结果的说明信息。","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID。","example":"343649807833778782"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>UserList</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>查询结果，即在指定房间的用户列表。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"user_id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"在指定房间的用户的 ID。","example":"a"}}></SchemaItem><SchemaItem collapsible={false} name={"user_name"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"在指定房间的用户的名称。","example":"UserNamea"}}></SchemaItem><SchemaItem collapsible={false} name={"avatar"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户头像信息，可为 null。","nullable":true,"example":"https://www.xxx.com/avatarA.png"}}></SchemaItem><SchemaItem collapsible={false} name={"extra"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"扩展信息，可为 null。","nullable":true,"example":"Extraa"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>ErrorList</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>不在指定房间的用户列表。    <ul>    <li>Code 为 0：</li>    <li> ErrorList 为空，全部用户都在指定房间。</li>    <li> ErrorList 不为空，表示部分用户不在指定房间，请参考 SubCode 处理。</li>    </ul>    <ul>    <li>Code 不为 0：</li>    <li>ErrorList 为空，表示参数错误、接口频率限制、系统错误。</li>    <li>ErrorList 不为空，表示全部用户都不在指定房间。</li>    </ul></div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"UserId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"不在指定房间的用户的 ID。","example":"c"}}></SchemaItem><SchemaItem collapsible={false} name={"SubCode"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"不在指定房间原因的返回码，完整返回码请参考 Code 说明或者 [全局返回码](/zim-server/return-codes)。\n","example":660300012}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\",\n  \"UserList\": [\n    {\n      \"user_id\": \"a\",\n      \"user_name\": \"UserNamea\",\n      \"avatar\": \"https://www.xxx.com/avatarA.png\",\n      \"extra\": \"Extraa\"\n    }\n  ],\n  \"ErrorList\": [\n    {\n      \"UserId\": \"c\",\n      \"SubCode\": 660300012\n    }\n  ]\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Example"} value={"Example"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\",\n  \"UserList\": [\n    {\n      \"user_id\": \"a\",\n      \"user_name\": \"UserNamea\",\n      \"avatar\": \"https://www.xxx.com/avatarA.png\",\n      \"extra\": \"Extraa\"\n    },\n    {\n      \"user_id\": \"b\",\n      \"user_name\": \"UserNameb\",\n      \"avatar\": \"https://www.xxx.com/avatarB.png\",\n      \"extra\": \"Extrab\"\n    }\n  ],\n  \"ErrorList\": [\n    {\n      \"UserId\": \"c\",\n      \"SubCode\": 660300012\n    },\n    {\n      \"UserId\": \"d\",\n      \"SubCode\": 660200001\n    }\n  ]\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      