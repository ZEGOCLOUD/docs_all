---
id: query-whether-a-user-is-in-a-room
title: "QueryRoomMembers"
description: "查询用户是否在指定房间内。默认支持批量查询至多 10 名用户，如需调整，请联系 ZEGO 技术支持。"
api: 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
info_path: core_products/zim/zh/docs_zim_server_zh/room/open-api-desc
---

<h1 className={"openapi__heading"}>QueryRoomMembers</h1>

<MethodEndpoint method={"get"} path={"/"}></MethodEndpoint>


查询用户是否在指定房间内。默认支持批量查询至多 10 名用户，如需调整，请联系 ZEGO 技术支持。

<Note title="说明">调用频率限制：5 次/秒，房间级别限制。</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://zim-api.zego.im/?Action=QueryRoomMembers\n","required":true,"schema":{"type":"string","enum":["QueryRoomMembers"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。应用 Id，由 ZEGO 分配的用户唯一凭证。可从 <a target=\"_blank\" href=\"https://console.zego.im/\">ZEGO 控制台</a> 获取。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。16 位 16 进制随机字符串（8 字节随机数的 hex 编码）。生成算法可参考 <a href=\"/zim-server/accessing-server-apis#signature-example\">签名示例</a>。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。当前 Unix 时间戳，单位为秒。生成算法可参考 <a href=\"/zim-server/accessing-server-apis#signature-example\">签名示例</a>，最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/zim-server/accessing-server-apis#signature-mechanism)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"UserId","in":"query","required":true,"description":"需要查询的用户 ID 列表，默认最多可查询 10 个用户 ID。\n\n>**说明**\n>\n>UserId 长度上限为 32 字节，RoomID 长度上限为 128 字节，均仅支持数字，英文字符和 '!'，'#'，'$'，'%'，'&'，'('，')'，'+'，'-'，':'，';'，'<'，'='，'.'，'>'，'?'，'@'，'['，']'，'^'，'_'，' '，'{'，'}'，'|'，'~'。\n\n示例：UserId[]=a&UserId[]=b&UserId[]=c&UserId[]=d\n","schema":{"type":"array","maxItems":10,"items":{"type":"string","maxLength":32,"example":"user1"}},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"RoomId","in":"query","required":true,"description":"房间 ID。","schema":{"type":"string","maxLength":32,"example":"room123"}}}></ParamsItem></ul></div></details>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>OK</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"返回码。\n\n以下仅列出了接口业务逻辑相关的 Code 和 SubCode ，完整返回码请参考 [全局返回码](/zim-server/return-codes)。\n<table>\n<thead><tr><th>Code / SubCode</th><th>说明</th><th>处理建议</th></tr></thead>\n<tbody>\n<tr><td>660000002</td><td>参数错误</td><td>请检查输入的参数</td></tr>\n<tr><td>660000011</td><td>用户个数超过限制。</td><td>请检查输入的用户列表。</td></tr>\n<tr><td>660200001</td><td>用户未注册</td><td>请确认用户 ID 是否存在或用户是否已登出 ZIM 服务。</td></tr>\n<tr><td>660300006</td><td>调用接口频率超出限制。</td><td>请稍后再试。</td></tr>\n<tr><td>660300012</td><td>用户不在房间内</td><td>无需处理。</td></tr>\n</tbody>\n</table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求结果的说明信息。","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID。","example":"343649807833778782"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>UserList</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>查询结果，即在指定房间的用户列表。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"user_id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"在指定房间的用户的 ID。","example":"a"}}></SchemaItem><SchemaItem collapsible={false} name={"user_name"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"在指定房间的用户的名称。","example":"UserNamea"}}></SchemaItem><SchemaItem collapsible={false} name={"avatar"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户头像信息，可为 null。","nullable":true,"example":"https://www.xxx.com/avatarA.png"}}></SchemaItem><SchemaItem collapsible={false} name={"extra"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"扩展信息，可为 null。","nullable":true,"example":"Extraa"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>ErrorList</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>不在指定房间的用户列表。    <ul>    <li>Code 为 0：</li>    <li> ErrorList 为空，全部用户都在指定房间。</li>    <li> ErrorList 不为空，表示部分用户不在指定房间，请参考 SubCode 处理。</li>    </ul>    <ul>    <li>Code 不为 0：</li>    <li>ErrorList 为空，表示参数错误、接口频率限制、系统错误。</li>    <li>ErrorList 不为空，表示全部用户都不在指定房间。</li>    </ul></div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"UserId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"不在指定房间的用户的 ID。","example":"c"}}></SchemaItem><SchemaItem collapsible={false} name={"SubCode"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"不在指定房间原因的返回码，完整返回码请参考 Code 说明或者 [全局返回码](/zim-server/return-codes)。\n","example":660300012}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\",\n  \"UserList\": [\n    {\n      \"user_id\": \"a\",\n      \"user_name\": \"UserNamea\",\n      \"avatar\": \"https://www.xxx.com/avatarA.png\",\n      \"extra\": \"Extraa\"\n    }\n  ],\n  \"ErrorList\": [\n    {\n      \"UserId\": \"c\",\n      \"SubCode\": 660300012\n    }\n  ]\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Example"} value={"Example"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\",\n  \"UserList\": [\n    {\n      \"user_id\": \"a\",\n      \"user_name\": \"UserNamea\",\n      \"avatar\": \"https://www.xxx.com/avatarA.png\",\n      \"extra\": \"Extraa\"\n    },\n    {\n      \"user_id\": \"b\",\n      \"user_name\": \"UserNameb\",\n      \"avatar\": \"https://www.xxx.com/avatarB.png\",\n      \"extra\": \"Extrab\"\n    }\n  ],\n  \"ErrorList\": [\n    {\n      \"UserId\": \"c\",\n      \"SubCode\": 660300012\n    },\n    {\n      \"UserId\": \"d\",\n      \"SubCode\": 660200001\n    }\n  ]\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      