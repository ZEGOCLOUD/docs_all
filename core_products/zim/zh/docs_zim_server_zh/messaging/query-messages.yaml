openapi: 3.0.0
info:
  title: open-api-desc
  version: 1.0.0
  contact:
    name: ZEGO Support
    email: support@zegocloud.com

servers:
  $ref: '../shared-components.yaml#/servers'

tags:
  - messaging

paths:
  /:
    post:
      tags: [messaging]
      summary: æŸ¥è¯¢æ¶ˆæ¯
      description: |
        æœ¬æ¥å£æ”¯æŒæŸ¥è¯¢å•ä¸ªæŒ‡å®šä¼šè¯ï¼ˆç¾¤èŠã€å•èŠï¼‰ä¸­çš„å¤šæ¡æ¶ˆæ¯ã€‚

        <Warning title="æ³¨æ„">æœ¬æ¥å£çš„é¢‘ç‡é™åˆ¶æ˜¯ 20 æ¡æ¶ˆæ¯/ç§’ï¼Œè€Œé 20 æ¬¡/ç§’ã€‚</Warning>

      operationId: query-messages
      parameters:
        - name: Action
          in: query
          description: |
            > æ¥å£åŸå‹å‚æ•°
            >
            > https://zim-api.zego.im/?Action=QueryMessagesByMsgSeq
          required: true
          schema:
            type: string
            enum: [QueryMessagesByMsgSeq]
          style: form
          explode: true
        - $ref: '../shared-components.yaml#/components/parameters/AppId'
        - $ref: '../shared-components.yaml#/components/parameters/SignatureNonce'
        - $ref: '../shared-components.yaml#/components/parameters/Timestamp'
        - $ref: '../shared-components.yaml#/components/parameters/SignatureVersion'
        - $ref: '../shared-components.yaml#/components/parameters/Signature'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/QueryMessagesRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QueryMessagesResponse'

components:
  schemas:
    MsgBodyContent:
      anyOf:
        - $ref: '#/components/schemas/å¤šåª’ä½“æ¶ˆæ¯'
        - $ref: '#/components/schemas/ç»„åˆæ¶ˆæ¯'
        - $ref: '#/components/schemas/æ’¤å›æ¶ˆæ¯'
        - $ref: '#/components/schemas/Tips æ¶ˆæ¯'

    å¤šåª’ä½“æ¶ˆæ¯:
      type: object
      description: å¤šåª’ä½“æ¶ˆæ¯
      properties:
        md5:
          type: string
          description: æ–‡ä»¶çš„ MD5 å€¼ã€‚
        file_name:
          type: string
          description: æ–‡ä»¶åç§°ã€‚
        file_size:
          type: string
          description: æ–‡ä»¶å¤§å°ï¼Œå•ä½ä¸ºå­—èŠ‚ï¼ˆBï¼‰ã€‚
        download_url:
          type: string
          description: ä¸‹è½½åœ°å€ã€‚
        media_duration:
          type: string
          description: éŸ³è§†é¢‘æ—¶é•¿ï¼Œå•ä½ä¸ºç§’ï¼ˆsï¼‰ã€‚
        origin_image_width:
          type: integer
          description: ğŸï¸å¦‚æœæ˜¯å›¾ç‰‡æ¶ˆæ¯åˆ™åŒ…å«æ­¤å±æ€§ã€‚åŸå›¾çš„å®½åº¦ï¼Œå•ä½ä¸ºåƒç´ ï¼ˆpxï¼‰ã€‚
        origin_image_height:
          type: integer
          description: ğŸï¸å¦‚æœæ˜¯å›¾ç‰‡æ¶ˆæ¯åˆ™åŒ…å«æ­¤å±æ€§ã€‚åŸå›¾çš„é«˜åº¦ï¼Œå•ä½ä¸ºåƒç´ ï¼ˆpxï¼‰ã€‚
        large_image_download_url:
          type: string
          description: ğŸï¸å¦‚æœæ˜¯å›¾ç‰‡æ¶ˆæ¯åˆ™åŒ…å«æ­¤å±æ€§ã€‚å¤§å›¾ä¸‹è½½åœ°å€ã€‚
        large_image_width:
          type: integer
          description: ğŸï¸å¦‚æœæ˜¯å›¾ç‰‡æ¶ˆæ¯åˆ™åŒ…å«æ­¤å±æ€§ã€‚å¤§å›¾çš„å®½åº¦ï¼Œå•ä½ä¸ºåƒç´ ï¼ˆpxï¼‰ã€‚
        large_image_height:
          type: integer
          description: ğŸï¸å¦‚æœæ˜¯å›¾ç‰‡æ¶ˆæ¯åˆ™åŒ…å«æ­¤å±æ€§ã€‚å¤§å›¾çš„é«˜åº¦ï¼Œå•ä½ä¸ºåƒç´ ï¼ˆpxï¼‰ã€‚
        thumbnail_download_url:
          type: string
          description: ğŸï¸å¦‚æœæ˜¯å›¾ç‰‡æ¶ˆæ¯åˆ™åŒ…å«æ­¤å±æ€§ã€‚ç¼©ç•¥å›¾ä¸‹è½½åœ°å€ã€‚
        thumbnail_width:
          type: integer
          description: ğŸï¸å¦‚æœæ˜¯å›¾ç‰‡æ¶ˆæ¯åˆ™åŒ…å«æ­¤å±æ€§ã€‚ç¼©ç•¥å›¾çš„å®½åº¦ï¼Œå•ä½ä¸ºåƒç´ ï¼ˆpxï¼‰ã€‚
        thumbnail_height:
          type: integer
          description: ğŸï¸å¦‚æœæ˜¯å›¾ç‰‡æ¶ˆæ¯åˆ™åŒ…å«æ­¤å±æ€§ã€‚ç¼©ç•¥å›¾çš„é«˜åº¦ï¼Œå•ä½ä¸ºåƒç´ ï¼ˆpxï¼‰ã€‚
        video_first_frame_download_url:
          type: string
          description: ğŸ¬å¦‚æœæ˜¯è§†é¢‘æ¶ˆæ¯åˆ™åŒ…å«æ­¤å±æ€§ã€‚è§†é¢‘é¦–å¸§å›¾çš„ä¸‹è½½åœ°å€ã€‚
        video_first_frame_width:
          type: integer
          description: ğŸ¬å¦‚æœæ˜¯è§†é¢‘æ¶ˆæ¯åˆ™åŒ…å«æ­¤å±æ€§ã€‚è§†é¢‘é¦–å¸§å›¾çš„å®½åº¦ï¼Œå•ä½ä¸ºåƒç´ ï¼ˆpxï¼‰ã€‚
        video_first_frame_height:
          type: integer
          description: ğŸ¬å¦‚æœæ˜¯è§†é¢‘æ¶ˆæ¯åˆ™åŒ…å«æ­¤å±æ€§ã€‚è§†é¢‘é¦–å¸§å›¾çš„é«˜åº¦ï¼Œå•ä½ä¸ºåƒç´ ï¼ˆpxï¼‰ã€‚


    ç»„åˆæ¶ˆæ¯:
      type: object
      description: ç»„åˆæ¶ˆæ¯
      properties:
        multi_msg:
          type: array
          description: ç»„åˆæ¶ˆæ¯ Item æ•°ç»„ã€‚
          items:
            $ref: '#/components/schemas/MultiMsgItem'

    MultiMsgItem:
      type: object
      description: ç»„åˆæ¶ˆæ¯ Item
      properties:
        msg_type:
          type: integer
          description: |
            Item ç±»å‹ï¼š
            - 1ï¼šæ–‡æœ¬ã€‚
            - 11ï¼šå›¾ç‰‡ã€‚
            - 12ï¼šæ–‡æ¡£ã€‚
            - 13ï¼šéŸ³é¢‘ã€‚
            - 14ï¼šè§†é¢‘ã€‚
            - 200ï¼šè‡ªå®šä¹‰æ¶ˆæ¯ç±»å‹ã€‚
          enum: [1, 11, 12, 13, 14, 200]
        sub_msg_type:
          type: integer
          description: ä»…å½“ msg_type ä¸º 200 æ—¶ï¼Œè¿”å›æ­¤å‚æ•°ã€‚
        callback_content:
          type: object
          description: |
            Item å†…å®¹ã€‚
            - ä»…å½“ msg_type ä¸º 1 æˆ– 200 æ—¶ï¼Œå¯ç›´æ¥åœ¨æ­¤å‚æ•°é˜…è¯»æ¶ˆæ¯å†…å®¹ã€‚
            - å½“ Item ä¸º 11ã€12ã€13 æˆ– 14ï¼Œè¯·å‚è€ƒå¤šåª’ä½“æ¶ˆæ¯ç»“æ„äº†è§£æ¶ˆæ¯çš„å„ä¸ªå­—æ®µæ•°æ®ã€‚

    æ’¤å›æ¶ˆæ¯:
      type: object
      description: æ’¤å›æ¶ˆæ¯
      properties:
        user_id:
          type: string
          description: æ’¤å›å‘èµ·ç”¨æˆ·çš„ userIDã€‚
        revoke_time:
          type: number
          description: æ’¤å›æ“ä½œçš„æ—¶é—´æˆ³ï¼Œå•ä½ä¸ºæ¯«ç§’ã€‚
        msg_type:
          type: number
          description: åŸæ¶ˆæ¯ç±»å‹ã€‚
        payload:
          type: string
          description: æ’¤å›æ“ä½œæ—¶æºå¸¦çš„æ‰©å±•å­—æ®µã€‚
        msg_status:
          type: number
          description: |
            æ’¤å›çš„å¯¹åº”çŠ¶æ€ï¼š
            - 4ï¼šç”±ç”¨æˆ·è‡ªè¡Œæ’¤å›ã€‚
            - 8ï¼šç”±ç³»ç»Ÿæ’¤å›ã€‚
            - 12ï¼šé€šè¿‡æœåŠ¡ç«¯ API æ’¤å›ã€‚
            - 16ï¼šç”±ç¾¤ç®¡ç†å‘˜æ’¤å›ã€‚
            - 20ï¼šç”±ç¾¤ä¸»æ’¤å›ã€‚
            - 24ï¼šå› æœªé€šè¿‡å®¡æ ¸è€Œé­æ’¤å›ã€‚

    Tips æ¶ˆæ¯:
      type: object
      description: Tips æ¶ˆæ¯
      properties:
        type:
          type: number
          description: |
            Tips æ¶ˆæ¯ç±»å‹ï¼š
            - ç¾¤æˆå‘˜å˜æ›´ï¼š
              - 1ï¼šç¾¤åˆ›å»ºã€‚
              - 2ï¼šç¾¤è§£æ•£ã€‚
              - 3ï¼šç”¨æˆ·ä¸»åŠ¨åŠ ç¾¤ã€‚
              - 4ï¼šç¾¤å†…æˆå‘˜é‚€è¯·ç¾¤å¤–ç”¨æˆ·åŠ å…¥ç¾¤ç»„ã€‚
              - 5ï¼šç¾¤æˆå‘˜ä¸»åŠ¨ç¦»å¼€ã€‚
              - 6ï¼šç¾¤å†…æˆå‘˜è¢«è¸¢å‡ºã€‚
            - ç¾¤æˆå‘˜èµ„æ–™å˜æ›´ï¼š
              - 11ï¼šç¾¤ä¸»è½¬ç§»ã€‚
              - 12ï¼šç¾¤æˆå‘˜è§’è‰²å˜æ›´ã€‚
              - 13ï¼šç¾¤æˆå‘˜ç¦è¨€çŠ¶æ€å˜æ›´ã€‚
            - ç¾¤èµ„æ–™å˜æ›´ï¼š
              - 30ï¼šç¾¤åã€ç¾¤å¤´åƒã€ç¾¤å…¬å‘Šå˜æ›´ã€‚
              - 34ï¼šç¾¤ç»„ç¦è¨€çŠ¶æ€å˜æ›´ã€‚
        op_user_info:
          type: object
          description: Tips æ¶ˆæ¯è§¦å‘è€…ï¼ˆä¾‹å¦‚ï¼šç¾¤ç»„åˆ›å»ºç”¨æˆ·ã€ç¾¤åç§°ä¿®æ”¹ç”¨æˆ·ï¼‰çš„ç”¨æˆ·ä¿¡æ¯ã€‚
          properties:
            user_id:
              type: string
              description: ç”¨æˆ· IDã€‚
            role:
              type: number
              description: |
                ç”¨æˆ·çš„ç¾¤æˆå‘˜è§’è‰²ã€‚
                - 1ï¼šç¾¤ä¸»ã€‚
                - 2ï¼šç¾¤ç®¡ç†å‘˜ã€‚
                - 3ï¼šç¾¤æˆå‘˜ã€‚
            group_member_name:
              type: string
              description: ç”¨æˆ·åã€‚
            group_member_nickname:
              type: string
              description: ç”¨æˆ·çš„ç¾¤æˆå‘˜æ˜µç§°ã€‚
        target_users:
          type: array
          description: Tips æ¶ˆæ¯è§¦å‘æ“ä½œçš„ç›®æ ‡ç”¨æˆ·ï¼ˆä¾‹å¦‚ï¼šåœ¨åˆ›å»ºç¾¤æ—¶ä¸€èµ·è¢«é‚€è¯·åŠ å…¥ç¾¤çš„ç”¨æˆ·ã€è¢«è¸¢å‡ºç¾¤ç»„çš„ç”¨æˆ·ç­‰ï¼‰ã€‚
          items:
            type: object
            properties:
              user_id:
                type: string
                description: ç”¨æˆ· IDã€‚
              role:
                type: number
                description: |
                  ç”¨æˆ·çš„ç¾¤æˆå‘˜è§’è‰²ã€‚
                  - 1ï¼šç¾¤ä¸»ã€‚
                  - 2ï¼šç¾¤ç®¡ç†å‘˜ã€‚
                  - 3ï¼šç¾¤æˆå‘˜ã€‚
              group_member_name:
                type: string
                description: ç”¨æˆ·åã€‚
              group_member_nickname:
                type: string
                description: ç”¨æˆ·çš„ç¾¤æˆå‘˜æ˜µç§°ã€‚
        group_data_flag:
          type: number
          description: |
            å½“ type ä¸º 30 æ—¶ï¼Œæ­¤å‚æ•°æœ‰æ„ä¹‰ï¼Œè¡¨ç¤ºè¢«ä¿®æ”¹çš„ç¾¤èµ„æ–™é¡¹ç›®ã€‚
            - 1ï¼šç¾¤åç§°ã€‚
            - 2ï¼šç¾¤å…¬å‘Šã€‚
            - 4ï¼šç¾¤å¤´åƒã€‚
        group_notice:
          type: string
          description: ç¾¤å…¬å‘Šã€‚
        group_name:
          type: string
          description: ç¾¤åç§°ã€‚
        group_avatar:
          type: string
          description: ç¾¤å¤´åƒã€‚
        forbid:
          type: object
          description: å½“ type ä¸º 34 æ—¶ï¼Œæ­¤å‚æ•°è¡¨ç¤ºç¾¤ç»„ç¦è¨€å¯¹è±¡ã€‚
          properties:
            is_all_forbid:
              type: boolean
              description: |
                æ˜¯å¦å…¨å‘˜ç¦è¨€ï¼š
                - falseï¼šä¸æ˜¯ã€‚
                - trueï¼šæ˜¯ã€‚
            forbid_role_list:
              type: array
              description: è¢«ç¦è¨€çš„ç¾¤æˆå‘˜è§’è‰²ã€‚
              items:
                type: number
            forbid_expire_time:
              type: number
              description: ç¦è¨€åˆ°æœŸæ—¶é—´æˆ³ï¼Œå•ä½ä¸ºæ¯«ç§’ã€‚
        forbid_expire_time:
          type: number
          description: å½“ type ä¸º 13 æ—¶ï¼Œæ­¤å‚æ•°è¡¨ç¤ºç¾¤æˆå‘˜ç¦è¨€åˆ°æœŸæ—¶é—´æˆ³ï¼Œå•ä½ä¸ºæ¯«ç§’ã€‚
        role:
          type: number
          description: |
            å½“ type ä¸º 12 æ—¶ï¼Œæ­¤å‚æ•°è¡¨ç¤ºå˜æ›´åçš„ç¾¤æˆå‘˜è§’è‰²ã€‚
            - 1ï¼šç¾¤ä¸»ã€‚
            - 2ï¼šç¾¤ç®¡ç†å‘˜ã€‚
            - 3ï¼šç¾¤æˆå‘˜ã€‚

    QueryMessagesRequest:
      type: object
      required: [FromUserId, ConvId, ConvType, MsgSeqList]
      properties:
        FromUserId:
          type: string
          description: |
            ç”¨æˆ·çš„ UserIDï¼ˆå·²åœ¨å®¢æˆ·ç«¯è°ƒç”¨ login æ–¹æ³•ç™»å½• ZIM æœåŠ¡ï¼Œæˆ–å·²è°ƒç”¨ [æœåŠ¡ç«¯ API](/zim-server/user/batch-register-users) å®Œæˆæ³¨å†Œï¼‰ã€‚
            - æŸ¥è¯¢å•èŠä¼šè¯æ¶ˆæ¯æ—¶ï¼Œæ­¤å¤„å¡«å…¥ä»»ä¸€å‚ä¸ç”¨æˆ·çš„ userIDã€‚
            - æŸ¥è¯¢ç¾¤èŠä¼šè¯æ¶ˆæ¯æ—¶ï¼Œæ­¤å¤„å¯å¡«å…¥ä»»æ„å·²æ³¨å†Œç”¨æˆ·çš„ userIDã€‚
          maxLength: 32
          example: "user0"
        ConvId:
          type: string
          description: |
            ä¼šè¯ IDã€‚
            - æŸ¥è¯¢å•èŠä¼šè¯æ¶ˆæ¯æ—¶ï¼Œæ­¤å¤„å¡«å…¥å¦ä¸€å‚ä¸ç”¨æˆ·çš„ userIDï¼ˆå·²åœ¨å®¢æˆ·ç«¯è°ƒç”¨ login æ–¹æ³•ç™»å½• ZIM æœåŠ¡ï¼Œæˆ–å·²è°ƒç”¨ [æœåŠ¡ç«¯ API](/zim-server/user/batch-register-users) å®Œæˆæ³¨å†Œï¼‰ã€‚
            - æŸ¥è¯¢ç¾¤èŠä¼šè¯æ¶ˆæ¯æ—¶ï¼Œæ­¤å¤„å¡«å…¥ç›®æ ‡ç¾¤ç»„çš„ groupIDã€‚
          maxLength: 32
          example: "user1"
        ConvType:
          type: number
          description: |
            ä¼šè¯ç±»å‹ï¼š
            - 0ï¼šå•èŠã€‚
            - 2ï¼šç¾¤èŠã€‚
          enum: [0, 2]
          example: 0
        MsgSeqList:
          type: array
          description: |
            å¾…æŸ¥è¯¢æ¶ˆæ¯çš„ seq åˆ—è¡¨ã€‚åˆ—è¡¨é•¿åº¦ä¸Šé™ä¸º 20ã€‚
            > **è¯´æ˜**
            >
            > å¦‚éœ€ä¸Šè°ƒï¼Œè¯·è”ç³» ZEGO æŠ€æœ¯æ”¯æŒã€‚

            seq è·å–æ–¹å¼ï¼š
            - è‹¥éœ€è¦æŸ¥è¯¢ç”±**å®¢æˆ·ç«¯**å‘å‡ºçš„æ¶ˆæ¯ï¼Œé€šè¿‡ [æ¶ˆæ¯å‘é€åå›è°ƒ](/zim-server/callbacks/message-sent) è·å– MsgSeqã€‚
            - è‹¥éœ€è¦æŸ¥è¯¢ç”± æœåŠ¡ç«¯ API [SendPeerMessage](/zim-server/messaging/send-a-one-to-one-message) å‘å‡ºçš„**å•èŠ**æ¶ˆæ¯ï¼Œé€šè¿‡æ¥å£å“åº”æ•°æ®è·å– MsgSeqã€‚
            - è‹¥éœ€è¦æŸ¥è¯¢ç”± æœåŠ¡ç«¯ API [SendGroupMessage](/zim-server/messaging/send-group-messages) å‘å‡ºçš„**ç¾¤èŠ**æ¶ˆæ¯ï¼Œé€šè¿‡æ¥å£å“åº”æ•°æ®è·å– MsgSeqã€‚
          maxItems: 20
          items:
            type: number
            example: 1
          example: [1, 2, 3]
    QueryMessagesResponse:
      type: object
      properties:
        Code:
          type: number
          description: |
            è¿”å›ç ã€‚

            ä»¥ä¸‹ä»…åˆ—å‡ºäº†æ¥å£ä¸šåŠ¡é€»è¾‘ç›¸å…³çš„è¿”å›ç ï¼Œå®Œæ•´è¿”å›ç è¯·å‚è€ƒ [å…¨å±€è¿”å›ç ](/zim-server/return-codes)ã€‚
            <table>
            <tbody><tr>
            <th>è¿”å›ç </th>
            <th>è¯´æ˜</th>
            <th>å¤„ç†å»ºè®®</th>
            </tr>
            <tr>
            <td>660000001</td>
            <td>æœåŠ¡ç«¯å‡ºé”™ã€‚</td>
            <td>è¯·é‡è¯•ï¼Œæˆ–è”ç³» ZEGO æŠ€æœ¯æ”¯æŒã€‚</td>
            </tr>
            <tr>
            <td>660000002</td>
            <td>è¾“å…¥çš„å‚æ•°ç¼ºå¤±æˆ–ä¸åˆæ³•ã€‚</td>
            <td>è¯·æ£€æŸ¥è¾“å…¥çš„å‚æ•°ã€‚</td>
            </tr>
            <tr>
            <td>660300005</td>
            <td>è°ƒç”¨æ¥å£çš„é¢‘ç‡è¶…å‡ºäº† AppID çº§åˆ«é™åˆ¶ã€‚</td>
            <td>è¯·ç¨åå†è¯•ï¼Œæˆ–å‚è€ƒç›¸å…³æ–‡æ¡£äº†è§£è°ƒç”¨é¢‘ç‡ã€‚</td>
            </tr>
            <tr>
            <td>660700008</td>
            <td>è·å–ç”¨æˆ·ä¿¡æ¯å‡ºé”™ã€‚</td>
            <td>è¯·æ£€æŸ¥ç”¨æˆ· ID æ˜¯å¦æ­£ç¡®ã€‚</td>
            </tr>
            <tr>
            <td>660700015</td>
            <td>ç”¨æˆ·æœªæ³¨å†Œã€‚</td>
            <td>è¯·å…ˆæ³¨å†Œç”¨æˆ·ã€‚</td>
            </tr>
            </tbody>
            </table>
          example: 0
        Message:
          type: string
          description: æ“ä½œç»“æœæè¿°ã€‚
          example: "success"
        RequestId:
          type: string
          description: è¯·æ±‚ IDã€‚
          example: "343649807833778782"
        MessageList:
          type: array
          description: è¿”å›çš„æ¶ˆæ¯å†…å®¹åˆ—è¡¨ã€‚
          items:
            type: object
            properties:
              Sender:
                type: string
                description: æ¶ˆæ¯å‘é€è€…ã€‚
                example: "userA"
              MsgType:
                type: number
                description: |
                  æ¶ˆæ¯ç±»å‹ï¼š
                  - 1ï¼šæ–‡æœ¬ã€‚
                  - 10ï¼šç»„åˆã€‚
                  - 11ï¼šå›¾ç‰‡ã€‚
                  - 12ï¼šæ–‡ä»¶ã€‚
                  - 13ï¼šéŸ³é¢‘ã€‚
                  - 14ï¼šè§†é¢‘ã€‚
                  - 31ï¼šæ’¤å›æ¶ˆæ¯ã€‚
                  - 32ï¼šTips æ¶ˆæ¯ã€‚
                  - 200ï¼šè‡ªå®šä¹‰ã€‚
                example: 1
              SubMsgType:
                type: number
                description: å…·ä½“çš„è‡ªå®šä¹‰ç±»å‹ã€‚å€¼ç”±ç”¨æˆ·å‘é€è‡ªå®šä¹‰æ¶ˆæ¯æ—¶å¡«å†™ï¼Œå–å€¼èŒƒå›´ä¸º [0,200]ã€‚åªæœ‰å½“ MsgType ä¸º 200ï¼ˆè‡ªå®šä¹‰ç±»å‹ï¼‰æ—¶ï¼Œæ­¤å‚æ•°æ‰æœ‰æ„ä¹‰ã€‚
              MsgBody:
                $ref: '#/components/schemas/MsgBodyContent'
                description: |
                  æ¶ˆæ¯å†…å®¹ã€‚
                  - å½“ MsgType ä¸º 1ï¼ˆæ–‡æœ¬ç±»å‹ï¼‰æˆ– 200ï¼ˆè‡ªå®šä¹‰ç±»å‹ï¼‰ï¼ŒMsgBody ä¸ºå‘é€æ¶ˆæ¯æ—¶ä¼ å…¥çš„æ¶ˆæ¯å†…å®¹ï¼Œå¼€å‘è€…å¯ç›´æ¥é˜…è¯»æ¶ˆæ¯å†…å®¹ã€‚
                  - å½“ MsgType ä¸º ä¸‹åˆ—ç±»å‹æ—¶ï¼ŒMsgBody ä¸º JSON å­—ç¬¦ä¸²ã€‚è¯·ä½¿ç”¨ URLDecode å¯¹æ­¤ JSON å­—ç¬¦ä¸²è§£ç ï¼Œå¹¶æŒ‰ç…§å¯¹åº”ç»“æ„è·å–æ¶ˆæ¯ä¸­å„å­—æ®µæ•°æ®ï¼š
                    - å½“ MsgType ä¸º 11ã€12ã€13ã€14ï¼ˆå¤šåª’ä½“æ¶ˆæ¯ï¼‰ï¼šå‚è€ƒå¤šåª’ä½“æ¶ˆæ¯ç»“æ„ã€‚
                    - å½“ MsgType ä¸º 10ï¼ˆç»„åˆæ¶ˆæ¯ï¼‰ï¼šå‚è€ƒç»„åˆæ¶ˆæ¯ç»“æ„ã€‚
                    - å½“ MsgType ä¸º 31ï¼ˆæ¶ˆæ¯å·²è¢«æ’¤å›ï¼‰ï¼šå‚è€ƒæ’¤å›æ¶ˆæ¯ç»“æ„ã€‚
                    - å½“ MsgType ä¸º 32ï¼ˆTips æ¶ˆæ¯ï¼‰ï¼šå‚è€ƒ Tips æ¶ˆæ¯ç»“æ„ã€‚
              MsgId:
                type: number
                description: æ¶ˆæ¯ IDï¼Œå¯å€Ÿæ­¤ç¡®å®šæ¶ˆæ¯çš„å”¯ä¸€æ€§ã€‚
                example: 971503777289036700
              MsgSeq:
                type: number
                description: æ¶ˆæ¯ seqã€‚
                example: 1
              Payload:
                type: string
                description: æ¶ˆæ¯æ‰©å±•å­—æ®µã€‚
                example: "this is a payload"
              MsgTime:
                type: number
                description: æœåŠ¡ç«¯æ”¶åˆ°æ¶ˆæ¯çš„æ—¶é—´ï¼ŒUnix æ—¶é—´æˆ³ï¼Œå•ä½ä¸ºæ¯«ç§’ï¼ˆmsï¼‰ã€‚
                example: 1705895412000
              IsEmpty:
                type: number
                description: |
                  æ˜¯å¦æ˜¯ç©ºæ¶ˆæ¯ï¼š
                  - 0ï¼šä¸æ˜¯ç©ºæ¶ˆæ¯ã€‚
                  - 1ï¼šæ¶ˆæ¯å·²è¢«åˆ é™¤ï¼ˆæŸ¥è¯¢ä¸åˆ°æˆ–è€…å®¢æˆ·è°ƒç”¨æ¥å£åˆ é™¤æ­¤æ¶ˆæ¯ï¼‰ï¼Œæ­¤æ—¶å…¶ä»–å‚æ•°å‡ä¸ºç©ºã€‚
                  - 2ï¼šæ¶ˆæ¯å·²è¢«æ’¤å›ã€‚
                example: 0
          example:
            - Sender: "userA"
              MsgType: 1
              MsgBody: "this is a message"
              MsgId: 971503777289036700
              MsgSeq: 1
              Payload: "this is a payload"
              MsgTime: 1705895412000
              IsEmpty: 0
