---
id: query-messages
title: "查询消息"
description: "本接口支持查询单个指定会话（群聊、单聊）中的多条消息。"
api: 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
info_path: core_products/zim/zh/docs_zim_server_zh/messaging/open-api-desc
---

<h1 className={"openapi__heading"}>查询消息</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


本接口支持查询单个指定会话（群聊、单聊）中的多条消息。

<Warning title="注意">本接口的频率限制是 20 条消息/秒，而非 20 次/秒。</Warning>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://zim-api.zego.im/?Action=QueryMessagesByMsgSeq\n","required":true,"schema":{"type":"string","enum":["QueryMessagesByMsgSeq"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。应用 Id，由 ZEGO 分配的用户唯一凭证。可从 <a target=\"_blank\" href=\"https://console.zego.im/\">ZEGO 控制台</a> 获取。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。16 位 16 进制随机字符串（8 字节随机数的 hex 编码）。生成算法可参考 <a href=\"/zim-server/accessing-server-apis#signature-example\">签名示例</a>。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。当前 Unix 时间戳，单位为秒。生成算法可参考 <a href=\"/zim-server/accessing-server-apis#signature-example\">签名示例</a>，最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/zim-server/accessing-server-apis#signature-mechanism)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"FromUserId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"用户的 UserID（已在客户端调用 login 方法登录 ZIM 服务，或已调用 [服务端 API](/zim-server/user/batch-register-users) 完成注册）。\n- 查询单聊会话消息时，此处填入任一参与用户的 userID。\n- 查询群聊会话消息时，此处可填入任意已注册用户的 userID。\n","maxLength":32,"example":"user0"}}></SchemaItem><SchemaItem collapsible={false} name={"ConvId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"会话 ID。\n- 查询单聊会话消息时，此处填入另一参与用户的 userID（已在客户端调用 login 方法登录 ZIM 服务，或已调用 [服务端 API](/zim-server/user/batch-register-users) 完成注册）。\n- 查询群聊会话消息时，此处填入目标群组的 groupID。\n","maxLength":32,"example":"user1"}}></SchemaItem><SchemaItem collapsible={false} name={"ConvType"} required={true} schemaName={"number"} qualifierMessage={"**Possible values:** [`0`, `2`]"} schema={{"type":"number","description":"会话类型：\n- 0：单聊。\n- 2：群聊。\n","enum":[0,2],"example":0}}></SchemaItem><SchemaItem collapsible={false} name={"MsgSeqList"} required={true} schemaName={"number[]"} qualifierMessage={"**Possible values:** `<= 20`"} schema={{"type":"array","description":"待查询消息的 seq 列表。列表长度上限为 20。\n> **说明**\n>\n> 如需上调，请联系 ZEGO 技术支持。\n\nseq 获取方式：\n- 若需要查询由**客户端**发出的消息，通过 [消息发送后回调](/zim-server/callbacks/message-sent) 获取 MsgSeq。\n- 若需要查询由 服务端 API [SendPeerMessage](/zim-server/messaging/send-a-one-to-one-message) 发出的**单聊**消息，通过接口响应数据获取 MsgSeq。\n- 若需要查询由 服务端 API [SendGroupMessage](/zim-server/messaging/send-group-messages) 发出的**群聊**消息，通过接口响应数据获取 MsgSeq。\n","maxItems":20,"items":{"type":"number","example":1},"example":[1,2,3]}}></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>OK</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"返回码。\n\n以下仅列出了接口业务逻辑相关的返回码，完整返回码请参考 [全局返回码](/zim-server/return-codes)。\n<table>\n<tbody><tr>\n<th>返回码</th>\n<th>说明</th>\n<th>处理建议</th>\n</tr>\n<tr>\n<td>660000001</td>\n<td>服务端出错。</td>\n<td>请重试，或联系 ZEGO 技术支持。</td>\n</tr>\n<tr>\n<td>660000002</td>\n<td>输入的参数缺失或不合法。</td>\n<td>请检查输入的参数。</td>\n</tr>\n<tr>\n<td>660300005</td>\n<td>调用接口的频率超出了 AppID 级别限制。</td>\n<td>请稍后再试，或参考相关文档了解调用频率。</td>\n</tr>\n<tr>\n<td>660700008</td>\n<td>获取用户信息出错。</td>\n<td>请检查用户 ID 是否正确。</td>\n</tr>\n<tr>\n<td>660700015</td>\n<td>用户未注册。</td>\n<td>请先注册用户。</td>\n</tr>\n</tbody>\n</table>\n","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"操作结果描述。","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID。","example":"343649807833778782"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>MessageList</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>返回的消息内容列表。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"Sender"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"消息发送者。","example":"userA"}}></SchemaItem><SchemaItem collapsible={false} name={"MsgType"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"消息类型：\n- 1：文本。\n- 10：组合。\n- 11：图片。\n- 12：文件。\n- 13：音频。\n- 14：视频。\n- 31：撤回消息。\n- 32：Tips 消息。\n- 200：自定义。\n","example":1}}></SchemaItem><SchemaItem collapsible={false} name={"SubMsgType"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"具体的自定义类型。值由用户发送自定义消息时填写，取值范围为 [0,200]。只有当 MsgType 为 200（自定义类型）时，此参数才有意义。"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><strong>MsgBody</strong><span className={"schema-name"}> object</span></summary><div className={"schema-description-container"}><div className={"schema-description"}>消息内容。- 当 MsgType 为 1（文本类型）或 200（自定义类型），MsgBody 为发送消息时传入的消息内容，开发者可直接阅读消息内容。- 当 MsgType 为 下列类型时，MsgBody 为 JSON 字符串。请使用 URLDecode 对此 JSON 字符串解码，并按照对应结构获取消息中各字段数据：  - 当 MsgType 为 11、12、13、14（多媒体消息）：参考多媒体消息结构。  - 当 MsgType 为 10（组合消息）：参考组合消息结构。  - 当 MsgType 为 31（消息已被撤回）：参考撤回消息结构。  - 当 MsgType 为 32（Tips 消息）：参考 Tips 消息结构。</div></div><div className={"oneof-container"}><span className={"oneof-label badge badge--info"}>anyOf</span><SchemaTabs><TabItem label={"多媒体消息"} value={"0-item-properties"}><SchemaItem collapsible={false} name={"md5"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"文件的 MD5 值。"}}></SchemaItem><SchemaItem collapsible={false} name={"file_name"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"文件名称。"}}></SchemaItem><SchemaItem collapsible={false} name={"file_size"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"文件大小，单位为字节（B）。"}}></SchemaItem><SchemaItem collapsible={false} name={"download_url"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"下载地址。"}}></SchemaItem><SchemaItem collapsible={false} name={"media_duration"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"音视频时长，单位为秒（s）。"}}></SchemaItem><SchemaItem collapsible={false} name={"origin_image_width"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"🏞️如果是图片消息则包含此属性。原图的宽度，单位为像素（px）。"}}></SchemaItem><SchemaItem collapsible={false} name={"origin_image_height"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"🏞️如果是图片消息则包含此属性。原图的高度，单位为像素（px）。"}}></SchemaItem><SchemaItem collapsible={false} name={"large_image_download_url"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"🏞️如果是图片消息则包含此属性。大图下载地址。"}}></SchemaItem><SchemaItem collapsible={false} name={"large_image_width"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"🏞️如果是图片消息则包含此属性。大图的宽度，单位为像素（px）。"}}></SchemaItem><SchemaItem collapsible={false} name={"large_image_height"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"🏞️如果是图片消息则包含此属性。大图的高度，单位为像素（px）。"}}></SchemaItem><SchemaItem collapsible={false} name={"thumbnail_download_url"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"🏞️如果是图片消息则包含此属性。缩略图下载地址。"}}></SchemaItem><SchemaItem collapsible={false} name={"thumbnail_width"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"🏞️如果是图片消息则包含此属性。缩略图的宽度，单位为像素（px）。"}}></SchemaItem><SchemaItem collapsible={false} name={"thumbnail_height"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"🏞️如果是图片消息则包含此属性。缩略图的高度，单位为像素（px）。"}}></SchemaItem><SchemaItem collapsible={false} name={"video_first_frame_download_url"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"🎬如果是视频消息则包含此属性。视频首帧图的下载地址。"}}></SchemaItem><SchemaItem collapsible={false} name={"video_first_frame_width"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"🎬如果是视频消息则包含此属性。视频首帧图的宽度，单位为像素（px）。"}}></SchemaItem><SchemaItem collapsible={false} name={"video_first_frame_height"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"🎬如果是视频消息则包含此属性。视频首帧图的高度，单位为像素（px）。"}}></SchemaItem></TabItem><TabItem label={"组合消息"} value={"1-item-properties"}><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>multi_msg</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>组合消息 Item 数组。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"msg_type"} required={false} schemaName={"integer"} qualifierMessage={"**Possible values:** [`1`, `11`, `12`, `13`, `14`, `200`]"} schema={{"type":"integer","description":"Item 类型：\n- 1：文本。\n- 11：图片。\n- 12：文档。\n- 13：音频。\n- 14：视频。\n- 200：自定义消息类型。\n","enum":[1,11,12,13,14,200]}}></SchemaItem><SchemaItem collapsible={false} name={"sub_msg_type"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"仅当 msg_type 为 200 时，返回此参数。"}}></SchemaItem><SchemaItem collapsible={false} name={"callback_content"} required={false} schemaName={"object"} qualifierMessage={undefined} schema={{"type":"object","description":"Item 内容。\n- 仅当 msg_type 为 1 或 200 时，可直接在此参数阅读消息内容。\n- 当 Item 为 11、12、13 或 14，请参考多媒体消息结构了解消息的各个字段数据。\n"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></TabItem><TabItem label={"撤回消息"} value={"2-item-properties"}><SchemaItem collapsible={false} name={"user_id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"撤回发起用户的 userID。"}}></SchemaItem><SchemaItem collapsible={false} name={"revoke_time"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"撤回操作的时间戳，单位为毫秒。"}}></SchemaItem><SchemaItem collapsible={false} name={"msg_type"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"原消息类型。"}}></SchemaItem><SchemaItem collapsible={false} name={"payload"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"撤回操作时携带的扩展字段。"}}></SchemaItem><SchemaItem collapsible={false} name={"msg_status"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"撤回的对应状态：\n- 4：由用户自行撤回。\n- 8：由系统撤回。\n- 12：通过服务端 API 撤回。\n- 16：由群管理员撤回。\n- 20：由群主撤回。\n- 24：因未通过审核而遭撤回。\n"}}></SchemaItem></TabItem><TabItem label={"Tips 消息"} value={"3-item-properties"}><SchemaItem collapsible={false} name={"type"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"Tips 消息类型：\n- 群成员变更：\n  - 1：群创建。\n  - 2：群解散。\n  - 3：用户主动加群。\n  - 4：群内成员邀请群外用户加入群组。\n  - 5：群成员主动离开。\n  - 6：群内成员被踢出。\n- 群成员资料变更：\n  - 11：群主转移。\n  - 12：群成员角色变更。\n  - 13：群成员禁言状态变更。\n- 群资料变更：\n  - 30：群名、群头像、群公告变更。\n  - 34：群组禁言状态变更。\n"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>op_user_info</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>Tips 消息触发者（例如：群组创建用户、群名称修改用户）的用户信息。</div><SchemaItem collapsible={false} name={"user_id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户 ID。"}}></SchemaItem><SchemaItem collapsible={false} name={"role"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"用户的群成员角色。\n- 1：群主。\n- 2：群管理员。\n- 3：群成员。\n"}}></SchemaItem><SchemaItem collapsible={false} name={"group_member_name"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户名。"}}></SchemaItem><SchemaItem collapsible={false} name={"group_member_nickname"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户的群成员昵称。"}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>target_users</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>Tips 消息触发操作的目标用户（例如：在创建群时一起被邀请加入群的用户、被踢出群组的用户等）。</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"user_id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户 ID。"}}></SchemaItem><SchemaItem collapsible={false} name={"role"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"用户的群成员角色。\n- 1：群主。\n- 2：群管理员。\n- 3：群成员。\n"}}></SchemaItem><SchemaItem collapsible={false} name={"group_member_name"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户名。"}}></SchemaItem><SchemaItem collapsible={false} name={"group_member_nickname"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"用户的群成员昵称。"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem><SchemaItem collapsible={false} name={"group_data_flag"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"当 type 为 30 时，此参数有意义，表示被修改的群资料项目。\n- 1：群名称。\n- 2：群公告。\n- 4：群头像。\n"}}></SchemaItem><SchemaItem collapsible={false} name={"group_notice"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"群公告。"}}></SchemaItem><SchemaItem collapsible={false} name={"group_name"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"群名称。"}}></SchemaItem><SchemaItem collapsible={false} name={"group_avatar"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"群头像。"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>forbid</strong><span className={"openapi-schema__name"}> object</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>当 type 为 34 时，此参数表示群组禁言对象。</div><SchemaItem collapsible={false} name={"is_all_forbid"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"type":"boolean","description":"是否全员禁言：\n- false：不是。\n- true：是。\n"}}></SchemaItem><SchemaItem collapsible={false} name={"forbid_role_list"} required={false} schemaName={"number[]"} qualifierMessage={undefined} schema={{"type":"array","description":"被禁言的群成员角色。","items":{"type":"number"}}}></SchemaItem><SchemaItem collapsible={false} name={"forbid_expire_time"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"禁言到期时间戳，单位为毫秒。"}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={false} name={"forbid_expire_time"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"当 type 为 13 时，此参数表示群成员禁言到期时间戳，单位为毫秒。"}}></SchemaItem><SchemaItem collapsible={false} name={"role"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"当 type 为 12 时，此参数表示变更后的群成员角色。\n- 1：群主。\n- 2：群管理员。\n- 3：群成员。\n"}}></SchemaItem></TabItem></SchemaTabs></div></details></SchemaItem><SchemaItem collapsible={false} name={"MsgId"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"消息 ID，可借此确定消息的唯一性。","example":971503777289036700}}></SchemaItem><SchemaItem collapsible={false} name={"MsgSeq"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"消息 seq。","example":1}}></SchemaItem><SchemaItem collapsible={false} name={"Payload"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"消息扩展字段。","example":"this is a payload"}}></SchemaItem><SchemaItem collapsible={false} name={"MsgTime"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"服务端收到消息的时间，Unix 时间戳，单位为毫秒（ms）。","example":1705895412000}}></SchemaItem><SchemaItem collapsible={false} name={"IsEmpty"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"是否是空消息：\n- 0：不是空消息。\n- 1：消息已被删除（查询不到或者客户调用接口删除此消息），此时其他参数均为空。\n- 2：消息已被撤回。\n","example":0}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\",\n  \"MessageList\": [\n    {\n      \"Sender\": \"userA\",\n      \"MsgType\": 1,\n      \"MsgBody\": \"this is a message\",\n      \"MsgId\": 971503777289036700,\n      \"MsgSeq\": 1,\n      \"Payload\": \"this is a payload\",\n      \"MsgTime\": 1705895412000,\n      \"IsEmpty\": 0\n    }\n  ]\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      