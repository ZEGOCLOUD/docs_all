---
id: delete-all-messages-from-a-one-to-one-conversaiton-user
title: "删除指定单聊用户全部消息"
description: "调用此接口，您可以在服务端删除单聊会话中某一用户的全部消息。"
api: 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
info_path: core_products/zim/zh/docs_zim_server_zh/messaging/open-api-desc
---

<h1 className={"openapi__heading"}>删除指定单聊用户全部消息</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


调用此接口，您可以在服务端删除单聊会话中某一用户的全部消息。

<Note title="说明">示例：用户 A 与 B 对话，若需要删除用户 A 的全部单聊消息，则 FromUserId 为 A，ToUserId 为 B；若需要删除用户 B 的全部单聊消息，则 FromUserId 为 B，ToUserId 为 A。</Note>

<Note title="说明">调用频率限制：20 次/秒。</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://zim-api.zego.im/?Action=ClearPeerMessage\n","required":true,"schema":{"type":"string","enum":["ClearPeerMessage"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。应用 Id，由 ZEGO 分配的用户唯一凭证。可从 <a target=\"_blank\" href=\"https://console.zego.im/\">ZEGO 控制台</a> 获取。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。16 位 16 进制随机字符串（8 字节随机数的 hex 编码）。生成算法可参考 <a href=\"/zim-server/accessing-server-apis#signature-example\">签名示例</a>。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。当前 Unix 时间戳，单位为秒。生成算法可参考 <a href=\"/zim-server/accessing-server-apis#signature-example\">签名示例</a>，最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/zim-server/accessing-server-apis#signature-mechanism)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"FromUserId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"删除此用户向 ToUserId 发送过的所有单聊消息。\n","maxLength":32,"example":"user_a"}}></SchemaItem><SchemaItem collapsible={false} name={"ToUserId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"消息接收用户。","maxLength":32,"example":"user_b"}}></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>OK</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"返回码。<br/>返回码请参考 [全局返回码](/zim-server/return-codes)。","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"操作结果描述。","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID。","example":"343649807833778782"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      