---
id: delete-all-messages-from-a-one-to-one-conversaiton-user
title: "ClearPeerMessage"
description: "调用此接口，您可以在服务端单向删除指定用户的某个单聊会话内的全部消息，仅该用户无法查看，对方用户不受影响。"
api: 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
info_path: core_products/zim/zh/docs_zim_server_zh/messaging/open-api-desc
---

<h1 className={"openapi__heading"}>ClearPeerMessage</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


调用此接口，您可以在服务端单向删除指定用户的某个单聊会话内的全部消息，仅该用户无法查看，对方用户不受影响。

<Note title="说明">示例：用户 A 与 B 对话，若需要删除用户 A 的全部单聊消息，则 FromUserId 为 A ， ToUserId 为 B ；若需要删除用户 B 的全部单聊消息，则 FromUserId 为 B ， ToUserId 为 A。</Note>

<Note title="说明">调用频率限制：20 次/秒。</Note>

## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://zim-api.zego.im/?Action=ClearPeerMessage\n","required":true,"schema":{"type":"string","enum":["ClearPeerMessage"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。应用 Id，由 ZEGO 分配的用户唯一凭证。可从 <a target=\"_blank\" href=\"https://console.zego.im/\">ZEGO 控制台</a> 获取。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。16 位 16 进制随机字符串（8 字节随机数的 hex 编码）。生成算法可参考 <a href=\"/zim-server/accessing-server-apis#signature-example\">签名示例</a>。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。当前 Unix 时间戳，单位为秒。生成算法可参考 <a href=\"/zim-server/accessing-server-apis#signature-example\">签名示例</a>，最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/zim-server/accessing-server-apis#signature-mechanism)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"FromUserId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"需要删除所有单聊消息的用户 ID。\n","maxLength":32,"example":"user_a"}}></SchemaItem><SchemaItem collapsible={false} name={"ToUserId"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** `<= 32 characters`"} schema={{"type":"string","description":"单聊会话另一方的用户 ID。","maxLength":32,"example":"user_b"}}></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>OK</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number","description":"返回码。<br/>返回码请参考 [全局返回码](/zim-server/return-codes)。","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"操作结果描述。","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID。","example":"343649807833778782"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"343649807833778782\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      