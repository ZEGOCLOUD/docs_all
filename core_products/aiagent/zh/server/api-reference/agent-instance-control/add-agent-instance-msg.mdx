---
id: add-agent-instance-msg
title: "AddAgentInstanceMsg"
description: "用于插入消息到智能体实例上下文列表。本接口不会触发 LLM 回调、字幕更新，不会增加对话轮次，也不会将消息存入 ZIM 历史消息。"
api: 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
info_path: core_products/aiagent/zh/server/api-reference/agent-instance-control/open-api-desc
---

<h1 className={"openapi__heading"}>AddAgentInstanceMsg</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


用于插入消息到智能体实例上下文列表。本接口不会触发 LLM 回调、字幕更新，不会增加对话轮次，也不会将消息存入 ZIM 历史消息。
## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> 接口原型参数\n>\n> https://aigc-aiagent-api.zegotech.cn?Action=AddAgentInstanceMsg\n","required":true,"allowEmptyValue":false,"schema":{"type":"string","enum":["AddAgentInstanceMsg"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"💡公共参数。应用 Id，由 ZEGO 分配的用户唯一凭证。可从 <a target=\"_blank\" href=\"https://console.zego.im/\">ZEGO 控制台</a> 获取。","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"💡公共参数。16 位 16 进制随机字符串（8 字节随机数的 hex 编码）。生成算法可参考 <a href=\"/aiagent-server/api-reference/accessing-server-apis#signature-example\">签名示例</a>。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"💡公共参数。当前 Unix 时间戳，单位为秒。生成算法可参考 <a href=\"/aiagent-server/api-reference/accessing-server-apis#signature-example\">签名示例</a>，最多允许 10 分钟的误差。","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"💡公共参数。签名，用于验证请求的合法性。请参考[签名机制](/aiagent-server/api-reference/accessing-server-apis#signature-mechanism)生成。","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"💡公共参数。签名版本号。","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"AgentInstanceId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"智能体实例的唯一标识,全局唯一。通过 [创建智能体实例](/aiagent-server/api-reference/agent-instance-management/create-agent-instance) 接口的响应参数获取。","example":"1907755175297171456"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Messages</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>需要插入的对话上下文消息列表</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"Role"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** [`user`, `assistant`]"} schema={{"type":"string","description":"消息发送者的角色\n- user: 用户\n- assistant: 智能体\n","enum":["user","assistant"],"example":"user"}}></SchemaItem><SchemaItem collapsible={false} name={"Content"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"消息内容","example":"你好，我想了解一下产品信息"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>添加成功</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"返回码,0 表示成功,其他值表示失败。详情请参考 [返回码](/aiagent-server/api-reference/return-codes) 说明。","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求结果说明","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"请求 ID","example":"8916619579948490296"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"8916619579948490296\"\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Example"} value={"Example"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"8916619579948490296\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      