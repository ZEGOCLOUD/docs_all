openapi: 3.0.0
info:
  title: AI Agent API - å…±äº«ç»„ä»¶
  version: 1.0.0

# å…±äº«çš„æœåŠ¡å™¨é…ç½®
servers:
  - url: https://aigc-aiagent-api.zegotech.cn
    description: ç»Ÿä¸€æ¥å…¥åœ°å€ï¼ˆä¸åŒºåˆ†åŒºåŸŸï¼‰
  - url: https://aigc-aiagent-api-sha.zegotech.cn
    description: ä¸­å›½å¤§é™†ï¼ˆä¸Šæµ·ï¼‰
  - url: https://aigc-aiagent-api-hkg.zegotech.cn
    description: æ¸¯æ¾³å°ï¼ˆé¦™æ¸¯ï¼‰
  - url: https://aigc-aiagent-api-fra.zegotech.cn
    description: æ¬§æ´²ï¼ˆæ³•å…°å…‹ç¦ï¼‰
  - url: https://aigc-aiagent-api-lax.zegotech.cn
    description: ç¾è¥¿ï¼ˆåŠ å·ï¼‰
  - url: https://aigc-aiagent-api-bom.zegotech.cn
    description: äºšå¤ªï¼ˆå­Ÿä¹°ï¼‰
  - url: https://aigc-aiagent-api-sgp.zegotech.cn
    description: ä¸œå—äºšï¼ˆæ–°åŠ å¡ï¼‰

components:
  # å…±äº«çš„å‚æ•°å®šä¹‰
  parameters:
    # Re-export ZEGO global shared parameters for convenient local reference
    AppId:
      $ref: "../../../../../snippets/common/zh/openapi/zego-shared-components.yaml#/components/parameters/AppId"
    SignatureNonce:
      name: SignatureNonce
      in: query
      description: ğŸ’¡å…¬å…±å‚æ•°ã€‚16 ä½ 16 è¿›åˆ¶éšæœºå­—ç¬¦ä¸²ï¼ˆ8 å­—èŠ‚éšæœºæ•°çš„ hex ç¼–ç ï¼‰ã€‚ç”Ÿæˆç®—æ³•å¯å‚è€ƒ <a href="/aiagent-server/api-reference/accessing-server-apis#signature-example">ç­¾åç¤ºä¾‹</a>ã€‚
      required: true
      schema:
        type: string

    Timestamp:
      name: Timestamp
      in: query
      description: ğŸ’¡å…¬å…±å‚æ•°ã€‚å½“å‰ Unix æ—¶é—´æˆ³ï¼Œå•ä½ä¸ºç§’ã€‚ç”Ÿæˆç®—æ³•å¯å‚è€ƒ <a href="/aiagent-server/api-reference/accessing-server-apis#signature-example">ç­¾åç¤ºä¾‹</a>ï¼Œæœ€å¤šå…è®¸ 10 åˆ†é’Ÿçš„è¯¯å·®ã€‚
      required: true
      schema:
        type: integer
        format: int64
    SignatureVersion:
      $ref: "../../../../../snippets/common/zh/openapi/zego-shared-components.yaml#/components/parameters/SignatureVersion"
    Signature:
      name: Signature
      in: query
      description: ğŸ’¡å…¬å…±å‚æ•°ã€‚ç­¾åï¼Œç”¨äºéªŒè¯è¯·æ±‚çš„åˆæ³•æ€§ã€‚è¯·å‚è€ƒ[ç­¾åæœºåˆ¶](/aiagent-server/api-reference/accessing-server-apis#signature-mechanism)ç”Ÿæˆã€‚
      required: true
      schema:
        type: string

  # å…±äº«çš„Schemaå®šä¹‰
  schemas:
    RTC:
      type: object
      description: |
        <div>
          <p>RTC ç›¸å…³ä¿¡æ¯</p>
          <br/>
          <strong>ğŸ“Œ é‡è¦è¯´æ˜</strong>
          <p>æ‰€æœ‰å±æ€§å­—ç¬¦é™åˆ¶ï¼šä»…æ”¯æŒæ•°å­—ã€è‹±æ–‡å­—ç¬¦ã€'_'ã€'-'ã€'.'ã€‚</p>
        </div>

      required:
        - RoomId
        - AgentStreamId
        - AgentUserId
        - UserStreamId
      properties:
        RoomId:
          type: string
          description: RTC æˆ¿é—´ IDã€‚
          maxLength: 128
          example: "room_1"
        AgentStreamId:
          type: string
          description: |
            æ™ºèƒ½ä½“å®ä¾‹æ¨æµä½¿ç”¨çš„æµ IDã€‚
            > **ğŸ“Œ é‡è¦è¯´æ˜**
            >
            > è¯·ç¡®ä¿å½“å‰è¿è¡Œä¸­çš„å¤šä¸ªæ™ºèƒ½ä½“å®ä¾‹ï¼ˆå³ä¾¿ä¸åœ¨åŒä¸€ä¸ª RTC æˆ¿é—´ï¼‰ä½¿ç”¨ä¸åŒçš„æµ IDï¼Œå¦åˆ™ä¼šå¯¼è‡´ååˆ›å»ºçš„æ™ºèƒ½ä½“å®ä¾‹æ¨æµå¤±è´¥ã€‚
          maxLength: 128
          example: "agent_stream_1"
        AgentUserId:
          type: string
          description: |
            æ™ºèƒ½ä½“å®ä¾‹çš„ç”¨æˆ· IDã€‚
            > **ğŸ“Œ é‡è¦è¯´æ˜**
            >
            > éœ€ç¡®ä¿åŒæ—¶åœ¨è¿è¡Œä¸­çš„å¤šä¸ªæ™ºèƒ½ä½“å®ä¾‹ï¼ˆå³ä¾¿ä¸åœ¨åŒä¸€ä¸ª RTC æˆ¿é—´ï¼‰ä½¿ç”¨ä¸åŒçš„ç”¨æˆ· IDï¼Œå¦åˆ™å…ˆåˆ›å»ºçš„æ™ºèƒ½ä½“å®ä¾‹ä¼šè¢«è¸¢å‡º RTC æˆ¿é—´ã€‚
          maxLength: 32
          example: "agent_user_1"
        UserStreamId:
          type: string
          description: çœŸå®ç”¨æˆ·æ¨æµä½¿ç”¨çš„æµ IDã€‚
          maxLength: 128
          example: "user_stream_1"

    LLM:
      type: object
      required:
        - Url
        - Model
      properties:
        Vendor:
          type: string
          description: |
            LLM æ¥å£çš„ä¾›åº”å•†ç±»åˆ«ã€‚
            - OpenAIChatï¼šOpenAI çš„ Chat Completions æ¥å£ç±»å‹ã€‚
            - OpenAIResponsesï¼šOpenAI çš„ Responses API æ¥å£ç±»å‹ã€‚
          default: OpenAIChat
          example: "OpenAIChat"
          enum:
            - OpenAIChat
            - OpenAIResponses
        Url:
          type: string
          description: |
            æ¥æ”¶è¯·æ±‚çš„ç«¯ç‚¹ï¼ˆå¯ä»¥æ˜¯ä½ è‡ªå·±çš„æœåŠ¡ï¼Œä¹Ÿå¯ä»¥æ˜¯ä»»ä½• LLM æœåŠ¡æä¾›å•†æä¾›çš„æœåŠ¡ï¼‰ã€‚
            å¦‚æœ Vendor ä¸º OpenAIChat ï¼Œåˆ™å¿…é¡»å…¼å®¹ [OpenAI Chat Completions API](https://platform.openai.com/docs/api-reference/chat)ã€‚
            ä¾‹å¦‚ï¼š`https://api.openai.com/v1/chat/completions`


            å¦‚æœ Vendor ä¸º OpenAIResponses ï¼Œåˆ™å¿…é¡»å…¼å®¹ [OpenAI Responses API](https://platform.openai.com/docs/api-reference/responses)ã€‚
            ä¾‹å¦‚ï¼š`https://ark.cn-beijing.volces.com/api/v3/responses`

            > **ğŸ“Œ é‡è¦è¯´æ˜**
            >
            > å¦‚æœ ApiKey è®¾ç½®ä¸º "zego_test"ï¼Œåˆ™å¿…é¡»ä½¿ç”¨ä»¥ä¸‹ Url åœ°å€ä¹‹ä¸€ï¼š
            > - MiniMaxï¼šhttps://api.minimax.chat/v1/text/chatcompletion_v2
            > - ç«å±±å¼•æ“ï¼ˆè±†åŒ…ï¼‰ï¼šhttps://ark.cn-beijing.volces.com/api/v3/chat/completions
            > - é˜¿é‡Œäº‘ç™¾ç‚¼ï¼ˆé€šä¹‰åƒé—®ï¼‰ï¼šhttps://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions
            > - é˜¶è·ƒæ˜Ÿè¾°ï¼šhttps://api.stepfun.com/v1/chat/completions

          example: "https://ark.cn-beijing.volces.com/api/v3/chat/completions"
        ApiKey:
          type: string
          description: |
            LLM æœåŠ¡æä¾›å•†ç”¨äºè®¤è¯çš„å‚æ•°ã€‚é»˜è®¤ä¸ºç©ºï¼Œä½†åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¿…é¡»æä¾›ã€‚

            > **ğŸ“Œ é‡è¦è¯´æ˜**
            >
            > åœ¨æ¥å…¥æµ‹è¯•æœŸé—´(AI Agent æœåŠ¡å¼€é€š 2 å‘¨å†…)ï¼Œå¯ä»¥å°†è¯¥å‚æ•°å€¼è®¾ç½®ä¸º "zego_test" å³å¯ä½¿ç”¨è¯¥æœåŠ¡ã€‚
          example: "zego_test"
        Model:
          type: string
          description: |
            LLM æ¨¡å‹ã€‚ä¸åŒçš„ LLM æœåŠ¡æä¾›å•†æ”¯æŒä¸åŒçš„æ¨¡å‹ï¼Œè¯·å‚è€ƒå…¶å®˜æ–¹æ–‡æ¡£é€‰æ‹©åˆé€‚çš„æ¨¡å‹ã€‚

            > **ğŸ“Œ é‡è¦è¯´æ˜**
            >
            > å¦‚æœ ApiKey è®¾ç½®ä¸º "zego_test"ï¼Œåˆ™å¿…é¡»ä½¿ç”¨ä»¥ä¸‹æ¨¡å‹ä¹‹ä¸€ï¼š
            > - MiniMaxï¼š
            >   - *MiniMax-Text-01*
            > - ç«å±±å¼•æ“ï¼ˆè±†åŒ…ï¼‰ï¼š
            >   - *doubao-1-5-pro-32k-250115*
            >   - *doubao-1-5-lite-32k-250115*
            > - é˜¿é‡Œäº‘ç™¾ç‚¼ï¼ˆé€šä¹‰åƒé—®ï¼‰ï¼š
            >   - *qwen-plus*
            > - é˜¶è·ƒæ˜Ÿè¾°ï¼š
            >   - *step-2-16k*
          example: "doubao-1-5-lite-32k-250115"
        SystemPrompt:
          type: string
          description: æ™ºèƒ½ä½“ç³»ç»Ÿæç¤ºï¼ˆpromptï¼‰ã€‚è°ƒç”¨ LLM æ—¶é™„åŠ åœ¨æœ€å‰çš„é¢„å®šä¹‰ä¿¡æ¯ï¼Œç”¨äºæ§åˆ¶ LLM è¾“å‡ºã€‚å¯ä»¥æ˜¯è§’è‰²è®¾å®šã€æç¤ºè¯å’Œå›ç­”æ ·ä¾‹ç­‰ã€‚
          example: "ä½ æ˜¯ä¸€ä¸ªå‹å¥½çš„åŠ©æ‰‹"
        Temperature:
          type: number
          description: æ•°å€¼è¶Šé«˜ï¼Œè¾“å‡ºè¶Šéšæœºï¼›æ•°å€¼è¶Šä½ï¼Œè¾“å‡ºè¶Šé›†ä¸­å’Œç¡®å®šã€‚
          minimum: 0
          maximum: 2
          default: 0.7
          example: 0.7
        TopP:
          type: number
          description: é‡‡æ ·æ–¹æ³•ï¼Œæ•°å€¼è¶Šå°ï¼Œç¡®å®šæ€§è¶Šå¼ºï¼›æ•°å€¼è¶Šå¤§ï¼Œéšæœºæ€§è¶Šå¼ºã€‚
          minimum: 0
          maximum: 1
          default: 0.9
          example: 0.9
        Params:
          type: object
          description: LLM æœåŠ¡æä¾›å•†æ”¯æŒçš„å…¶ä»–å‚æ•°ï¼Œå¦‚æœ€å¤§ Token æ•°é‡é™åˆ¶ç­‰ã€‚ä¸åŒçš„ LLM æä¾›å•†æ”¯æŒä¸åŒçš„å‚æ•°ï¼Œè¯·å‚è€ƒå…¶å®˜æ–¹æ–‡æ¡£å¹¶æ ¹æ®éœ€è¦å¡«å†™ã€‚
          example: {"max_tokens": 16384}
        AddAgentInfo:
          type: boolean
          description: |
            å¦‚æœæ­¤å€¼ä¸º trueï¼ŒAI Agent æœåŠ¡å™¨åœ¨è¯·æ±‚ LLM æœåŠ¡æ—¶ä¼šåœ¨è¯·æ±‚å‚æ•°ä¸­åŒ…å«æ™ºèƒ½ä½“ä¿¡æ¯ï¼ˆagent_infoï¼‰ã€‚åŒ…å«çš„æ™ºèƒ½ä½“ä¿¡æ¯æ•°ç¤ºä¾‹è¯·å‚è€ƒ[ä½¿ç”¨è‡ªå®šä¹‰ LLM](/aiagent-server/guides/configuring-llm#use-custom-llm)ã€‚
            æ‚¨å¯ä»¥ä½¿ç”¨æ­¤å‚æ•°åœ¨è‡ªå®šä¹‰ LLM æœåŠ¡ä¸­æ‰§è¡Œé¢å¤–çš„ä¸šåŠ¡é€»è¾‘ã€‚

            agent_info çš„ç»“æ„å¦‚ä¸‹ï¼š
            - room_id: æˆ¿é—´ ID
            - user_id: ç”¨æˆ· ID
            - agent_instance_id: æ™ºèƒ½ä½“å®ä¾‹ ID

            **ğŸ“Œ é‡è¦è¯´æ˜ï¼šä»…åœ¨ Vendor ä¸º "OpenAIChat" æ—¶æœ‰æ•ˆã€‚**
          default: false
          example: false
        AgentExtraInfo:
          type: object
          description: |
            Agent æ‰©å±•ä¿¡æ¯ï¼ŒæœåŠ¡å™¨åœ¨è¯·æ±‚ LLM æœåŠ¡æ—¶ä¼šåœ¨è¯·æ±‚å‚æ•°ä¸­é€ä¼ è¯¥å‚æ•°ã€‚é€ä¼ å‚æ•°ç¤ºä¾‹è¯·å‚è€ƒ[ä½¿ç”¨è‡ªå®šä¹‰ LLM](/aiagent-server/guides/configuring-llm#use-custom-llm)ã€‚
            æ‚¨å¯ä»¥ä½¿ç”¨æ­¤å‚æ•°åœ¨è‡ªå®šä¹‰ LLM æœåŠ¡ä¸­æ‰§è¡Œé¢å¤–çš„ä¸šåŠ¡é€»è¾‘ã€‚

            **ğŸ“Œ é‡è¦è¯´æ˜ï¼šä»…åœ¨ Vendor ä¸º "OpenAIChat" æ—¶æœ‰æ•ˆã€‚**
          properties:
            key:
              type: string
              description: é¢å¤–ä¿¡æ¯é”®ã€‚
            value:
              description: é¢å¤–ä¿¡æ¯å€¼ï¼Œå¯ä»¥æ˜¯ä»»æ„ç±»å‹ã€‚
          example: {
            "user_custom_key1": "value1",
            "user_custom_key2": "value2"
          }


    TTS:
      type: object
      required:
        - Vendor
        - Params
      properties:
        Vendor:
          type: string
          description: è¯­éŸ³åˆæˆï¼ˆTTSï¼‰æœåŠ¡æä¾›å•†ã€‚è¯¦ç»†è¯·å‚è€ƒ[é…ç½® TTS > TTS å‚æ•°è¯´æ˜](/aiagent-server/guides/configuring-tts##tts-params)
          enum: ["Aliyun", "ByteDance","ByteDanceV3", "ByteDanceFlowing", "MiniMax", "CosyVoice"]
          example: "ByteDance"
        Params:
          type: object
          description: TTS é…ç½®å‚æ•°ï¼Œæ ¼å¼ä¸º JSON å¯¹è±¡ã€‚åŒ…å« app å‚æ•°ï¼ˆç”¨äºè®¤è¯ï¼‰å’Œå…¶ä»–å‚æ•°ï¼ˆç”¨äºè°ƒæ•´ TTS æ•ˆæœï¼‰ã€‚è¯¦ç»†è¯·å‚è€ƒ[é…ç½® TTS > Params å‚æ•°è¯´æ˜](/aiagent-server/guides/configuring-tts#params)
          required:
            - app
          properties:
            app:
              type: object
              description: ç”¨äº TTS æœåŠ¡é‰´æƒï¼Œä¸åŒçš„ Vendor å€¼è¦æ±‚ä¼ å…¥çš„ app å‚æ•°çš„ç»“æ„ä¸åŒï¼Œè¯¦ç»†è¯·å‚è€ƒ[é…ç½® TTS > Params å‚æ•°è¯´æ˜](/aiagent-server/guides/configuring-tts#params)
            other_params:
              type: string
              description: |

                > **ğŸ“Œ é‡è¦è¯´æ˜**
                >
                > other_params ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆå‚æ•°ï¼Œä»…ä»…æ˜¯ä¸ºäº†è¯´æ˜å¦‚ä½•é€ä¼ å‚å•†å‚æ•°ã€‚
                > é™¤ app å‚æ•°å¤–ï¼Œå…¶ä½™å‚æ•°å‡ç›´æ¥é€ä¼ å‚å•†å‚æ•°ã€‚è¯¦ç»†è¯·å‚è€ƒ[é…ç½® TTS > Params å‚æ•°è¯´æ˜](/aiagent-server/guides/configuring-tts#params)
          example: {
            "app": {
              "appid": "zego_test",
              "token": "zego_test",
              "cluster": "volcano_tts"
            },
            "audio": {
              "voice_type": "zh_female_qingxinnvsheng_mars_bigtts",
              "loudness_ratio": 1.0,
              "speed_ratio": 1.0
            }
          }
        FilterText:
          type: array
          description: |
            ä»è¾“å…¥ç»™ TTS çš„å†…å®¹ä¸­ï¼ˆä¸€èˆ¬æ˜¯ LLM è¿”å›çš„å†…å®¹æˆ–è€… SendAgentInstanceTTS æ¥å£çš„ Text å‚æ•°å€¼ï¼‰è¿‡æ»¤æ‰æŒ‡å®šæ ‡ç‚¹ç¬¦å·å†…çš„æ–‡æœ¬ï¼Œç„¶åå†è¿›è¡Œè¯­éŸ³åˆæˆã€‚æ¯”å¦‚æŠŠâ€œ(å¼€å¿ƒçš„è¯´)å³æ„ç§‘æŠ€æ¬¢è¿ä½ ï¼â€æ‹¬å·å†…çš„å†…å®¹è¿‡æ»¤æ‰ï¼Œå†è¿›è¡Œè¯­éŸ³åˆæˆã€‚

            <Note title="è¯´æ˜">
              - é€šå¸¸æ˜¯åœ¨ LLM > SystemPrompt ä¸­é€šè¿‡æç¤ºè¯çš„æ–¹å¼æŒ‡å¼• LLM å“ªäº›å†…å®¹åº”è¯¥æ”¾åœ¨æŒ‡å®šæ ‡ç‚¹ç¬¦å·å†…ã€‚<br/>
              - æ­¤å‚æ•°åœ¨æ›´æ–°æ™ºèƒ½ä½“å®ä¾‹æ—¶æ— æ³•æ›´æ–°ã€‚
            </Note>
          items:
            type: object
            required:
              - BeginCharacters
              - EndCharacters
            properties:
              BeginCharacters:
                type: string
                description: è¿‡æ»¤æ–‡æœ¬çš„å¼€å§‹æ ‡ç‚¹ç¬¦å·ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè¦è¿‡æ»¤ () ä¸­çš„å†…å®¹ï¼Œè¯·è®¾ç½®ä¸º (ã€‚
                example: "("
              EndCharacters:
                type: string
                description: è¿‡æ»¤æ–‡æœ¬çš„ç»“æŸæ ‡ç‚¹ç¬¦å·ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè¦è¿‡æ»¤ () ä¸­çš„å†…å®¹ï¼Œè¯·è®¾ç½®ä¸º )ã€‚
                example: ")"
          example: [
            {
              "BeginCharacters": "(",
              "EndCharacters": ")"
            }
          ]
        TerminatorText:
          type: string
          maxLength: 4
          example: "#-#"
          description: |
            å¯ç”¨äºè®¾ç½® TTS çš„ç»ˆæ­¢æ–‡æœ¬ã€‚è‹¥è¾“å…¥ç»™ TTS çš„å†…å®¹ä¸­ï¼ˆä¸€èˆ¬æ˜¯ LLM è¿”å›çš„å†…å®¹æˆ–è€… SendAgentInstanceTTS æ¥å£çš„ Text å‚æ•°å€¼ï¼‰å‡ºç°åŒ¹é… TerminatorText å­—ç¬¦ä¸²çš„å†…å®¹ï¼Œåˆ™æœ¬è½® TTS ä» TerminatorText å­—ç¬¦ä¸²ï¼ˆåŒ…å«ï¼‰å¼€å§‹çš„å†…å®¹å°†ä¸å†è¿›è¡Œè¯­éŸ³åˆæˆã€‚
            > **ğŸ“Œ é‡è¦è¯´æ˜**
            >
            > - åŒå‘æµå¼åªèƒ½è®¾ç½®ä¸€ä¸ªå­—ç¬¦ã€‚
            >
            > - é€šå¸¸æ˜¯åœ¨ LLM > SystemPrompt ä¸­é€šè¿‡æç¤ºè¯çš„æ–¹å¼æŒ‡å¼• LLM å“ªäº›å†…å®¹åº”è¯¥æ”¾åœ¨æŒ‡å®šæ ‡ç‚¹ç¬¦å·å†…ã€‚
            > - æ­¤å‚æ•°åœ¨æ›´æ–°æ™ºèƒ½ä½“å®ä¾‹æ—¶æ— æ³•æ›´æ–°ã€‚
            >
        CharacterFilter:
          type: array
          description: |
            è¾“å…¥ç»™ TTS çš„å†…å®¹ä¸­ï¼ˆä¸€èˆ¬æ˜¯ LLM è¿”å›çš„å†…å®¹æˆ–è€… SendAgentInstanceTTS æ¥å£çš„ Text å‚æ•°å€¼ï¼‰æŒ‡å®šçš„å­—ç¬¦ä¸²ä¸å‚ä¸è¯­éŸ³åˆæˆã€‚æ•°ç»„å†…æ¯ä¸ªå­—ç¬¦ä¸²ä»£è¡¨ä¸€ä¸ªè¦è¢«è¿‡æ»¤æ‰çš„å­—ç¬¦ä¸²ï¼Œæ¯ä¸ªå­—ç¬¦ä¸²ä¸è¶…è¿‡ 2 ä¸ªå­—ç¬¦ã€‚
          items:
            type: string
          example: ["#", "##", "-"]

    ASR:
      type: object
      properties:
        Vendor:
          type: string
          description: ASR å‚å•†ã€‚å¯å‚è€ƒ[é…ç½® ASR](/aiagent-server/guides/configuring-asr) å‚æ•°è¯´æ˜ã€‚
          enum: [Tencent, AliyunParaformer, AliyunGummy, Microsoft]
          default: Tencent
          example: "Tencent"
        Params:
          type: object
          description: å‚å•†å‚æ•°ï¼Œå…·ä½“ä½¿ç”¨æ–¹å¼å‚è€ƒ[é…ç½® ASR](/aiagent-server/guides/configuring-asr) ä¸­çš„ Params å‚æ•°è¯´æ˜ã€‚
          example: {"engine_model_type": "16k_zh", "hotword_list": "zego|10"}
        VADSilenceSegmentation:
          type: number
          description: |
            ç”¨äºè®¾ç½®ç”¨æˆ·è¯´è¯åœé¡¿å¤šå°‘ç§’åï¼Œä¸å†å°†ä¸¤å¥è¯è§†ä¸ºä¸€å¥ã€‚
            å•ä½ä¸º msï¼ŒèŒƒå›´ [200ï¼Œ2000]ï¼Œé»˜è®¤ä¸º 500ã€‚
            è¯¦ç»†è¯´æ˜è¯·å‚è€ƒ[è¯­éŸ³è¯†åˆ«æ–­å¥](/aiagent-server/advanced/speech-segmentation-control)ã€‚

            > **ğŸ“Œ é‡è¦è¯´æ˜**
            >
            > å½“ Vendor ä¸º "Tencent" ï¼ˆé»˜è®¤ï¼‰æ—¶ï¼Œæœ€å¤§å€¼ä¸º 1500ã€‚
          minimum: 200
          maximum: 2000
          default: 500
          example: 500
        PauseInterval:
          type: number
          description: |
            ç”¨äºè®¾ç½®ç”¨æˆ·è¯´è¯åœé¡¿å¤šå°‘ç§’å†…ï¼Œå°†ä¸¤å¥è¯è§†ä¸ºä¸€å¥ï¼Œå³ ASR å¤šå¥æ‹¼æ¥ã€‚
            å•ä½ä¸º msï¼ŒèŒƒå›´ [200ï¼Œ2000]ã€‚
            ä»…å½“æ­¤å€¼å¤§äº VADSilenceSegmentation æ—¶ï¼Œæ‰ä¼šå¯ç”¨ ASR å¤šå¥æ‹¼æ¥ã€‚
            è¯¦ç»†è¯´æ˜è¯·å‚è€ƒ[è¯­éŸ³è¯†åˆ«æ–­å¥](/aiagent-server/advanced/speech-segmentation-control)ã€‚
          minimum: 200
          maximum: 2000
          example: 800
        VADSensitiveLevel:
          type: number
          format: int
          description: |
            VAD æ•æ„Ÿåº¦ï¼Œ0ï¼šä¸­ç­‰æ•æ„Ÿåº¦,é»˜è®¤å€¼ï¼›1ï¼šä½æ•æ„Ÿåº¦ï¼›2ï¼šé«˜æ•æ„Ÿåº¦ï¼›3ï¼šè‡ªå®šä¹‰æ¨¡å¼,éœ€é…åˆ VADMinSpeechDur å’Œ VADEnergyThreshold ä½¿ç”¨ã€‚è¯¦ç»†è¯´æ˜è¯·å‚è€ƒ[è¯­éŸ³æ‰“æ–­çµæ•åº¦è°ƒæ•´](/aiagent-server/advanced/voice-interruption-sensitivity-adjustment)ã€‚
          default: 0
          enum: [0, 1, 2, 3]
          example: 0
        VADMinSpeechDur:
          type: number
          format: int
          description: |
            VAD æœ€å°è¯´è¯æ—¶é•¿ï¼Œå•ä½ msï¼Œå€¼è¶Šå¤§ï¼Œè¶Šä¸å®¹æ˜“è¯¯æ£€ï¼Œä½†æ˜¯å¯èƒ½ä¼šå¼•èµ·æœ‰äº›çŸ­è¯­éŸ³æ¼æ£€ï¼Œå–å€¼èŒƒå›´[0, 1000]ã€‚
          minimum: 0
          maximum: 1000
          example: 100
        VADEnergyThreshold:
          type: number
          format: float
          description: |
            VAD èƒ½é‡é˜ˆå€¼ï¼Œå€¼è¶Šå°ï¼Œçµæ•åº¦è¶Šé«˜ï¼Œå–å€¼èŒƒå›´[0, 1]ã€‚
          minimum: 0
          maximum: 1
          example: 0
        HotWord:
          type: string
          deprecated: true
          description: è¯¥å‚æ•°å·²åºŸå¼ƒã€‚è¯·é€šè¿‡ Params å‚å•†å‚æ•°è®¾ç½®ã€‚

    MessageHistory:
      type: object
      description: ä¾›æ™ºèƒ½ä½“å®ä¾‹ä½¿ç”¨çš„å†å²æ¶ˆæ¯çš„é…ç½®
      properties:
        SyncMode:
          type: integer
          description: |
            æ¶ˆæ¯åŒæ­¥æ¨¡å¼ï¼š
            - 0: ä»å³æ—¶é€šè®¯ (ZIM) åŒæ­¥
            - 1: é€šè¿‡ Messages å‚æ•°åŒæ­¥
          enum: [0, 1]
          default: 0
          example: 0
        Messages:
          type: array
          description: æ¶ˆæ¯åˆ—è¡¨
          maxItems: 100
          items:
            $ref: "#/components/schemas/Message"
        WindowSize:
          type: integer
          format: Int
          description: æ¯æ¬¡è°ƒç”¨ LLM æœåŠ¡æ—¶ä½¿ç”¨çš„è¿‘æœŸå†å²æ¶ˆæ¯æ•°é‡ã€‚å½±å“ LLM ä¸Šä¸‹æ–‡ç†è§£èƒ½åŠ›ï¼Œå»ºè®®è®¾ç½®ä¸º 10-30ã€‚
          minimum: 0
          maximum: 500
          default: 20
          example: 20
        ZIM:
          $ref: "#/components/schemas/ZIM"

    Message:
      type: object
      required:
        - Role
        - Content
      properties:
        Role:
          type: string
          description: |
            æ¶ˆæ¯å‘é€è€…çš„è§’è‰²
            - user: ç”¨æˆ·
            - assistant: æ™ºèƒ½ä½“
          enum: [user, assistant]
          example: "user"
        Content:
          type: string
          description: æ¶ˆæ¯å†…å®¹
          example: "ä½ å¥½ï¼Œæˆ‘æƒ³äº†è§£ä¸€ä¸‹äº§å“ä¿¡æ¯"

    ZIM:
      type: object
      description: |
        ZIM ç›¸å…³ä¿¡æ¯ã€‚
        <div>
        <br/>
        <strong>ğŸ“Œ é‡è¦è¯´æ˜</strong>
        <p>- ä»…å½“ MessageHistory.SyncMode ä¸º 0 æ—¶æœ‰æ•ˆã€‚</p>
        <p>- è¯·ç¡®ä¿æ‚¨çš„é¡¹ç›®å·²å¼€é€š ZIM æœåŠ¡ã€‚</p>
        <p>- è¯·ç¡®ä¿å·²è°ƒç”¨ ZIM æœºå™¨äººæ³¨å†Œæ¥å£ï¼Œå¹¶å°†è¿”å›çš„ UserInfo.UserId ä½œä¸º RobotIdã€‚</p>
        <p>- å»ºè®®æ‚¨æå‰æ³¨å†Œæœºå™¨äººï¼Œä»¥ä¾¿å®Œå–„ç”¨æˆ·ä¿¡æ¯è®¾ç½®å¹¶æå‡æ™ºèƒ½ä½“å®ä¾‹çš„åˆ›å»ºæ•ˆç‡ã€‚</p>
        </div>
      properties:
        RobotId:
          type: string
          description: ZIM æœºå™¨äºº IDã€‚å³è°ƒç”¨ ZIM [æ³¨å†Œæœºå™¨äºº](https://doc-zh.zego.im/zim-server/bot/register-bots#è¯·æ±‚å‚æ•°)æ¥å£å¯¹åº”çš„ UserInfo.UserId ã€‚ç”¨äºåŠ è½½ç”¨æˆ·ä¸è¯¥ ZIM æœºå™¨äººçš„èŠå¤©ä¸Šä¸‹æ–‡ï¼Œå¹¶å°†å¯¹è¯è¿‡ç¨‹ä¸­äº§ç”Ÿçš„æ¶ˆæ¯åŒæ­¥è‡³ ZIMã€‚å¦‚æœæ­¤å‚æ•°ä¸ºç©ºï¼Œå®æ—¶äº’åŠ¨ AI Agent åå°å°†éšæœºç”Ÿæˆã€‚
          example: "@RBT#robot_123"
        LoadMessageCount:
          type: integer
          description: åˆ›å»ºæ™ºèƒ½ä½“å®ä¾‹æ—¶ï¼Œä» ZIM æœåŠ¡è·å–å¤šå°‘æ¡æ¶ˆæ¯ä½œä¸ºä¸Šä¸‹æ–‡ã€‚é»˜è®¤ä¸º WindowSize çš„å€¼ï¼ˆå–å€¼ä¸Šé™ï¼‰ã€‚
          minimum: 0
          maximum: 500
          example: 20

    CallbackConfig:
      type: object
      description: |
        æœåŠ¡ç«¯å›è°ƒé…ç½®

        <div>
        <br/>
        <strong>ğŸ“Œ é‡è¦è¯´æ˜</strong>
        <p>åœ¨é…ç½®ä»¥ä¸‹å‚æ•°å‰ï¼Œä½ éœ€è¦å‚è€ƒ [æ¥æ”¶å›è°ƒ](/aiagent-server/callbacks/receiving-callback) è®¾ç½®å¥½å›è°ƒåœ°å€ï¼Œå¹¶äº†è§£å…·ä½“å­—æ®µè¯´æ˜ã€‚</p>
        </div>

      properties:
        ASRResult:
          type: integer
          description: æ˜¯å¦å¼€å¯æœåŠ¡ç«¯å›è°ƒ ASR ç»“æœã€‚
          enum: [0, 1]
          default: 0
        LLMResult:
          type: integer
          description: æ˜¯å¦å¼€å¯æœåŠ¡ç«¯å›è°ƒ LLM ç»“æœã€‚å¦‚æœå¼€å¯ï¼Œåˆ™ ZEGO æœåŠ¡ç«¯å°†ä¼šæŒ‰ç…§æ¯å¥è¯è¿”å› LLM è¾“å‡ºç»“æœã€‚
          enum: [0, 1]
          default: 0
        Interrupted:
          type: integer
          description: æ˜¯å¦å¼€å¯æœåŠ¡ç«¯å›è°ƒæ™ºèƒ½ä½“è¢«æ‰“æ–­ç»“æœã€‚
          enum: [0, 1]
          default: 0
        UserSpeakAction:
          type: integer
          description: æ˜¯å¦å¼€å¯æœåŠ¡ç«¯å›è°ƒç”¨æˆ·è¯´è¯çš„å›è°ƒã€‚
          enum: [0, 1]
          default: 0
        AgentInstanceStatus:
          type: integer
          description: æ˜¯å¦å¼€å¯æœåŠ¡ç«¯å›è°ƒæ™ºèƒ½ä½“å®ä¾‹çŠ¶æ€çš„å›è°ƒã€‚
          enum: [0, 1]
          default: 0
        UserAudioData:
          type: integer
          description: æ˜¯å¦å¼€å¯æœåŠ¡ç«¯å›è°ƒç”¨æˆ·è¯´è¯éŸ³é¢‘æ•°æ®ã€‚
          enum: [0, 1]
          default: 0

    AdvancedConfig:
      type: object
      properties:
        InterruptMode:
          type: integer
          description: |
            æ™ºèƒ½ä½“è¯´è¯æ—¶è¢«ç”¨æˆ·è¯­éŸ³æ‰“æ–­çš„æ¨¡å¼ï¼š
            - 0: ç«‹å³æ‰“æ–­ã€‚å¦‚æœåœ¨ AI è¯´è¯æ—¶ç”¨æˆ·è¯´è¯ï¼Œé‚£ä¹ˆ AI å°†è¢«ç«‹åˆ»æ‰“æ–­ï¼Œåœæ­¢è¯´è¯ã€‚
            - 1: ä¸æ‰“æ–­ã€‚å¦‚æœåœ¨ AI è¯´è¯æ—¶ç”¨æˆ·è¯´è¯ï¼Œé‚£ä¹ˆ AI ä¸ä¼šè¢«å½±å“ç›´åˆ°å†…å®¹è¯´å®Œã€‚
          enum: [0, 1]
          default: 0
          example: 0
        MaxIdleTime:
          type: integer
          description: æ™ºèƒ½ä½“å®ä¾‹çš„è‡ªåŠ¨é”€æ¯æ—¶é—´ã€‚åˆ›å»ºå®ä¾‹çš„ç”¨æˆ·ï¼ˆUserIdï¼‰è‹¥è¶…è¿‡ MaxIdleTime ä¸åœ¨ RTC æˆ¿é—´å†…ï¼Œåˆ™æ™ºèƒ½ä½“å®ä¾‹ä¼šè‡ªåŠ¨é”€æ¯ï¼Œå¹¶è§¦å‘ Event ä¸º AgentInstanceDeleted çš„[å›è°ƒ](/aiagent-server/callbacks/receiving-callback)ï¼ŒData.Code ä¸º 1202ã€‚é»˜è®¤ä¸º 120sï¼Œå–å€¼èŒƒå›´ [10, 1800]ã€‚
          minimum: 10
          maximum: 1800
          default: 120
          example: 120
        DisableTTS:
          type: boolean
          description: |
            æ˜¯å¦ç¦ç”¨ TTS åŠŸèƒ½ã€‚å¦‚æœè®¾ç½®ä¸º trueï¼Œåˆ™æ™ºèƒ½ä½“å®ä¾‹ä¸ä¼šè¿›è¡Œè¯­éŸ³åˆæˆã€‚
            > **ğŸ“Œ é‡è¦è¯´æ˜**
            >
            > DisableTTS ä¸º true æ—¶ï¼Œè°ƒç”¨[åˆ›å»ºæ•°å­—äººæ™ºèƒ½ä½“å®ä¾‹](/aiagent-server/api-reference/agent-instance-management/create-digital-human-agent-instance)åŠ[ä¸»åŠ¨è°ƒç”¨ TTS](/aiagent-server/api-reference/agent-instance-control/send-agent-instance-tts)æ¥å£éƒ½ä¼šæŠ¥é”™ã€‚
          default: false
          example: false
        LLMMetaInfo:
          type: object
          description: |
            ç”¨äºæ§åˆ¶ä» LLM è¾“å‡ºæ–‡æœ¬ä¸­æå–ç”¨ä½œé¢å¤–æ§åˆ¶å‚æ•°çš„å…ƒæ•°æ®ã€‚å…ƒæ•°æ®åº”è¯¥ä¸ºä¸€ä¸ª JSON å¯¹è±¡ï¼Œé€šå¸¸é€šè¿‡ `LLM.SystemPrompt` å‚æ•°æ§åˆ¶ LLM æŒ‰ç…§æŒ‡å®šæ ¼å¼è¾“å‡ºå†…å®¹ã€‚å…·ä½“å…ƒæ•°æ® JSON å¯¹è±¡æ ¼å¼æ ¹æ®åŠŸèƒ½è¦æ±‚æœ‰æ‰€ä¸åŒã€‚
            ç¤ºä¾‹ç”¨æ³•åŠæ›´å¤šè¯´æ˜å¯å‚è€ƒ[æ§åˆ¶æ™ºèƒ½ä½“è¯­éŸ³æƒ…ç»ª](/aiagent-server/advanced/controlling-tts-effects)ã€‚
          properties:
            BeginCharacters:
              type: string
              description: æ ‡è®°å…ƒæ•°æ®åœ¨æ–‡æœ¬ä¸­çš„èµ·å§‹ç¬¦å·ã€‚å³è¯¥ç¬¦å·å¼€å§‹å¾€åï¼Œç›´åˆ°é‡åˆ° EndCharacters ç¬¦å·ä¸ºæ­¢ï¼Œä¸­é—´çš„å†…å®¹ä¸ºå…ƒæ•°æ®ã€‚ä¸å¯ä¸ºç©ºæˆ–çº¯ç©ºæ ¼ï¼Œæ³¨æ„ä¸è¦ä½¿ç”¨å¸¸è§å­—ç¬¦åŠåˆ†å¥ç¬¦å·ã€‚
              example: "[["
            EndCharacters:
              type: string
              description: æ ‡è®°å…ƒæ•°æ®åœ¨æ–‡æœ¬ä¸­çš„ç»“æŸç¬¦å·ã€‚å³è¯¥ç¬¦å·å¼€å§‹å¾€å‰ï¼Œç›´åˆ°é‡åˆ° BeginCharacters ç¬¦å·ä¸ºæ­¢ï¼Œä¸­é—´çš„å†…å®¹ä¸ºå…ƒæ•°æ®ã€‚ä¸å¯ä¸ºç©ºæˆ–çº¯ç©ºæ ¼ï¼Œæ³¨æ„ä¸è¦ä½¿ç”¨å¸¸è§å­—ç¬¦åŠåˆ†å¥ç¬¦å·ã€‚
              example: "]]"
          required: []
          example:
            BeginCharacters: "[["
            EndCharacters: "]]"

    DigitalHuman:
      type: object
      properties:
        DigitalHumanId:
          type: string
          description: æ•°å­—äººå½¢è±¡ ID
          example: "xiaozhi"
        ConfigId:
          type: string
          description: æ•°å­—äººé…ç½® ID
          enum: [mobile, web]
          example: "mobile"
        EncodeCode:
          type: string
          description: æ•°å­—äººè§†é¢‘ç¼–ç æ ¼å¼
          enum: [H264]
          default: "H264"
          example: "H264"

    ErrorResponse:
      type: object
      properties:
        Code:
          type: integer
          description: é”™è¯¯ç 
          example: 400
        Message:
          type: string
          description: é”™è¯¯ä¿¡æ¯
          example: "Invalid request parameters"
        RequestId:
          type: string
          description: è¯·æ±‚ ID
          example: "3151527792559699733"