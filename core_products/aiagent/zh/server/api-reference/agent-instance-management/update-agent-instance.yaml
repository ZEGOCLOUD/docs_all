openapi: 3.0.0
info:
  title: open-api-desc
  version: 1.0.0
  contact:
    name: AI Agent API Support
    email: support@zegocloud.com

servers:
  - url: https://aigc-aiagent-api.zegotech.cn
    description: ç»Ÿä¸€æ¥å…¥åœ°å€ï¼ˆä¸åŒºåˆ†åŒºåŸŸï¼‰
  - url: https://aigc-aiagent-api-sha.zegotech.cn
    description: ä¸­å›½å¤§é™†ï¼ˆä¸Šæµ·ï¼‰

tags:
  - name: agent-instance-management

paths:
  /:
    post:
      tags:
        - agent-instance-management
      summary: UpdateAgentInstance
      description: é€šè¿‡æœ¬æ¥å£ï¼Œæ‚¨å¯ä»¥æ›´æ–°æ™ºèƒ½ä½“å®ä¾‹çš„é…ç½®ã€‚
      operationId: update-agent-instance
      parameters:
        - name: Action
          in: query
          description: |
            > æ¥å£åŸå‹å‚æ•°
            >
            > https://aigc-aiagent-api.zegotech.cn?Action=UpdateAgentInstance
          required: true
          allowEmptyValue: false
          schema:
            type: string
            enum: [UpdateAgentInstance]
          style: form
          explode: true
        # å¼•ç”¨å…±äº«çš„å‚æ•°
        - $ref: '../shared-components.yaml#/components/parameters/AppId'
        - $ref: '../shared-components.yaml#/components/parameters/SignatureNonce'
        - $ref: '../shared-components.yaml#/components/parameters/Timestamp'
        - $ref: '../shared-components.yaml#/components/parameters/Signature'
        - $ref: '../shared-components.yaml#/components/parameters/SignatureVersion'
      requestBody:
        required: true
        description: ğŸ“Œ æ³¨æ„ï¼šåªæœ‰ä¼ å…¥æœ¬æ¥å£çš„å‚æ•°æ‰ä¼šç”Ÿæ•ˆï¼Œæœªä¼ å…¥çš„å‚æ•°ä¸ä¼šæ›´æ–°ã€‚
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateAgentInstanceRequest"
            example:
              AgentInstanceId: "1907755175297171456"
              LLM:
                Url: "https://ark.cn-beijing.volces.com/api/v3/chat/completions"
                ApiKey: "zego_test"
                Model: "doubao-1-5-lite-32k-250115"
                SystemPrompt: "ä½ æ˜¯å°æ™ºï¼Œæˆå¹´å¥³æ€§ï¼Œæ˜¯**å³æ„ç§‘æŠ€åˆ›é€ çš„é™ªä¼´åŠ©æ‰‹**ï¼Œä¸ŠçŸ¥å¤©æ–‡ä¸‹çŸ¥åœ°ç†ï¼Œèªæ˜ç¿æ™ºã€çƒ­æƒ…å‹å–„ã€‚"
      responses:
        "200":
          description: æ›´æ–°æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UpdateAgentInstanceResponse"
              example:
                Code: 0
                Message: "success"
                RequestId: "3151527792559699732"

components:
  schemas:
    UpdateAgentInstanceRequest:
      type: object
      required:
        - AgentInstanceId
      properties:
        AgentInstanceId:
          type: string
          description: æ™ºèƒ½ä½“å®ä¾‹çš„å”¯ä¸€æ ‡è¯†ï¼Œé€šè¿‡ [åˆ›å»ºæ™ºèƒ½ä½“å®ä¾‹](/aiagent-server/api-reference/agent-instance-management/create-agent-instance) æ¥å£çš„å“åº”å‚æ•°è·å–ã€‚
          example: "1907755175297171456"
        LLM:
          $ref: '../shared-components.yaml#/components/schemas/LLM'
        TTS:
          $ref: '../shared-components.yaml#/components/schemas/TTS'
        ASR:
          $ref: '../shared-components.yaml#/components/schemas/ASR'

    UpdateAgentInstanceResponse:
      type: object
      properties:
        Code:
          type: integer
          description: è¿”å›ç ï¼Œ0 è¡¨ç¤ºæˆåŠŸï¼Œå…¶ä»–å€¼è¡¨ç¤ºå¤±è´¥ã€‚è¯¦æƒ…è¯·å‚è€ƒ [è¿”å›ç ](/aiagent-server/api-reference/return-codes) è¯´æ˜ã€‚
          example: 0
        Message:
          type: string
          description: è¯·æ±‚ç»“æœè¯´æ˜
          example: "success"
        RequestId:
          type: string
          description: è¯·æ±‚ ID
          example: "3151527792559699732"
