# 语音打断灵敏度调整



## 参数说明

影响语音打断灵敏度的参数在创建/更新智能体实例的 ASR 参数中。可参考[创建智能体实例 > Body > ASR 参数说明](/aiagent-server/api-reference/agent-instance-management/create-agent-instance)。详细说明如下：

| 参数名 | 类型 | 必填 | 说明 |
| --- | --- | --- | --- |
| VadSensitiveLevel | Number | 否 | 用于控制 VAD 的敏感度级别。取值范围 [0,3]：<br/>0 = medium（中等敏感度,默认值）<br/>1 = low（低敏感度）<br/>2 = high（高敏感度）<br/>3 = custom（自定义模式,需配合 VadMinSpeechDur 和 VadEnergyThreshold 使用） |
| VadMinSpeechDur | Number | 否 | 用于设置 VAD 检测的最小说话时长阈值,低于该时长的语音片段将被过滤。单位毫秒,取值范围 [0,1000]。值越大,越不容易误检,但可能会引起有些短语音漏检。<br/>**注意：** 仅在 VadSensitiveLevel 设置为 3（自定义模式）时生效。 |
| VadEnergyThreshold | Float | 否 | 用于设置 VAD 的能量阈值,用于区分语音和噪音。取值范围 [0,1]。值越小,灵敏度越高；值越大,灵敏度越低。VAD 通过计算音频信号的能量值来判断是否为语音,当音频能量超过此阈值时判定为语音活动,低于该阈值则认为是静音或噪音。<br/>**注意：** 仅在 VadSensitiveLevel 设置为 3（自定义模式）时生效。 |

## 场景举例

### VadSensitiveLevel 场景
| 配置值 | 适用场景 | 效果说明 |
| --- | --- | --- |
| 0（中等敏感度） | 一般场景 | 平衡了检测准确性和误触发率 |
| 1（低敏感度） | 嘈杂环境（如街道、餐厅） | 可以有效减少环境噪音的误触发,但可能会漏检一些轻声说话 |
| 2（高敏感度） | 安静环境 | 可以更快速地检测到语音活动,但在嘈杂环境可能会有较多误触发 |
| 3（自定义模式） | 特殊需求场景 | 需要同时配置 VadMinSpeechDur 和 VadEnergyThreshold 参数进行精细调整 |

### VadMinSpeechDur 场景
| 配置值 | 适用场景 | 效果说明 |
| --- | --- | --- |
| 0ms | 需要捕获所有语音 | 不过滤任何长度的语音,最大程度保留所有语音片段,但可能会有较多噪音误检 |
| 100ms | 对话型 AI 场景 | 可以过滤掉咳嗽、清嗓等非语音干扰,但\"嗯\"、\"哦\"等短语气词仍能被检测 |
| 500ms | 客服场景、需要完整句子 | 可以过滤掉大部分短促音,确保捕获完整的问题描述,但会漏检一些短语音如\"是\"、\"好\"等单字回答 |

### VadEnergyThreshold 场景
| 配置值 | 适用场景 | 效果说明 |
| --- | --- | --- |
| 0.1 | 安静环境（如办公室、卧室） | 高灵敏度,可以检测到轻声说话,但在嘈杂环境容易误判噪音为语音 |
| 0.5 | 一般环境（如客厅、会议室） | 中等灵敏度,适合一般场景,平衡了检测准确性和抗噪能力 |
| 0.8 | 嘈杂环境（如街道、餐厅、车内） | 低灵敏度,只有较大音量才会被识别为语音,适合嘈杂环境,但可能漏检轻声说话 |

## 最佳实践配置

<Note title="说明">若您不知道哪一个效果更好,推荐使用场景2配置。</Note>

| 场景 | VadSensitiveLevel | VadMinSpeechDur | VadEnergyThreshold |
| --- | --- | --- | --- |
| 场景1:安静室内环境,对延迟敏感 | 0 或 2 | 不填 | 不填 |
| 场景2:一般环境,平衡准确性和抗噪 | 0 | 不填 | 不填 |
| 场景3:嘈杂环境,需要减少误触发 | 1 | 不填 | 不填 |
| 场景4:对话型 AI,需要保留短促回答 | 3 | 100～300ms | 0.1～0.3 |
| 场景5:客服场景,需要完整句子 | 3 | 200～500ms | 0.3～0.5 |
| 场景6:嘈杂环境,需精细调整 | 3 | 300～500ms | 0.5～0.8 |

<Note title="调优建议">
当使用自定义模式（VadSensitiveLevel = 3）时,可以通过以下步骤进行参数调优：
1. 先在目标环境下进行测试,观察是否有误检或漏检
2. 如果存在噪音误检,适当提高 VadEnergyThreshold 值
3. 如果存在轻声说话漏检,适当降低 VadEnergyThreshold 值
4. 结合 VadMinSpeechDur 参数一起调整,达到最佳效果
</Note>
