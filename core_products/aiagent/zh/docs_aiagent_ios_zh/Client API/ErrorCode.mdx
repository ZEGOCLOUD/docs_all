# 错误码

---

## ZegoAIAgentErrorCode

ZegoAIAgentErrorCode 枚举定义了 SDK 可能遇到的各种错误情况及其对应的错误码。

### 基础错误码

| 错误码 | 说明 | 处理建议 |
|--------|------|----------|
| `ZegoAIAgentErrorCodeSuccess = 0` | 操作成功 | - |
| `ZegoAIAgentErrorCodeInvalidParams = 900000001` | 参数无效 | 检查传入的参数是否符合要求，确保必填参数不为空且格式正确 |
| `ZegoAIAgentErrorCodeNetworkError = 900000002` | 网络错误 | 检查网络连接状态，可尝试重新连接或稍后重试 |
| `ZegoAIAgentErrorCodeInvalidToken = 900000003` | 令牌无效 | 检查Token是否正确，可能需要重新获取Token |
| `ZegoAIAgentErrorCodeServiceUnknown = 900000004` | 服务未知错误 | 服务端异常，请联系ZEGO技术支持 |
| `ZegoAIAgentErrorCodeNetworkTimeout = 900000005` | 网络超时 | 检查网络状态，可能需要在更好的网络环境下重试 |
| `ZegoAIAgentErrorCodeConversationNotExist = 900000006` | 会话不存在 | 检查会话ID是否正确，可能需要重新创建会话 |
| `ZegoAIAgentErrorCodeConversationNotSupportMetaHuman = 900000007` | 该会话不支持数字人 | 创建支持数字人的会话类型 |

### 网关错误码

| 错误码 | 说明 | 处理建议 |
|--------|------|----------|
| `ZegoAIAgentErrorCodeInvalidHost = 100000000` | Host错误 | 检查服务器地址配置是否正确 |
| `ZegoAIAgentErrorCodeInvalidAppId = 100000001` | AppId格式错误 | 确认AppId格式正确，通常为数字格式 |
| `ZegoAIAgentErrorCodeEmptyTimestamp = 100000002` | Timestamp为空 | 确保请求中包含时间戳参数 |
| `ZegoAIAgentErrorCodeInvalidTimestamp = 100000003` | Timestamp格式错误 | 使用正确格式的Unix时间戳 |
| `ZegoAIAgentErrorCodeSignatureExpired = 100000004` | 签名过期 | 重新生成签名，确保系统时间准确 |
| `ZegoAIAgentErrorCodeInvalidSignature = 100000005` | 签名错误 | 检查签名算法和密钥是否正确 |
| `ZegoAIAgentErrorCodeEmptyAction = 100000006` | Action为空 | 确保请求中包含Action参数 |
| `ZegoAIAgentErrorCodeUnsupportedAction = 100000007` | 不支持的Action | 检查Action参数是否在支持的范围内 |
| `ZegoAIAgentErrorCodeEmptySignatureNonce = 100000008` | SignatureNonce为空 | 确保请求中包含SignatureNonce参数 |
| `ZegoAIAgentErrorCodeEmptySignature = 100000009` | Signature为空 | 确保请求中包含签名参数 |
| `ZegoAIAgentErrorCodeGetServerSecretFailed = 100000010` | 获取ServerSecret失败 | 检查服务器配置，联系技术支持 |
| `ZegoAIAgentErrorCodeGetAppConfigFailed = 100000011` | 获取App配置失败 | 检查应用配置是否正确，联系技术支持 |
| `ZegoAIAgentErrorCodeReadHttpBodyFailed = 100000012` | 读取HTTP包体失败 | 检查请求数据格式是否正确 |
| `ZegoAIAgentErrorCodeEmptySignatureVersion = 100000013` | SignatureVersion为空 | 确保请求中包含SignatureVersion参数 |
| `ZegoAIAgentErrorCodeUnsupportedSignatureVersion = 100000014` | 不支持的SignatureVersion | 使用支持的签名版本 |
| `ZegoAIAgentErrorCodeGatewayInternalError = 100000015` | 网关内部错误 | 服务端异常，请联系ZEGO技术支持 |
| `ZegoAIAgentErrorCodeAppEnvNotConfigured = 100000016` | App未配置正式环境 | 在控制台中配置应用的正式环境 |
| `ZegoAIAgentErrorCodeServiceNotActivated = 100000017` | App未开通服务 | 在控制台中开通相应的服务 |

### 业务错误码

| 错误码 | 说明 | 处理建议 |
|--------|------|----------|
| `ZegoAIAgentErrorCodeSystemError = 410000001` | 系统错误 | 服务端异常，请联系ZEGO技术支持 |
| `ZegoAIAgentErrorCodeInvalidRequestBody = 410000002` | 错误的请求Body | 检查请求体格式是否符合API要求 |
| `ZegoAIAgentErrorCodeInvalidQueryParams = 410000003` | 错误的Query参数 | 检查URL查询参数是否正确 |
| `ZegoAIAgentErrorCodeApiCallTooFrequent = 410000004` | API调用太频繁 | 降低API调用频率，实现请求节流 |
| `ZegoAIAgentErrorCodeAppServiceConfigError = 410000005` | APP服务配置错误 | 检查应用服务配置，联系技术支持 |
| `ZegoAIAgentErrorCodeInsufficientWorkerNodes = 410000006` | Worker节点不足 | 服务资源不足，稍后重试或联系技术支持 |
| `ZegoAIAgentErrorCodeRequestProcessing = 410000007` | 请求正在处理中 | 等待当前请求处理完成，避免重复请求 |
| `ZegoAIAgentErrorCodeAppConcurrentLimitReached = 410000008` | APP对话并发数达到限制 | 减少并发请求数量或升级服务计划 |
| `ZegoAIAgentErrorCodeInternalRpcFailed = 410001001` | 内部服务RPC失败 | 服务内部通信错误，请联系ZEGO技术支持 |
| `ZegoAIAgentErrorCodeSessionNotExist = 410001002` | 会话信息不存在 | 检查会话ID是否正确，可能需要重新创建会话 |
| `ZegoAIAgentErrorCodeRtcDialogueNotExist = 410001003` | RTC对话不存在 | 检查RTC对话是否已创建 |
| `ZegoAIAgentErrorCodeUnsupportedTtsProvider = 410001004` | TTS供应商暂不支持 | 使用支持的TTS供应商 |
| `ZegoAIAgentErrorCodeUnsupportedLlmProvider = 410001005` | LLM供应商暂不支持 | 使用支持的LLM供应商 |
| `ZegoAIAgentErrorCodeDuplicateConversationId = 410001006` | ConversationId重复 | 使用唯一的会话ID |
| `ZegoAIAgentErrorCodeDuplicateAgentId = 410001007` | AgentId重复 | 使用唯一的Agent ID |
| `ZegoAIAgentErrorCodeDuplicateAgentTemplateId = 410001008` | Agent模版Id重复 | 使用唯一的模板ID |
| `ZegoAIAgentErrorCodeAgentTemplateNotExist = 410001009` | Agent模版Id不存在 | 检查模板ID是否正确，或创建新模板 |
| `ZegoAIAgentErrorCodeUnsupportedAsrProvider = 410001010` | ASR供应商暂不支持 | 使用支持的ASR供应商 |
| `ZegoAIAgentErrorCodeRtcDialogueExist = 410003101` | RTC对话已存在 | 使用已存在的RTC对话或先关闭现有对话 |

## 示例用法

```objc
// 检查操作结果
- (void)handleOperationResult:(ZegoAIAgentErrorCode)errorCode {
    if (errorCode == ZegoAIAgentErrorCodeSuccess) {
        NSLog(@"操作成功");
    } else if (errorCode == ZegoAIAgentErrorCodeInvalidParams) {
        NSLog(@"参数无效");
    } else if (errorCode == ZegoAIAgentErrorCodeNetworkTimeout) {
        NSLog(@"网络超时，请重试");
    } else {
        // 获取错误信息
        NSString *errorMessage = ZegoAIAgentGetErrorMessage(errorCode);
        NSLog(@"操作失败: %@", errorMessage);
    }
}

// 默认错误信息
- (void)handleCustomError:(NSInteger)customErrorCode {
    ZegoAIAgentErrorCode errorCode = ZegoAIAgentConvertErrorCode(customErrorCode);
    NSString *errorMessage = ZegoAIAgentGetErrorMessageWithDefault(errorCode, @"未知自定义错误");
    NSLog(@"自定义错误: %@", errorMessage);
}

```