---
id: add-agent-instance-msg
title: "AddAgentInstanceMsg"
description: "Used to insert messages into the agent instance context list. This interface does not trigger LLM callbacks, subtitle updates, does not increase dialogue rounds, and does not store messages in ZIM history."
api: eJzdWe1u3LoRfZUB+8cGtB92YzsW0LSuk967QNwEjn2BXts/ZsVZiQlFKiQVe2vsS/QFir5hH6EYStrV2ntt10VuL5w/xorkcObwzMwhcysC5l6kFwJzMmGgjA9oMhpk1gRntbhKhCSfOVUFZY1IxbknCcGCMp5cgJK8x5w8KBMshIIgGoLOELAhugmglQ9DOCtUnEpuhhmBtOTB2ADBqTwnB+/fn0CGWk8x++IT8PU0qKAJ6kpiIJ+sViiTOUJPIBVqm9cEztZG+gTQyNU0H6yjvpfw8+QECsXf50ORCFuRQ45tIkUqUMrBHSRKn4tEVOiwpECOwboVBksSqTjKIiqJUAzN15rcXNwF7A1MlvFWzgYb5hXB0t6leXNp3kARQuXT0QhVng1QNT5gpYZ/p9wGyophZv7YbPeHIymPeHzSunji80t2wtHXWjmSIg2upkSg1vb6XVmF+U+oaxLpDLWnRPisoBJFeivYFZEKH5wyHCWZumQybNhBXC0S4cNc84KZdSVPv6m0ldTst0hWsFTVRD6Myr//+Y9/faynWmUrKIZwVFVaZfE4YPI2AfRe5YYkTOfw87sfPhy//3D+dgg/UAAVYOZsGSl3sRyDI1kqA8fWeKvpaquDNWs+RDQzbWs5zGw52h5uQO0eOkzXnJxIYtgYRCpqZcLvd8WiF/MnlRsMtaO/WpPRs4KHnf1BVqDDLJCDgm5QUqZK1ODQSFtCc06wVdANkMms5F92Bq8H03mgbpapyym57SGc0owc5+rF0jnwWFaas1LS1daoI5on943cCCs1cLyITEYjzDLyXpm8HWY6+t/5ztSgMTVgU9swsw4Ke8275WQ4pehJ4LbU6yN5pkryAcvqOSAe185x/Tk36gZCZynhxPeUWSP9/x2XBK5VKAChxBtV1iWQc9bxOe6MoVSmDuSfS0xlwv6rzbx8DprLxQnUbd3/Rk7N5jHtNOUqqBKzOTvPX9hl4jq/DjHTtDfs/1eES8oKNMqXG/EFNHD0cdLtBst1zyXkEoWfyPlH6/0jSDKAbKRN0//GJ95phrXmg94djnv1mn9dLRZXjS3y4c9WztnAXdOxG5vAQ7iqtaPPnl2/vb+znX6mLKz5eCHWWsNEskaoHPfRoMjz4rsTNkbSx+ysIKiN+loTKEkmqJki15FqXVAkkGs7Ra3n7YohfJgGVNwllg3Bka+s8b022xm7OHbEHIkuQufjo4S8IwnQYE4lmTDKork7mmF7JXGGsU3GiiBSsXM4PjjY29s52Ns9PNg52Hm1ty8WiThp5UkPKHQO73PrvfKBI1lqnk5dLQVOsDClVpxR7MGBSv/YiZ5azfXhuGXHvQON4086RWc1dVi3ToEnI8mll2bAVcSlcO5Z9wxie2fEQgpHk+aco5DpaM2zRSKW09ixFZhxdLHy+lH/WpihS4K+sR9Ja5vABK7RBEbxi7HXgFNbhxhL5aysM6ZhU2vZ4mKRiChPV7bZn6XRiw64LpClp/e304TOtPtt3CtZGlvB0bf4N1vD59rzqhDXkwQE/0WZDN3Sf7G46nu9QeedNgVkLZANGb2Ryn0m/1aD5/C78hC5vTse8591qhxJSRJ8HRvRrNaac/HZxXM9mY6jZN7QxdddOKVQOxMVSQJjUEbyhuQ7rxKwoSAH31jb++U4zFBpbnbwF+tAUkClfQKVjpclt+zLrXl25tF+7OLcqGj89lpFG6+q1+P511KLq3OtA/QH+6nYxscMbFc8pYV0xidv14y9PtzZ39853Ds4PHz1+tXhePdwXzyaAQ077qRAc2zjXrxLT9cc/YUtI/FKCoXlOZX1kRgYCpGKkUhEA3yTOLXTIhVPuRLeg+HccO+U0EgoQCkd/91ylCtrBspIqrgcm7Ad0+rhrQa+wAe3O0FlNF+4jwtlELY+FWjyAtW2YDHCmXG6EiTvXmA9YSk4s5GeLaNsRSZix0iJRLR6j0McjqNq4zqCWawj3YV50goS1q2f6qqyLranEpWOPItf/rR2e400Zh6VaPqmNlzd75za7aqSvbjnnLZIsI+jSqPiw25Ifttm24VgGVFwAqYX4vZ2ip7OnV4s+HMj6ZlsUnmcapZH7avJL0K4ddoqqW349d56Nsb5heb9R6lvzauPiHx/Vjy/nVeah+JtX5u+W7gv8F3mATjvPWR9L1xf0FPNA3D2X7O+F5Iv75nmKfz8NQDd8FrzFNdWD0UrD6/4h1PsokgvWDkUhJJc7DbN+laADM54i9Xae5cNjrar9RlV4cG5Vz3Z+fHDpzORiGn7OlRGSSscXvN7AF6LVFyKSxH/V4QtxOtK/H4rNJq8bmRvY5f//QfgXTnF
info_path: core_products/aiagent/en/server/api-reference/agent-instance-control/open-api-desc
---

<h1 className={"openapi__heading"}>AddAgentInstanceMsg</h1>

<MethodEndpoint method={"post"} path={"/"}></MethodEndpoint>


Used to insert messages into the agent instance context list. This interface does not trigger LLM callbacks, subtitle updates, does not increase dialogue rounds, and does not store messages in ZIM history.
## Request
<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Query Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"name":"Action","in":"query","description":"> Interface prototype parameter\n>\n> https://aigc-aiagent-api.zegotech.cn?Action=AddAgentInstanceMsg\n","required":true,"allowEmptyValue":false,"schema":{"type":"string","enum":["AddAgentInstanceMsg"]},"style":"form","explode":true}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"AppId","in":"query","description":"ðŸ’¡Public parameter. Application ID, assigned by ZEGOCLOUD. Get it from the [ZEGOCLOUD Admin Console](https://console.zegocloud.com/).","required":true,"schema":{"type":"integer","format":"uint32"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureNonce","in":"query","description":"ðŸ’¡Public parameter. A 16-character hexadecimal random string (hex encoding of 8-byte random number). Refer to [Signature sample code](/aiagent-server/api-reference/accessing-server-apis#signature-sample-code) for how to generate.","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Timestamp","in":"query","description":"ðŸ’¡Public parameter. Current Unix timestamp, in seconds. Refer to [Signature sample code](/aiagent-server/api-reference/accessing-server-apis#signature-sample-code) for how to generate, with a maximum error of 10 minutes.","required":true,"schema":{"type":"integer","format":"int64"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"Signature","in":"query","description":"ðŸ’¡Public parameter. Signature, used to verify the legitimacy of the request. Refer to [Signing the requests](/aiagent-server/api-reference/accessing-server-apis#signature-mechanism) for how to generate an API request signature.","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"name":"SignatureVersion","in":"query","description":"ðŸ’¡Public parameter. Signature version number.","required":true,"schema":{"type":"string","default":"2.0","enum":["2.0"]}}}></ParamsItem></ul></div></details>
<MimeTabs className={"openapi-tabs__mime request"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><ul className={"request-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"AgentInstanceId"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"The unique identifier of the agent instance, globally unique. Obtained from the response parameter of the [Create Agent Instance](/aiagent-server/api-reference/agent-instance-management/create-agent-instance) interface.","example":"1907755175297171456"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>Messages</strong><span className={"openapi-schema__name"}> object[]</span></span></summary><div className={"schema-description-container"}><div className={"schema-description"}>List of dialogue context messages to be inserted</div><li className={"opening-array-bracket-container"}><div className={"opening-array-bracket"}><span className={"opening-array-bracket_text"}>Array</span><span className={"opening-array-bracket_symbol"}>[</span></div></li><SchemaItem collapsible={false} name={"Role"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** [`user`, `assistant`]"} schema={{"type":"string","description":"The role of the message sender:\n- user: User\n- assistant: AI agent\n","enum":["user","assistant"],"example":"user"}}></SchemaItem><SchemaItem collapsible={false} name={"Content"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Message content","example":"Hello, I want to know about the product information"}}></SchemaItem><li className={"closing-array-bracket-container"}><div className={"closing-array-bracket"}>]</div></li></div></details></SchemaItem></ul></details></TabItem></MimeTabs>
<div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>Added successfully</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><ul className={"response-schema-first-body-node-container"}><SchemaItem collapsible={false} name={"Code"} required={false} schemaName={"integer"} qualifierMessage={undefined} schema={{"type":"integer","description":"Return code, 0 indicates success, other values indicate failure. For details, please refer to [Return Codes](/aiagent-server/api-reference/return-codes).","example":0}}></SchemaItem><SchemaItem collapsible={false} name={"Message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Request result description","example":"success"}}></SchemaItem><SchemaItem collapsible={false} name={"RequestId"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string","description":"Request ID","example":"8916619579948490296"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"8916619579948490296\"\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Example"} value={"Example"}><ResponseSamples responseExample={"{\n  \"Code\": 0,\n  \"Message\": \"success\",\n  \"RequestId\": \"8916619579948490296\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      