# AIAgent 回调接口

--- 

## 会话管理回调接口

### CreateConversationCallback

创建会话回调。

参数说明：
- errorCode: 错误码，0表示成功
- message: 错误信息
- [conversation](./Entity.md#conversationconfiginfo): 会话信息
- requestId: 请求ID

<CodeGroup>
```objectivec title="函数原型"
typedef void (^CreateConversationCallback)(NSInteger errorCode, NSString * _Nonnull message, ConversationConfigInfo * _Nullable conversation, NSString * _Nullable requestId);
```
</CodeGroup>

### DeleteConversationCallback

删除会话回调。

参数说明：
- errorCode: 错误码，0表示成功
- message: 错误信息
- requestId: 请求ID

<CodeGroup>
```objectivec title="函数原型"
typedef void (^DeleteConversationCallback)(NSInteger errorCode, NSString * _Nonnull message, NSString * _Nullable requestId);
```
</CodeGroup>

### QueryConversationCallback

查询会话回调。

参数说明：
- errorCode: 错误码，0表示成功
- message: 错误信息
- [conversationData](./Entity.md#conversationconfiginfo): 会话数据
- requestId: 请求ID

<CodeGroup>
```objectivec title="函数原型"
typedef void (^QueryConversationCallback)(NSInteger errorCode, NSString * _Nonnull message, ConversationConfigInfo * _Nullable conversationData, NSString * _Nullable requestId);
```
</CodeGroup>

### QueryConversationListCallback

查询会话列表回调。

参数说明：
- errorCode: 错误码，0表示成功
- message: 错误信息
- conversationListData: 会话列表数据
- requestId: 请求ID

<CodeGroup>
```objectivec title="函数原型"
typedef void (^QueryConversationListCallback)(NSInteger errorCode, NSString * _Nonnull message, QueryConversationListData * _Nullable conversationListData, NSString * _Nullable requestId);
```
</CodeGroup>

### ResetConversationMsgCallback

重置会话消息回调。

参数说明：
- errorCode: 错误码，0表示成功
- message: 错误信息
- requestId: 请求ID

<CodeGroup>
```objectivec title="函数原型"
typedef void (^ResetConversationMsgCallback)(NSInteger errorCode, NSString * _Nonnull message, NSString * _Nullable requestId);
```
</CodeGroup>

## RTC 聊天回调接口

### StartRTCChatCallback

开始 RTC 聊天回调。

参数说明：
- errorCode: 错误码，0表示成功
- message: 错误信息
- requestId: 请求ID

<CodeGroup>
```objectivec title="函数原型"
typedef void (^StartRTCChatCallback)(NSInteger errorCode, NSString * _Nonnull message, NSString * _Nullable requestId);
```
</CodeGroup>

### StartRTCVideoChatCallback

开始 RTC 视频聊天回调。

参数说明：
- errorCode: 错误码，0表示成功
- message: 错误信息
- data: 附加数据
- requestId: 请求ID

<CodeGroup>
```objectivec title="函数原型"
typedef void (^StartRTCVideoChatCallback)(NSInteger errorCode, NSString * _Nonnull message, StartRTCVideoChatData * _Nullable data, NSString * _Nullable requestId);
```
</CodeGroup>

### StopRTCChatCallback

停止 RTC 聊天回调。

参数说明：
- errorCode: 错误码，0表示成功
- message: 错误信息
- requestId: 请求ID

<CodeGroup>
```objectivec title="函数原型"
typedef void (^StopRTCChatCallback)(NSInteger errorCode, NSString * _Nonnull message, NSString * _Nonnull requestId);
```
</CodeGroup>

### UpdateConversationCallback

更新会话回调。

参数说明：
- errorCode: 错误码，0表示成功
- message: 错误信息
- requestId: 请求ID

<CodeGroup>
```objectivec title="函数原型"
typedef void (^UpdateConversationCallback)(NSInteger errorCode, NSString * _Nonnull message, NSString * _Nullable requestId);
```
</CodeGroup>

## ZegoAIAgentDelegate

### onDigitalhumanStateChange - 数字人状态回调接口

数字人状态变化回调接口。当数字人状态发生变化时会触发此回调。

参数说明：
- state: 数字人当前状态
  - DigitalHumanState_UNKOWN: 未知状态
  - DigitalHumanState_START_SUCCESS: 数字人启动成功
  - DigitalHumanState_START_FAIL: 数字人启动失败
  - DigitalHumanState_FIRSTFRAME_RENDER: 首帧渲染完成
- data: 附加数据，包含状态相关的详细信息

<CodeGroup>
```objectivec title="函数原型"
-(void)onDigitalhumanStateChange:(DigitalHumanState)state
                            data:(NSDictionary*)data;
```
</CodeGroup>

