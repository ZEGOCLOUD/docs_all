---
docType: API
---

# ZegoAutoMixerTask

## ZegoAutoMixerTask

自动混流任务对象

**详情**

调用 [StartAutoMixerTask] 函数向 ZEGO RTC 服务器发起自动混流任务时，需要通过该参数配置自动混流任务，包括任务 ID、房间 ID、音频配置、输出流列表、是否开启声浪回调通知。

<Note title="">
- **业务场景**：当向 ZEGO RTC 服务器发起自动混流任务时，需要这个配置。
</Note>

<Warning title="">
- **注意事项**：作为调用 [StartAutoMixerTask] 函数时传入的参数。
</Warning>

*Declared in `ZegoExpressDefines.h`*

### 属性
<ParamField
  name="taskID"
  prototype="nonatomic, copy NSString * taskID"
  parent_name="ZegoAutoMixerTask"
  parent_type="class">
自动混流任务 ID，一个房间内需要保证混流任务 ID 的唯一性。

<Note title="">
- **业务场景**：当发起自动混流任务时，需要配置该参数。
- **是否必填**：是。
- **建议值**：根据需求设置。
- **取值范围**：长度不超过 256 字节的字符串。
</Note>

<Warning title="">
- **注意事项**：一个房间内只能存在一个混流任务 ID，即保证混流任务 ID 的唯一性，建议混流任务 ID 与房间 ID 关联，可直接使用房间 ID 作为混流任务 ID。不可以包含 URL 关键字，例如 'http', '?' 等，否则推拉流会失败。仅支持数字，英文字符 和 '~', '!', '@', '$', '%', '^', '&', '*', '(', ')', '_', '+', '=', '-', '`', ';', '’', ',', '.', '&lt;', '&gt;', '/', '\\'。
</Warning>
</ParamField>
<ParamField
  name="roomID"
  prototype="nonatomic, copy NSString * roomID"
  parent_name="ZegoAutoMixerTask"
  parent_type="class">
自动混流任务的房间 ID。

<Note title="">
- **业务场景**：当发起自动混流任务时，需要配置该参数。
- **是否必填**：是。
- **建议值**：根据需求设置。
- **取值范围**：长度不超过 128 字节的字符串。
</Note>

<Warning title="">
- **注意事项**：仅支持数字，英文字符 和 '~', '!', '@', '#', '$', '%', '^', '&', '*', '(', ')', '_', '+', '=', '-', '`', ';', '’', ',', '.', '&lt;', '&gt;', '\\'。如果需要与 Web SDK 互通，请不要使用 '%'。
</Warning>
</ParamField>
<ParamField
  name="audioConfig"
  prototype="nonatomic, strong [ZegoMixerAudioConfig](../../api-reference/class#zegomixeraudioconfig) * audioConfig"
  parent_name="ZegoAutoMixerTask"
  parent_type="class">
自动混流任务的音频配置，可配置音频码率、音频声道，编码 ID、多路音频流混音模式。

<Note title="">
- **业务场景**：如果对自动混流任务的音频有特殊需求，比如需要调整音频码率，可根据需要调整该参数，否则不用配置。
- **是否必填**：否。
- **默认值**：默认音频码率为 "48 kbps", 默认音频声道为 "ZEGO_AUDIO_CHANNEL_MONO", 默认编码 ID 为 "ZEGO_AUDIO_CODEC_ID_DEFAULT"，默认多路音频流混音模式为 "ZEGO_AUDIO_MIX_MODE_RAW"。
- **建议值**：根据需求设置。
</Note>
</ParamField>
<ParamField
  name="outputList"
  prototype="nonatomic, strong NSArray<[ZegoMixerOutput](../../api-reference/class#zegomixeroutput) *> * outputList"
  parent_name="ZegoAutoMixerTask"
  parent_type="class">
自动混流任务的输出流列表，列表中为 URL 或者流 ID，若为 URL 格式 目前只支持 RTMP URL 格式：rtmp://xxxxxxxx。

<Note title="">
- **业务场景**：当发起自动混流任务时，需要配置该参数指明混流输出目标。Mix stream output target
- **是否必填**：是。
</Note>
</ParamField>
<ParamField
  name="enableSoundLevel"
  prototype="nonatomic, assign BOOL enableSoundLevel"
  parent_name="ZegoAutoMixerTask"
  parent_type="class">
是否开启自动混流的声浪回调通知，开启后拉混流时可通过 [onAutoMixerSoundLevelUpdate] 回调收到每条单流的声浪信息。

<Note title="">
- **业务场景**：当发起自动混流任务时，如果需要回调流的声浪信息，需要配置该参数。
- **是否必填**：否。
- **默认值**："false"。
- **建议值**：根据需求设置。
</Note>
</ParamField>
<ParamField
  name="streamAlignmentMode"
  prototype="nonatomic, assign [ZegoStreamAlignmentMode](../../api-reference/enum#zegostreamalignmentmode) streamAlignmentMode"
  parent_name="ZegoAutoMixerTask"
  parent_type="class">
混流对齐模式。
</ParamField>
<ParamField
  name="minPlayStreamBufferLength"
  prototype="nonatomic, assign int minPlayStreamBufferLength"
  parent_name="ZegoAutoMixerTask"
  parent_type="class">
设置混流服务器拉流缓存自适应调整的区间范围下限。在实时合唱 KTV 场景下，推流端网络轻微波动可能会导致混流的卡顿，此时观众拉混流的时候，会有比较高概率出现卡顿的问题。通过调节混流服务器拉流缓存自适应调整的区间范围下限，可优化观众端拉混流出现的卡顿问题，但会增大延迟。默认不设置，即服务端使用自身配置值。只会对新的输入流设置生效，对于已经开始混流的输入流不生效。

<Note title="">
- **取值范围**：[0,10000]，超过最大值混流会失败。在 web 平台，此属性不生效。
</Note>
</ParamField>
<ParamField
  name="streamAlignmentVolumeControlMode"
  prototype="nonatomic, assign [ZegoStreamAlignmentVolumeControlMode](../../api-reference/enum#zegostreamalignmentvolumecontrolmode) streamAlignmentVolumeControlMode"
  parent_name="ZegoAutoMixerTask"
  parent_type="class">
混流对齐场景音量调整模式。
</ParamField>
<ParamField
  name="streamAlignmentBaselineStreamID"
  prototype="nonatomic, copy NSString * streamAlignmentBaselineStreamID"
  parent_name="ZegoAutoMixerTask"
  parent_type="class">
混流对齐场景的基准流 ID。
</ParamField>
