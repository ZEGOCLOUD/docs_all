---
docType: API
---

# ZegoRangeSceneItem

## ZegoRangeSceneItem

*Declared in `ZegoExpressDefines.h`*

### 方法
<ParamField
  name="setEventHandler:"
  prototype="- (BOOL)setEventHandler:(nullable id<[ZegoRangeSceneItemEventHandler](../../api-reference/class#zegorangesceneitemeventhandler)>) handler;"
  desc="设置范围场景物品管理回调。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoRangeSceneItem"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| handler | nullable id\<[ZegoRangeSceneItemEventHandler](../../api-reference/class#zegorangesceneitemeventhandler)\> | 用于接收范围场景物品管理回调的对象。 |

**详情**

设置范围场景物品管理模块回调。

<Note title="">
- **调用时机**：通过 [getRangeSceneItem] 获取范围场景物品管理对象之后。
</Note>

<Warning title="">
- **支持版本**：3.1.0 及以上。
</Warning>

**返回值**

设置范围场景物品管理回调结果。true: 成功, false: 失败。
</ParamField>
<ParamField
  name="createItem:callback:"
  prototype="- (int)createItem:([ZegoItemParam](../../api-reference/class#zegoitemparam) *) param callback:(nullable [ZegoRangeSceneCreateItemCallback](../../api-reference/class#zegorangescenecreateitemcallback)) callback;"
  desc="创建物品。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoRangeSceneItem"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| param | [ZegoItemParam](../../api-reference/class#zegoitemparam) * | 物品参数。 |
| callback | nullable [ZegoRangeSceneCreateItemCallback](../../api-reference/class#zegorangescenecreateitemcallback) | 创建物品结果回调。 |

**详情**

创建物品。

<Note title="">
- **业务场景**：虚拟世界内物品竞争。
- **调用时机**：登录场景成功之后，[logoutScene] 之前。
- **相关接口**：可调用 [destroyItem] 销毁物品。
</Note>

<Warning title="">
- **支持版本**：3.1.0 及以上。
- **注意事项**：  1. 物品属于范围场景，而不是某个用户，当某用户成功绑定某物品时，只是表示该用户拥有对该物品的暂时使用权。
  2. 一个物品允许拥有1个或多个绑定用户，申请绑定物品时遵循先到先得的原则。
  3.  当有多个用户同时绑定了某个物品时，他们对该物品的变更遵循cas原则。
  4. 创建物品时允许指定是否在创建成功后绑定该物品。
  5. 物品创建成功时，该物品范围内的用户会收到 [onItemEnterView] 回调通知。
</Warning>

**返回值**

错误码，详情请参考常用 错误码文档 [https://doc-zh.zego.im/zh/4378.html](https://doc-zh.zego.im/zh/4378.html)
</ParamField>
<ParamField
  name="destroyItem:callback:"
  prototype="- (int)destroyItem:(long long) itemID callback:(nullable [ZegoRangeSceneDestroyItemCallback](../../api-reference/class#zegorangescenedestroyitemcallback)) callback;"
  desc="销毁物品。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoRangeSceneItem"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| itemID | long long | 物品 ID。 |
| callback | nullable [ZegoRangeSceneDestroyItemCallback](../../api-reference/class#zegorangescenedestroyitemcallback) | 销毁物品结果回调。 |

**详情**

销毁物品。

<Note title="">
- **业务场景**：虚拟世界内物品竞争。
- **调用时机**：登录场景成功之后，[logoutScene] 之前。
- **相关接口**：可调用 [createItem] 创建物品。
</Note>

<Warning title="">
- **支持版本**：3.1.0 及以上。
- **注意事项**：物品被销毁时，该物品范围内的用户会收到 [onItemLeaveView]回调通知。
</Warning>

**返回值**

错误码，详情请参考常用 错误码文档 [https://doc-zh.zego.im/zh/4378.html](https://doc-zh.zego.im/zh/4378.html)
</ParamField>
<ParamField
  name="bindItem:callback:"
  prototype="- (int)bindItem:(long long) itemID callback:(nullable [ZegoRangeSceneBindItemCallback](../../api-reference/class#zegorangescenebinditemcallback)) callback;"
  desc="申请绑定物品。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoRangeSceneItem"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| itemID | long long | 物品 ID。 |
| callback | nullable [ZegoRangeSceneBindItemCallback](../../api-reference/class#zegorangescenebinditemcallback) | 申请绑定物品结果回调。 |

**详情**

申请绑定物品。

<Note title="">
- **业务场景**：虚拟世界内物品竞争。
- **调用时机**：登录场景成功之后，[logoutScene] 之前。
- **相关接口**：可调用 [unbindItem] 申请解绑物品。
</Note>

<Warning title="">
- **支持版本**：3.1.0 及以上。
- **注意事项**：成功绑定物品时，该物品范围内的用户会收到 [onItemBindUpdate] 回调通知。
</Warning>

**返回值**

错误码，详情请参考常用 错误码文档 [https://doc-zh.zego.im/zh/4378.html](https://doc-zh.zego.im/zh/4378.html)
</ParamField>
<ParamField
  name="unbindItem:callback:"
  prototype="- (int)unbindItem:(long long) itemID callback:(nullable [ZegoRangeSceneUnbindItemCallback](../../api-reference/class#zegorangesceneunbinditemcallback)) callback;"
  desc="申请解绑物品。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoRangeSceneItem"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| itemID | long long | 物品 ID。 |
| callback | nullable [ZegoRangeSceneUnbindItemCallback](../../api-reference/class#zegorangesceneunbinditemcallback) | 销毁物品结果回调。 |

**详情**

申请解绑物品。

<Note title="">
- **业务场景**：虚拟世界内物品竞争。
- **调用时机**：[bindItem] 之后，[logoutScene] 之前。
- **相关接口**：可调用 [bindItem] 申请绑定物品。
</Note>

<Warning title="">
- **支持版本**：3.1.0 及以上。
- **注意事项**：成功解绑物品时，该物品范围内的用户会收到 [onItemUnbindUpdate] 回调通知。
</Warning>

**返回值**

错误码，详情请参考常用 错误码文档 [https://doc-zh.zego.im/zh/4378.html](https://doc-zh.zego.im/zh/4378.html)
</ParamField>
<ParamField
  name="updateItemStatus:position:channel:status:callback:"
  prototype="- (int)updateItemStatus:(long long) itemID position:([ZegoPosition](../../api-reference/class#zegoposition) *) position channel:(unsigned int) channel status:(NSData *) status callback:(nullable [ZegoRangeSceneUpdateItemStatusCallback](../../api-reference/class#zegorangesceneupdateitemstatuscallback)) callback;"
  desc="更新物品的状态。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoRangeSceneItem"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| itemID | long long | 物品 ID。 |
| position | [ZegoPosition](../../api-reference/class#zegoposition) * | 物品当前位置。 |
| channel | unsigned int | 状态所属通道，从0开始，不能超过最大通道号。 |
| status | NSData * | 物品当前状态数据。 |
| callback | nullable [ZegoRangeSceneUpdateItemStatusCallback](../../api-reference/class#zegorangesceneupdateitemstatuscallback) | 更新物品状态结果回调。 |

**详情**

开发者可以调用该接口更新物品的状态。

<Note title="">
- **调用时机**：[onBindItem] 之后，[unbindItem] 之前。
</Note>

<Warning title="">
- **支持版本**：3.1.0 及以上。
- **使用限制**：无。
- **注意事项**：无。
</Warning>

**返回值**

错误码，详情请参考常用 错误码文档 [https://doc-zh.zego.im/zh/4378.html](https://doc-zh.zego.im/zh/4378.html)
</ParamField>
<ParamField
  name="updateItemCommand:position:channel:command:callback:"
  prototype="- (int)updateItemCommand:(long long) itemID position:([ZegoPosition](../../api-reference/class#zegoposition) *) position channel:(unsigned int) channel command:(NSData *) command callback:(nullable [ZegoRangeSceneUpdateItemCommandCallback](../../api-reference/class#zegorangesceneupdateitemcommandcallback)) callback;"
  desc="更新物品的指令。"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoRangeSceneItem"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| itemID | long long | 物品 ID。 |
| position | [ZegoPosition](../../api-reference/class#zegoposition) * | 物品当前位置。 |
| channel | unsigned int | 状态所属通道，从0开始，不能超过最大通道号。 |
| command | NSData * | 物品下一步命令数据。 |
| callback | nullable [ZegoRangeSceneUpdateItemCommandCallback](../../api-reference/class#zegorangesceneupdateitemcommandcallback) | 更新物品下一步命令结果回调。 |

**详情**

开发者可以调用该接口更新物品的指令。

<Note title="">
- **调用时机**：[onBindItem] 之后，[unbindItem] 之前。
</Note>

<Warning title="">
- **支持版本**：3.1.0 及以上。
- **使用限制**：无。
- **注意事项**：无。
</Warning>

**返回值**

错误码，详情请参考常用 错误码文档 [https://doc-zh.zego.im/zh/4378.html](https://doc-zh.zego.im/zh/4378.html)
</ParamField>
