---
docType: API
---

# IZegoMediaPlayerEventHandler

## IZegoMediaPlayerEventHandler

*Declared in `callback/IZegoMediaPlayerEventHandler.java`*

### Methods
<ParamField
  name="onMediaPlayerStateUpdate"
  prototype="public  void onMediaPlayerStateUpdate([ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) mediaPlayer, [ZegoMediaPlayerState](../../api-reference/enum#zegomediaplayerstate) state, int errorCode)"
  desc="MediaPlayer playback status callback."
  parent_file="Declared in \`callback/IZegoMediaPlayerEventHandler.java\`"
  parent_name="IZegoMediaPlayerEventHandler"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mediaPlayer | [ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) | Callback player object. |
| state | [ZegoMediaPlayerState](../../api-reference/enum#zegomediaplayerstate) | Media player status. |
| errorCode | int | Error code, please refer to the error codes document [https://docs.zegocloud.com/en/5548.html](https://docs.zegocloud.com/en/5548.html) for details. |

**Details**

MediaPlayer playback status callback.

<Note title="">
- **Trigger**: The callback triggered when the state of the media player changes.
</Note>

<Warning title="">
- **Available since**: 1.3.4
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="onMediaPlayerNetworkEvent"
  prototype="public  void onMediaPlayerNetworkEvent([ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) mediaPlayer, [ZegoMediaPlayerNetworkEvent](../../api-reference/enum#zegomediaplayernetworkevent) networkEvent)"
  desc="The callback triggered when the network status of the media player changes."
  parent_file="Declared in \`callback/IZegoMediaPlayerEventHandler.java\`"
  parent_name="IZegoMediaPlayerEventHandler"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mediaPlayer | [ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) | Callback player object. |
| networkEvent | [ZegoMediaPlayerNetworkEvent](../../api-reference/enum#zegomediaplayernetworkevent) | Network status event. |

**Details**

The callback triggered when the network status of the media player changes.

<Note title="">
- **Trigger**: When the media player is playing network resources, this callback will be triggered when the status change of the cached data.
- **Related APIs**: [setNetWorkBufferThreshold].
</Note>

<Warning title="">
- **Available since**: 1.3.4
- **Restrictions**: The callback will only be triggered when the network resource is played.
</Warning>
</ParamField>
<ParamField
  name="onMediaPlayerPlayingProgress"
  prototype="public  void onMediaPlayerPlayingProgress([ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) mediaPlayer, long millisecond)"
  desc="The callback to report the current playback progress of the media player."
  parent_file="Declared in \`callback/IZegoMediaPlayerEventHandler.java\`"
  parent_name="IZegoMediaPlayerEventHandler"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mediaPlayer | [ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) | Callback player object. |
| millisecond | long | Progress in milliseconds. |

**Details**

The callback triggered when the network status of the media player changes. Set the callback interval by calling [setProgressInterval]. When the callback interval is set to 0, the callback is stopped. The default callback interval is 1 second.

<Note title="">
- **Trigger**: When the media player is playing network resources, this callback will be triggered when the status change of the cached data.
- **Related APIs**: [setProgressInterval].
</Note>

<Warning title="">
- **Available since**: 1.3.4
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="onMediaPlayerRenderingProgress"
  prototype="public  void onMediaPlayerRenderingProgress([ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) mediaPlayer, long millisecond)"
  desc="The callback to report the current rendering progress of the media player."
  parent_file="Declared in \`callback/IZegoMediaPlayerEventHandler.java\`"
  parent_name="IZegoMediaPlayerEventHandler"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mediaPlayer | [ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) | Callback player object. |
| millisecond | long | Progress in milliseconds. |

**Details**

The callback to report the current rendering progress of the media player. Set the callback interval by calling [setProgressInterval]. When the callback interval is set to 0, the callback is stopped. The default callback interval is 1 second.

<Note title="">
- **Trigger**: This callback will be triggered when the media player starts playing resources.
- **Related APIs**: [setProgressInterval].
</Note>

<Warning title="">
- **Available since**: 3.8.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="onMediaPlayerVideoSizeChanged"
  prototype="public  void onMediaPlayerVideoSizeChanged([ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) mediaPlayer, int width, int height)"
  desc="The callback triggered when when the resolution of the playback video changes."
  parent_file="Declared in \`callback/IZegoMediaPlayerEventHandler.java\`"
  parent_name="IZegoMediaPlayerEventHandler"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mediaPlayer | [ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) | Callback player object. |
| width | int | width. |
| height | int | height. |

**Details**

The callback triggered when when the resolution of the playback video changes.

<Note title="">
- **Trigger**: When the media player is playing a video resource, This callback will be triggered when playback starts and the resolution of the video changes.
</Note>

<Warning title="">
- **Available since**: 3.11.0
</Warning>
</ParamField>
<ParamField
  name="onMediaPlayerRecvSEI"
  prototype="public  void onMediaPlayerRecvSEI([ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) mediaPlayer, byte[] data)"
  desc="The callback triggered when the media player got media side info."
  parent_file="Declared in \`callback/IZegoMediaPlayerEventHandler.java\`"
  parent_name="IZegoMediaPlayerEventHandler"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mediaPlayer | [ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) | Callback player object. |
| data | byte[] | SEI content. |

**Details**

The callback triggered when the media player got media side info.

<Note title="">
- **Trigger**: When the media player starts playing media files, the callback is triggered if the SEI is resolved to the media file.
- **Caution**: The callback does not actually take effect until call [setEventHandler] to set.
</Note>

<Warning title="">
- **Available since**: 2.2.0
</Warning>
</ParamField>
<ParamField
  name="onMediaPlayerSoundLevelUpdate"
  prototype="public  void onMediaPlayerSoundLevelUpdate([ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) mediaPlayer, float soundLevel)"
  desc="The callback of sound level update."
  parent_file="Declared in \`callback/IZegoMediaPlayerEventHandler.java\`"
  parent_name="IZegoMediaPlayerEventHandler"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mediaPlayer | [ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) | Callback player object. |
| soundLevel | float | Sound level value, value range: [0.0, 100.0] (This value only represents the range of the sound level value returned by the callback, not the precision.). |

**Details**

The callback of sound level update.

<Note title="">
- **Trigger**: The callback frequency is specified by [EnableSoundLevelMonitor].
- **Caution**: The callback does not actually take effect until call [setEventHandler] to set.
- **Related APIs**: To monitor this callback, you need to enable it through [EnableSoundLevelMonitor].
</Note>

<Warning title="">
- **Available since**: 2.15.0
</Warning>
</ParamField>
<ParamField
  name="onMediaPlayerFrequencySpectrumUpdate"
  prototype="public  void onMediaPlayerFrequencySpectrumUpdate([ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) mediaPlayer, float[] spectrumList)"
  desc="The callback of frequency spectrum update."
  parent_file="Declared in \`callback/IZegoMediaPlayerEventHandler.java\`"
  parent_name="IZegoMediaPlayerEventHandler"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mediaPlayer | [ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) | Callback player object. |
| spectrumList | float[] | Locally captured frequency spectrum value list. Spectrum value range is [0-2^30]. |

**Details**

The callback of frequency spectrum update.

<Note title="">
- **Trigger**: The callback frequency is specified by [EnableFrequencySpectrumMonitor].
- **Caution**: The callback does not actually take effect until call [setEventHandler] to set.
- **Related APIs**: To monitor this callback, you need to enable it through [EnableFrequencySpectrumMonitor].
</Note>

<Warning title="">
- **Available since**: 2.15.0
</Warning>
</ParamField>
<ParamField
  name="onMediaPlayerFirstFrameEvent"
  prototype="public  void onMediaPlayerFirstFrameEvent([ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) mediaPlayer, [ZegoMediaPlayerFirstFrameEvent](../../api-reference/enum#zegomediaplayerfirstframeevent) event)"
  desc="The callback triggered when the media player plays the first frame."
  parent_file="Declared in \`callback/IZegoMediaPlayerEventHandler.java\`"
  parent_name="IZegoMediaPlayerEventHandler"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mediaPlayer | [ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) | Callback player object. |
| event | [ZegoMediaPlayerFirstFrameEvent](../../api-reference/enum#zegomediaplayerfirstframeevent) | The first frame callback event type. |

**Details**

The callback triggered when the media player plays the first frame.

<Note title="">
- **Trigger**: This callback is generated when the media player starts playing.
- **Caution**: The callback does not actually take effect until call [setEventHandler] to set.
- **Related APIs**: You need to call the [setPlayerCanvas] interface to set the view for the media player in order to receive the video first frame event callback.
</Note>

<Warning title="">
- **Available since**: 3.5.0
</Warning>
</ParamField>
<ParamField
  name="onMediaPlayerLocalCache"
  prototype="public  void onMediaPlayerLocalCache([ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) mediaPlayer, int errorCode, String resource, String cachedFile)"
  desc="The callback triggered when the media player caches http/https network resource locally."
  parent_file="Declared in \`callback/IZegoMediaPlayerEventHandler.java\`"
  parent_name="IZegoMediaPlayerEventHandler"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mediaPlayer | [ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) | Callback player object. |
| errorCode | int | Error code. |
| resource | String | Played resource |
| cachedFile | String | Cached file |

**Details**

The callback triggered when the media player caches http/https network resource locally.

<Note title="">
- **Trigger**: This callback occurs after the media player caches http/https network resources.
- **Caution**: This callback will not take effect until the [enableLocalCache] API is called and the http/https network resources are played.
- **Related APIs**: Need to call the [enableLocalCache] interface.
</Note>

<Warning title="">
- **Available since**: 3.12.0
</Warning>
</ParamField>
