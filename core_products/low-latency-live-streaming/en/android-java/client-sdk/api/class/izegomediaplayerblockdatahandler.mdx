---
docType: API
---

# IZegoMediaPlayerBlockDataHandler

## IZegoMediaPlayerBlockDataHandler

*Declared in `callback/IZegoMediaPlayerBlockDataHandler.java`*

### Methods
<ParamField
  name="onBlockBegin"
  prototype="public  void onBlockBegin([ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) mediaPlayer, String path)"
  desc="The callback triggered when the media player is about to throw the block data of the media resource."
  parent_file="Declared in \`callback/IZegoMediaPlayerBlockDataHandler.java\`"
  parent_name="IZegoMediaPlayerBlockDataHandler"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mediaPlayer | [ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) | Callback player object. |
| path | String | The path of the media resource. |

**Details**

The callback triggered when the media player is about to throw the block data of the media resource.

<Note title="">
- **Trigger**: The callback is generated when the media player starts playing.
- **Caution**: The callback does not actually take effect until call [setBlockDataHandler] to set.
</Note>

<Warning title="">
- **Available since**: 3.4.0
- **Restrictions**: When playing copyrighted music, this callback will be disabled by default. If necessary, please contact ZEGO technical support.
</Warning>
</ParamField>
<ParamField
  name="onBlockData"
  prototype="public  int onBlockData([ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) mediaPlayer, ByteBuffer buffer)"
  desc="The callback triggered when the media player throws the block data of the media resource."
  parent_file="Declared in \`callback/IZegoMediaPlayerBlockDataHandler.java\`"
  parent_name="IZegoMediaPlayerBlockDataHandler"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| mediaPlayer | [ZegoMediaPlayer](../../api-reference/class#zegomediaplayer) | Callback player object. |
| buffer | ByteBuffer | The block data of the media resource. |

**Details**

The callback triggered when the media player throws the block data of the media resource.

<Note title="">
- **Trigger**: This callback will be generated after receiving the [onBlockBegin] callback.
- **Caution**: The callback does not actually take effect until call [setBlockDataHandler] to set. The buffer size before and after decryption should be consistent.
</Note>

<Warning title="">
- **Available since**: 3.4.0
- **Restrictions**: When playing copyrighted music, this callback will be disabled by default. If necessary, please contact ZEGO technical support.
</Warning>

**Return**

The size of the buffer, -1 is returned for failure.
</ParamField>
