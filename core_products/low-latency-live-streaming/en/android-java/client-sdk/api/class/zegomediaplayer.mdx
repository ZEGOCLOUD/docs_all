---
docType: API
---

# ZegoMediaPlayer

## ZegoMediaPlayer

*Declared in `ZegoMediaPlayer.java`*

### 方法
<ParamField
  name="setEventHandler"
  prototype="public  void setEventHandler([IZegoMediaPlayerEventHandler](../../api-reference/class#izegomediaplayereventhandler) handler)"
  desc="设置媒体播放器的事件回调。"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| handler | [IZegoMediaPlayerEventHandler](../../api-reference/class#izegomediaplayereventhandler) | 媒体播放器的事件回调 |

**详情**

监听媒体播放器的事件通知回调。

<Note title="">
- **业务场景**：开发者可以根据相关事件回调进行播放器 UI 界面的处理。
- **调用时机**：创建 [ZegoMediaPlayer] 实例后。
</Note>

<Warning title="">
- **支持版本**：2.1.0 及以上。
- **使用限制**：无。
- **注意事项**：调用此函数将覆盖上一次调用此函数设置的回调。
</Warning>
</ParamField>
<ParamField
  name="setVideoHandler"
  prototype="public  void setVideoHandler([IZegoMediaPlayerVideoHandler](../../api-reference/interface#izegomediaplayervideohandler) handler, [ZegoVideoFrameFormat](../../api-reference/enum#zegovideoframeformat) format)"
  desc="设置媒体播放器的视频数据回调。"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| handler | [IZegoMediaPlayerVideoHandler](../../api-reference/interface#izegomediaplayervideohandler) | 媒体播放器的视频数据回调 |
| format | [ZegoVideoFrameFormat](../../api-reference/enum#zegovideoframeformat) | 视频数据的视频帧格式 |

**详情**

可以通过设置此回调将媒体播放器播放的媒体资源文件的视频数据抛出来。

<Note title="">
- **调用时机**：创建 [ZegoMediaPlayer] 实例后。
</Note>

<Warning title="">
- **支持版本**：2.1.0 及以上。
- **使用限制**：无。
- **注意事项**：当不再需要获取视频帧数据时请再次调用此函数将 handler 置空，以停止视频帧数据回调。
</Warning>
</ParamField>
<ParamField
  name="setAudioHandler"
  prototype="public  void setAudioHandler([IZegoMediaPlayerAudioHandler](../../api-reference/interface#izegomediaplayeraudiohandler) handler)"
  desc="设置媒体播放器的音频数据回调。"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| handler | [IZegoMediaPlayerAudioHandler](../../api-reference/interface#izegomediaplayeraudiohandler) | 媒体播放器的音频数据回调 |

**详情**

可以通过设置此回调将媒体播放器播放的媒体资源文件的音频数据抛出来。

<Note title="">
- **调用时机**：创建 [ZegoMediaPlayer] 实例后。
</Note>

<Warning title="">
- **支持版本**：2.1.0 及以上。
- **使用限制**：无。
- **注意事项**：当不再需要获取音频数据时请再次调用此函数将 handler 置空，以停止音频数据回调。
</Warning>
</ParamField>
<ParamField
  name="setBlockDataHandler"
  prototype="public  void setBlockDataHandler([IZegoMediaPlayerBlockDataHandler](../../api-reference/class#izegomediaplayerblockdatahandler) handler, int blockSize)"
  desc="设置媒体播放器的媒体资源块数据回调。"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| handler | [IZegoMediaPlayerBlockDataHandler](../../api-reference/class#izegomediaplayerblockdatahandler) | 媒体播放器的媒体资源块数据回调。 |
| blockSize | int | 加密块数据的大小，OnBlockData 回调中的 bufferSize 为 blockSize 整数倍。 |

**详情**

可以通过设置此回调，监听并解密媒体资源块数据，用于播放用户自己的密文媒体资源。

<Note title="">
- **调用时机**：创建 [ZegoMediaPlayer] 实例后，播放媒体资源之前。
</Note>

<Warning title="">
- **支持版本**：3.4.0 及以上。
- **使用限制**：无。
- **注意事项**：当不再需要监听该回调进行数据解密时，再次调用此函数将 handler 置空。
</Warning>
</ParamField>
<ParamField
  name="loadResource"
  prototype="public  void loadResource(String path, [IZegoMediaPlayerLoadResourceCallback](../../api-reference/interface#izegomediaplayerloadresourcecallback) callback)"
  desc="加载本地或者网络媒体资源。"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| path | String | 本地资源路径或网络资源的 URL，不能传入 null 或 ""。Android 可通过 Uri 方式进行传参。 |
| callback | [IZegoMediaPlayerLoadResourceCallback](../../api-reference/interface#izegomediaplayerloadresourcecallback) | 资源加载结果的通知。 |

**详情**

加载媒体资源。

<Note title="">
- **业务场景**：开发者可以将可传本地资源的绝对路径或者网络资源的 URL 传入进行加载。
- **调用时机**：在已经初始化引擎 [createEngine] 且创建媒体播放器 [createMediaPlayer] 之后可以调用。
- **相关接口**：也可通过 [loadResourceWithPosition] 或 [loadResourceFromMediaData] 函数加载资源。
</Note>

<Warning title="">
- **支持版本**：1.3.4 及以上。
- **注意事项**：如果该媒体播放器已经加载资源或者正在播放，请先调用 [stop] 接口停止播放，然后再调用接口加载媒体资源，否则无法加载成功。
</Warning>

**返回值**

加载媒体资源结果回调。
</ParamField>
<ParamField
  name="loadResourceWithPosition"
  prototype="public  void loadResourceWithPosition(String path, long startPosition, [IZegoMediaPlayerLoadResourceCallback](../../api-reference/interface#izegomediaplayerloadresourcecallback) callback)"
  desc="加载本地或者网络媒体资源，并指定开始位置。"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| path | String | 本地资源路径或网络资源的 URL，不能传入 null 或 ""。Android 可通过 Uri 方式进行传参。 |
| startPosition | long | 开始播放的进度。 |
| callback | [IZegoMediaPlayerLoadResourceCallback](../../api-reference/interface#izegomediaplayerloadresourcecallback) | 资源加载结果的通知。 |

**详情**

加载媒体资源，同时可指定开始播放的进度,单位毫秒。

<Note title="">
- **业务场景**：开发者可以将可传本地资源的绝对路径或者网络资源的 URL 传入进行加载。
- **调用时机**：在已经初始化引擎 [createEngine] 且创建媒体播放器 [createMediaPlayer] 之后可以调用。
- **相关接口**：也可通过 [loadResource] 或 [loadResourceFromMediaData] 函数加载资源。
</Note>

<Warning title="">
- **支持版本**：2.14.0 及以上。
- **注意事项**：1.当 startPosition 超过播放总时长，将从头开始播放。 
 2.如果该媒体播放器已经加载资源或者正在播放，请先调用 [stop] 接口停止播放，然后再调用接口加载媒体资源，否则无法加载成功。
</Warning>

**返回值**

加载媒体资源结果回调。
</ParamField>
<ParamField
  name="loadResourceFromMediaData"
  prototype="public  void loadResourceFromMediaData(byte[] mediaData, long startPosition, [IZegoMediaPlayerLoadResourceCallback](../../api-reference/interface#izegomediaplayerloadresourcecallback) callback)"
  desc="加载二进制的音频媒体资源。"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| mediaData | byte[] | 二进制音频数据。 |
| startPosition | long | 指定开始播放的进度,单位毫秒。 |
| callback | [IZegoMediaPlayerLoadResourceCallback](../../api-reference/interface#izegomediaplayerloadresourcecallback) | 资源加载结果的通知。 |

**详情**

加载二进制的音频数据。

<Note title="">
- **业务场景**：开发者不希望将音频数据缓存本地，直接把音频二进制数据传给媒体播放器，直接加载并播放该音频。
- **调用时机**：在已经初始化引擎 [createEngine] 且创建媒体播放器 [createMediaPlayer] 之后可以调用。
- **相关接口**：也可通过 [loadResource] 或 [loadResourceWithPosition] 函数加载资源。
</Note>

<Warning title="">
- **支持版本**：2.10.0 及以上。
- **注意事项**：1.当 startPosition 超过播放总时长，将从头开始播放。 
 2.如果该媒体播放器已经加载资源或者正在播放，请先调用 [stop] 接口停止播放，然后再调用接口加载媒体资源，否则无法加载成功。
</Warning>

**返回值**

加载媒体资源结果回调。
</ParamField>
<ParamField
  name="loadCopyrightedMusicResourceWithPosition"
  prototype="public  void loadCopyrightedMusicResourceWithPosition(String resourceID, long startPosition, [IZegoMediaPlayerLoadResourceCallback](../../api-reference/interface#izegomediaplayerloadresourcecallback) callback)"
  desc="加载版权音乐资源。"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| resourceID | String | 从版权音乐模块获取的资源ID。 |
| startPosition | long | 开始播放的进度。 |
| callback | [IZegoMediaPlayerLoadResourceCallback](../../api-reference/interface#izegomediaplayerloadresourcecallback) | 资源加载结果的通知。 |

**详情**

加载版权音乐资源，同时可指定开始播放的进度,单位毫秒。

<Note title="">
- **业务场景**：开发者可以将可传版权音乐的资源ID进行加载。
- **调用时机**：在已经初始化引擎 [createEngine] 且创建媒体播放器 [createMediaPlayer] 之后可以调用。
</Note>

<Warning title="">
- **支持版本**：2.14.0 及以上。
- **注意事项**：1.当 startPosition 超过播放总时长，将从头开始播放。 
 2.如果该媒体播放器已经加载资源或者正在播放，请先调用 [stop] 接口停止播放，然后再调用接口加载媒体资源，否则无法加载成功。
</Warning>

**返回值**

加载媒体资源结果回调。
</ParamField>
<ParamField
  name="loadResourceWithConfig"
  prototype="public  void loadResourceWithConfig([ZegoMediaPlayerResource](../../api-reference/class#zegomediaplayerresource) resource, [IZegoMediaPlayerLoadResourceCallback](../../api-reference/interface#izegomediaplayerloadresourcecallback) callback)"
  desc="加载本地或者网络媒体资源，带配置参数。"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| resource | [ZegoMediaPlayerResource](../../api-reference/class#zegomediaplayerresource) | 需要加载的多媒体资源。 |
| callback | [IZegoMediaPlayerLoadResourceCallback](../../api-reference/interface#izegomediaplayerloadresourcecallback) | 资源加载结果的通知。 |

**详情**

加载媒体资源。

<Note title="">
- **业务场景**：开发者可以将可传本地资源的绝对路径或者网络资源的 URL 传入进行加载。
- **调用时机**：在已经初始化引擎 [createEngine] 且创建媒体播放器 [createMediaPlayer] 之后调用。
- **相关接口**：支持通过 [loadResourceWithPosition] 或 [loadResourceFromMediaData] 接口加载资源。
</Note>

<Warning title="">
- **支持版本**：3.3.0 及以上。
- **注意事项**：如果该媒体播放器已经加载资源或者正在播放，请先调用 [stop] 接口停止播放，然后再调用接口加载媒体资源，否则无法加载成功。
</Warning>

**返回值**

加载媒体资源结果回调。
</ParamField>
<ParamField
  name="start"
  prototype="public  void start()"
  desc="开始播放"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
必须在加载资源完成后才能调用
</ParamField>
<ParamField
  name="stop"
  prototype="public  void stop()"
  desc="停止播放"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
</ParamField>
<ParamField
  name="pause"
  prototype="public  void pause()"
  desc="暂停播放"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
</ParamField>
<ParamField
  name="resume"
  prototype="public  void resume()"
  desc="恢复播放"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
</ParamField>
<ParamField
  name="seekTo"
  prototype="public  void seekTo(long millisecond, [IZegoMediaPlayerSeekToCallback](../../api-reference/interface#izegomediaplayerseektocallback) callback)"
  desc="设置指定的播放进度"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| millisecond | long | 指定的播放进度的时间点 |
| callback | [IZegoMediaPlayerSeekToCallback](../../api-reference/interface#izegomediaplayerseektocallback) | 设置指定的播放进度的结果通知 |

**详情**

单位为毫秒

**返回值**

设置指定的播放进度的结果通知
</ParamField>
<ParamField
  name="enableRepeat"
  prototype="public  void enableRepeat(boolean enable)"
  desc="是否重复播放"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
| 名称 | 类型 | 描述 |
| --- | --- | --- |
| enable | boolean | 重复播放标记，默认为 false |
</ParamField>
<ParamField
  name="setPlaySpeed"
  prototype="public  void setPlaySpeed(float speed)"
  desc="设置播放倍速。"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| speed | float | 播放速度。默认为 1.0。<br/>  2.12.0 至 3.15.1 版本：范围为 0.5 ~ 4.0。<br/>  3.16.0 及以上版本：范围为 0.3 ~ 4.0。 |

**详情**

设置播放器的播放倍速。

<Note title="">
- **调用时机**：必须在加载资源完成后才能调用。
- **相关接口**：可通过 [loadResource] 函数加载资源。
</Note>

<Warning title="">
- **支持版本**：2.12.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="enableAux"
  prototype="public  void enableAux(boolean enable)"
  desc="是否将播放器的声音混入正在推的流中"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| enable | boolean | 是否混音标记，默认为 false |

**详情**

此接口仅会将媒体播放器声音混到主通道中
</ParamField>
<ParamField
  name="muteLocal"
  prototype="public  void muteLocal(boolean mute)"
  desc="是否静默本地播放"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| mute | boolean | 本地静音标记，默认为 false。 |

**详情**

若开启了混音入流则推的流中仍然有声音，默认为 false。
</ParamField>
<ParamField
  name="setPlayerCanvas"
  prototype="public  void setPlayerCanvas([ZegoCanvas](../../api-reference/class#zegocanvas) canvas)"
  desc="设置播放器播放视频的视图"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
| 名称 | 类型 | 描述 |
| --- | --- | --- |
| canvas | [ZegoCanvas](../../api-reference/class#zegocanvas) | 视频渲染的画布对象 |
</ParamField>
<ParamField
  name="setVolume"
  prototype="public  void setVolume(int volume)"
  desc="设置播放器音量，会同时设置本地播放音量和推流音量"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
| 名称 | 类型 | 描述 |
| --- | --- | --- |
| volume | int | 范围为 0 ~ 200，默认为 60。 |
</ParamField>
<ParamField
  name="setPlayVolume"
  prototype="public  void setPlayVolume(int volume)"
  desc="设置播放器本地播放音量"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
| 名称 | 类型 | 描述 |
| --- | --- | --- |
| volume | int | 范围为 0 ~ 200，默认为 60。 |
</ParamField>
<ParamField
  name="setPublishVolume"
  prototype="public  void setPublishVolume(int volume)"
  desc="设置播放器推流音量"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
| 名称 | 类型 | 描述 |
| --- | --- | --- |
| volume | int | 范围为 0 ~ 200，默认为 60。 |
</ParamField>
<ParamField
  name="setProgressInterval"
  prototype="public  void setProgressInterval(long millisecond)"
  desc="设置播放进度回调间隔"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| millisecond | long | 播放进度回调间隔时间，单位为毫秒 |

**详情**

可通过此函数控制 [onMediaPlayerPlayingProgress] 的回调频率，当设置回调间隔为 0 时，停止回调。默认回调间隔为 1s
 回调不会严格按照设定的回调间隔值返回，而是以处理音频帧或者视频帧的频率来判断是否需要回调
</ParamField>
<ParamField
  name="getPlayVolume"
  prototype="public  int getPlayVolume()"
  desc="获取当前媒体播放器本地播放的音量，范围为 0 ~ 200，默认值为 60"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
当前音量
</ParamField>
<ParamField
  name="getPublishVolume"
  prototype="public  int getPublishVolume()"
  desc="获取当前媒体播放器推流的音量，范围为 0 ~ 200，默认值为 60"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
当前音量
</ParamField>
<ParamField
  name="getTotalDuration"
  prototype="public  long getTotalDuration()"
  desc="获取媒体资源的总进度"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
必须在加载资源完成后才能调用，否则返回值为 0

单位为毫秒
</ParamField>
<ParamField
  name="getCurrentProgress"
  prototype="public  long getCurrentProgress()"
  desc="获取当前播放进度"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
必须在加载资源完成后才能调用，否则返回值为 0

当前播放进度
</ParamField>
<ParamField
  name="getCurrentRenderingProgress"
  prototype="public  long getCurrentRenderingProgress()"
  desc="获取当前渲染进度"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
必须在加载资源完成后才能调用，否则返回值为 0

当前渲染进度
</ParamField>
<ParamField
  name="getAudioTrackCount"
  prototype="public  int getAudioTrackCount()"
  desc="获取播放文件的音轨个数"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
音轨个数
</ParamField>
<ParamField
  name="setAudioTrackIndex"
  prototype="public  void setAudioTrackIndex(int index)"
  desc="设置播放文件的音轨"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
| 名称 | 类型 | 描述 |
| --- | --- | --- |
| index | int | 音轨序号，可以通过 [getAudioTrackCount] 获取音轨个数 |
</ParamField>
<ParamField
  name="setAudioTrackMode"
  prototype="public  void setAudioTrackMode([ZegoMediaPlayerAudioTrackMode](../../api-reference/enum#zegomediaplayeraudiotrackmode) mode)"
  desc="设置播放器的音轨模式"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| mode | [ZegoMediaPlayerAudioTrackMode](../../api-reference/enum#zegomediaplayeraudiotrackmode) | 音轨模式。 |

**详情**

设置播放器的音轨模式。

<Note title="">
- **业务场景**：在实时合唱（KTV）场景下，调用该接口开启多音轨模式后，可以调用接口 [setAudioTrackIndex] 指定需要播放的原唱音轨，调用接口 [setAudioTrackPublishIndex] 指定需要推流的伴奏音轨。
- **调用时机**：在开始播放 [start] 前调用才生效。
- **相关接口**：可通过 [setAudioTrackIndex] 指定媒体文件的播放音轨，通过 [setAudioTrackPublishIndex] 指定媒体文件的推流音轨。
</Note>

<Warning title="">
- **支持版本**：3.1.0 及以上。
- **注意事项**：当开启多音轨模式时会增加对硬件设备的资源消耗。
</Warning>
</ParamField>
<ParamField
  name="setAudioTrackPublishIndex"
  prototype="public  void setAudioTrackPublishIndex(int index)"
  desc="设置媒体文件需要推流的音轨"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| index | int | 音轨序号，可以通过 [getAudioTrackCount] 获取音轨个数 |

**详情**

设置媒体文件需要推流的音轨。

<Note title="">
- **调用时机**：初始化引擎 [createEngine] 并创建媒体播放器 [createMediaPlayer] 之后调用。
- **相关接口**：可以通过 [getAudioTrackCount] 获取音轨个数。
</Note>

<Warning title="">
- **支持版本**：3.1.0 及以上。
- **注意事项**：需要调用接口 [setAudioTrackMode] 开启多音轨模式后该调用才生效。
</Warning>
</ParamField>
<ParamField
  name="enableVoiceChanger"
  prototype="public  void enableVoiceChanger([ZegoMediaPlayerAudioChannel](../../api-reference/enum#zegomediaplayeraudiochannel) audioChannel, boolean enable, [ZegoVoiceChangerParam](../../api-reference/class#zegovoicechangerparam) param)"
  desc="开启变声，设置变声的具体参数。"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| audioChannel | [ZegoMediaPlayerAudioChannel](../../api-reference/enum#zegomediaplayeraudiochannel) | 要进行变声的声道 |
| enable | boolean | 是否开启变声，true-开启，false-关闭，默认 false。 |
| param | [ZegoVoiceChangerParam](../../api-reference/class#zegovoicechangerparam) | 变声参数 |

**详情**

开启变声，设置变声的具体参数。

<Note title="">
- **调用时机**：初始化引擎 [createEngine] 并创建媒体播放器 [createMediaPlayer] 之后调用。
</Note>

<Warning title="">
- **支持版本**：3.15.0 及以上。
</Warning>
</ParamField>
<ParamField
  name="getCurrentState"
  prototype="public  [ZegoMediaPlayerState](../../api-reference/enum#zegomediaplayerstate) getCurrentState()"
  desc="获取当前播放状态"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
当前播放器状态
</ParamField>
<ParamField
  name="getIndex"
  prototype="public  int getIndex()"
  desc="获取媒体播放器的序号"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
获取媒体播放器索引。

<Note title="">
- **调用时机**：在 [createMediaPlayer] 之后可调用。
</Note>

<Warning title="">
- **使用限制**：无。
</Warning>

媒体播放器索引。
</ParamField>
<ParamField
  name="takeSnapshot"
  prototype="public  void takeSnapshot([IZegoMediaPlayerTakeSnapshotCallback](../../api-reference/interface#izegomediaplayertakesnapshotcallback) callback)"
  desc="对媒体播放器当前播放画面进行截图"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| callback | [IZegoMediaPlayerTakeSnapshotCallback](../../api-reference/interface#izegomediaplayertakesnapshotcallback) | 媒体播放器播放画面截图的回调 |

**详情**

只有在调用 [setPlayerCanvas] 设置了显示控件，以及播放状态的情况下，才能正常截图
</ParamField>
<ParamField
  name="enableAccurateSeek"
  prototype="public  void enableAccurateSeek(boolean enable, [ZegoAccurateSeekConfig](../../api-reference/class#zegoaccurateseekconfig) config)"
  desc="开启精准 seek 并设置相关属性"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| enable | boolean | 是否开启精准 seek |
| config | [ZegoAccurateSeekConfig](../../api-reference/class#zegoaccurateseekconfig) | 精准 seek 的属性设置，只有 enable 为 true 时有效。 |

**详情**

普通 seek 指定的时间戳可能是非 I 帧，进而返回指定时间戳前后的 I 帧，不是很精确。而精准 seek 当指定的时间戳不是 I 帧时，会通过指定时间戳前后的 I 帧去解指定时间戳的那帧数据。

<Note title="">
- **业务场景**：适用于用户需要精准 seek 到指定时间戳的场景。
- **调用时机**：必须在加载资源前调用设置，在整个媒体播放器的生命周期内生效。
</Note>

<Warning title="">
- **支持版本**：2.4.0 及以上。
</Warning>
</ParamField>
<ParamField
  name="setNetWorkResourceMaxCache"
  prototype="public  void setNetWorkResourceMaxCache(int time, int size)"
  desc="设置网络素材最大的缓存时长和缓存数据大小"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| time | int | 缓存最大时长, 单位 ms, SDK 内部默认为5000；有效值为大于等于 2000；如果填 0, 表示不限制。 |
| size | int | 缓存最大尺寸, 单位 byte,SDK内部默认size为15*1024*1024 byte；有效值为大于等于 5000000, 如果填 0, 表示不限制。 |

**详情**

必须在加载资源前调用设置，在整个媒体播放器的生命周期内生效。
 time和size不允许同时为 0。SDK 内部默认time为5000, size为15*1024*1024 byte。time和size中某一个指标先达到设置的值，就会停止缓存。
 在加载资源时设置 onlineResourceCachePath 非空时，将通过 maxCachePendingLength 控制缓存，该配置无效。
</ParamField>
<ParamField
  name="getNetWorkResourceCache"
  prototype="public  [ZegoNetWorkResourceCache](../../api-reference/class#zegonetworkresourcecache) getNetWorkResourceCache()"
  desc="获取当前网络素材缓存队列的缓存数据可播放的时长和缓存数据大小"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
返回当前缓存的信息，包括数据可播放的时长和缓存数据大小
</ParamField>
<ParamField
  name="setNetWorkBufferThreshold"
  prototype="public  void setNetWorkBufferThreshold(int threshold)"
  desc="通过该接口设置媒体播放器重新恢复播放需要达到的缓存阈值,SDK 默认值是 5000ms,有效值为大于等于1000ms"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| threshold | int | 重新恢复播放需要达到的阈值, 单位 ms。 |

**详情**

必须在加载资源前调用设置,在整个媒体播放器的生命周期内生效。
 当网络状态较差且媒体播放器将缓存的网络资源都播放完时，就会停止播放，并通过回调接口`onMediaPlayerNetworkEvent`的`ZegoMediaPlayerNetworkEvent.BUFFER_BEGIN`状态通知用户，告知正在重新缓存网络资源。
 只有当缓存的网络资源大于设置的阈值的时候,媒体播放器才会在原来暂停的位置自动恢复播放，并通过回调接口`onMediaPlayerNetworkEvent`的`ZegoMediaPlayerNetworkEvent.BUFFER_ENDED`通知用户，告知用户缓存网络资源已经达到阈值并恢复了播放。
</ParamField>
<ParamField
  name="enableSoundLevelMonitor"
  prototype="public  void enableSoundLevelMonitor(boolean enable, int millisecond)"
  desc="是否开启声浪监听。"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| enable | boolean | 是否开启监听，true 开启，false 关闭。 |
| millisecond | int | 声浪的监听时间周期，单位为毫秒，取值范围 [100, 3000]。 |

**详情**

开启或关闭声浪监听。

<Note title="">
- **调用时机**：初始化引擎 [createEngine] 并创建媒体播放器 [createMediaPlayer] 之后调用。
- **相关回调**：开启后可以通过 [onMediaPlayerSoundLevelUpdate] 回调监听声浪更新。
</Note>

<Warning title="">
- **支持版本**：2.15.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="enableFrequencySpectrumMonitor"
  prototype="public  void enableFrequencySpectrumMonitor(boolean enable, int millisecond)"
  desc="是否开启频谱监听。"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| enable | boolean | 是否开启监听，true 开启，false 关闭。 |
| millisecond | int | 频谱的监听时间周期，单位为毫秒，取值范围 [10, 3000]。注意在 3.19.0 及更老版本上，取值范围为 [100, 3000] |

**详情**

开启或关闭频谱监听。

<Note title="">
- **调用时机**：初始化引擎 [createEngine] 并创建媒体播放器 [createMediaPlayer] 之后调用。
- **相关回调**：开启后可以通过 [onMediaPlayerFrequencySpectrumUpdate] 回调监听声浪更新。
</Note>

<Warning title="">
- **支持版本**：2.15.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="setActiveAudioChannel"
  prototype="public  void setActiveAudioChannel([ZegoMediaPlayerAudioChannel](../../api-reference/enum#zegomediaplayeraudiochannel) audioChannel)"
  desc="设置播放声道。"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| audioChannel | [ZegoMediaPlayerAudioChannel](../../api-reference/enum#zegomediaplayeraudiochannel) | 播放声道，默认全部声道。 |

**详情**

设置播放声道。

<Note title="">
- **调用时机**：初始化引擎 [createEngine] 并创建媒体播放器 [createMediaPlayer] 之后调用。
</Note>

<Warning title="">
- **支持版本**：2.20.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="clearView"
  prototype="public  void clearView()"
  desc="清除播放控件播放结束后, 在控件上保留的最后一帧画面。"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
清除播放控件播放结束后, 在控件上保留的最后一帧画面。

<Note title="">
- **调用时机**：初始化引擎 [createEngine] 并创建媒体播放器 [createMediaPlayer] 之后调用。
</Note>

<Warning title="">
- **支持版本**：2.20.0 及以上。
- **使用限制**：只有媒体播放器结束播放该接口调用才会生效。
</Warning>
</ParamField>
<ParamField
  name="getMediaInfo"
  prototype="public  [ZegoMediaPlayerMediaInfo](../../api-reference/class#zegomediaplayermediainfo) getMediaInfo()"
  desc="获取媒体文件视频分辨率等媒体信息。"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
获取媒体文件视频分辨率等媒体信息。

<Note title="">
- **调用时机**：初始化引擎 [createEngine] 并创建媒体播放器 [createMediaPlayer] 之后调用。
</Note>

<Warning title="">
- **支持版本**：3.6.0 及以上。
- **使用限制**：无。
</Warning>
</ParamField>
<ParamField
  name="updatePosition"
  prototype="public  void updatePosition(float[] position)"
  desc="更新媒体播放器(音频源)位置。"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| position | float[] | 自身在世界坐标系中的坐标，参数是长度为 3 的 float 数组。 |

**详情**

更新媒体播放器(音频源)位置。。

<Note title="">
- **业务场景**：媒体播放器也需要有 3D 空间音效。
- **调用时机**：在已经初始化引擎 [createEngine] 且创建媒体播放器 [createMediaPlayer] 之后可以调用。
</Note>

<Warning title="">
- **支持版本**：3.6.0 及以上。
- **使用限制**：此接口需要与 RangeAudio/RangeScene 模块配合使用，RangeAudio/RangeScene 模块开启 3D 音效后，此接口才能调用成功。
</Warning>
</ParamField>
<ParamField
  name="setHttpHeader"
  prototype="public  void setHttpHeader(HashMap<String, String> headers)"
  desc="设置 http 头信息。"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| headers | HashMap\<String, String\> | 头信息。 |

**详情**

调用该函数设置 http 网络资源的http headers。

<Note title="">
- **业务场景**：当网络资源需要设置特殊的头信息时可以配置。
- **调用时机**：在已经初始化引擎 [createEngine] 且创建媒体播放器 [createMediaPlayer] 之后可以调用。
</Note>

<Warning title="">
- **支持版本**：3.8.0 及以上。
- **使用限制**：在加载对应的网络资源之前调用。
</Warning>
</ParamField>
<ParamField
  name="setPlayMediaStreamType"
  prototype="public  void setPlayMediaStreamType([ZegoMediaStreamType](../../api-reference/enum#zegomediastreamtype) streamType)"
  desc="设置播放的媒体流类型。"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| streamType | [ZegoMediaStreamType](../../api-reference/enum#zegomediastreamtype) | 流类型。 |

**详情**

配置播放的媒体流类型，可以仅播放视频流或者音频流，在播放器生命周期内一直生效。

<Note title="">
- **业务场景**：当仅需要播放视频流或者音频流时。
- **调用时机**：在已经初始化引擎 [createEngine] 且创建媒体播放器 [createMediaPlayer] 之后可以调用。
</Note>

<Warning title="">
- **支持版本**：3.10.0 及以上。
- **注意事项**：播放时改变媒体流类型，将在下一次播放时生效。
</Warning>
</ParamField>
<ParamField
  name="enableLiveAudioEffect"
  prototype="public  void enableLiveAudioEffect(boolean enable, [ZegoLiveAudioEffectMode](../../api-reference/enum#zegoliveaudioeffectmode) mode)"
  desc="开启现场音效。"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| enable | boolean | 是否开启现场音效。 |
| mode | [ZegoLiveAudioEffectMode](../../api-reference/enum#zegoliveaudioeffectmode) | 现场音效模式。 |

**详情**

开启现场音效后，空间感增强、乐器声音增强突出，不会增加延迟。

<Note title="">
- **业务场景**：一般用于语聊房、K 歌场景下，增强伴奏的现场音效。
- **调用时机**：在已经初始化引擎 [createEngine] 且创建媒体播放器 [createMediaPlayer] 之后可以调用。
</Note>

<Warning title="">
- **支持版本**：3.10.0 及以上。
- **注意事项**：为了提升现场音效的体验，我们建议配置双声道编码。开发者可以通过使用 [setAudioCaptureStereoMode] 方法来实现此配置。如果不进行双声道编码配置，某些歌曲的效果可能会显著降低，因为在合成单声道时，左右声道的效果可能会相互抵消，导致效果不明显。
</Warning>
</ParamField>
<ParamField
  name="enableLocalCache"
  prototype="public  void enableLocalCache(boolean enable, String cacheDir)"
  desc="开启本地缓存 http/https 网络资源。"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| enable | boolean | 是否开启本地缓存。 |
| cacheDir | String | 缓存目录。如果留空会使用 SDK 内部指定的目录。 |

**详情**

当播放 http/https 网络资源时，开启本地缓存后，会将网络资源保存到本地，并通过 [onMediaPlayerLocalCache] 将缓存信息回调出来。

<Note title="">
- **调用时机**：在已经初始化引擎 [createEngine] 且创建媒体播放器 [createMediaPlayer] 之后可以调用。在 [loadResource] 之后或者播放过程中调用，会在下一次播放生效。
</Note>

<Warning title="">
- **支持版本**：3.12.0 及以上。
- **注意事项**：只支持 http/https 单文件类型网络资源，如果播放过程中有 [seekTo] 操作，缓存会失败。
</Warning>
</ParamField>
<ParamField
  name="enableViewMirror"
  prototype="public  void enableViewMirror(boolean enable)"
  desc="开启画面镜像。"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
**参数**

| 名称 | 类型 | 描述 |
| --- | --- | --- |
| enable | boolean | 是否开启画面镜像。 |

**详情**

开启画面镜像。

<Note title="">
- **调用时机**：在已经初始化引擎 [createEngine] 且创建媒体播放器 [createMediaPlayer] 之后可以调用。
</Note>

<Warning title="">
- **支持版本**：3.14.0 及以上。
</Warning>
</ParamField>
<ParamField
  name="getPlaybackStatistics"
  prototype="public  [ZegoMediaPlayerStatisticsInfo](../../api-reference/class#zegomediaplayerstatisticsinfo) getPlaybackStatistics()"
  desc="获取播放统计信息。"
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
获取当前播放统计信息，监控播放器解码和渲染是否发生异常。

<Note title="">
- **业务场景**：一般用于云播放器场景。
- **调用时机**：在 [loadResource] 回调成功之后调用。
</Note>

<Warning title="">
- **支持版本**：3.12.0 及以上。
</Warning>
</ParamField>
<ParamField
  name="setVoiceChangerParam"
  prototype="public  void setVoiceChangerParam([ZegoMediaPlayerAudioChannel](../../api-reference/enum#zegomediaplayeraudiochannel) audioChannel, [ZegoVoiceChangerParam](../../api-reference/class#zegovoicechangerparam) param)"
  desc="【已废弃】设置变声的具体参数"
  suffixes={["deprecated"]}
  parent_file="Declared in \`ZegoMediaPlayer.java\`"
  parent_name="ZegoMediaPlayer"
  parent_type="class">
| 名称 | 类型 | 描述 |
| --- | --- | --- |
| audioChannel | [ZegoMediaPlayerAudioChannel](../../api-reference/enum#zegomediaplayeraudiochannel) | 要进行变声的声道 |
| param | [ZegoVoiceChangerParam](../../api-reference/class#zegovoicechangerparam) | 变声参数 |

<Warning title="已废弃">此函数在 3.15.0 版本及以上已废弃，请使用 [enableVoiceChanger] 函数代替。</Warning>
</ParamField>
