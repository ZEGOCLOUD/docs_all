---
docType: API
---

# ZegoRangeSceneEventHandler

## ZegoRangeSceneEventHandler

*Declared in `ZegoExpressEventHandler.h`*

### Methods
<ParamField
  name="rangeScene:sceneStateUpdate:errorCode"
  prototype="- (void)rangeScene:([ZegoRangeScene](../../api-reference/class#zegorangescene) *)rangeScene sceneStateUpdate:([ZegoSceneState](../../api-reference/enum#zegoscenestate))state errorCode:(int)errorCode;"
  desc="The callback triggered when the scene connection state changes."
  parent_file="Declared in \`ZegoExpressEventHandler.h\`"
  parent_name="ZegoRangeSceneEventHandler"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| rangeScene | [ZegoRangeScene](../../api-reference/class#zegorangescene) * | Range scene instance that triggers this callback. |
| state | [ZegoSceneState](../../api-reference/enum#zegoscenestate) | Current scene state. |
| errorCode | int | Error code, please refer to the error codes document [https://doc-en.zego.im/en/5548.html](https://doc-en.zego.im/en/5548.html) for details. |

**Details**

The callback triggered when the scene connection state changes.
 When to trigger: Scene connection state changes.

<Warning title="">
- **Restrictions**: Do not call the SDK interface in the callback thread.
</Warning>
</ParamField>
<ParamField
  name="rangeScene:enterView:position"
  prototype="- (void)rangeScene:([ZegoRangeScene](../../api-reference/class#zegorangescene) *)rangeScene enterView:([ZegoUser](../../api-reference/class#zegouser) *)user position:([ZegoPosition](../../api-reference/class#zegoposition) *)position;"
  desc="Callback notification when another user enters the current user's field of view."
  parent_file="Declared in \`ZegoExpressEventHandler.h\`"
  parent_name="ZegoRangeSceneEventHandler"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| rangeScene | [ZegoRangeScene](../../api-reference/class#zegorangescene) * | Range scene instance that triggers this callback. |
| user | [ZegoUser](../../api-reference/class#zegouser) * | User object. |
| position | [ZegoPosition](../../api-reference/class#zegoposition) * | User position. |

**Details**

Callback notification when another user enters the current user's field of view.
 When to trigger: Another user enters the current user's field of view.

<Warning title="">
- **Restrictions**: Do not call the SDK interface in the callback thread.
</Warning>
</ParamField>
<ParamField
  name="rangeScene:leaveView"
  prototype="- (void)rangeScene:([ZegoRangeScene](../../api-reference/class#zegorangescene) *)rangeScene leaveView:(NSString *)userID;"
  desc="Callback notification when other users leave the current user's field of view."
  parent_file="Declared in \`ZegoExpressEventHandler.h\`"
  parent_name="ZegoRangeSceneEventHandler"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| rangeScene | [ZegoRangeScene](../../api-reference/class#zegorangescene) * | Range scene instance that triggers this callback. |
| userID | NSString * | User ID. |

**Details**

Callback notification when other users leave the current user's field of view.
 When to trigger: Other users leave the current user's field of view.

<Warning title="">
- **Restrictions**: Do not call the SDK interface in the callback thread.
</Warning>
</ParamField>
<ParamField
  name="rangeScene:userStatusUpdate:position:channel:status"
  prototype="- (void)rangeScene:([ZegoRangeScene](../../api-reference/class#zegorangescene) *)rangeScene userStatusUpdate:(NSString *)userID position:([ZegoPosition](../../api-reference/class#zegoposition) *)position channel:(unsigned int)channel status:(NSData *)status;"
  desc="User state update callback."
  parent_file="Declared in \`ZegoExpressEventHandler.h\`"
  parent_name="ZegoRangeSceneEventHandler"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| rangeScene | [ZegoRangeScene](../../api-reference/class#zegorangescene) * | Range scene instance that triggers this callback. |
| userID | NSString * | User ID. |
| position | [ZegoPosition](../../api-reference/class#zegoposition) * | User's current position. |
| channel | unsigned int | The channel to which the status belongs. |
| status | NSData * | Current status data. |

**Details**

User state update callback.
 When to trigger: User state update.

<Note title="">
- **Caution**: This callback is a high-frequency callback, please do not perform time-consuming operations in this callback.
</Note>

<Warning title="">
- **Restrictions**: Do not call the SDK interface in the callback thread.
</Warning>
</ParamField>
<ParamField
  name="rangeScene:userCommandUpdate:position:channel:command"
  prototype="- (void)rangeScene:([ZegoRangeScene](../../api-reference/class#zegorangescene) *)rangeScene userCommandUpdate:(NSString *)userID position:([ZegoPosition](../../api-reference/class#zegoposition) *)position channel:(unsigned int)channel command:(NSData *)command;"
  desc="User command update callback."
  parent_file="Declared in \`ZegoExpressEventHandler.h\`"
  parent_name="ZegoRangeSceneEventHandler"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| rangeScene | [ZegoRangeScene](../../api-reference/class#zegorangescene) * | Range scene instance that triggers this callback. |
| userID | NSString * | User ID. |
| position | [ZegoPosition](../../api-reference/class#zegoposition) * | User's current position. |
| channel | unsigned int | The channel to which the command belongs. |
| command | NSData * | Next command data. |

**Details**

User command update callback.
 When to trigger: User command update.

<Note title="">
- **Caution**: This callback is a high-frequency callback, please do not perform time-consuming operations in this callback.
</Note>

<Warning title="">
- **Restrictions**: Do not call the SDK interface in the callback thread.
</Warning>
</ParamField>
<ParamField
  name="rangeScene:customCommandUpdate"
  prototype="- (void)rangeScene:([ZegoRangeScene](../../api-reference/class#zegorangescene) *)rangeScene customCommandUpdate:(NSData *)command;"
  desc="Custom command update callback."
  parent_file="Declared in \`ZegoExpressEventHandler.h\`"
  parent_name="ZegoRangeSceneEventHandler"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| rangeScene | [ZegoRangeScene](../../api-reference/class#zegorangescene) * | Range scene instance that triggers this callback. |
| command | NSData * | Custom command. |

**Details**

Custom command update callback.
 When to trigger: Custom command update.

<Warning title="">
- **Restrictions**: Do not call the SDK interface in the callback thread.
</Warning>
</ParamField>
<ParamField
  name="rangeScene:tokenWillExpire"
  prototype="- (void)rangeScene:([ZegoRangeScene](../../api-reference/class#zegorangescene) *)rangeScene tokenWillExpire:(int)remainTimeInSecond;"
  desc="Callback notification that scene Token authentication is about to expire."
  parent_file="Declared in \`ZegoExpressEventHandler.h\`"
  parent_name="ZegoRangeSceneEventHandler"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| rangeScene | [ZegoRangeScene](../../api-reference/class#zegorangescene) * | Range scene instance that triggers this callback. |
| remainTimeInSecond | int | The remaining time before the token expires. |

**Details**

The callback notification that the scene Token authentication is about to expire, please use [renewToken] to update the scene Token authentication.

<Note title="">
- **When to call /Trigger**: 30 seconds before the Token expires, the SDK will call [onSceneTokenWillExpire] to notify developer.
- **Related APIs**: When the developer receives this callback, he can use [renewToken] to update the token authentication information.
</Note>

<Warning title="">
- **Available since**: 3.1.0
- **Restrictions**: Do not call the SDK interface in the callback thread.
</Warning>
</ParamField>
