---
docType: API
---

# ZegoAudioEffectPlayer

## ZegoAudioEffectPlayer

*Declared in `ZegoExpressDefines.h`*

### Methods
<ParamField
  name="setEventHandler:"
  prototype="- (void)setEventHandler:(nullable id<[ZegoAudioEffectPlayerEventHandler](../../api-reference/protocol#zegoaudioeffectplayereventhandler)>) handler;"
  desc="Set audio effect player event handler."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| handler | nullable id\<[ZegoAudioEffectPlayerEventHandler](../../api-reference/protocol#zegoaudioeffectplayereventhandler)\> | event handler for audio effect player. |

**Details**

Set audio effect player event handler.

<Note title="">
- **When to call**: It can be called after [createAudioEffectPlayer].
- **Related APIs**: [createAudioEffectPlayer].
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="start:path:config:"
  prototype="- (void)start:(unsigned int) audioEffectID path:(nullable NSString *) path config:([ZegoAudioEffectPlayConfig](../../api-reference/class#zegoaudioeffectplayconfig) *) config;"
  desc="Start playing audio effect."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| audioEffectID | unsigned int | Description: ID for the audio effect. The SDK uses audioEffectID to control the playback of sound effects. The SDK does not force the user to pass in this parameter as a fixed value. It is best to ensure that each sound effect can have a unique ID. The recommended methods are static self-incrementing ID or the hash of the incoming sound effect file path. |
| path | nullable NSString * | The absolute path of the local resource. &lt;br&gt;Value range: "assets://"、"ipod-library://" and network url are not supported. Set path as nil or "" if resource is loaded already using [loadResource]. |
| config | [ZegoAudioEffectPlayConfig](../../api-reference/class#zegoaudioeffectplayconfig) * | Audio effect playback configuration. &lt;br&gt;Default value: Set NULL will only be played once, and will not be mixed into the publishing stream. |

**Details**

Start playing audio effect. The default is only played once and is not mixed into the publishing stream, if you want to change this please modify [config] param.

<Note title="">
- **Use cases**: When you need to play short sound effects, such as applause, cheers, etc., you can use this interface to achieve, and further configure the number of plays through the [config] parameter, and mix the sound effects into the push stream.
- **When to call**: It can be called after [createAudioEffectPlayer].
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="stop:"
  prototype="- (void)stop:(unsigned int) audioEffectID;"
  desc="Stop playing audio effect."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| audioEffectID | unsigned int | ID for the audio effect. |

**Details**

Stop playing the specified audio effect [audioEffectID].

<Note title="">
- **When to call**: The specified [audioEffectID] is [start].
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="pause:"
  prototype="- (void)pause:(unsigned int) audioEffectID;"
  desc="Pause playing audio effect."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| audioEffectID | unsigned int | ID for the audio effect. |

**Details**

Pause playing the specified audio effect [audioEffectID].

<Note title="">
- **When to call**: The specified [audioEffectID] is [start].
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="resume:"
  prototype="- (void)resume:(unsigned int) audioEffectID;"
  desc="Resume playing audio effect."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| audioEffectID | unsigned int | ID for the audio effect. |

**Details**

Resume playing the specified audio effect [audioEffectID].

<Note title="">
- **When to call**: The specified [audioEffectID] is [pause].
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="stopAll"
  prototype="- (void)stopAll;"
  desc="Stop playing all audio effect."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
Stop playing all audio effect.

<Note title="">
- **When to call**: Some audio effects are Playing.
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="pauseAll"
  prototype="- (void)pauseAll;"
  desc="Pause playing all audio effect."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
Pause playing all audio effect.

<Note title="">
- **When to call**: It can be called after [createAudioEffectPlayer].
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="resumeAll"
  prototype="- (void)resumeAll;"
  desc="Resume playing all audio effect."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
Resume playing all audio effect.

<Note title="">
- **When to call**: It can be called after [pauseAll].
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="seekTo:audioEffectID:callback:"
  prototype="- (void)seekTo:(unsigned long long) millisecond audioEffectID:(unsigned int) audioEffectID callback:(nullable [ZegoAudioEffectPlayerSeekToCallback](../../api-reference/class#zegoaudioeffectplayerseektocallback)) callback;"
  desc="Set the specified playback progress."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| millisecond | unsigned long long | Point in time of specified playback progress. |
| audioEffectID | unsigned int | ID for the audio effect. |
| callback | nullable [ZegoAudioEffectPlayerSeekToCallback](../../api-reference/class#zegoaudioeffectplayerseektocallback) | The result of seek. |

**Details**

Set the specified audio effect playback progress. Unit is millisecond.

<Note title="">
- **When to call**: The specified [audioEffectID] is[start], and not finished.
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="setVolume:audioEffectID:"
  prototype="- (void)setVolume:(int) volume audioEffectID:(unsigned int) audioEffectID;"
  desc="Set volume for a single audio effect. Both the local play volume and the publish volume are set."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| volume | int | Volume. &lt;br&gt;Value range: The range is 0 ~ 200. &lt;br&gt;Default value: The default is 100. |
| audioEffectID | unsigned int | ID for the audio effect. |

**Details**

Set volume for a single audio effect. Both the local play volume and the publish volume are set.

<Note title="">
- **When to call**: The specified [audioEffectID] is [start].
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="setPlayVolume:audioEffectID:"
  prototype="- (void)setPlayVolume:(int) volume audioEffectID:(unsigned int) audioEffectID;"
  desc="Set local play volume for a single audio effect."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| volume | int | Volume. &lt;br&gt;Value range: The range is 0 ~ 200. &lt;br&gt;Default value: The default is 100. |
| audioEffectID | unsigned int | ID for the audio effect. |

**Details**

Set local play volume for a single audio effect.

<Note title="">
- **When to call**: The specified [audioEffectID] is [start].
</Note>

<Warning title="">
- **Available since**: 3.11.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="setPublishVolume:audioEffectID:"
  prototype="- (void)setPublishVolume:(int) volume audioEffectID:(unsigned int) audioEffectID;"
  desc="Set publish volume for a single audio effect."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| volume | int | Volume. &lt;br&gt;Value range: The range is 0 ~ 200. &lt;br&gt;Default value: The default is 100. |
| audioEffectID | unsigned int | ID for the audio effect. |

**Details**

Set publish volume for a single audio effect.

<Note title="">
- **When to call**: The specified [audioEffectID] is [start].
</Note>

<Warning title="">
- **Available since**: 3.11.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="setVolumeAll:"
  prototype="- (void)setVolumeAll:(int) volume;"
  desc="Set volume for all audio effect. Both the local play volume and the publish volume are set."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| volume | int | Volume. &lt;br&gt;Value range: The range is 0 ~ 200. &lt;br&gt;Default value: The default is 100. |

**Details**

Set volume for all audio effect. Both the local play volume and the publish volume are set.

<Note title="">
- **When to call**: It can be called after [createAudioEffectPlayer].
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="setPlayVolumeAll:"
  prototype="- (void)setPlayVolumeAll:(int) volume;"
  desc="Set local play volume for all audio effect."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| volume | int | Volume. &lt;br&gt;Value range: The range is 0 ~ 200. &lt;br&gt;Default value: The default is 100. |

**Details**

Set local play volume for all audio effect.

<Note title="">
- **When to call**: It can be called after [createAudioEffectPlayer].
</Note>

<Warning title="">
- **Available since**: 3.11.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="setPublishVolumeAll:"
  prototype="- (void)setPublishVolumeAll:(int) volume;"
  desc="Set publish volume for all audio effect."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| volume | int | Volume. &lt;br&gt;Value range: The range is 0 ~ 200. &lt;br&gt;Default value: The default is 100. |

**Details**

Set publish volume for all audio effect.

<Note title="">
- **When to call**: It can be called after [createAudioEffectPlayer].
</Note>

<Warning title="">
- **Available since**: 3.11.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="setPlaySpeed:audioEffectID:"
  prototype="- (void)setPlaySpeed:(float) speed audioEffectID:(unsigned int) audioEffectID;"
  desc="Set the playback speed for a given audio effect. Both the local play speed and the publish speed are set. (separate settings are not supported)."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| speed | float | The speed of play. &lt;br&gt;Value range: The range is 0.5 ~ 2.0. &lt;br&gt;Default value: The default is 1.0. |
| audioEffectID | unsigned int | ID for the audio effect. |

**Details**

Set the playback speed for a given audio effect. Both the local play speed and the publish speed are set. (separate settings are not supported).

<Note title="">
- **When to call**: The specified [audioEffectID] is [start].
</Note>

<Warning title="">
- **Available since**: 2.18.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="getTotalDuration:"
  prototype="- (unsigned long long)getTotalDuration:(unsigned int) audioEffectID;"
  desc="Get the total duration of the specified audio effect resource."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| audioEffectID | unsigned int | ID for the audio effect. |

**Details**

Get the total duration of the specified audio effect resource. Unit is millisecond.

<Note title="">
- **When to call**: You should invoke this function after the audio effect resource already loaded, otherwise the return value is 0.
- **Related APIs**: [start], [loadResource].
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: It can be called after [createAudioEffectPlayer].
</Warning>

**Return**

Unit is millisecond.
</ParamField>
<ParamField
  name="getCurrentProgress:"
  prototype="- (unsigned long long)getCurrentProgress:(unsigned int) audioEffectID;"
  desc="Get current playback progress."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| audioEffectID | unsigned int | ID for the audio effect. |

**Details**

Get current playback progress of the specified audio effect. Unit is millisecond.

<Note title="">
- **When to call**: You should invoke this function after the audio effect resource already loaded, otherwise the return value is 0.
- **Related APIs**: [start], [loadResource].
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="loadResource:audioEffectID:callback:"
  prototype="- (void)loadResource:(NSString *) path audioEffectID:(unsigned int) audioEffectID callback:(nullable [ZegoAudioEffectPlayerLoadResourceCallback](../../api-reference/class#zegoaudioeffectplayerloadresourcecallback)) callback;"
  desc="Load audio effect resource."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| path | NSString * | the absolute path of the audio effect resource and cannot be nil or "". &lt;br&gt;Value range: "assets://"、"ipod-library://" and network url are not supported. |
| audioEffectID | unsigned int | ID for the audio effect. |
| callback | nullable [ZegoAudioEffectPlayerLoadResourceCallback](../../api-reference/class#zegoaudioeffectplayerloadresourcecallback) | load audio effect resource result. |

**Details**

Load audio effect resource.

<Note title="">
- **Use cases**: In a scene where the same sound effect is played frequently, the SDK provides the function of preloading the sound effect file into the memory in order to optimize the performance of repeatedly reading and decoding the file.
- **When to call**: It can be called after [createAudioEffectPlayer].
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: Preloading supports loading up to 15 sound effect files at the same time, and the duration of the sound effect files cannot exceed 30s, otherwise an error will be reported when loading.
</Warning>
</ParamField>
<ParamField
  name="unloadResource:"
  prototype="- (void)unloadResource:(unsigned int) audioEffectID;"
  desc="Unload audio effect resource."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| audioEffectID | unsigned int | ID for the audio effect loaded. |

**Details**

Unload the specified audio effect resource.

<Note title="">
- **When to call**: After the sound effects are used up, related resources can be released through this function; otherwise, the SDK will release the loaded resources when the AudioEffectPlayer instance is destroyed.
- **Related APIs**: [loadResource].
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="updatePosition:position:"
  prototype="- (void)updatePosition:(unsigned int) audioEffectID position:(const float[_Nonnull 3]) position;"
  desc="Update the position of the audio effect player (audio source)."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| audioEffectID | unsigned int | ID for the audio effect. |
| position | const float[_Nonnull 3] | The unit vector of the front axis of its own coordinate system. The parameter is a float array with a length of 3. |

**Details**

Update the position of the audio effect player (audio source).

<Note title="">
- **Use cases**: The audio effect player also needs to have 3D spatial sound.
- **When to call**: Listen to the [onAudioEffectPlayStateUpdate] callback, please call this interface after the player state is ZegoAudioEffectPlayState.Playing and before ZegoAudioEffectPlayState.NoPlay/PlayEnded.
</Note>

<Warning title="">
- **Available since**: 3.6.0
- **Restrictions**: This interface needs to be used in conjunction with the RangeAudio/RangeScene module. This interface can only be called successfully after the RangeAudio/RangeScene module enables 3D sound effects.
</Warning>
</ParamField>
<ParamField
  name="getIndex"
  prototype="- (NSNumber *)getIndex;"
  desc="Get audio effect player index."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoAudioEffectPlayer"
  parent_type="class">
Get audio effect player index.

<Note title="">
- **When to call**: It can be called after [createAudioEffectPlayer].
</Note>

<Warning title="">
- **Available since**: 1.16.0
- **Restrictions**: None.
</Warning>

Audio effect player index.
</ParamField>
