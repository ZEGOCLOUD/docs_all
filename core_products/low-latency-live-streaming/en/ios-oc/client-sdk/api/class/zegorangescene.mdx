---
docType: API
---

# ZegoRangeScene

## ZegoRangeScene

*Declared in `ZegoExpressDefines.h`*

### Methods
<ParamField
  name="getRangeSceneStream"
  prototype="- ([ZegoRangeSceneStream](../../api-reference/class#zegorangescenestream) *)getRangeSceneStream;"
  desc="Get a range scene stream instance."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoRangeScene"
  parent_type="class">
Get a range scene stream instance.
 Use case: Often used in meta world scenarios, users can use related functions by getting range scene stream instance objects.

<Note title="">
- **When to call**: After creating the range scene via [createRangeScene], before destroying the range scene via [destroyRangeScene].
</Note>

<Warning title="">
- **Available since**: 3.0.0
- **Restrictions**: None.
</Warning>

range scene stream instance.
</ParamField>
<ParamField
  name="getRangeSceneTeam"
  prototype="- ([ZegoRangeSceneTeam](../../api-reference/class#zegorangesceneteam) *)getRangeSceneTeam;"
  desc="Get a range scene team instance."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoRangeScene"
  parent_type="class">
Get a range scene team instance.
 Use case: Often used in meta world scenarios, users can use related functions by getting range scene team instance objects.

<Note title="">
- **When to call**: After creating the range scene via [createRangeScene], before destroying the range scene via [destroyRangeScene].
</Note>

<Warning title="">
- **Available since**: 3.1.0
- **Restrictions**: None.
</Warning>

range scene team instance.
</ParamField>
<ParamField
  name="getRangeSceneItem"
  prototype="- ([ZegoRangeSceneItem](../../api-reference/class#zegorangesceneitem) *)getRangeSceneItem;"
  desc="Get a range scene item instance."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoRangeScene"
  parent_type="class">
Get a range scene item instance.
 Use case: Often used in meta world scenarios, users can use related functions by getting range scene item instance objects.

<Note title="">
- **When to call**: After creating the range scene via [createRangeScene], before destroying the range scene via [destroyRangeScene].
</Note>

<Warning title="">
- **Available since**: 3.1.0
- **Restrictions**: None.
</Warning>

range scene item instance.
</ParamField>
<ParamField
  name="getRangeSceneHandle"
  prototype="- (int)getRangeSceneHandle;"
  desc="Get range scene instance handle."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoRangeScene"
  parent_type="class">
Get range scene instance handle.
 Use case: Used to publish stream to the scene.

<Note title="">
- **When to call**: After creating the range scene via [createRangeScene], before destroying the range scene via [destroyRangeScene].
</Note>

<Warning title="">
- **Available since**: 3.0.0
- **Restrictions**: None.
</Warning>

Range scene instance handle.
</ParamField>
<ParamField
  name="setEventHandler:"
  prototype="- (BOOL)setEventHandler:(nullable id<[ZegoRangeSceneEventHandler](../../api-reference/class#zegorangesceneeventhandler)>) handler;"
  desc="set range scene event handler."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoRangeScene"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| handler | nullable id\<[ZegoRangeSceneEventHandler](../../api-reference/class#zegorangesceneeventhandler)\> | The object used to receive range scene callbacks. |

**Details**

Set the callback function of the range scene module.

<Note title="">
- **When to call**: After creating the range scene via [createRangeScene], before destroying the range scene via [destroyRangeScene].
</Note>

<Warning title="">
- **Available since**: 3.0.0
</Warning>

**Return**

The result of set range scene event handler, true: success, false: fail.
</ParamField>
<ParamField
  name="loginScene:callback:"
  prototype="- (int)loginScene:([ZegoSceneParam](../../api-reference/class#zegosceneparam) *) param callback:(nullable [ZegoRangeSceneLoginSceneCallback](../../api-reference/class#zegorangesceneloginscenecallback)) callback;"
  desc="Logs in to a scene."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoRangeScene"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| param | [ZegoSceneParam](../../api-reference/class#zegosceneparam) * | Scene param. |
| callback | nullable [ZegoRangeSceneLoginSceneCallback](../../api-reference/class#zegorangesceneloginscenecallback) | The callback of login scene. |

**Details**

SDK RangeScene uses the 'scene' to organize users.

<Note title="">
- **Use cases**: Users interact in the RangeScene within the same scene.
- **When to call**: After creating the range scene via [createRangeScene], before destroying the range scene via [destroyRangeScene].
- **Caution**:   1. Apps that use different appIDs cannot intercommunication with each other.
  2. It is strongly recommended that userID corresponds to the user ID of the business APP, that is, a userID and a real user are fixed and unique, and should not be passed to the SDK in a random userID. Because the unique and fixed userID allows ZEGO technicians to quickly locate online problems.
- **Privacy reminder**: Please do not fill in sensitive user information in this interface, including but not limited to mobile phone number, ID number, passport number, real name, etc.
- **Related callbacks**:   1. When the user starts to log in to the scene, the scene is successfully logged in, or the scene fails to log in, the [onSceneStateUpdate] callback will be triggered to notify the developer of the status of the current user connected to the scene.
  2. If the network is temporarily interrupted due to network quality reasons, the SDK will automatically reconnect internally. You can get the current connection status of the local scene by listening to the [onSceneStateUpdate] callback method.
- **Related APIs**:   1. Users can call [logoutScene] to log out.
</Note>

**Return**

Error code, please refer to the error codes document [https://doc-en.zego.im/en/5548.html](https://doc-en.zego.im/en/5548.html) for details.
</ParamField>
<ParamField
  name="logoutScene:"
  prototype="- (int)logoutScene:(nullable [ZegoRangeSceneLogoutSceneCallback](../../api-reference/class#zegorangescenelogoutscenecallback)) callback;"
  desc="Logs out of a scene."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoRangeScene"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| callback | nullable [ZegoRangeSceneLogoutSceneCallback](../../api-reference/class#zegorangescenelogoutscenecallback) | The callback of logout scene. |

**Details**

This API will log out the current user has logged in the scene.

<Note title="">
- **When to call**: After successfully logging in to the scene, if the scene is no longer used, the user can call the function [logoutScene].
- **Caution**: Exiting a scene stops all publishing and playing stream associated with the scene for that user.
- **Related callbacks**: After calling this function, you will receive [onSceneStateUpdate] callback notification successfully exits the scene.
- **Related APIs**: Users can use [loginScene] functions to log in scene.
</Note>

<Warning title="">
- **Restrictions**: None.
</Warning>

**Return**

Error code, please refer to the error codes document [https://doc-en.zego.im/en/5548.html](https://doc-en.zego.im/en/5548.html) for details.
</ParamField>
<ParamField
  name="updateUserStatus:channel:status:"
  prototype="- (int)updateUserStatus:([ZegoPosition](../../api-reference/class#zegoposition) *) position channel:(unsigned int) channel status:(NSData *) status;"
  desc="Update user status."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoRangeScene"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| position | [ZegoPosition](../../api-reference/class#zegoposition) * | User's current location. |
| channel | unsigned int | The channel to which the status belongs, starting from 0, cannot exceed the maximum channel number. |
| status | NSData * | Current status data. |

**Details**

Developers can call this function to update the user status.

<Note title="">
- **When to call**: After [LoginScene], before [LogoutScene].
- **Caution**: None.
</Note>

<Warning title="">
- **Restrictions**: None.
</Warning>

**Return**

Error code, please refer to the error codes document [https://doc-en.zego.im/en/5548.html](https://doc-en.zego.im/en/5548.html) for details.
</ParamField>
<ParamField
  name="updateUserCommand:channel:command:"
  prototype="- (int)updateUserCommand:([ZegoPosition](../../api-reference/class#zegoposition) *) position channel:(unsigned int) channel command:(NSData *) command;"
  desc="Update user status."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoRangeScene"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| position | [ZegoPosition](../../api-reference/class#zegoposition) * | User's current location. |
| channel | unsigned int | The channel to which the command belongs, starting from 0, cannot exceed the maximum channel number. |
| command | NSData * | Next command data. |

**Details**

Developers can call this function to update the user command.

<Note title="">
- **When to call**: After [LoginScene], before [LogoutScene].
- **Caution**: None.
</Note>

<Warning title="">
- **Restrictions**: None.
</Warning>

**Return**

Error code, please refer to the error codes document [https://doc-en.zego.im/en/5548.html](https://doc-en.zego.im/en/5548.html) for details.
</ParamField>
<ParamField
  name="updateUserPosition:"
  prototype="- (int)updateUserPosition:([ZegoPosition](../../api-reference/class#zegoposition) *) position;"
  desc="Update user position."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoRangeScene"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| position | [ZegoPosition](../../api-reference/class#zegoposition) * | User's current location. |

**Details**

Developers can call this function to update the user position.

<Note title="">
- **When to call**: After [LoginScene], before [LogoutScene].
- **Caution**: None.
</Note>

<Warning title="">
- **Restrictions**: None.
</Warning>

**Return**

Error code, please refer to the error codes document [https://doc-en.zego.im/en/5548.html](https://doc-en.zego.im/en/5548.html) for details.
</ParamField>
<ParamField
  name="getUserCount:"
  prototype="- (int)getUserCount:(nullable [ZegoRangeSceneGetUserCountCallback](../../api-reference/class#zegorangescenegetusercountcallback)) callback;"
  desc="Get user count in scene."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoRangeScene"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| callback | nullable [ZegoRangeSceneGetUserCountCallback](../../api-reference/class#zegorangescenegetusercountcallback) | The callback of get user count in scene. |

**Details**

Developers can call this function to get user count in scene.

<Note title="">
- **When to call**: After [LoginScene], before [LogoutScene].
- **Default value**: nil.
- **Caution**: None.
</Note>

<Warning title="">
- **Restrictions**: None.
</Warning>

**Return**

Error code, please refer to the error codes document [https://doc-en.zego.im/en/5548.html](https://doc-en.zego.im/en/5548.html) for details.
</ParamField>
<ParamField
  name="getUserListInView:"
  prototype="- (int)getUserListInView:(nullable [ZegoRangeSceneGetUserListInViewCallback](../../api-reference/class#zegorangescenegetuserlistinviewcallback)) callback;"
  desc="Get user list in view."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoRangeScene"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| callback | nullable [ZegoRangeSceneGetUserListInViewCallback](../../api-reference/class#zegorangescenegetuserlistinviewcallback) | The callback of get user list in view. |

**Details**

Developers can call this function to get user list in view.

<Note title="">
- **When to call**: After [LoginScene], before [LogoutScene].
- **Default value**: nil.
- **Caution**: None.
</Note>

<Warning title="">
- **Restrictions**: None.
</Warning>

**Return**

Error code, please refer to the error codes document [https://doc-en.zego.im/en/5548.html](https://doc-en.zego.im/en/5548.html) for details.
</ParamField>
<ParamField
  name="sendCustomCommand:callback:"
  prototype="- (int)sendCustomCommand:(NSData *) command callback:(nullable [ZegoRangeSceneSendCustomCommandCallback](../../api-reference/class#zegorangescenesendcustomcommandcallback)) callback;"
  desc="Send custom command."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoRangeScene"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| command | NSData * | Custom command. |
| callback | nullable [ZegoRangeSceneSendCustomCommandCallback](../../api-reference/class#zegorangescenesendcustomcommandcallback) | The callback of send custom command. |

**Details**

Developers can call this function to send custom command.

<Note title="">
- **When to call**: After [LoginScene], before [LogoutScene].
- **Default value**: nil.
- **Caution**: None.
</Note>

<Warning title="">
- **Restrictions**: None.
</Warning>

**Return**

Error code, please refer to the error codes document [https://doc-en.zego.im/en/5548.html](https://doc-en.zego.im/en/5548.html) for details.
</ParamField>
<ParamField
  name="renewToken:"
  prototype="- (int)renewToken:(NSString *) token;"
  desc="Renew token."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoRangeScene"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| token | NSString * | The token that needs to be renew. |

**Details**

After the developer receives [onSceneTokenWillExpire], they can use this API to update the token to ensure that the subsequent RTC functions are normal.

<Note title="">
- **Use cases**: Used when the token is about to expire.
- **When to call /Trigger**: After the developer receives [onSceneTokenWillExpire].
</Note>

<Warning title="">
- **Available since**: 3.1.0
- **Restrictions**: None.
</Warning>

**Return**

Error code, please refer to the error codes document [https://doc-en.zego.im/en/5548.html](https://doc-en.zego.im/en/5548.html) for details.
</ParamField>
<ParamField
  name="setStreamConfig:"
  prototype="- (int)setStreamConfig:([ZegoSceneStreamConfig](../../api-reference/class#zegoscenestreamconfig) *) config;"
  desc="Set range scene stream config."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoRangeScene"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | [ZegoSceneStreamConfig](../../api-reference/class#zegoscenestreamconfig) * | Range scene stream config. |

**Details**

Developers can call this function to set range scene stream config.

<Note title="">
- **When to call**: After [createRangeScene].
- **Default value**: nil.
- **Caution**: None.
</Note>

<Warning title="">
- **Restrictions**: None.
</Warning>

**Return**

Error code, please refer to the error codes document [https://doc-en.zego.im/en/5548.html](https://doc-en.zego.im/en/5548.html) for details.
</ParamField>
