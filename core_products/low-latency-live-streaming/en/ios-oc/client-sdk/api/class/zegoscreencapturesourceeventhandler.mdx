---
docType: API
---

# ZegoScreenCaptureSourceEventHandler

## ZegoScreenCaptureSourceEventHandler

*Declared in `ZegoExpressEventHandler.h`*

### Methods
<ParamField
  name="screenCapture:availableFrame:dataLength:param"
  prototype="- (void)screenCapture:([ZegoScreenCaptureSource](../../api-reference/class#zegoscreencapturesource) *)source availableFrame:(const void *)data dataLength:(unsigned int)dataLength param:([ZegoVideoFrameParam](../../api-reference/class#zegovideoframeparam) *)param;"
  desc="Callback for screen capture data"
  parent_file="Declared in \`ZegoExpressEventHandler.h\`"
  parent_name="ZegoScreenCaptureSourceEventHandler"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| source | [ZegoScreenCaptureSource](../../api-reference/class#zegoscreencapturesource) * | Callback screen capture source object. |
| data | const void * | The screen captures the data of the image frame (eg: RGBA only needs to consider data[0], I420 needs to consider data[0,1,2]). |
| dataLength | unsigned int | Data length (eg: RGBA only needs to consider dataLength[0], I420 needs to consider dataLength[0,1,2]). |
| param | [ZegoVideoFrameParam](../../api-reference/class#zegovideoframeparam) * | Screen capture image frame parameters. |

**Details**

Callback for screen capture data.

<Note title="">
- **Trigger**: This callback is fired after the screen starts capturing [startCapture].
- **Caution**: The callback does not actually take effect until call [setEventHandler] to set.
</Note>

<Warning title="">
- **Available since**: 3.1.0
</Warning>
</ParamField>
<ParamField
  name="screenCapture:exceptionOccurred"
  prototype="- (void)screenCapture:([ZegoScreenCaptureSource](../../api-reference/class#zegoscreencapturesource) *)source exceptionOccurred:([ZegoScreenCaptureSourceExceptionType](../../api-reference/enum#zegoscreencapturesourceexceptiontype))exceptionType;"
  desc="The callback triggered when a screen capture source exception occurred"
  parent_file="Declared in \`ZegoExpressEventHandler.h\`"
  parent_name="ZegoScreenCaptureSourceEventHandler"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| source | [ZegoScreenCaptureSource](../../api-reference/class#zegoscreencapturesource) * | Callback screen capture source object. |
| exceptionType | [ZegoScreenCaptureSourceExceptionType](../../api-reference/enum#zegoscreencapturesourceexceptiontype) | Capture source exception type. |

**Details**

The callback triggered when a screen capture source exception occurred.

<Note title="">
- **Trigger**: This callback is triggered when an exception occurs after the screen start capture.
- **Caution**: The callback does not actually take effect until call [setEventHandler] to set.
</Note>

<Warning title="">
- **Available since**: 3.1.0
- **Restrictions**: Only available on Windows/macOS.
</Warning>
</ParamField>
<ParamField
  name="screenCapture:captureType:exceptionOccurred"
  prototype="- (void)screenCapture:([ZegoScreenCaptureSource](../../api-reference/class#zegoscreencapturesource) *)source captureType:([ZegoScreenCaptureSourceType](../../api-reference/enum#zegoscreencapturesourcetype))sourceType exceptionOccurred:([ZegoScreenCaptureSourceExceptionType](../../api-reference/enum#zegoscreencapturesourceexceptiontype))exceptionType;"
  desc="The callback triggered when a screen capture source capture type exception occurred"
  parent_file="Declared in \`ZegoExpressEventHandler.h\`"
  parent_name="ZegoScreenCaptureSourceEventHandler"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| source | [ZegoScreenCaptureSource](../../api-reference/class#zegoscreencapturesource) * | Callback screen capture source object. |
| sourceType | [ZegoScreenCaptureSourceType](../../api-reference/enum#zegoscreencapturesourcetype) | Capture source type. |
| exceptionType | [ZegoScreenCaptureSourceExceptionType](../../api-reference/enum#zegoscreencapturesourceexceptiontype) | Capture source exception type. |

**Details**

The callback triggered when a screen capture source capture type exception occurred.

<Note title="">
- **Trigger**: This callback is triggered when an exception occurs after the screen start capture.
- **Caution**: The callback does not actually take effect until call [setEventHandler] to set.
</Note>

<Warning title="">
- **Available since**: 3.21.0
- **Restrictions**: Only available on Windows/macOS.
</Warning>
</ParamField>
<ParamField
  name="screenCapture:windowState:windowRect"
  prototype="- (void)screenCapture:([ZegoScreenCaptureSource](../../api-reference/class#zegoscreencapturesource) *)source windowState:([ZegoScreenCaptureWindowState](../../api-reference/enum#zegoscreencapturewindowstate))windowState windowRect:(CGRect)windowRect;"
  desc="The callback will be triggered when the state of the capture target window change."
  parent_file="Declared in \`ZegoExpressEventHandler.h\`"
  parent_name="ZegoScreenCaptureSourceEventHandler"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| source | [ZegoScreenCaptureSource](../../api-reference/class#zegoscreencapturesource) * | Callback screen capture source object. |
| windowState | [ZegoScreenCaptureWindowState](../../api-reference/enum#zegoscreencapturewindowstate) | Capture window state. |
| windowRect | ZegoRect | Capture window rect. |

<Note title="">
- **Caution**: The callback does not actually take effect until call [setEventHandler] to set.
</Note>

<Warning title="">
- **Available since**: 3.4.0
- **Restrictions**: Only available on Windows/macOS.
</Warning>
</ParamField>
<ParamField
  name="screenCapture:rectChanged"
  prototype="- (void)screenCapture:([ZegoScreenCaptureSource](../../api-reference/class#zegoscreencapturesource) *)source rectChanged:(CGRect)rect;"
  desc="The callback will be triggered when the state of the capture target window change."
  parent_file="Declared in \`ZegoExpressEventHandler.h\`"
  parent_name="ZegoScreenCaptureSourceEventHandler"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| source | [ZegoScreenCaptureSource](../../api-reference/class#zegoscreencapturesource) * | Callback screen capture source object. |
| rect | ZegoRect | Capture source rect. |

<Note title="">
- **Caution**: The callback does not actually take effect until call [setEventHandler] to set.
</Note>

<Warning title="">
- **Available since**: 3.7.0
- **Restrictions**: Only available on Windows/macOS.
</Warning>
</ParamField>
