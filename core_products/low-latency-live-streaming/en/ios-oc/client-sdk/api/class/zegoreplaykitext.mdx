---
docType: API
---

# ZegoReplayKitExt

## ZegoReplayKitExt

*Declared in `ZegoExpressDefines.h`*

### Methods
<ParamField
  name="sharedInstance"
  prototype="+ ([ZegoReplayKitExt](../../api-reference/class#zegoreplaykitext) *)sharedInstance;"
  desc="Create a screen capture extension singleton."
  prefixes={["static"]}
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoReplayKitExt"
  parent_type="class">
Create a screen sharing extension singleton for Broadcast upload Extension to send the capture screen data to the SDK.

<Warning title="">
- **Available since**: 3.1.0
</Warning>

Extension singleton instance.
</ParamField>
<ParamField
  name="setupWithDelegate:"
  prototype="- (void)setupWithDelegate:(id<[ZegoReplayKitExtHandler](../../api-reference/class#zegoreplaykitexthandler)>)delegate API_AVAILABLE(ios (12.0));"
  desc="Initialize the extension app."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoReplayKitExt"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| delegate | nullable id\<[ZegoReplayKitExtHandler](../../api-reference/class#zegoreplaykitexthandler)\> | Screen capture extension application event notification callback. Passing [nil] means no callback notification will be received. |

**Details**

If the App Group configuration is not enabled, this interface can be used for initialization.

<Note title="">
- **Use cases**: It needs to be called in the [broadcastStartedWithSetupInfo] method in the implementation class of [RPBroadcastSampleHandler].
</Note>

<Warning title="">
- **Available since**: 3.1.0
</Warning>
</ParamField>
<ParamField
  name="setupWithDelegate:appGroup"
  prototype="- (void)setupWithDelegate:(id<[ZegoReplayKitExtHandler](../../api-reference/class#zegoreplaykitexthandler)>)delegate appGroup:(NSString *)groupID API_AVAILABLE(ios (12.0));"
  desc="Use App Group to initialize the extension process, which can provide better performance and stability when sharing screens."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoReplayKitExt"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| delegate | nullable id\<[ZegoReplayKitExtHandler](../../api-reference/class#zegoreplaykitexthandler)\> | Screen capture extension application event notification callback. Passing [nil] means no callback notification will be received. |
| groupID | NSString * | The host app and the extension app should belong to the same App Group, and the AppGroupID needs to be passed in here. |

**Details**

Setting AppGroupID is used to share memory between app, which can improve the performance and stability of data transmission. At the same time, it is necessary to call the [setAppGroupID:] method to set the AppGroupID before starting [startScreenCapture] in the host App.

<Note title="">
- **Use cases**: It needs to be called in the [broadcastStartedWithSetupInfo] method in the implementation class of [RPBroadcastSampleHandler].
</Note>

<Warning title="">
- **Available since**: 3.3.0
</Warning>
</ParamField>
<ParamField
  name="finished"
  prototype="- (void)finished API_AVAILABLE(ios (12.0));"
  desc="Finish screen capture."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoReplayKitExt"
  parent_type="class">
<Note title="">
- **Use cases**: When the screen recording is stopped through the system control center, RPBroadcastSampleHandler.broadcastFinished will be called back and called in the broadcastFinished method.
</Note>

<Warning title="">
- **Available since**: 3.1.0
</Warning>
</ParamField>
<ParamField
  name="sendSampleBuffer:withType"
  prototype="- (void)sendSampleBuffer:(CMSampleBufferRef)sampleBuffer withType:(RPSampleBufferType)sampleBufferType API_AVAILABLE(ios (12.0));"
  desc="Media data sending method"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoReplayKitExt"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| sampleBuffer | CMSampleBufferRef | CMSampleBuffer object which contains either video or audio data. |
| sampleBufferType | RPSampleBufferType | Determine's the type of the sample buffer defined by the RPSampleBufferType enum. |

<Note title="">
- **Use cases**: It needs to be called in the processSampleBuffer: method in the implementation class of RPBroadcastSampleHandler.
</Note>

<Warning title="">
- **Available since**: 3.1.0
</Warning>
</ParamField>
