---
docType: API
---

# ZegoScreenCaptureSource

## ZegoScreenCaptureSource

*Declared in `ZegoExpressDefines.h`*

### Methods
<ParamField
  name="setEventHandler:"
  prototype="- (void)setEventHandler:(nullable id<[ZegoScreenCaptureSourceEventHandler](../../api-reference/class#zegoscreencapturesourceeventhandler)>) handler;"
  desc="Sets up the screen capture source event handler."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoScreenCaptureSource"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| handler | nullable id\<[ZegoScreenCaptureSourceEventHandler](../../api-reference/class#zegoscreencapturesourceeventhandler)\> | Event handler for real-time sequential data. |

**Details**

Set up screen capture source callback to monitor callbacks such as capture data, etc.

<Note title="">
- **When to call**: After create the [ZegoScreenCaptureSource] instance.
- **Caution**: Calling this function will overwrite the callback set by the last call to this function.
</Note>

<Warning title="">
- **Available since**: 3.1.0
- **Restrictions**: None.
</Warning>
</ParamField>
<ParamField
  name="updateCaptureSource:sourceType:"
  prototype="- (void)updateCaptureSource:(unsigned int) sourceId sourceType:([ZegoScreenCaptureSourceType](../../api-reference/enum#zegoscreencapturesourcetype)) sourceType;"
  desc="Create the screen capture source"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoScreenCaptureSource"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| sourceId | unsigned int | The specified screen ID or window ID. |
| sourceType | [ZegoScreenCaptureSourceType](../../api-reference/enum#zegoscreencapturesourcetype) | The specified screen source type. |

**Details**

Update a screen capture source object based on the provided source ID and source type.

<Note title="">
- **Use cases**: It is used when you need to record and share the screen or window.
- **When to call**: It can be called after the engine by [createScreenCaptureSource] has been initialized.
</Note>

<Warning title="">
- **Restrictions**: Only available on Windows/macOS.
</Warning>
</ParamField>
<ParamField
  name="startCapture"
  prototype="- (void)startCapture;"
  desc="Start screen capture."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoScreenCaptureSource"
  parent_type="class">
Start screen capture.

<Note title="">
- **When to call**: It can be called after the engine by [createScreenCaptureSource] has been initialized.
</Note>

<Warning title="">
- **Available since**: 3.1.0
</Warning>
</ParamField>
<ParamField
  name="stopCapture"
  prototype="- (void)stopCapture;"
  desc="Stop screen capture."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoScreenCaptureSource"
  parent_type="class">
Stop screen capture.

<Warning title="">
- **Available since**: 3.1.0
</Warning>
</ParamField>
<ParamField
  name="getCaptureSourceRect"
  prototype="- (CGRect)getCaptureSourceRect;"
  desc="Gets the rectangle of the screen capture source."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoScreenCaptureSource"
  parent_type="class">
Gets the rectangle of the screen capture source.

<Warning title="">
- **Available since**: 3.6.0
- **Restrictions**: Called after starting [startScreenCapture] acquisition, only support in Windows/macOS.
</Warning>

Rect information about the capture resource.
</ParamField>
<ParamField
  name="updateCaptureRegion:"
  prototype="- (void)updateCaptureRegion:(CGRect) rect;"
  desc="Update the area captured by the screen."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoScreenCaptureSource"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| rect | CGRect | The position of the area to be captured relative to the entire screen or window. |

**Details**

Update the area captured by the screen.

<Note title="">
- **When to call**: It can be called after the engine by [createScreenCaptureSource] has been initialized.
</Note>

<Warning title="">
- **Available since**: 3.1.0
- **Restrictions**: Only support in Windows/macOS.
</Warning>
</ParamField>
<ParamField
  name="updatePublishRegion:"
  prototype="- (void)updatePublishRegion:(CGRect) rect;"
  desc="Update the streaming area of ​​the screen capture."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoScreenCaptureSource"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| rect | CGRect | The position of the area to be pushed relative to the upper left corner of the capture screen, the actual capture screen size can be obtained through [onAvailableFrame]. |

**Details**

Update the streaming area of ​​the screen capture.

<Note title="">
- **When to call**: After updating the screen capture source [updateScreenCaptureSource].
- **Caution**: The set area cannot exceed the size returned by [onAvailableFrame], otherwise the setting will fail and the original frame will be pushed. The failure of the streaming area will be notified through [onExceptionOccurred].
</Note>

<Warning title="">
- **Available since**: 3.8.0
- **Restrictions**: Every time the screen capture source [updateScreenCaptureSource] is updated, the area will be cleared and needs to be reset, only support in Windows/macOS.
</Warning>
</ParamField>
<ParamField
  name="setExcludeWindowList:"
  prototype="- (void)setExcludeWindowList:(NSArray<NSNumber *> *) list;"
  desc="Sets the filtered list of windows."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoScreenCaptureSource"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| list | NSArray\<NSNumber *\> * | List of IDs to filter windows. |

**Details**

Specify a list of windows, and filter these windows when capturing the screen, and not display them on the screen.

<Note title="">
- **When to call**: It can be called after the engine by [createScreenCaptureSource] has been initialized.
</Note>

<Warning title="">
- **Available since**: 3.1.0
- **Restrictions**: Only available on Windows/macOS.
</Warning>
</ParamField>
<ParamField
  name="enableWindowActivate:"
  prototype="- (void)enableWindowActivate:(BOOL) active;"
  desc="Whether to activate the promotion of the window to the foreground."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoScreenCaptureSource"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| active | BOOL | Whether to activate the window. true to activate the window, false to not activate the window, the default is true. |

**Details**

When the capture target is a window, set whether to activate the window to be displayed in the foreground during the first capture.

<Note title="">
- **When to call**: It can be called after the engine by [createScreenCaptureSource] has been initialized.
</Note>

<Warning title="">
- **Available since**: 3.1.0
- **Restrictions**: Only available on Windows/macOS.
</Warning>
</ParamField>
<ParamField
  name="enableCursorVisible:"
  prototype="- (void)enableCursorVisible:(BOOL) visible;"
  desc="Set whether to show the cursor"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoScreenCaptureSource"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| visible | BOOL | Whether to show the cursor. true to show the cursor, false to not show the cursor, the default is true. |

**Details**

Set whether to show the cursor.

<Note title="">
- **When to call**: It can be called after the engine by [createScreenCaptureSource] has been initialized.
</Note>

<Warning title="">
- **Available since**: 3.1.0
- **Restrictions**: Only available on Windows/macOS.
</Warning>
</ParamField>
<ParamField
  name="enableHightLight:config:"
  prototype="- (void)enableHightLight:(BOOL) enable config:([ZegoLayerBorderConfig](../../api-reference/class#zegolayerborderconfig) *) config;"
  desc="Set whether to highlight the capture area"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoScreenCaptureSource"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | BOOL | Whether to highlight the capture area. true to highlight, false to not highlight, the default is false. |
| config | [ZegoLayerBorderConfig](../../api-reference/class#zegolayerborderconfig) * | Highlight capture area border configuration. |

**Details**

Set whether to highlight the capture area.

<Note title="">
- **When to call**: It can be called after the engine by [createScreenCaptureSource] has been initialized.
</Note>

<Warning title="">
- **Available since**: 3.21.0
- **Restrictions**: Only available on Windows/macOS.
</Warning>
</ParamField>
<ParamField
  name="enableAudioCapture:config:"
  prototype="- (void)enableAudioCapture:(BOOL) enable config:([ZegoScreenCaptureAudioConfig](../../api-reference/class#zegoscreencaptureaudioconfig) *) config;"
  desc="Set whether to collect sound"
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoScreenCaptureSource"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| enable | BOOL | Whether to collect sound. true for collection, false for no collection, default false. |
| config | [ZegoScreenCaptureAudioConfig](../../api-reference/class#zegoscreencaptureaudioconfig) * | Audio collection parameters. |

**Details**

Set whether to collect sound.

<Note title="">
- **When to call**: At any time, it takes effect after starting screen capture. [setAudioSource] Set the acquisition source to ZegoAudioSourceTypeScreenCapture, and the screen acquisition and streaming channels are the same.
</Note>

<Warning title="">
- **Available since**: 3.23.0
- **Restrictions**: Only applicable to Windows 8 and above versions.
</Warning>
</ParamField>
<ParamField
  name="getIndex"
  prototype="- (NSNumber *)getIndex;"
  desc="Get screen capture source index."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoScreenCaptureSource"
  parent_type="class">
Index of the screen capture source.
</ParamField>
