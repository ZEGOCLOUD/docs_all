---
docType: API
---

# ZegoCopyrightedMusic

## ZegoCopyrightedMusic

*Declared in `ZegoExpressDefines.h`*

### Methods
<ParamField
  name="setEventHandler:"
  prototype="- (void)setEventHandler:(nullable id<[ZegoCopyrightedMusicEventHandler](../../api-reference/class#zegocopyrightedmusiceventhandler)>) handler;"
  desc="set copyrighted music event handler."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| handler | nullable id\<[ZegoCopyrightedMusicEventHandler](../../api-reference/class#zegocopyrightedmusiceventhandler)\> | The object used to receive copyrighted music callbacks. |

**Details**

Set the callback function of the copyrighted music module, which can receive callback notifications related to song playback status .

<Note title="">
- **When to call**: After create the copyrighted music [createCopyrightedMusic].
</Note>

<Warning title="">
- **Available since**: 2.13.0
</Warning>
</ParamField>
<ParamField
  name="initCopyrightedMusic:callback:"
  prototype="- (void)initCopyrightedMusic:([ZegoCopyrightedMusicConfig](../../api-reference/class#zegocopyrightedmusicconfig) *) config callback:(nullable [ZegoCopyrightedMusicInitCallback](../../api-reference/class#zegocopyrightedmusicinitcallback)) callback;"
  desc="Initialize the copyrighted music module."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicConfig](../../api-reference/class#zegocopyrightedmusicconfig) * | the copyrighted music configuration. |
| callback | nullable [ZegoCopyrightedMusicInitCallback](../../api-reference/class#zegocopyrightedmusicinitcallback) | init result |

**Details**

Initialize the copyrighted music so that you can use the function of the copyrighted music later.

<Note title="">
- **When to call**: After call [createCopyrightedMusic] and [loginRoom].
- **Caution**: 1. The real user information must be passed in, otherwise the song resources cannot be obtained for playback. 2. The user ID set when initializing copyrighted music needs to be the same as the user ID set when logging in to the room.
</Note>

<Warning title="">
- **Available since**: 2.13.0
</Warning>
</ParamField>
<ParamField
  name="getCacheSize"
  prototype="- (unsigned long long)getCacheSize;"
  desc="Get cache size."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
When using this module, some cache files may be generated, and the size of the cache file can be obtained through this interface.
 Use case: Used to display the cache size of the App.

<Note title="">
- **When to call**: After initializing the copyrighted music [createCopyrightedMusic].
</Note>

<Warning title="">
- **Available since**: 2.13.0
</Warning>

cache file size, in byte.
</ParamField>
<ParamField
  name="clearCache"
  prototype="- (void)clearCache;"
  desc="Clear cache."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
When using this module, some cache files may be generated, which can be cleared through this interface.
 Use case: Used to clear the cache of the App.

<Note title="">
- **When to call**: After initializing the copyrighted music [createCopyrightedMusic].
</Note>

<Warning title="">
- **Available since**: 2.13.0
</Warning>
</ParamField>
<ParamField
  name="sendExtendedRequest:params:callback:"
  prototype="- (void)sendExtendedRequest:(NSString *) command params:(NSString *) params callback:(nullable [ZegoCopyrightedMusicSendExtendedRequestCallback](../../api-reference/class#zegocopyrightedmusicsendextendedrequestcallback)) callback;"
  desc="Send extended feature request."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| command | NSString * | request command, details about the commands supported. |
| params | NSString * | request parameters, each request command has corresponding request parameters. |
| callback | nullable [ZegoCopyrightedMusicSendExtendedRequestCallback](../../api-reference/class#zegocopyrightedmusicsendextendedrequestcallback) | send extended feature request result |

**Details**

Initialize the copyrighted music so that you can use the function of the copyrighted music later.
 Use case: Used to get a list of songs.

<Note title="">
- **When to call**: After initializing the copyrighted music success [initCopyrightedMusic].
</Note>

<Warning title="">
- **Available since**: 2.13.0
</Warning>
</ParamField>
<ParamField
  name="getLrcLyric:vendorID:callback:"
  prototype="- (void)getLrcLyric:(NSString *) songID vendorID:([ZegoCopyrightedMusicVendorID](../../api-reference/enum#zegocopyrightedmusicvendorid)) vendorID callback:(nullable [ZegoCopyrightedMusicGetLrcLyricCallback](../../api-reference/class#zegocopyrightedmusicgetlrclyriccallback)) callback;"
  desc="Get lyrics in lrc format."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| songID | NSString * | the ID of the song or accompaniment, the song and accompaniment of a song share the same ID. |
| vendorID | [ZegoCopyrightedMusicVendorID](../../api-reference/enum#zegocopyrightedmusicvendorid) | Copyright music resource song copyright provider. |
| callback | nullable [ZegoCopyrightedMusicGetLrcLyricCallback](../../api-reference/class#zegocopyrightedmusicgetlrclyriccallback) | get lyrics result |

**Details**

Get lyrics in lrc format, support parsing lyrics line by line.
 Use case: Used to display lyrics line by line.

<Note title="">
- **When to call**: After initializing the copyrighted music success [initCopyrightedMusic].
</Note>

<Warning title="">
- **Available since**: 3.2.1
</Warning>
</ParamField>
<ParamField
  name="getLrcLyricWithConfig:callback:"
  prototype="- (void)getLrcLyricWithConfig:([ZegoCopyrightedMusicGetLyricConfig](../../api-reference/class#zegocopyrightedmusicgetlyricconfig) *) config callback:(nullable [ZegoCopyrightedMusicGetLrcLyricCallback](../../api-reference/class#zegocopyrightedmusicgetlrclyriccallback)) callback;"
  desc="Get lyrics in lrc format."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicGetLyricConfig](../../api-reference/class#zegocopyrightedmusicgetlyricconfig) * | The configuration of get lyric. |
| callback | nullable [ZegoCopyrightedMusicGetLrcLyricCallback](../../api-reference/class#zegocopyrightedmusicgetlrclyriccallback) | get lyrics result |

**Details**

Get lyrics in lrc format, support parsing lyrics line by line.
 Use case: Used to display lyrics line by line.

<Note title="">
- **When to call**: After initializing the copyrighted music success [initCopyrightedMusic].
</Note>

<Warning title="">
- **Available since**: 3.12.0
</Warning>
</ParamField>
<ParamField
  name="getKrcLyricByToken:callback:"
  prototype="- (void)getKrcLyricByToken:(NSString *) krcToken callback:(nullable [ZegoCopyrightedMusicGetKrcLyricByTokenCallback](../../api-reference/class#zegocopyrightedmusicgetkrclyricbytokencallback)) callback;"
  desc="Get lyrics in krc format."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| krcToken | NSString * | The krcToken obtained when calling [requestResource] for accompaniment or climax clips, or when obtaining shared resources through the [getSharedResource] interface. For more details, please refer to [https://doc-zh.zego.im/article/15079#2_2](https://doc-zh.zego.im/article/15079#2_2) |
| callback | nullable [ZegoCopyrightedMusicGetKrcLyricByTokenCallback](../../api-reference/class#zegocopyrightedmusicgetkrclyricbytokencallback) | get lyrics result. |

**Details**

Get verbatim lyrics, support parsing lyrics word by word.
 Use case: Used to display lyrics word by word.

<Note title="">
- **When to call**: After initializing the copyrighted music success [initCopyrightedMusic].
</Note>

<Warning title="">
- **Available since**: 2.13.0
</Warning>
</ParamField>
<ParamField
  name="requestResource:type:callback:"
  prototype="- (void)requestResource:([ZegoCopyrightedMusicRequestConfig](../../api-reference/class#zegocopyrightedmusicrequestconfig) *) config type:([ZegoCopyrightedMusicResourceType](../../api-reference/enum#zegocopyrightedmusicresourcetype)) type callback:(nullable [ZegoCopyrightedMusicRequestResourceCallback](../../api-reference/class#zegocopyrightedmusicrequestresourcecallback)) callback;"
  desc="Request music resource."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicRequestConfig](../../api-reference/class#zegocopyrightedmusicrequestconfig) * | The configuration of requesting music resource. |
| type | [ZegoCopyrightedMusicResourceType](../../api-reference/enum#zegocopyrightedmusicresourcetype) | The resource type of music. |
| callback | nullable [ZegoCopyrightedMusicRequestResourceCallback](../../api-reference/class#zegocopyrightedmusicrequestresourcecallback) | Callback of requesting music resource. |

**Details**

In addition to obtaining the basic information of the song (duration, song name, singer, etc.), and the most important resource id that can be used for local playback, there are also some related authentications information.
 Use case: Get copyrighted songs for local playback and sharing.

<Note title="">
- **Related APIs**: After a user in the room successfully calls this interface to request a music resource, other users in the room can call the [getsharedresource] interface to get the music resource for free once.
- **When to call**: After initializing the copyrighted music [initCopyrightedMusic].
  
  1. Each resource has a unique resource ID. 
  2. Every time this API is called, it will be billed once, please consult ZEGO business personnel for details.
  3. Each resource has a unique resource ID. The resources obtained by calling this API are time-sensitive, the valid duration is the minimum value between the SDK life cycle and 24-hour.
</Note>

<Warning title="">
- **Available since**: 3.0.2
</Warning>
</ParamField>
<ParamField
  name="requestResource:callback:"
  prototype="- (void)requestResource:([ZegoCopyrightedMusicRequestConfigV2](../../api-reference/class#zegocopyrightedmusicrequestconfigv2) *) config callback:(nullable [ZegoCopyrightedMusicRequestResourceCallback](../../api-reference/class#zegocopyrightedmusicrequestresourcecallback)) callback;"
  desc="Request music resource."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicRequestConfigV2](../../api-reference/class#zegocopyrightedmusicrequestconfigv2) * | The configuration of requesting music resource. |
| callback | nullable [ZegoCopyrightedMusicRequestResourceCallback](../../api-reference/class#zegocopyrightedmusicrequestresourcecallback) | Callback of requesting music resource. |

**Details**

In addition to obtaining the basic information of the song (duration, song name, singer, etc.), and the most important resource id that can be used for local playback, there are also some related authentications information.
 Use case: Get copyrighted songs for local playback and sharing.

<Note title="">
- **Related APIs**: After a user in the room successfully calls this interface to request a music resource, other users in the room can call the [getsharedresource] interface to get the music resource for free once.
- **When to call**: After initializing the copyrighted music [initCopyrightedMusic].
  
  1. Each resource has a unique resource ID. 
  2. Every time this API is called, it will be billed once, please consult ZEGO business personnel for details.
  3. Each resource has a unique resource ID. The resources obtained by calling this API are time-sensitive, the valid duration is the minimum value between the SDK life cycle and 24-hour.
</Note>

<Warning title="">
- **Available since**: 3.12.0
</Warning>
</ParamField>
<ParamField
  name="getSharedResource:type:callback:"
  prototype="- (void)getSharedResource:([ZegoCopyrightedMusicGetSharedConfig](../../api-reference/class#zegocopyrightedmusicgetsharedconfig) *) config type:([ZegoCopyrightedMusicResourceType](../../api-reference/enum#zegocopyrightedmusicresourcetype)) type callback:(nullable [ZegoCopyrightedMusicGetSharedResourceCallback](../../api-reference/class#zegocopyrightedmusicgetsharedresourcecallback)) callback;"
  desc="Get shared music resource."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicGetSharedConfig](../../api-reference/class#zegocopyrightedmusicgetsharedconfig) * | The configuration of getting shared music resource. |
| type | [ZegoCopyrightedMusicResourceType](../../api-reference/enum#zegocopyrightedmusicresourcetype) | The resource type of music. |
| callback | nullable [ZegoCopyrightedMusicGetSharedResourceCallback](../../api-reference/class#zegocopyrightedmusicgetsharedresourcecallback) | Callback of getting shared music resource. |

**Details**

In addition to obtaining the basic information of the song (duration, song name, singer, etc.), and the most important resource id that can be used for local playback, there are also some related authentications information.
 Use case: Get copyrighted songs for local playback.

<Note title="">
- **Related APIs**: After a user in the room calls the [requestresource] interface to request a music resource successfully, other users in the room can call this interface to get the music resource for free once.
- **When to call**: After initializing the copyrighted music [initCopyrightedMusic].
  Each resource has a unique resource ID. The resources obtained by calling this API are time-sensitive, the valid duration is the minimum value between the SDK life cycle and 24-hour.
</Note>

<Warning title="">
- **Available since**: 3.0.2
</Warning>
</ParamField>
<ParamField
  name="getSharedResource:callback:"
  prototype="- (void)getSharedResource:([ZegoCopyrightedMusicGetSharedConfigV2](../../api-reference/class#zegocopyrightedmusicgetsharedconfigv2) *) config callback:(nullable [ZegoCopyrightedMusicGetSharedResourceCallback](../../api-reference/class#zegocopyrightedmusicgetsharedresourcecallback)) callback;"
  desc="Get shared music resource."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicGetSharedConfigV2](../../api-reference/class#zegocopyrightedmusicgetsharedconfigv2) * | The configuration of getting shared music resource. |
| callback | nullable [ZegoCopyrightedMusicGetSharedResourceCallback](../../api-reference/class#zegocopyrightedmusicgetsharedresourcecallback) | Callback of getting shared music resource. |

**Details**

In addition to obtaining the basic information of the song (duration, song name, singer, etc.), and the most important resource id that can be used for local playback, there are also some related authentications information.
 Use case: Get copyrighted songs for local playback.

<Note title="">
- **Related APIs**: After a user in the room calls the [requestresource] interface to request a music resource successfully, other users in the room can call this interface to get the music resource for free once.
- **When to call**: After initializing the copyrighted music [initCopyrightedMusic].
  Each resource has a unique resource ID. The resources obtained by calling this API are time-sensitive, the valid duration is the minimum value between the SDK life cycle and 24-hour.
</Note>

<Warning title="">
- **Available since**: 3.12.0
</Warning>
</ParamField>
<ParamField
  name="download:callback:"
  prototype="- (void)download:(NSString *) resourceID callback:(nullable [ZegoCopyrightedMusicDownloadCallback](../../api-reference/class#zegocopyrightedmusicdownloadcallback)) callback;"
  desc="Download music resource."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| resourceID | NSString * | the resource ID corresponding to the song or accompaniment. |
| callback | nullable [ZegoCopyrightedMusicDownloadCallback](../../api-reference/class#zegocopyrightedmusicdownloadcallback) | download song or accompaniment result. |

**Details**

Download music resource. It can only be played after downloading successfully.
 Use case: After obtaining the music resource authorization, use this interface to download the corresponding resources.

<Note title="">
- **When to call**: After initializing the copyrighted music success [initCopyrightedMusic].
- **Caution**: Downloading copyrighted music resources is affected by the Internet.
</Note>

<Warning title="">
- **Available since**: 2.13.0
</Warning>
</ParamField>
<ParamField
  name="cancelDownload:"
  prototype="- (void)cancelDownload:(NSString *) resourceID;"
  desc="Cancel download of music resource."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| resourceID | NSString * | the resource ID corresponding to the song or accompaniment. |

**Details**

Cancel download of music resource.
 Use case: After starting to download music resources, use this interface to cancel the corresponding download task.

<Note title="">
- **When to call**: After starting the download [download].
- **Caution**: When a valid resourceID is passed in, only unfinished download tasks will be cancelled. When empty is passed in, all unfinished download tasks will be canceled.
</Note>

<Warning title="">
- **Available since**: 3.11.0
</Warning>
</ParamField>
<ParamField
  name="queryCache:"
  prototype="- (BOOL)queryCache:([ZegoCopyrightedMusicQueryCacheConfig](../../api-reference/class#zegocopyrightedmusicquerycacheconfig) *) config;"
  desc="Query the resource's cache is existed or not."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicQueryCacheConfig](../../api-reference/class#zegocopyrightedmusicquerycacheconfig) * | The configuration of querying cache. |

**Details**

Query the resource is existed or not, query the Yinsuda resource cache by default
 Use case: Can be used to check the resource's cache is existed or not

<Note title="">
- **When to call**: After initializing the copyrighted music success [initCopyrightedMusic].
</Note>

<Warning title="">
- **Available since**: 3.9.0
</Warning>
</ParamField>
<ParamField
  name="queryCacheV2:"
  prototype="- (BOOL)queryCacheV2:([ZegoCopyrightedMusicQueryCacheConfigV2](../../api-reference/class#zegocopyrightedmusicquerycacheconfigv2) *) config;"
  desc="Query the resource's cache is existed or not."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicQueryCacheConfigV2](../../api-reference/class#zegocopyrightedmusicquerycacheconfigv2) * | The configuration of querying cache. |

**Details**

Query the resource is existed or not, query the Yinsuda resource cache by default
 Use case: Can be used to check the resource's cache is existed or not

<Note title="">
- **When to call**: After initializing the copyrighted music success [initCopyrightedMusic].
</Note>

<Warning title="">
- **Available since**: 3.12.0
</Warning>
</ParamField>
<ParamField
  name="getDuration:"
  prototype="- (unsigned long long)getDuration:(NSString *) resourceID;"
  desc="Get the playing time of a song or accompaniment file."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| resourceID | NSString * | the resource ID corresponding to the song or accompaniment. |

**Details**

Get the playing time of a song or accompaniment file.
 Use case: Can be used to display the playing time information of the song or accompaniment on the view.

<Note title="">
- **When to call**: After initializing the copyrighted music success [initCopyrightedMusic].
</Note>

<Warning title="">
- **Available since**: 2.13.0
</Warning>
</ParamField>
<ParamField
  name="setScoringLevel:"
  prototype="- (void)setScoringLevel:(int) level;"
  desc="Set the difficulty level of scoring."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| level | int | The difficulty level of scoring. The level ranges from 0 to 4. The scoring difficulty decreases from 0 to 4. |

**Details**

Users can set the scoring difficulty level through this function.

<Note title="">
- **When to call**: After calling [initCopyrightedMusic] to initialize copyrighted music successfully, call [startScore] to start scoring.
- **Default value**: When this function is not called, the difficulty level of scoring is 4.
</Note>

<Warning title="">
- **Available since**: 2.22.0
- **Restrictions**: This function does not support dynamic settings. After calling this function successfully, the next call to [startScore] will take effect.
</Warning>
</ParamField>
<ParamField
  name="startScore:pitchValueInterval:"
  prototype="- (int)startScore:(NSString *) resourceID pitchValueInterval:(int) pitchValueInterval;"
  desc="Start scoring."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| resourceID | NSString * | the resource ID corresponding to the accompaniment or accompaniment clip. |
| pitchValueInterval | int | the time interval of real-time pitch line callback, in milliseconds, the default is 50 milliseconds. |

**Details**

Start the scoring function.After starting scoring, the scoring result OnCurrentPitchValueUpdate callback will be received according to the set callback time interval.
 Use case: Can be used to display the singing score on the view.

<Note title="">
- **When to call**: After obtaining verbatim lyrics and playing the accompaniment resources of copyrighted music.
</Note>

<Warning title="">
- **Available since**: 2.15.0
- **Restrictions**: Only support use this api after [startPublishingStream].
</Warning>
</ParamField>
<ParamField
  name="pauseScore:"
  prototype="- (int)pauseScore:(NSString *) resourceID;"
  desc="Pause scoring."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| resourceID | NSString * | the resource ID corresponding to the accompaniment or accompaniment clip. |

**Details**

Pause ongoing scoring,will stop the [OnCurrentPitchValueUpdate] callback.
 Use case: You can call this interface to pause the scoring function while scoring.

<Note title="">
- **When to call**: It can be called while grading. 
</Note>

<Warning title="">
- **Available since**: 2.15.0
</Warning>
</ParamField>
<ParamField
  name="resumeScore:"
  prototype="- (int)resumeScore:(NSString *) resourceID;"
  desc="Resume scoring."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| resourceID | NSString * | the resource ID corresponding to the accompaniment or accompaniment clip. |

**Details**

Resume currently paused scoring.
 Use case: When there is currently paused scoring, this interface can be called to resume the scoring function.

<Note title="">
- **When to call**: It can be called when there is currently a paused scoring. 
</Note>

<Warning title="">
- **Available since**: 2.15.0
</Warning>
</ParamField>
<ParamField
  name="stopScore:"
  prototype="- (int)stopScore:(NSString *) resourceID;"
  desc="Stop scoring."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| resourceID | NSString * | the resource ID corresponding to the accompaniment or accompaniment clip. |

**Details**

End the current rating.The [OnCurrentPitchValueUpdate] callback will be stopped, but the average or total score can still be obtained normally.
 Use case: You can call this interface to end the scoring while scoring.

<Note title="">
- **When to call**: It can be called while grading. 
</Note>

<Warning title="">
- **Available since**: 2.15.0
</Warning>
</ParamField>
<ParamField
  name="resetScore:"
  prototype="- (int)resetScore:(NSString *) resourceID;"
  desc="Reset scoring."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| resourceID | NSString * | the resource ID corresponding to the accompaniment or accompaniment clip. |

**Details**

Reset the scores that have already been performed,The [OnCurrentPitchValueUpdate] callback will be stopped and the average or total score will be 0.
 Use case: Often used in scenes where the same song is re-sung.

<Note title="">
- **When to call**: It can be called after scoring has been performed. 
</Note>

<Warning title="">
- **Available since**: 2.15.0
</Warning>
</ParamField>
<ParamField
  name="getPreviousScore:"
  prototype="- (int)getPreviousScore:(NSString *) resourceID;"
  desc="Get the score of the previous sentence."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| resourceID | NSString * | the resource ID corresponding to the accompaniment or accompaniment clip. |

**Details**

Get the score of the previous sentence.
 Use case: Can be used to display the score of each sentence on the view.

<Note title="">
- **When to call**: It can be called after playing the copyright accompaniment or accompaniment clip and starting to score.
</Note>

<Warning title="">
- **Available since**: 2.15.0
</Warning>
</ParamField>
<ParamField
  name="getAverageScore:"
  prototype="- (int)getAverageScore:(NSString *) resourceID;"
  desc="Get average score."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| resourceID | NSString * | the resource ID corresponding to the accompaniment or accompaniment clip. |

**Details**

Get the average score.
 Use case: Can be used to display the average score on the view.

<Note title="">
- **When to call**: It can be called after playing the copyright accompaniment or accompaniment clip and starting to score.
</Note>

<Warning title="">
- **Available since**: 2.15.0
</Warning>
</ParamField>
<ParamField
  name="getTotalScore:"
  prototype="- (int)getTotalScore:(NSString *) resourceID;"
  desc="Get total score ."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| resourceID | NSString * | the resource ID corresponding to the accompaniment or accompaniment clip. |

**Details**

Get the total score.
 Use case: Can be used to display the total score on the view.

<Note title="">
- **When to call**: It can be called after playing the copyright accompaniment or accompaniment clip and starting to score.
</Note>

<Warning title="">
- **Available since**: 2.15.0
</Warning>
</ParamField>
<ParamField
  name="getFullScore:"
  prototype="- (int)getFullScore:(NSString *) resourceID;"
  desc="Get full score ."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| resourceID | NSString * | the resource ID corresponding to the accompaniment or accompaniment clip. |

**Details**

Get the full score.
 Use case: Can be used to display the full score on the view.

<Note title="">
- **When to call**: It can be called after playing the copyright accompaniment or accompaniment clip and starting to score.
</Note>

<Warning title="">
- **Available since**: 3.0.2
</Warning>
</ParamField>
<ParamField
  name="getStandardPitch:callback:"
  prototype="- (void)getStandardPitch:(NSString *) resourceID callback:(nullable [ZegoCopyrightedMusicGetStandardPitchCallback](../../api-reference/class#zegocopyrightedmusicgetstandardpitchcallback)) callback;"
  desc="Get standard pitch data."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| resourceID | NSString * | the resource ID corresponding to the accompaniment or accompaniment clip. |
| callback | nullable [ZegoCopyrightedMusicGetStandardPitchCallback](../../api-reference/class#zegocopyrightedmusicgetstandardpitchcallback) | get standard pitch data result. |

**Details**

Get standard pitch data.
 Use case: Can be used to display standard pitch lines on the view.

<Note title="">
- **Caution**: Only accompaniment or climactic clip assets have pitch lines.
</Note>

<Warning title="">
- **Available since**: 2.15.0
</Warning>
</ParamField>
<ParamField
  name="getCurrentPitch:"
  prototype="- (int)getCurrentPitch:(NSString *) resourceID;"
  desc="Get real-time pitch data."
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| resourceID | NSString * | the resource ID corresponding to the song or accompaniment. |

**Details**

Get real-time pitch data.
 Use case: Can be used to display real-time pitch lines on the view.

<Note title="">
- **When to call**: It can be called after playing the copyright accompaniment or accompaniment clip and starting to score.
</Note>

<Warning title="">
- **Available since**: 2.15.0
</Warning>
</ParamField>
<ParamField
  name="requestSong:callback:"
  prototype="- (void)requestSong:([ZegoCopyrightedMusicRequestConfig](../../api-reference/class#zegocopyrightedmusicrequestconfig) *) config callback:(nullable [ZegoCopyrightedMusicRequestSongCallback](../../api-reference/class#zegocopyrightedmusicrequestsongcallback)) callback;"
  desc="[Deprecated] Request a song. Deprecated since 3.0.2, please use the [requestResource] function instead."
  suffixes={["deprecated"]}
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicRequestConfig](../../api-reference/class#zegocopyrightedmusicrequestconfig) * | request configuration. |
| callback | nullable [ZegoCopyrightedMusicRequestSongCallback](../../api-reference/class#zegocopyrightedmusicrequestsongcallback) | request a song result |

**Details**

By requesting a song, you can not only obtain basic information about a song (such as duration, song name, and artist), but also obtain the resource ID for local playback, share_token for sharing with others, and related authentication information. Support by the time, by the user monthly, by the room monthly subscription three ways.
 Use case: Get copyrighted songs for local playback and sharing.

<Note title="">
- **When to call**: After initializing the copyrighted music success [initCopyrightedMusic].
- **Caution**: This interface will trigger billing. A song may have three sound qualities: normal, high-definition, and lossless. Each sound quality has a different resource file, and each resource file has a unique resource ID.
</Note>

<Warning title="">
- **Available since**: 2.13.0
</Warning>

<Warning title="Deprecated">Deprecated since 3.0.2, please use the [requestResource] function instead.</Warning>
</ParamField>
<ParamField
  name="requestAccompaniment:callback:"
  prototype="- (void)requestAccompaniment:([ZegoCopyrightedMusicRequestConfig](../../api-reference/class#zegocopyrightedmusicrequestconfig) *) config callback:(nullable [ZegoCopyrightedMusicRequestAccompanimentCallback](../../api-reference/class#zegocopyrightedmusicrequestaccompanimentcallback)) callback;"
  desc="[Deprecated] Request accompaniment. Deprecated since 3.0.2, please use the [requestResource] function instead."
  suffixes={["deprecated"]}
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicRequestConfig](../../api-reference/class#zegocopyrightedmusicrequestconfig) * | request configuration. |
| callback | nullable [ZegoCopyrightedMusicRequestAccompanimentCallback](../../api-reference/class#zegocopyrightedmusicrequestaccompanimentcallback) | request accompaniment result. |

**Details**

You can get the accompaniment resources of the song corresponding to the songID, including resource_id, krc_token, share_token, etc. Supports click-by-point accompaniment.
 Use case: Get copyrighted accompaniment for local playback and sharing.

<Note title="">
- **When to call**: After initializing the copyrighted music success [initCopyrightedMusic].
- **Caution**: This interface will trigger billing.
</Note>

<Warning title="">
- **Available since**: 2.13.0
</Warning>

<Warning title="Deprecated">Deprecated since 3.0.2, please use the [requestResource] function instead.</Warning>
</ParamField>
<ParamField
  name="requestAccompanimentClip:callback:"
  prototype="- (void)requestAccompanimentClip:([ZegoCopyrightedMusicRequestConfig](../../api-reference/class#zegocopyrightedmusicrequestconfig) *) config callback:(nullable [ZegoCopyrightedMusicRequestAccompanimentClipCallback](../../api-reference/class#zegocopyrightedmusicrequestaccompanimentclipcallback)) callback;"
  desc="[Deprecated] Request accompaniment clip. Deprecated since 3.0.2, please use the [requestResource] function instead."
  suffixes={["deprecated"]}
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| config | [ZegoCopyrightedMusicRequestConfig](../../api-reference/class#zegocopyrightedmusicrequestconfig) * | request configuration. |
| callback | nullable [ZegoCopyrightedMusicRequestAccompanimentClipCallback](../../api-reference/class#zegocopyrightedmusicrequestaccompanimentclipcallback) | request accompaniment clip result. |

**Details**

You can get the accompaniment clip resources of the song corresponding to the songID, including resource_id, krc_token, share_token, etc. Supports accompaniment clips by pay-per-use.
 Use case: Get copyrighted accompaniment clip for local playback and sharing.

<Note title="">
- **When to call**: After initializing the copyrighted music success [initCopyrightedMusic].
- **Caution**: This interface will trigger billing.
</Note>

<Warning title="">
- **Available since**: 2.13.0
</Warning>

<Warning title="Deprecated">Deprecated since 3.0.2, please use the [requestResource] function instead.</Warning>
</ParamField>
<ParamField
  name="getMusicByToken:callback:"
  prototype="- (void)getMusicByToken:(NSString *) shareToken callback:(nullable [ZegoCopyrightedMusicGetMusicByTokenCallback](../../api-reference/class#zegocopyrightedmusicgetmusicbytokencallback)) callback;"
  desc="[Deprecated] Get a song or accompaniment. Deprecated since 3.0.2, please use the [getSharedResource] function instead."
  suffixes={["deprecated"]}
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| shareToken | NSString * | access the corresponding authorization token for a song or accompaniment. |
| callback | nullable [ZegoCopyrightedMusicGetMusicByTokenCallback](../../api-reference/class#zegocopyrightedmusicgetmusicbytokencallback) | get a song or accompaniment result. |

**Details**

After the user successfully obtains the song/accompaniment/accompaniment clip resource, he can get the corresponding shareToken, share the shareToken with other users, and other users call this interface to obtain the shared music resources.
 Use case: In the online KTV scene, after receiving the song or accompaniment token shared by the lead singer, the chorus obtains the corresponding song or accompaniment through this interface, and then plays it on the local end.

<Note title="">
- **When to call**: After initializing the copyrighted music success [initCopyrightedMusic].
</Note>

<Warning title="">
- **Available since**: 2.13.0
</Warning>

<Warning title="Deprecated">Deprecated since 3.0.2, please use the [getSharedResource] function instead.</Warning>
</ParamField>
<ParamField
  name="getLrcLyric:callback:"
  prototype="- (void)getLrcLyric:(NSString *) songID callback:(nullable [ZegoCopyrightedMusicGetLrcLyricCallback](../../api-reference/class#zegocopyrightedmusicgetlrclyriccallback)) callback;"
  desc="[Deprecated] Get lyrics in lrc format. Deprecated since 3.2.1, please use the method with the same name with [vendorID] parameter instead."
  suffixes={["deprecated"]}
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| songID | NSString * | the ID of the song or accompaniment, the song and accompaniment of a song share the same ID. |
| callback | nullable [ZegoCopyrightedMusicGetLrcLyricCallback](../../api-reference/class#zegocopyrightedmusicgetlrclyriccallback) | get lyrics result |

**Details**

Get lyrics in lrc format, support parsing lyrics line by line.
 Use case: Used to display lyrics line by line.

<Note title="">
- **When to call**: After initializing the copyrighted music success [initCopyrightedMusic].
</Note>

<Warning title="">
- **Available since**: 2.13.0
</Warning>

<Warning title="Deprecated">Deprecated since 2.14.0, please use the method with the same name with [vendorID] parameter instead.</Warning>
</ParamField>
<ParamField
  name="queryCache:type:"
  prototype="- (BOOL)queryCache:(NSString *) songID type:([ZegoCopyrightedMusicType](../../api-reference/enum#zegocopyrightedmusictype)) type;"
  desc="[Deprecated] Query the resource's cache is existed or not. Deprecated since 3.2.1, please use the method with the same name with [vendorID] parameter instead."
  suffixes={["deprecated"]}
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| songID | NSString * | the ID of the song or accompaniment, the song and accompaniment of a song share the same ID. |
| type | [ZegoCopyrightedMusicType](../../api-reference/enum#zegocopyrightedmusictype) | the song resource type. |

**Details**

Query the resource is existed or not.
 Use case: Can be used to check the resource's cache is existed or not

<Note title="">
- **When to call**: After initializing the copyrighted music success [initCopyrightedMusic].
</Note>

<Warning title="">
- **Available since**: 2.13.0
</Warning>

<Warning title="Deprecated">Deprecated since 2.14.0, please use the method with the same name with [vendorID] parameter instead.</Warning>
</ParamField>
<ParamField
  name="queryCache:type:vendorID:"
  prototype="- (BOOL)queryCache:(NSString *) songID type:([ZegoCopyrightedMusicType](../../api-reference/enum#zegocopyrightedmusictype)) type vendorID:([ZegoCopyrightedMusicVendorID](../../api-reference/enum#zegocopyrightedmusicvendorid)) vendorID;"
  desc="[Deprecated] Query the resource's cache is existed or not. Deprecated since 3.9.0, please use the method with the same name with [config] parameter instead."
  suffixes={["deprecated"]}
  parent_file="Declared in \`ZegoExpressDefines.h\`"
  parent_name="ZegoCopyrightedMusic"
  parent_type="class">
**Parameters**

| Name | Type | Description |
| --- | --- | --- |
| songID | NSString * | the ID of the song or accompaniment, the song and accompaniment of a song share the same ID. |
| type | [ZegoCopyrightedMusicType](../../api-reference/enum#zegocopyrightedmusictype) | the song resource type. |
| vendorID | [ZegoCopyrightedMusicVendorID](../../api-reference/enum#zegocopyrightedmusicvendorid) | Copyright music resource song copyright provider. |

**Details**

Query the resource is existed or not, query the Yinsuda resource cache by default
 Use case: Can be used to check the resource's cache is existed or not

<Note title="">
- **When to call**: After initializing the copyrighted music success [initCopyrightedMusic].
</Note>

<Warning title="">
- **Available since**: 3.2.1
</Warning>

<Warning title="Deprecated">Deprecated since 3.9.0, please use the method with the same name with [config] parameter instead.</Warning>
</ParamField>
