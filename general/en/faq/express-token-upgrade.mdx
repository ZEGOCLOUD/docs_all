---

date: "2024-01-16"
ce-comparison:
  - "Express:Express"
  - "如何:how"
  - "从:from"
  - "AppSign:AppSign"
  - "鉴权:authentication"
  - "升级:upgrade"
  - "为:to"
  - "Token:Token"
  - "鉴权:authentication"
---
import { Title } from './title';
import ArticleMetadata from '../../zh/faq/ArticleMetadata';

<Title>How to upgrade Express from AppSign authentication to Token authentication?</Title>

<ArticleMetadata language="en" product="Video Call / Audio Call / Live streaming / Interactive whiteboard / File sharing / Local server recording / Screen sharing / Mini program live streaming / GO Class / Live streaming" platform="iOS / Android / macOS / Windows / Linux / Flutter / Electron / ReactNative / uni-app / Unity3D" />


- - -


## Document Guide

To improve the security of your project, for developers using AppSign authentication, after your product upgrades to the following versions, you can use Token authentication and can only use related services after authentication passes (if you don't need it, you can continue to use AppSign authentication). You can refer to this document for upgrade.

- **Video Call**
    - iOS/Android/macOS/Windows/Unity3D: Version 2.17.0 and above
    - Flutter: Version 2.17.1 and above
    - React Native: Version 0.17.0 and above
    - uni-app: Version 1.5.0 and above
    - Electron: Version 2.17.3 and above
    - Linux (C++): Version 2.17.3 and above

- **Local Server Recording**

    ga01596a1c8 and above (released on 2022-03-23)

- **Super Board**

    iOS/Android: Version 2.3.0 and above (released on 2022-05-26)

- **Interactive Whiteboard**

    Note: When using Interactive Whiteboard SDK, for Token authentication related steps, please refer to <a href="#token_table">Using Token - Video Call</a>. The following will not be repeated.

    - iOS/Android: Version 2.3.0 and above (released on 2022-05-26)
    - Electron: Version 2.1.6 and above (released on 2022-05-26)

- **File Sharing**

    - iOS/Android: Version 2.3.0 and above (released on 2022-05-26)
    - Electron: Version 2.1.6 and above (released on 2022-05-26)

## Authentication Methods

<table>

  <tbody><tr>
    <th>Authentication Method</th>
    <th>Function Description</th>
    <th>Security Level</th>
  </tr>
  <tr>
    <td>AppSign Authentication</td>
    <td>Pass AppSign when creating the engine. After authentication passes, you can use real-time audio and video functionality.</td>
    <td>Very low security level.<br />Reason: If AppSign is leaked, attackers will steal your cloud service traffic, and AppSign has no expiration mechanism. It is recommended that you upgrade to Token authentication as soon as possible.</td>
  </tr>
  <tr>
    <td>Token Authentication<b> (Recommended)</b></td>
    <td>Token authentication means passing AppSign as empty or not passing it when creating the engine, and you must pass Token when logging into a room. After authentication passes, you can use real-time audio and video functionality. <br />This method is compatible with AppSign authentication. That is, when you pass both AppSign and Token, the SDK will pass both parameters to the ZEGO server. The parameters passed need to be verified through, otherwise the authentication will not pass.<br /></td>
    <td>High security level.<br />Reason: Token is issued by the developer's self-built server and authenticated on the client side, and the issued Token has a time limit. Therefore, we recommend you use Token authentication.</td>
  </tr>
  <tr>
    <td>Forced Token Authentication</td>
    <td>This method refers to configuring forced Token authentication service through ZEGOCLOUD Technical Support. At this time, <b>Token authentication must be used</b>. After authentication passes, you can use real-time audio and video functionality.<br />This method is not compatible with AppSign authentication.</td>
    <td>Highest security level.<br />Reason: After forced Token authentication is enabled, AppSign authentication is no longer compatible, further improving security. However, old versions using AppSign authentication online will not work properly. You need to use this carefully.</td>
  </tr>
</tbody></table>


## Compatibility Description

The three authentication methods of AppSign authentication, Token authentication, and forced Token authentication have certain compatibility. If your historical version uses AppSign authentication, then:
- **Do not enable** forced Token authentication switch (default): ZEGO Express SDK new version can use Token authentication or AppSign authentication.
- **Enable** forced Token authentication switch: ZEGO Express SDK, whether new or old version, is forced to use Token authentication and is not compatible with AppSign authentication.

<Note title="Note">



For version information, please refer to [Document Guide](/faq/express-token-upgrade).

</Note>




## Upgrade Guide

### Service Activation

Token authentication is activated by default.

<Warning title="Note">


If you need to enable forced Token authentication, please contact ZEGOCLOUD Technical Support.

</Warning>




### Generate Token

The developer client sends a request to the developer server to apply for Token. The developer server generates Token and returns it to the corresponding client.

ZEGO provides an open-source zego_server_assistant plugin on GitHub/Gitee, supporting Go, C++, Java, Python, PHP, .NET, Node.js languages to deploy and generate Token on the developer's server or client (not recommended for client generation).

<Warning title="Note">


[zego_server_assistant](https://gitee.com/zegodev_admin/zego_server_assistant/tree/release/github/token) contains two versions of plugins: token03 and token04. Taking ZEGO Express SDK iOS platform as an example, the SDK's support for the plugin is as follows:

- token03: Supported by ZEGO Express SDK 2.8.0 and above.
- token04: Only supported by ZEGO Express SDK 2.17.0 and above.


</Warning>




For detailed introduction on generating Token, please refer to the following documentation:

<table>

<tbody><tr>
<th>Product</th>
<th>Reference Documentation</th>
</tr>
<tr>
<td>Video Call</td>
<td><ul><li><a target="_blank" href="/real-time-video-ios-oc/communication/using-token-authentication#生成-token-与使用">iOS</a></li><li><a target="_blank" href="/real-time-video-android-java/communication/using-token-authentication#生成-token-与使用">Android</a></li><li><a target="_blank" href="/real-time-video-macos-oc/communication/using-token-authentication#生成-token-与使用">macOS</a></li><li><a target="_blank" href="/real-time-video-windows-cpp/communication/using-token-authentication#生成-token-与使用">Windows</a></li><li><a target="_blank" href="/real-time-video-u3d-cs/communication/using-token-authentication#生成-token-与使用">Unity3D</a></li><li><a target="_blank" href="/real-time-video-flutter/communication/using-token-authentication#生成-token-与使用">Flutter</a></li><li><a target="_blank" href="/real-time-video-rn/communication/using-token-authentication#token-的生成与使用">React Native</a></li><li><a target="_blank" href="/real-time-video-uniapp/communication/using-token-authentication#token-的生成与使用">uni-app</a></li><li><a target="_blank" href="/real-time-video-electron-js/communication/using-token-authentication#token-的生成与使用">Electron</a></li><li><a target="_blank" href="/real-time-video-linux-cpp/communication/using-token-authentication#token-的生成与使用">Linux (C++)</a></li></ul></td>
</tr>
<tr>
<td>Real-time Voice</td>
<td><ul><li><a target="_blank" href="/real-time-voice-ios/communication/using-token-authentication#生成-token-与使用">iOS</a></li><li><a target="_blank" href="/real-time-voice-android/communication/using-token-authentication#生成-token-与使用">Android</a></li><li><a target="_blank" href="/real-time-voice-macos/communication/using-token-authentication#生成-token-与使用">macOS</a></li><li><a target="_blank" href="/real-time-voice-windows/communication/using-token-authentication#生成-token-与使用">Windows</a></li><li><a target="_blank" href="/real-time-voice-u3d/communication/using-token-authentication#生成-token-与使用">Unity3D</a></li><li><a target="_blank" href="/real-time-voice-flutter/communication/using-token-authentication#生成-token-与使用">Flutter</a></li><li><a target="_blank" href="/real-time-voice-rn/communication/using-token-authentication#生成-token-与使用">React Native</a></li><li><a target="_blank" href="/real-time-voice-uniapp/communication/using-token-authentication#生成-token-与使用">uni-app</a></li><li><a target="_blank" href="/real-time-voice-electron/communication/using-token-authentication#生成-token-与使用">Electron</a></li><li><a target="_blank" href="/real-time-voice-linux/communication/using-token-authentication#生成-token-与使用">Linux (C++)</a></li></ul></td>
</tr>
<tr>
<td>Local Server Recording</td>
<td><a target="_blank" href="/local-recording-linux-cpp/integration/user-access-control#生成-token">Linux</a></td>
</tr>
<tr>
<td>Super Board</td>
<td><ul><li><a target="_blank" href="https://doc-zh.zego.im/article/15009#4_2">iOS</a></li><li><a target="_blank" href="https://doc-zh.zego.im/article/15010#4_2">Android</a></li><li><a target="_blank" href="/super-board-web/quick-start/user-access-control#42-生成-token">Web</a></li></ul></td>
</tr>
<tr>
<td>Interactive Whiteboard</td>
<td><ul><li><a target="_blank" href="https://doc-zh.zego.im/article/15004#4_2">iOS</a></li><li><a target="_blank" href="https://doc-zh.zego.im/article/15005#4_2">Android</a></li><li><a target="_blank" href="https://doc-zh.zego.im/article/15006#4_2">Web</a></li><li><a target="_blank" href="https://doc-zh.zego.im/article/15007#4_2">Electron</a></li></ul></td>
</tr>
<tr>
<td>File Sharing</td>
<td><ul><li><a target="_blank" href="https://doc-zh.zego.im/article/14999#4_2">iOS</a></li><li><a target="_blank" href="https://doc-zh.zego.im/article/15000#4_2">Android</a></li><li><a target="_blank" href="https://doc-zh.zego.im/article/15001#4_2">Web</a></li><li><a target="_blank" href="https://doc-zh.zego.im/article/15002#4_2">Electron</a></li></ul></td>
</tr>
</tbody></table>




### Use Token


This chapter mainly introduces how to use Token functionality after upgrading the SDK.

<table id="token_table">

<tbody><tr>
<th>Product</th>
<th>Platform</th>
</tr>
<tr>
<td>Video Call/Real-time Voice</td>
<td><ul><li><a href="#express_video_ios">iOS</a></li><li><a href="#express_video_android">Android</a></li><li><a href="#express_video_macos">macOS</a></li><li><a href="#express_video_windows">Windows</a></li><li><a href="#express_video_unity3d">Unity3D</a></li><li><a href="#express_video_flutter">Flutter</a></li><li><a href="#express_video_rn">React Native</a></li><li><a href="#express_video_uniapp">uni-app</a></li><li><a href="#express_video_electron">Electron</a></li><li><a href="#express_video__linux_c++">Linux (C++)</a></li></ul></td>
</tr>
<tr>
<td>Local Server Recording</td>
<td><a href="#local_server_recording_linux">Linux</a></td>
</tr>
<tr>
<td>Super Board</td>
<td><ul><li><a href="#superboard_ios">iOS</a></li><li><a href="#superboard_android">Android</a></li></ul></td>
</tr>
<tr>
<td>File Sharing</td>
<td><ul><li><a href="#ZegoDocsView_ios">iOS</a></li><li><a href="#ZegoDocsView_android">Android</a></li><li><a href="#ZegoDocsView_electron">Electron</a></li></ul></td>
</tr>
</tbody></table>



#### Video Call/Real-time Voice

The implementation process for each platform is as follows:

<b id="express_video_ios">iOS</b>

1. Download and integrate the latest version of [SDK](https://doc-zh.zego.im/real-time-video-rn/client-sdk/download-sdk). For details, please refer to [Integrate SDK](https://doc-zh.zego.im/real-time-video-ios-oc/quick-start/integrating-sdk).
2. When calling the [createEngine](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~objective-c_ios~class~ZegoExpressEngine#create-engine-with-profile-event-handler) interface to create the engine, pass AppSign as empty or do not pass it in [ZegoEngineProfile](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~objectivec_ios~class~ZegoEngineProfile).

```objc
ZegoEngineProfile *profile = [[ZegoEngineProfile alloc] init];
// Please get through official website registration, format: 1234567890
profile.appID = appID;
// For general scenario access, please choose the appropriate scenario based on your actual situation
profile.scenario = ZegoScenarioDefault;
// Create engine and register self as eventHandler callback. If you don't need to register callback, the eventHandler parameter can be passed nil. You can call "-setEventHandler:" method later to set callback
[ZegoExpressEngine createEngineWithProfile:profile eventHandler:self];
```

3. When calling the [loginRoom](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~objective-c_ios~class~ZegoExpressEngine#login-room-user-config) interface to login to a room, you need to fill in the Token generated by the developer server in the room advanced configuration [ZegoRoomCofig](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~objectivec_ios~class~ZegoRoomConfig).

```objc
NSString *roomID = @"xxx"; // Room ID to login
ZegoUser *user = [ZegoUser userWithUserID:@"xxxx"];
ZegoRoomConfig *config = [[ZegoRoomConfig alloc] init];
config.token = @"xxxxxxxx"; // Request from developer server

[[ZegoExpressEngine sharedEngine] loginRoom:roomID user:user config:config];
```

4. After receiving the [onRoomTokenWillExpire](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~objective-c_ios~protocol~ZegoEventHandler#on-room-token-will-expire-room-id) callback, call the [renewToken](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~objective-c_ios~class~ZegoExpressEngine#renew-token-room-id) interface to update Token and pass it to the SDK.

```objc
NSString *token = [MyToken getToken]; // Request Token from developer server again
[[ZegoExpressEngine sharedEngine] renewToken:token roomID:roomID];
```

<b id="express_video_android">Android</b>

1. Download and integrate the latest version of [SDK](https://doc-zh.zego.im/real-time-video-android-java/client-sdk/download-sdk). For details, please refer to [Integrate SDK](https://doc-zh.zego.im/real-time-video-android-java/quick-start/integrating-sdk).
2. When calling the [createEngine](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~java_android~class~ZegoExpressEngine#create-engine-scrap-0) interface to create the engine, pass AppSign as empty or do not pass it in [ZegoEngineProfile](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~java_android~class~ZegoEngineProfile).

```Java
// Create engine, general scenario access, and register self as eventHandler callback
// If you don't need to register callback, the eventHandler parameter can be passed null. You can call "setEventHandler:" method later to set callback
ZegoEngineProfile profile = new ZegoEngineProfile();
profile.appID = ;  // Please get through official website registration, format: 1234567890L
profile.scenario = ZegoScenario.DEFAULT;  // For general scenario access, please choose the appropriate scenario based on your actual situation
profile.application = getApplication();
engine = ZegoExpressEngine.createEngine(profile, null);
```

3. When calling the [loginRoom](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~java_android~class~ZegoExpressEngine#login-room-1) interface to login to a room, you need to fill in the Token generated by the developer server in the room advanced configuration [ZegoRoomConfig](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~java_android~class~ZegoRoomConfig).

```java
String roomID = "xxx" // Room ID to login
ZegoUser user = new ZegoUser("xxxx");
ZegoRoomConfig config = new ZegoRoomConfig();
config.token = "xxxxxxxxxx"; // Request from developer server
engine.loginRoom(roomID, user, config);
```

4. After receiving the [onRoomTokenWillExpire](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~java_android~class~IZegoEventHandler#on-room-token-will-expire) callback, call the [renewToken](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~java_android~class~ZegoExpressEngine#renew-token) interface to update Token and pass it to the SDK.

```java
String token = getToken(); // Request Token from developer server again;
engine.renewToken(roomID, token);
```


<b id="express_video_macos">macOS</b>

- If you are using Objective-C: Please refer to iOS.
- If you are using C++: Please refer to Windows.

<b id="express_video_windows">Windows</b>

1. Download and integrate the latest version of [SDK](https://doc-zh.zego.im/real-time-video-windows-cpp/client-sdk/download-sdk). For details, please refer to [Integrate SDK](https://doc-zh.zego.im/real-time-video-windows-cpp/quick-start/integrating-sdk).
2. When calling the [createEngine](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~cpp_windows~class~ZegoExpressSDK#create-engine-scrap-0) interface to create the engine, pass AppSign as empty or do not pass it in [ZegoEngineProfile](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~cpp_windows~struct~ZegoEngineProfile).

```cpp
ZegoEngineProfile profile;
// AppID is assigned by ZEGO to each App
profile.appID = appID;
// For general scenario access, please choose the appropriate scenario based on your actual situation
profile.scenario = ZegoScenario::ZEGO_SCENARIO_DEFAULT;
// Create engine instance
auto engine = ZegoExpressSDK::createEngine(profile, nullptr);
```

3. When calling the [loginRoom](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~cpp_windows~class~IZegoExpressEngine#login-room-1) interface to login to a room, you need to fill in the Token generated by the developer server in the room advanced configuration [ZegoRoomConfig](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~cpp_windows~struct~ZegoRoomConfig).

```cpp
std::string roomID = 'xxx'; // Room ID to login
ZegoUser user;
user.userID = 'xxxx';
user.userName = 'xxxx';
ZegoRoomConfig config;
config.token = 'xxxxxxxxxx' // Request from developer server
engine->loginRoom(roomID, user, config);
```

4. After receiving the [onRoomTokenWillExpire](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~cpp_windows~class~IZegoEventHandler#on-room-token-will-expire) callback, call the [renewToken](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~cpp_windows~class~IZegoExpressEngine#renew-token) interface to update Token and pass it to the SDK.

```cpp
void onRoomTokenWillExpire(const std::string& /*roomID*/, int /*remainTimeInSecond*/) override {
    std::string token = getToken(); // Request Token from developer server again
    engine->renewToken(roomID, token);
}
```


<b id="express_video_unity3d">Unity3D</b>

1. Download and integrate the latest version of [SDK](https://doc-zh.zego.im/real-time-video-u3d-cs/client-sdk/download-sdk). For details, please refer to [Integrate SDK](https://doc-zh.zego.im/real-time-video-u3d-cs/quick-start/integrating-sdk).
2. When calling the [CreateEngine](https://docs.zegocloud.com/article/api?doc=express-audio-sdk_API~cs_unity3d~class~ZegoExpressEngine#create-engine) interface to create the engine, pass AppSign as empty or do not pass it in [ZegoEngineProfile](https://docs.zegocloud.com/article/api?doc=express-audio-sdk_API~cs_unity3d~struct~ZegoEngineProfile).

```c#
// Define SDK engine object
ZegoExpressEngine engine;

ZegoEngineProfile profile = new ZegoEngineProfile();
profile.appID = appID; // Please get through official website registration, format: 123456789
profile.scenario = ZegoScenario.Default; // For general scenario access, please choose the appropriate scenario based on your actual situation
// Initialize SDK
engine = ZegoExpressEngine.CreateEngine(profile);
```

3. When calling the [LoginRoom](https://docs.zegocloud.com/article/api?doc=express-audio-sdk_API~cs_unity3d~class~ZegoExpressEngine#login-room) interface to login to a room, you need to fill in the Token generated by the developer server in the room advanced configuration [ZegoRoomConfig](https://docs.zegocloud.com/article/api?doc=express-audio-sdk_API~cs_unity3d~struct~ZegoRoomConfig).

```c#
string roomID = "xxx"; // Room ID to login
ZegoUser user = new ZegoUser();
user.userID = "xxxx";
user.userName = "xxxx";
ZegoRoomConfig config = new ZegoRoomConfig();
config.token = "xxxxxxxxxx"; // Request from developer server
engine.LoginRoom(roomID, user, config);
```

4. After receiving the [onRoomTokenWillExpire](https://docs.zegocloud.com/article/api?doc=express-audio-sdk_API~cs_unity3d~class~IZegoEventHandler#on-room-token-will-expire) callback, call the [renewToken](https://docs.zegocloud.com/article/api?doc=express-audio-sdk_API~cs_unity3d~class~ZegoExpressEngine#renew-token) interface to update Token and pass it to the SDK.

```c#
void OnRoomTokenWillExpire(string roomID, int remainTimeInSecond){
    string token = getToken(); // Request Token from developer server again
    engine.RenewToken(roomID, token);
}
```

<b id="express_video_flutter">Flutter</b>

1. Download and integrate the latest version of [SDK](https://doc-zh.zego.im/real-time-video-flutter/client-sdk/download-sdk). For details, please refer to [Integrate SDK](https://doc-zh.zego.im/real-time-video-flutter/quick-start/integrating-sdk).
2. When calling the [createEngineWithProfile](https://pub.dev/documentation/zego_express_engine/latest/zego_express_engine/ZegoExpressEngine/createEngineWithProfile.html) interface to create the engine, pass AppSign as empty or do not pass it in ZegoEngineProfile.

```dart
ZegoEngineProfile profile = ZegoEngineProfile(
    appID, // Please get through official website registration, format: 1234567890
    ZegoScenario.General, // General scenario access
    enablePlatformView: true);
// Create engine
ZegoExpressEngine.createEngineWithProfile(profile);
```

3. When calling the [loginRoom](https://pub.dev/documentation/zego_express_engine/latest/zego_express_engine/ZegoExpressEngineRoom/loginRoom.html) interface to login to a room, you need to fill in the Token generated by the developer server in the room advanced configuration [ZegoRoomConfig](https://pub.dev/documentation/zego_express_engine/latest/zego_express_engine/ZegoRoomConfig-class.html).

```dart
// Create user object
ZegoUser user = ZegoUser.id('user1');
// Only ZegoRoomConfig with "isUserStatusNotify" parameter set to "true" can receive onRoomUserUpdate callback.
ZegoRoomConfig config = ZegoRoomConfig.defaultConfig();
config.isUserStatusNotify = true;
// Token is generated by the user's own server. To quickly run through the process, you can also get temporary audio and video tokens through the ZEGOCLOUD console
config.token = "xxxx";
// Start logging in to the room
ZegoExpressEngine.instance.loginRoom('room1', user, config: config);
```

4. After receiving the [onRoomTokenWillExpire](https://pub.dev/documentation/zego_express_engine/latest/zego_express_engine/ZegoExpressEngine/onRoomTokenWillExpire.html) callback, call the [renewToken](https://pub.dev/documentation/zego_express_engine/latest/zego_express_engine/ZegoExpressEngineRoom/renewToken.html) interface to update Token and pass it to the SDK.

```dart
ZegoExpressEngine.onRoomTokenWillExpire = (String roomID, int remainTimeInSecond) {
    String token = getToken(); // Request Token from developer server again;
    ZegoExpressEngine.instance.renewToken(roomID, token);
  };
```

<b id="express_video_rn">React Native</b>

1. Download and integrate the latest version of [SDK](https://doc-zh.zego.im/real-time-video-rn/client-sdk/download-sdk). For details, please refer to [Integrate SDK](https://doc-zh.zego.im/real-time-video-rn/quick-start/integrating-sdk).
2. When calling the [createEngineWithProfile](https://doc-en-api.zego.im/ReactNative/classes/_zegoexpressengine_.zegoexpressengine.html#createenginewithprofile) interface to create the engine, pass AppSign as empty or do not pass it in ZegoEngineProfile.

```javascript
// Import
import ZegoExpressEngine from 'zego-express-engine-reactnative';

// Use general scenario
const profile = {
appID : xxx,
scenario : 0
};

ZegoExpressEngine.createEngineWithProfile(profile)
```

3. When calling the [loginRoom](https://doc-en-api.zego.im/ReactNative/classes/_zegoexpressengine_.zegoexpressengine.html#loginroom) interface to login to a room, you need to fill in the Token generated by the developer server in the room advanced configuration [ZegoRoomConfig](https://doc-en-api.zego.im/ReactNative/classes/_zegoexpressdefines_.zegoroomconfig.html).

```javascript
let roomConfig = {};
// Token is generated by the user's own server. To quickly run through the process, you can also get temporary audio and video tokens through the ZEGOCLOUD console
roomConfig.token = "xxxx";
// Only ZegoRoomConfig with "isUserStatusNotify" parameter set to "true" can receive onRoomUserUpdate callback.
roomConfig.isUserStatusNotify = true;
// Login to room
// Start logging in to the room
ZegoExpressEngine.instance().loginRoom('room1', {'userID': 'id1', 'userName': 'user1'}, roomConfig);
```

4. After receiving the [roomTokenWillExpire](https://doc-en-api.zego.im/ReactNative/interfaces/_zegoexpresseventhandler_.zegoeventlistener.html#roomtokenwillexpire) callback, call the [renewToken](https://doc-en-api.zego.im/ReactNative/classes/_zegoexpressengine_.zegoexpressengine.html#renewtoken) interface to update Token and pass it to the SDK.

```javascript
ZegoExpressEngine.instance().on("roomTokenWillExpire", (roomID, remainTimeInSecond){
    let token = getToken(); // Request Token from developer server again;
    ZegoExpressEngine.instance().renewToken(roomID, token);
});
```

<b id="express_video_uniapp">uni-app</b>

1. Download and integrate the latest version of [SDK](https://doc-zh.zego.im/real-time-video-uniapp/client-sdk/download-sdk). For details, please refer to [Integrate SDK](https://doc-zh.zego.im/real-time-video-uniapp/quick-start/integrating-sdk).
2. When calling the [createEngineWithProfile](https://doc-en-api.zego.im/UniApp/classes/_zegoexpressengine_.zegoexpressengine.html#createenginewithprofile) interface to create the engine, pass AppSign as empty or do not pass it in ZegoEngineProfile.

```javascript
// Import
import ZegoExpressEngine from '@/zego-express-video-uniapp/lib/ZegoExpressEngine';

// Use general scenario
const profile = {
appID : xxx,
scenario : 0
};

ZegoExpressEngine.createEngineWithProfile(profile)
```

3. When calling the [loginRoom](https://doc-en-api.zego.im/UniApp/classes/_zegoexpressengine_.zegoexpressengine.html#loginroom) interface to login to a room, you need to fill in the Token generated by the developer server in the room advanced configuration [ZegoRoomConfig](https://doc-en-api.zego.im/UniApp/interfaces/_zegoexpressdefines_.zegoroomconfig.html).

```javascript
let roomConfig = {};
// Token is generated by the user's own server. To quickly run through the process, you can also get temporary audio and video tokens through the ZEGOCLOUD console
roomConfig.token = "xxxx";
// Only ZegoRoomConfig with "isUserStatusNotify" parameter set to "true" can receive onRoomUserUpdate callback.
roomConfig.isUserStatusNotify = true;
// Login to room
// Start logging in to the room
ZegoExpressEngine.instance().loginRoom('room1', {'userID': 'id1', 'userName': 'user1'}, roomConfig);
```

4. After receiving the [roomTokenWillExpire](https://doc-en-api.zego.im/UniApp/interfaces/_zegoexpresseventhandler_.zegoeventlistener.html#roomtokenwillexpire) callback, call the [renewToken](https://doc-en-api.zego.im/UniApp/classes/_zegoexpressengine_.zegoexpressengine.html#renewtoken) interface to update Token and pass it to the SDK.

```javascript
ZegoExpressEngine.instance().on("roomTokenWillExpire", (roomID, remainTimeInSecond){
    let token = getToken(); // Request Token from developer server again;
    ZegoExpressEngine.instance().renewToken(roomID, token);
});
```

<b id="express_video_electron">Electron</b>

1. Download and integrate the latest version of [SDK](https://doc-zh.zego.im/real-time-video-electron-js/client-sdk/download-sdk). For details, please refer to [Integrate SDK](https://doc-zh.zego.im/real-time-video-electron-js/quick-start/integrating-sdk).
2. When calling the [createEngine](https://docs.zegocloud.com/article/api?doc=express-video-sdk_API~javascript_electron~class~ZegoExpressEngine#create-engine) interface to create the engine, pass AppSign as empty or do not pass it in ZegoEngineProfile.

```js
// Import ZegoExpressEngine
const zgEngine = window.require('zego-express-engine-electron/ZegoExpressEngine');
const zgDefines = window.require('zego-express-engine-electron/ZegoExpressDefines');

// AppID is assigned by ZEGO to each App. Starting from version 2.17.3, ZEGO no longer issues appSign. Users can leave appSign empty or not fill it when creating the engine, but to use the SDK's functions normally, you must pass token for authentication verification when logging into a room.
// Use general scenario
const profile = {
appID : xxx,
scenario : zgDefines.ZegoScenario.General
};

zgEngine.createEngine(profile)
.then(() => {
    console.log("init succeed")
}).catch((e) => {
    console.log("init failed", e)
});
```

3. When calling the [loginRoom](https://docs.zegocloud.com/article/api?doc=express-video-sdk_API~javascript_electron~class~ZegoExpressEngine#login-room) interface to login to a room, you need to fill in the Token generated by the developer server in the room advanced configuration [ZegoRoomConfig](https://docs.zegocloud.com/article/api?doc=express-video-sdk_API~javascript_electron~struct~ZegoRoomConfig).

```javascript
zgEngine.loginRoom('roomID', { userID: 'zego', userName: zego}, config = {token: 'xxxx'});
```

4. After receiving the [onRoomTokenWillExpire](https://docs.zegocloud.com/article/api?doc=express-video-sdk_API~javascript_electron~class~ZegoExpressEngine#on-room-token-will-expire) callback, call the [renewToken](https://docs.zegocloud.com/article/api?doc=express-video-sdk_API~javascript_electron~class~ZegoExpressEngine#renew-token) interface to update Token and pass it to the SDK.

```javascript
zgEngine.on("onRoomTokenWillExpire", res=>
{
    zgEngine.renewToken(roomID = TheRoomID, token = 'xxxx');
});
```



<b id="express_video__linux_c++">Linux (C++)</b>

1. Download and integrate the latest version of [SDK](https://doc-zh.zego.im/real-time-video-linux-cpp/client-sdk/download-sdk). For details, please refer to [Integrate SDK](https://doc-zh.zego.im/real-time-video-linux-cpp/quick-start/integrating-sdk).
2. When calling the [createEngine](https://docs.zegocloud.com/article/api?doc=express-video-sdk_API~cpp_linux~class~ZegoExpressSDK#create-engine) interface to create the engine, pass AppSign as empty or do not pass it in ZegoEngineProfile.

```cpp
ZegoEngineProfile profile;
// AppID is assigned by ZEGO to each App
profile.appID = appID;
profile.scenario = ZegoScenario::ZEGO_SCENARIO_DEFAULT;
// Create engine instance
auto engine = ZegoExpressSDK::createEngine(profile, nullptr);
```

3. When calling the [loginRoom](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~cpp_linux~class~IZegoExpressEngine#login-room) interface to login to a room, you need to fill in the Token generated by the developer server in the room advanced configuration [ZegoRoomConfig](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~cpp_linux~struct~ZegoRoomConfig).

```cpp
std::string roomID = 'xxx'; // Room ID to login
ZegoUser user;
user.userID = 'xxxx';
user.userName = 'xxxx';
ZegoRoomConfig config;
config.token = 'xxxxxxxxxx' // Request from developer server
engine->loginRoom(roomID, user, config);
```

4. After receiving the [onRoomTokenWillExpire](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~cpp_linux~class~IZegoEventHandler#on-room-token-will-expire) callback, call the [renewToken](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~cpp_linux~class~IZegoExpressEngine#renew-token) interface to update Token and pass it to the SDK.

```cpp
void onRoomTokenWillExpire(const std::string& /*roomID*/, int /*remainTimeInSecond*/) override {
    std::string token = getToken(); // Request Token from developer server again
    engine->renewToken(roomID, token);
}
```

#### Local Server Recording

<b id="local_server_recording_linux">Linux</b>


1. Download and integrate the latest version of [SDK](/local-recording-linux-cpp/downloadsdk). For details, please refer to [Integrate SDK](/local-recording-linux-cpp/integration/sdk-integration).
2. Call the [InitSDK](https://doc-zh.zego.im/API/ServerRecord/namespace_z_e_g_o_1_1_l_i_v_e_r_o_o_m.html#af8fcc2e5a69e83075637631d68fcf4ea) interface to initialize the SDK and pass the obtained AppID to the parameter "uiAppID".

```cpp
unsigned int appId = appID; // Fill in AppID here
LIVEROOM::InitSDK(appId);
```

3. Before logging into a room, call the [SetCustomToken](https://doc-zh.zego.im/API/ServerRecord/namespace_z_e_g_o_1_1_l_i_v_e_r_o_o_m.html#a68bdea0d66d62c8bf4d671284707b3ae) interface to pass Token to the SDK.

```cpp
LIVEROOM::SetCustomToken("token"); // Fill in the correct authentication Token here
```



#### Super Board

<b id="superboard_ios">iOS</b>

1. Download and integrate the latest version of [ZegoSuperBoard SDK](/super-board-ios/download-sdk) (which includes ZegoExpressEngine SDK). For details, please refer to [Integrate SDK](/super-board-ios/quick-start/create-white-board#集成-sdk).
2. When calling the [createEngine](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~objective-c_ios~class~ZegoExpressEngine#create-engine-with-profile-event-handler) interface of [ZegoExpressEngine](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~ObjectiveC_ios~class~zego-express-engine) to create the engine, pass AppSign as empty or do not pass it in [ZegoEngineProfile](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~objectivec_ios~class~ZegoEngineProfile).

```objc
ZegoEngineProfile *profile = [[ZegoEngineProfile alloc] init];
// Please get through official website registration, format: 1234567890
profile.appID = appID;
// For general scenario access, please choose the appropriate scenario based on your actual situation
profile.scenario = ZegoScenarioDefault;
// Create engine and register self as eventHandler callback. If you don't need to register callback, the eventHandler parameter can be passed nil. You can call "-setEventHandler:" method later to set callback
[ZegoExpressEngine createEngineWithProfile:profile eventHandler:self];
```

3. When initializing ZegoSuperBoard SDK using the [initWithConfig](https://docs.zegocloud.com/article/api?doc=superboard_API~objective-c_ios~class~ZegoSuperBoardManager#init-with-config-config-complete) method of [ZegoSuperBoardManager](https://docs.zegocloud.com/article/api?doc=superboard_API~objective-c_ios~class~ZegoSuperBoardManager), pass userID and fill in the Token generated by the developer server.

```objc
/** Fill in appID*/
unsigned int appID = ;  /** Please get through official website registration, format: 123456789L */

// Create an initialization configuration class ZegoSuperBoardInitConfig
ZegoSuperBoardInitConfig * config = [ZegoSuperBoardInitConfig new];
config.appID = appID; // Assign appID
config.token = token; // Assign token
config.userID = userID; // Assign userID

// Set ZegoSuperBoardManager listener, need to set before logging into the room
[ZegoSuperBoardManager sharedInstance].delegate = self;

[[ZegoSuperBoardManager sharedInstance] initWithConfig:config complete:^(ZegoSuperBoardError errorCode) {
    if (errorCode == ZegoSuperBoardSuccess) {
         /** Initialization successful */
    } else {
        /** Initialization failed */
    }
}];
```

4. When calling the [loginRoom](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~objective-c_ios~class~ZegoExpressEngine#login-room-user-config) interface of [ZegoExpressEngine](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~ObjectiveC_ios~class~zego-express-engine) to login to a room, you need to fill in the Token generated by the developer server in the room advanced configuration [ZegoRoomConfig](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~objectivec_ios~class~ZegoRoomConfig).

```objc
NSString *roomID = @"xxx"; // Room ID to login
ZegoUser *user = [ZegoUser userWithUserID:@"xxxx"];
ZegoRoomConfig *config = [[ZegoRoomConfig alloc] init];
config.token = @"xxxxxxxx"; // Request from developer server

[[ZegoExpressEngine sharedEngine] loginRoom:roomID user:user config:config];
```

5. After receiving the [onRoomTokenWillExpire](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~objective-c_ios~protocol~ZegoEventHandler#on-room-token-will-expire-room-id) callback, call the [renewToken](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~objective-c_ios~class~ZegoExpressEngine#renew-token-room-id) interface to update Token and pass it to the SDK.

```objc
NSString *token = [MyToken getToken]; // Request Token from developer server again
[[ZegoExpressEngine sharedEngine] renewToken:token roomID:roomID];
```

<b id="superboard_android">Android</b>

1. Download and integrate the latest version of [ZegoSuperBoard SDK](/super-board-android/download-sdk) (which includes ZegoExpressEngine SDK). For details, please refer to [Integrate SDK](/super-board-android/quick-start/create-white-board#集成-sdk).
2. When calling the [createEngine](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~java_android~class~ZegoExpressEngine#create-engine-scrap-0) interface of [ZegoExpressEngine](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~java_android~class~ZegoExpressEngine) to create the engine, pass AppSign as empty or do not pass it in [ZegoEngineProfile](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~java_android~class~ZegoEngineProfile).

```Java
// Create engine, general scenario access, and register self as eventHandler callback
// If you don't need to register callback, the eventHandler parameter can be passed null. You can call "setEventHandler:" method later to set callback
ZegoEngineProfile profile = new ZegoEngineProfile();
profile.appID = ;  // Please get through official website registration, format: 1234567890L
profile.scenario = ZegoScenario.DEFAULT;  // For general scenario access, please choose the appropriate scenario based on your actual situation
profile.application = getApplication();
engine = ZegoExpressEngine.createEngine(profile, null);
```

3. When initializing ZegoSuperBoard SDK using the [init](https://docs.zegocloud.com/article/api?doc=superboard_API~java_android~class~ZegoSuperBoardManager#init) method of [ZegoSuperBoardManager](https://docs.zegocloud.com/article/api?doc=superboard_API~java_android~class~ZegoSuperBoardManager), pass userID and fill in the Token generated by the developer server.

```java
// Configure appID, token and UserID required for superBoard initialization
ZegoSuperBoardInitConfig config = new ZegoSuperBoardInitConfig();
config.appID = appID; // Assign appID
config.token = token; // Assign token
config.userID = userID; // Assign userID

// Call SuperBoardManager to initialize SuperBoard sdk
// this is the Android Application context, so this code is recommended to be implemented in the Application
ZegoSuperBoardManager.getInstance().init(this, config, new IZegoSuperBoardInitCallback() {
    @Override
    public void onInit(int errorCode) {
        Log.d(TAG, "init ZegoSuperBoardManager result: errorCode = [" + errorCode + "]");
        if (errorCode == ZegoSuperBoardError.ZegoSuperBoardSuccess) {
            /** Initialization successful */
        } else {
            /** Initialization failed */
        }
    }
});
```

4. When calling the [loginRoom](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~java_android~class~ZegoExpressEngine#login-room-1) interface of [ZegoExpressEngine](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~java_android~class~ZegoExpressEngine) to login to a room, you need to fill in the Token generated by the developer server in the room advanced configuration [ZegoRoomConfig](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~java_android~class~ZegoRoomConfig).

```java
String roomID = "xxx" // Room ID to login
ZegoUser user = new ZegoUser("xxxx");
ZegoRoomConfig config = new ZegoRoomConfig();
config.token = "xxxxxxxxxx"; // Request from developer server
engine.loginRoom(roomID, user, config);
```

5. After receiving the [onRoomTokenWillExpire](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~java_android~class~IZegoEventHandler#on-room-token-will-expire) callback, call the [renewToken](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~java_android~class~ZegoExpressEngine#renew-token) interface to update Token and pass it to the SDK.

```java
String token = getToken(); // Request Token from developer server again;
engine.renewToken(roomID, token);
```


#### File Sharing

<b id="ZegoDocsView_ios">iOS</b>

1. Download and integrate the latest version of [ZegoDocsView SDK](https://doc-zh.zego.im/article/4408). For details, please refer to [Integrate SDK](https://doc-zh.zego.im/article/4373).
2. When initializing ZegoDocsView SDK using the [initWithConfig](https://docs.zegocloud.com/article/api?doc=DocsView_API~objective-c_ios~class~ZegoDocsViewManager#init-with-config-config-completion-block) method of [ZegoDocsViewManager](https://docs.zegocloud.com/article/api?doc=DocsView_API~objective-c_ios~class~ZegoDocsViewManager), pass userID and fill in the Token generated by the developer server.

```objc
ZegoDocsViewConfig *config = [ZegoDocsViewConfig new];
config.appID = appID; // ZEGOCLOUD AppID
config.userID = userID; // User userID
config.token = token; // Authentication token, obtained from your own server

config.dataFolder = [[NSHomeDirectory() stringByAppendingPathComponent:@"Documents/ZegoDocs"] stringByAppendingString:@"data"]; // SDK related data directory
config.cacheFolder = [[NSHomeDirectory() stringByAppendingPathComponent:@"Documents/ZegoDocs"] stringByAppendingString:@"doc"]; // SDK related cache directory
config.logFolder = [[NSHomeDirectory() stringByAppendingPathComponent:@"Documents/ZegoDocs"] stringByAppendingString:@"log"]; // SDK related log directory

[[ZegoDocsViewManager sharedInstance] initWithConfig:config completionBlock:^(ZegoDocsViewError errorCode) {
    if (errorCode == ZegoDocsViewSuccess) {
        NSLog(@"SDK initialization successful");
    } else {
        NSLog(@"SDK initialization failed %ld",errorCode);
    }
}];
```

3. After receiving the `tokenWillExpire` callback, call the `renewToken` interface to update Token and pass it to the SDK.

```objc
- (void)tokenWillExpire
{
    NSString * token = **; // Token obtained from backend
    [[ZegoDocsViewManager sharedInstance] renewToken:token];
}
```

<b id="ZegoDocsView_android">Android</b>

1. Download and integrate the latest version of [ZegoDocsView SDK](https://doc-zh.zego.im/article/4407). For details, please refer to [Integrate SDK](https://doc-zh.zego.im/article/4347).
2. When initializing ZegoDocsView SDK using the [init](https://docs.zegocloud.com/article/api?doc=DocsView_API~java_android~class~ZegoDocsViewManager#init) method of [ZegoDocsViewManager](https://docs.zegocloud.com/article/api?doc=DocsView_API~java_android~class~ZegoDocsViewManager), pass userID and fill in the Token generated by the developer server.

```java
long appID = ;  /** Please get through official website registration, format: 123456789L */
String token = ;  /** Authentication token*/
String UserID = ; /** User unique ID*/
Application application ; // Android app's application

ZegoDocsViewConfig config = new ZegoDocsViewConfig();
config.setAppID(appID);
config.setToken(token);
config.setUserID(userID);

ZegoDocsViewManager.getInstance().init(application,config, new IZegoDocsViewInitListener() {
    @Override
    public void onInit(int errorCode) {
        if (errorCode == 0) {
            /** Initialization successful */
        } else {
            /** Initialization failed */
        }
    }
});
```

3. After receiving the `onTokenWillExpire` callback, call the `renewToken` interface to update Token and pass it to the SDK.

```java
ZegoDocsViewManager.getInstance().setTokenListener(new IZegoDocsViewSetTokenListener() {
    @Override
    public void onTokenWillExpire(int remainTimeInSecond) {
        // Get new token from server
        String token = getTokenFromServer();
        ZegoDocsViewManager.getInstance().renewToken(token);
    }
});
```

<b id="ZegoDocsView_electron">Electron</b>

1. Download and integrate the latest version of [ZegoDocsView SDK](https://doc-zh.zego.im/article/6498). For details, please refer to [Integrate SDK](https://doc-zh.zego.im/article/6493).
2. When initializing ZegoDocsView SDK, pass userID and fill in the Token generated by the developer server.

```
/** Import ZegoExpressDocs SDK */
const ZegoExpressDocs = window.require('zego-express-docsview-electron');
/**
* Initialize ZegoExpressDocs SDK
* @param appID: Application ID issued by ZEGO for developers, please apply from ZEGO Management Console
* @param dataFolder: Optional, SDK internal data storage directory, developers do not need to pay attention to the specific content in this directory
* @param cacheFolder: Optional, SDK cache storage directory
* @param logFolder: Optional, log storage directory, records logs during SDK operation for easy troubleshooting
* @param token: Token for identity verification
* @param userID: Within the same AppID, "userID" must be globally unique
*/
const zegoExpressDocs = new ZegoExpressDocs({
    appID,
    dataFolder,
    cacheFolder,
    logFolder,
    token,
    userID
});
```

3. After receiving the `onTokenWillExpire` callback, call the `renewToken` interface to update Token and pass it to the SDK.

```js
zegoExpressDocs.on('onTokenWillExpire', function(data){
    var newToken = 'new token';
    zegoExpressDocs.renewToken(newToken)
})
```

