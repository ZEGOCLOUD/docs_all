---

date: "2023-03-01"
ce-comparison:
  - "如何:how"
  - "监听:monitor"
  - "房间:room"
  - "内:in"
  - "用户:user"
  - "的:of"
  - "麦克风:microphone"
  - "和:and"
  - "摄像头:camera"
  - "状态:status"
---
import { Title } from './title';
import ArticleMetadata from '../../zh/faq/ArticleMetadata';

<Title>How to monitor the microphone and camera status of users in a room?</Title>

<ArticleMetadata language="en" product="Video Call / Audio Call / Live streaming" platform="iOS / Android / macOS / Windows" />



- - -

## Introduction
In certain scenarios, developers need to monitor the microphone and camera status of users in a room to determine whether the remote stream publishing device is working properly, and to preliminarily understand the reason for device problems based on the corresponding `state` code.

## Implementation Method

<Warning title="Note">


Before implementing the device status monitoring feature, please ensure that you have implemented the basic real-time audio and video functionality. For details, please refer to: [Quick Start - Implementation Process](/real-time-video-android-java/quick-start/implementing-video-call)

</Warning>



ZEGO Express SDK provides two callbacks `onRemoteMicStateUpdate` and `onRemoteCameraStateUpdate` to monitor the status changes of remote camera and microphone through this callback.

## Sample Code
```objc
// Objective-C
- (void)onRemoteMicStateUpdate:(ZegoRemoteDeviceState) state streamID:(NSString *) streamID;
- (void)onRemoteCameraStateUpdate:(ZegoRemoteDeviceState) state streamID:(NSString *) streamID;
```

```java
// Java
public void onRemoteMicStateUpdate (String streamID, ZegoRemoteDeviceState state);
public void onRemoteCameraStateUpdate (String streamID, ZegoRemoteDeviceState state);
```

```cpp
// cpp
public:
    void onRemoteMicStateUpdate(std::string streamID, ZegoRemoteDeviceState state) override;
    void onRemoteCameraStateUpdate(std::string streamID, ZegoRemoteDeviceState state) override;
```

```dart
// dart
ZegoExpressEngine.onRemoteMicStateUpdate = (String streamID, ZegoRemoteDeviceState state) {
  //
};
ZegoExpressEngine.onRemoteCameraStateUpdate= (String streamID, ZegoRemoteDeviceState state) {
  //
};
```

```
// c#
public delegate void OnRemoteMicStateUpdate(string streamID, ZegoRemoteDeviceState state);
public delegate void OnRemoteCameraStateUpdate(string streamID, ZegoRemoteDeviceState state);
```

```TypeScript
// TypeScript
onRemoteMicStateUpdate?(streamID: string, state: zego.ZegoRemoteDeviceState): void
onRemoteCameraStateUpdate?(streamID: string, state: zego.ZegoRemoteDeviceState): void
```

#### Precautions

<Warning title="Note">


1. When playing streams from CDN addresses, the above callbacks will not be received.
2. If the user uses custom audio capture, the Mic-related callbacks will not be received.

</Warning>




## API Reference
- Objective-C
    - [onRemoteMicStateUpdate](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~ObjectiveC~protocol~zego-event-handler#on-remote-mic-state-update-stream-id)
    - [onRemoteCameraStateUpdate](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~ObjectiveC~protocol~zego-event-handler#on-remote-camera-state-update-stream-id)
- Java
    - [onRemoteMicStateUpdate](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~Java~class~im-zego-zegoexpress-callback-i-zego-event-handler#on-remote-mic-state-update)
    - [onRemoteCameraStateUpdate](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~Java~class~im-zego-zegoexpress-callback-i-zego-event-handler#on-remote-camera-state-update)


