---

date: "2023-10-19"
ce-comparison:
  - "Express:Express"
  - "如何:how"
  - "处理:handle"
  - "Token:Token"
  - "相关:related"
  - "错误码:error code"
---
import { Title } from './title';
import ArticleMetadata from '../../zh/faq/ArticleMetadata';

<Title>How to handle Token-related error codes in Express?</Title>

<ArticleMetadata language="en" product="Video Call / Audio Call / Live streaming" platform="iOS / Android / macOS / Windows / Web" />



- - -

Since Token has a certain validity period, during the application runtime, you may receive some error codes or event callbacks related to Token. For common error codes and event callbacks, this article provides the reasons for triggering and recommended handling methods to help developers locate and troubleshoot problems.

<Note title="Note">


You can verify the correctness of the Token generated by your server on the [ZEGOCLOUD Console](https://console.zegocloud.com). For details, please refer to [Console - Development Assistance - Temporary Token Generation and Token Verification](https://doc-zh.zego.im/console/development-assistance/temporary-token#生成临时-token).

</Note>



## Precautions

30 seconds before the Token expires, the SDK will send a notification through the **onRoomTokenWillExpire** callback. After receiving this callback, developers need to obtain a new valid Token from their own server and call the **renewToken** interface provided by the SDK to update the Token. If not handled, different versions have different mechanisms for handling Token expiration:

- If you are using ZEGO Express SDK version 2.8.0 to 2.12.0, if the Token is not updated when the permission expires:

    - Users already logged into the room will not be kicked out.
    - Users who have successfully logged into the room will not be affected by publishing and playing streams, but it will affect the user's next publishing and playing operations.

- If you are using ZEGO Express SDK version 2.13.0 or above:

    - You can contact ZEGOCLOUD Technical Support to configure the permission expiration management mechanism. If the Token is not updated when the permission expires:

        - Users already logged into the room will be kicked out and cannot log in again.
        - Users who have successfully logged into the room will have their publishing stopped and cannot perform the next publishing.

    - If you do not contact ZEGOCLOUD Technical Support to configure the permission expiration management mechanism, if the Token is not updated:

        - Users already logged into the room will not be kicked out.
        - Users who have successfully logged into the room will not be affected by publishing and playing streams, but it will affect the user's next publishing and playing operations.


## Native Platform

Native platform mainly refers to Android, iOS, macOS, and Windows platforms.


### Error Codes

<table>

  <tbody><tr>
    <th>Error Code</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>1002033</td>
    <td>Room login authentication failed.</td>
  </tr>
</tbody></table>


### Event Callbacks

**onRoomTokenWillExpire**: Callback notification that room Token authentication is about to expire, sent 30 seconds before Token expiration. When this callback is received, you can use the renewToken interface to update the Token. If not updated, it will affect the user's next login and publishing operations, but will not affect current operations.

API Reference:

- iOS: [onRoomTokenWillExpire](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~ObjectiveC_ios~protocol~zego-event-handler#on-room-token-will-expire-room-id), [renewToken](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~ObjectiveC_ios~class~zego-express-engine#switch-room-to-room-id-config)
- Android: [onRoomTokenWillExpire](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~Java_android~class~im-zego-zegoexpress-callback-i-zego-event-handler#on-room-token-will-expire), [renewToken](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~Java_android~class~im-zego-zegoexpress-zego-express-engine#renew-token)
- macOS: [onRoomTokenWillExpire](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~ObjectiveC_macos~protocol~zego-event-handler#on-room-token-will-expire-room-id), [renewToken](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~ObjectiveC_macos~class~zego-express-engine#switch-room-to-room-id-config)
- Windows: [onRoomTokenWillExpire](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~CPP_windows~class~zego-express-i-zego-event-handler#on-room-token-will-expire), [renewToken](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~CPP_windows~class~zego-express-i-zego-express-engine#renew-token)


## Web Platform

### Error Codes

<table>

  <tbody><tr>
    <th>Error Code</th>
    <th>Description</th>
    <th>Handling Suggestion</th>
  </tr>
  <tr>
    <td>1102016</td>
    <td>Login Token error.</td>
    <td>You can refer to <a target="_blank" href="/real-time-video-web/communication/using-token-authentication">Using Token Authentication</a> to generate the correct Token.</td>
  </tr>
  <tr>
    <td>1102018</td>
    <td>Login Token timeout.</td>
    <td>When the Token expires, developers need to obtain a new valid Token from their own server and call the <a target="_blank" href="https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~javascript_web~class~ZegoExpressEngine&amp;jumpType=route#renew-token">renewToken</a> interface provided by the SDK to update the Token.</td>
  </tr>
</tbody></table>



