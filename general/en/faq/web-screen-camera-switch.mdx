---

date: "2023-10-25"
ce-comparison:
  - "如何:how"
  - "切换:switch"
  - "屏幕:screen"
  - "共享:sharing"
  - "流:stream"
  - "和:and"
  - "摄像头:camera"
  - "视频:video"
  - "流:stream"
---
import { Title } from './title';
import ArticleMetadata from '../../zh/faq/ArticleMetadata';

<Title>How to switch between screen sharing stream and camera video stream?</Title>

<ArticleMetadata language="en" product="Video Call / Live streaming" platform="Web" />



- - - -

When using ZEGO Express Web SDK to implement screen sharing, developers can refer to this article to switch between the published screen sharing stream and the video stream captured by the camera.

ZEGO recommends the following three methods, all using switching from screen sharing stream to camera video stream as an example.

1. Create two streams
2. Destroy the current stream and then create and publish a new stream
3. Replace the current video track

<Note title="Note">


The method of switching between screen sharing stream and camera video stream is the same.

</Note>




## Create Two Streams

If the developer's actual application scenario allows creating and publishing two streams simultaneously, ZEGO recommends using this method:

1. The publishing end creates two MediaStream or [ZegoLocalStream](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~javascript_web~class~ZegoLocalStream) instance objects, corresponding to two streams — `screen sharing stream` and `camera video stream`. For specific implementation methods of creating streams, please refer to the [createStream](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~javascript_web~class~ZegoExpressEngine#create-stream) or [createZegoStream](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~javascript_web~class~ZegoExpressEngine#create-zego-stream) interface.

<Note title="Note">


    The [createStream](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~javascript_web~class~ZegoExpressEngine#create-stream) interface is supported in versions before Express Web SDK 3.0.0. Version 3.0.0 and above are deprecated and replaced by [createZegoStream](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~javascript_web~class~ZegoExpressEngine#create-zeg). For details, please refer to [Upgrade Guide for Version 3.0.0 and Above](/real-time-video-web/client-sdk/upgrade-guide/upgrade-to-v3).

</Note>



2. When you need to switch from screen sharing stream to camera video stream, the playing end can select to play the camera video stream based on the stream ID of the camera video stream to successfully switch.

## Destroy the Current Stream and Then Create and Publish a New Stream

1. Call [stopPubliushStream](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~javascript_web~class~ZegoExpressEngine#stop-publishing-stream) to stop publishing, then call the [destroyStream](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~javascript_web~class~ZegoExpressEngine#destroy-stream) interface to destroy the current screen sharing stream.

2. Call [createStream](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~javascript_web~class~ZegoExpressEngine#create-stream) or [createZegoStream](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~javascript_web~class~ZegoExpressEngine#create-zego-stream) to create a camera video stream.

3. Call the [startPublishingStream](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~javascript_web~class~ZegoExpressEngine#start-publishing-stream) interface to publish the camera video stream.

This method has good compatibility and stability, but cannot dynamically switch and has a longer switching time (about one to two seconds).

## Replace the Current Video Track

### Version 3.0.0 and Above

1. By calling the [createZegoStream](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~javascript_web~class~ZegoExpressEngine#create-zego-stream) interface, create a [ZegoLocalStream](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~javascript_web~class~ZegoLocalStream) instance object localStream, which by default captures camera microphone stream.

    Call the [startPublishingStream](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~javascript_web~class~ZegoExpressEngine#start-publishing-stream) interface, passing in "streamID" and the stream object "localStream" obtained from creating the stream, to send the local audio and video stream to remote users.

    ```js
    try {
        const localStream = await zg.createZegoStream()
        zg.startPublishingStream(streamID, localStream)
    } catch (err) {
        console.error(err)
    }
    ```

2. After successful publishing, you need to replace the `camera video` in the publishing stream with `screen sharing video`. You can call the [startCaptureScreen](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~javascript_web~class~ZegoLocalStream#start-capture-screen) interface to capture screen sharing, then call the [updatePublishingStream](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~javascript_web~class~ZegoExpressEngine#update-publishing-stream) interface to update the video in the publishing stream.

    ```js
    try {
        await localStream.startCaptureScreen()
        zg.updatePublishingStream(localStream, 0)
    } catch (err) {
        console.error(err)
    }
    ```

### Before Version 3.0.0

Call the [replaceTrack](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~javascript_web~class~ZegoExpressEngine#replace-track) interface to replace the video track in the audio and video stream with the camera video stream.

<Warning title="Note">


If switching from camera video stream to screen sharing stream, after replacing with screen sharing stream, the encoding frame rate will drop to 5 fps.

</Warning>




This method can achieve dynamic switching with fast switching speed, but the [replaceTrack](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~javascript_web~class~ZegoExpressEngine#replace-track) interface has many limitations:

- Only supports Chrome 65+, Safari, and the latest Firefox browser.
- May not work on some mobile devices.
- Before use, you need to create screen sharing stream and camera video stream through [createStream](https://docs.zegocloud.com/article/api?doc=Express_Video_SDK_API~javascript_web~class~ZegoExpressEngine#create-stream).


## Related References

- [Video Call - Screen Sharing](/real-time-video-web/video/screen-sharing)
- [Video Call - Implementation Process](/real-time-video-web/quick-start/implementing-video-call)


