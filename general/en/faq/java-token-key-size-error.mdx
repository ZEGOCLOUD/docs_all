---

date: "2022-08-05"
ce-comparison:
  - "运行:run"
  - "生成 Token:generate Token"
  - "Java:Java"
  - "源码:source code"
  - "异常:exception"
---
import { Title } from './title';
import ArticleMetadata from '../../zh/faq/ArticleMetadata';

<Title>When running Java source code to generate Token, if an exception "java.security.InvalidKeyException:illegal Key Size" appears, how to handle it?</Title>

<ArticleMetadata language="en" product="Video Call / Audio Call / Live streaming" platform="All" />



---

You can choose any of the following methods to handle it:

1. Upgrade Java to version 8u162 or above to use unlimited policy by default. If you upgrade to Java 9 or above, there are no related restrictions;
2. If your Java version is 8u151 or 8u152, please set unlimited permission policy directly in your program:

    ```java
    Security.setProperty("crypto.policy", "unlimited");
    ```

3. If your Java is another version, please download the JCE unlimited permission policy file from the official website and use the files in it to replace the corresponding jar in the $JAVA_HOME/lib/security directory:
	- If you have installed JDK7, please visit [Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files 7](http://www.oracle.com/technetwork/java/javase/downloads/jce-7-download-432124.html) to download the file.
  - If you have installed JDK8, please visit [Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files 8](http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html) to download the file.


