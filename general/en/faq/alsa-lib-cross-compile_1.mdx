---

date: "2023-02-21"
ce-comparison:
  - "如何:how"
  - "交叉:cross"
  - "编译:compile"
  - "Linux:Linux"
  - "alsa-lib:alsa-lib"
  - "依赖:dependency"
  - "库:library"
---
import { Title } from './title';
import ArticleMetadata from '../../zh/faq/ArticleMetadata';

<Title>How to cross-compile Linux alsa-lib dependency library?</Title>

<ArticleMetadata language="en" product="Video Call / Audio Call" platform="Linux" />


---

This document will introduce how to cross-compile alsa-lib (libasound) for an aarch64 architecture embedded machine on an x86_64 machine with Ubuntu 20.04 as the system.

1. Install the dependency libraries required to compile alsa-lib.

    ```shell
    $ apt update
    $ apt install make automake libtool
    ```

2. Install the cross-compilation toolchain.

<Note title="Note">


    This example installs the latest version of the GNU GCC toolchain. Please install the correct cross-compilation toolchain for your embedded machine according to your actual situation.
    
</Note>



    ```shell
    $ apt update
    $ apt install gcc-aarch64-linux-gnu g++-aarch64-linux-gnu
    ```

3. Download the latest version of `alsa-lib` source code from [ALSA Official Website](https://www.alsa-project.org/main/index.php/Download) and extract it.

    <Frame width="512" height="auto" caption=""><img src="https://doc-media.zego.im/sdk-doc/Pics/Linux/Express/alsa_website.png" /></Frame>

    For example, download [alsa-lib-1.2.7.2.tar.bz2](https://www.alsa-project.org/files/pub/lib/alsa-lib-1.2.7.2.tar.bz2) to local.

    ```shell
    $ wget https://www.alsa-project.org/files/pub/lib/alsa-lib-1.2.7.2.tar.bz2
    $ tar xf alsa-lib-1.2.7.2.tar.bz2
    $ cd alsa-lib-1.2.7.2
    ```

    Then use `tar` to extract the source code and `cd` into the extracted directory.

<Note title="Note">


    - If you cannot find "wget", you can install "wget" through `apt install wget`.
    - If "tar" extraction fails, it may be that the system does not have the "bzip2" library installed. You can install it through `apt install bzip2`.
    
</Note>



4. Generate the configuration file through `./configure`.

    ```shell
    $ ./configure --enable-shared=yes --enable-static=no --with-pic \
    --host=aarch64-linux-gnu --prefix=/usr/aarch64-linux-gnu
    ```

    - Specify the cross-compilation target as `aarch64-linux-gnu` through the `--host` parameter. You need to modify this according to your actual situation to your cross-compilation target.
    - Specify the installation path as `/usr/aarch64-linux-gnu` through the `--prefix` parameter. You need to modify this according to your actual situation to the installation path of your cross-compilation toolchain.

5. Specify the number of parallel tasks for concurrent compilation through the `-j` parameter, or compile directly through `make`.

    ```shell
    $ make -j$(nproc)
    ```

6. Install alsa-lib to the installation path of the cross-compilation toolchain through `make install`, which is the path specified by the `prefix` parameter in step 4.

    ```shell
    $ make install
    ```


