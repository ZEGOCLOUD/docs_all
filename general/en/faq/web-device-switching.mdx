---

date: "2022-11-04"
ce-comparison:
  - "Web:Web"
  - "平台:platform"
  - "上:on"
  - "Express:Express"
  - "如何:how"
  - "在:in"
  - "通话:call"
  - "中:during"
  - "切换:switch"
  - "音视频:audio and video"
  - "输入:input"
  - "设备:device"
---
import { Title } from './title';
import ArticleMetadata from '../../zh/faq/ArticleMetadata';

<Title>How to switch audio and video input devices during calls on the Web platform with Express?</Title>

<ArticleMetadata language="en" product="Video Call / Audio Call / Live streaming" platform="Web" />



- - -

## Web Desktop Device Switching

Audio and video input devices are identified by device ID (deviceId). Each audio and video device has a unique device ID, which can be obtained through the [enumDevices](https://docs.zegocloud.com/article/api?doc=Express_Audio_SDK_API~javascript_web~class~ZegoExpressEngine&jumpType=route#enum-devices) interface. Device IDs are randomly generated, and in some cases, the ID of the same device may change. Therefore, we recommend calling the [enumDevices](https://docs.zegocloud.com/article/api?doc=Express_Audio_SDK_API~javascript_web~class~ZegoExpressEngine&jumpType=route#enum-devices) interface every time you switch devices to get the device ID.

To protect user privacy, Chrome 81 and above, Safari, and Firefox browsers need to obtain media device permissions before they can get device IDs. You can create a temporary stream to capture audio and video to trigger media device permission requests and obtain complete device information. Use the following code to trigger microphone and camera permission requests.
 ```javascript
 const stream = zg.createStream();
 zg.destroyStream(stream);
 ```

1. Call [enumDevices](https://docs.zegocloud.com/article/api?doc=Express_Audio_SDK_API~javascript_web~class~ZegoExpressEngine&jumpType=route#enum-devices) to get the device ID.

2. Call the following interfaces to switch devices in real-time.
    - [useVideoDevice](https://docs.zegocloud.com/article/api?doc=Express_Audio_SDK_API~javascript_web~class~ZegoExpressEngine&jumpType=route#use-video-device): Switch camera
    - [useAudioDevice](https://docs.zegocloud.com/article/api?doc=Express_Audio_SDK_API~javascript_web~class~ZegoExpressEngine&jumpType=route#use-audio-device): Switch microphone


```javascript

const deviceInfo = await zg.enumDevices();

// Switch camera
const cameras = deviceInfo.cameras;

const res = await zg.useVideoDevice(localStream, cameras[1].deviceID);

// Switch microphone
const microphones = deviceInfo.microphones;

const res = await zg.useAudioDevice(localStream, microphones[1].deviceID);
```

## Web Mobile Device Switching

<Note title="Note">



The operation of switching audio input devices on mobile is the same as on desktop. For details, please refer to the previous section "Desktop Device Switching".

</Note>




If you want to switch video input devices on mobile, such as switching from the rear camera to the front camera, you must first close the current video track before calling the device switching interface.

<Warning title="Note">


If you want to switch video input devices on mobile, such as switching from the rear camera to the front camera, you must first close the current video track before calling the [useVideoDevice](https://docs.zegocloud.com/article/api?doc=Express_Audio_SDK_API~javascript_web~class~ZegoExpressEngine&jumpType=route#use-video-device) interface.

</Warning>




``` JavaScript
// Close the current video track
localStream.getVideoTracks().forEach(track => track.stop());
zg.useVideoDevices(localStream, deviceID);
```


